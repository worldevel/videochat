/*! For license information please see live-as-guest.js.LICENSE.txt */
(self.webpackChunkConnect=self.webpackChunkConnect||[]).push([[4842],{1247:(e,t,n)=>{"use strict";n.d(t,{YT:()=>Ee,zD:()=>ye});var a=n(30645),i=n(70307),r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t,n,a){return new(n||(n=Promise))((function(i,r){function s(e){try{l(a.next(e))}catch(e){r(e)}}function o(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((a=a.apply(e,t||[])).next())}))}function c(e,t){var n,a,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,a=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}}function u(e){var t=e.shape[2],n=(0,a.argMax)(e,2),i=(0,a.reshape)(n,[-1]);return(0,a.oneHot)(i,t)}function d(e,t){return(0,a.tidy)((function(){return(0,a.cast)((0,a.greater)(e,(0,a.scalar)(t)),"int32")}))}function p(e,t){var n=t.shape,i=n[0],r=n[1],s=n[2];return(0,a.tidy)((function(){var n=u(t),o=(0,a.expandDims)((0,a.range)(0,s,1,"int32"),1),l=(0,a.cast)((0,a.matMul)(n,o),"int32"),c=(0,a.reshape)(l,[i,r]),d=(0,a.add)(c,(0,a.scalar)(1,"int32"));return(0,a.sub)(function(e,t){return(0,a.mul)(e,t)}(d,e),(0,a.scalar)(1,"int32"))}))}function h(e){var t=e.shape,n=t[0],i=t[1],r=t[2];return(0,a.tidy)((function(){var t=u(e),s=(0,a.expandDims)((0,a.range)(0,r,1,"int32"),1),o=(0,a.cast)((0,a.matMul)(t,s),"int32");return(0,a.reshape)(o,[n,i])}))}var m=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;a.util.assert(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}))}return e.prototype.predict=function(e){var t=this;return(0,a.tidy)((function(){var n=t.preprocessInput((0,a.cast)(e,"float32")),i=(0,a.expandDims)(n,0),r=t.model.predict(i).map((function(e){return(0,a.squeeze)(e,[0])})),s=t.nameOutputResults(r);return{heatmapScores:(0,a.sigmoid)(s.heatmap),offsets:s.offsets,displacementFwd:s.displacementFwd,displacementBwd:s.displacementBwd,segmentation:s.segmentation,partHeatmaps:s.partHeatmaps,longOffsets:s.longOffsets,partOffsets:s.partOffsets}}))},e.prototype.dispose=function(){this.model.dispose()},e}(),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.preprocessInput=function(e){return(0,a.tidy)((function(){return(0,a.sub)((0,a.div)(e,127.5),1)}))},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(m),g=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],b=g.length,y=g.reduce((function(e,t,n){return e[t]=n,e}),{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=e[0],n=e[1];return[y[t],y[n]]}));function v(e,t,n){var a=e[0],i=e[1],r=t[0],s=t[1],o=n.top,l=n.bottom;return[s/(n.left+n.right+i),r/(o+l+a)]}function k(e,t,n,a){return{y:a.get(e,t,n),x:a.get(e,t,n+b)}}function x(e,t,n){var a=k(e.heatmapY,e.heatmapX,e.id,n),i=a.y,r=a.x;return{x:e.heatmapX*t+r,y:e.heatmapY*t+i}}function w(e,t,n){return e<t?t:e>n?n:e}function S(e,t){return{x:e.x+t.x,y:e.y+t.y}}function C(e,t,n){void 0===n&&(n=.3);for(var a=0,i=0,r=0;r<e.length;r++)t.keypoints[r].score>n&&(i+=1,a+=Math.pow(e[r].x-t.keypoints[r].position.x,2)+Math.pow(e[r].y-t.keypoints[r].position.y,2));return 0===i?a=1/0:a/=i,a}function T(e,t,n,a,i,r,s){for(var o=s[0],l=s[1],c=n(e),u=c.y*a+c.x,d=i[b*(2*u)+t],p=i[b*(2*u+1)+t],h=e.y+d,m=e.x+p,f=0;f<r;f++){h=Math.min(h,o-1);var g=n({x:m=Math.min(m,l-1),y:h}),y=g.y*a+g.x;h+=d=i[b*(2*y)+t],m+=p=i[b*(2*y+1)+t]}return{x:m,y:h}}function _(e,t,n,a,i,r,s,o,l,c){for(var u=i[0],d=i[1],p=r[0],h=r[1],m=o[0],f=o[1],g=[],b=function(e){return function(e,t,n,a){var i=t[0],r=t[1],s=n[0],o=n[1],l=Math.round(((i+e.y+1)*o-1)/a);return{x:Math.round(((r+e.x+1)*s-1)/a),y:l}}(e,[u,d],[p,h],l)},y=0;y<a;y++){var v=T(e,y,b,s,t,c,[m,f]);g.push(v)}for(var k=-1,x=1/0,w=0;w<n.length;w++){var S=C(g,n[w]);S<x&&(k=w,x=S)}return k}function I(e,t){var n=e[0],a=e[1];return[Math.round((a-1)/t+1),Math.round((n-1)/t+1)]}function A(e,t,n,i,r,s,o,l,c,u,d){for(var p=o[0],h=o[1],m=e.shape,f=m[0],g=m[1],y=t.shape.slice(0,2),k=y[0],x=y[1],w=(0,a.reshape)(t,[k,x,2,b]),S=new Float32Array(d*b*3).fill(0),C=0;C<n.length;C++)for(var T=C*b*3,_=n[C],I=0;I<b;I++){var A=_.keypoints[I],N=T+3*I;S[N]=A.score,S[N+1]=A.position.y,S[N+2]=A.position.x}var E=v([i,r],[p,h],l),R=E[0],M=E[1],D=(0,a.tensor)(S,[d,b,3]),$=l.top,B=l.left,L={variableNames:["segmentation","longOffsets","poses"],outputShape:[f,g],userCode:"\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n    }\n\n    float convertToPositionInOutputFloat(\n        int pos, int pad, float scale, int stride) {\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n    }\n\n    float dist(float x1, float y1, float x2, float y2) {\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n    }\n\n    float sampleLongOffsets(float h, float w, int d, int k) {\n      float fh = fract(h);\n      float fw = fract(w);\n      int clH = int(ceil(h));\n      int clW = int(ceil(w));\n      int flH = int(floor(h));\n      int flW = int(floor(w));\n      float o11 = getLongOffsets(flH, flW, d, k);\n      float o12 = getLongOffsets(flH, clW, d, k);\n      float o21 = getLongOffsets(clH, flW, d, k);\n      float o22 = getLongOffsets(clH, clW, d, k);\n      float o1 = mix(o11, o12, fw);\n      float o2 = mix(o21, o22, fw);\n      return mix(o1, o2, fh);\n    }\n\n    int findNearestPose(int h, int w) {\n      float prob = getSegmentation(h, w);\n      if (prob < 1.0) {\n        return -1;\n      }\n\n      // Done(Tyler): convert from output space h/w to strided space.\n      float stridedH = convertToPositionInOutputFloat(\n        h, "+$+", "+M+", "+s+");\n      float stridedW = convertToPositionInOutputFloat(\n        w, "+B+", "+R+", "+s+");\n\n      float minDist = 1000000.0;\n      int iMin = -1;\n      for (int i = 0; i < "+d+"; i++) {\n        float curDistSum = 0.0;\n        int numKpt = 0;\n        for (int k = 0; k < "+b+"; k++) {\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n          float y = float(h) + dy;\n          float x = float(w) + dx;\n\n          for (int s = 0; s < "+c+"; s++) {\n            int yRounded = round(min(y, float("+(i-1)+")));\n            int xRounded = round(min(x, float("+(r-1)+")));\n\n            float yStrided = convertToPositionInOutputFloat(\n              yRounded, "+$+", "+M+", "+s+");\n            float xStrided = convertToPositionInOutputFloat(\n              xRounded, "+B+", "+R+", "+s+");\n\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n            y = y + dy;\n            x = x + dx;\n          }\n\n          float poseScore = getPoses(i, k, 0);\n          float poseY = getPoses(i, k, 1);\n          float poseX = getPoses(i, k, 2);\n          if (poseScore > "+u+") {\n            numKpt = numKpt + 1;\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\n          }\n        }\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\n          minDist = curDistSum / float(numKpt);\n          iMin = i;\n        }\n      }\n      return iMin;\n    }\n\n    void main() {\n        ivec2 coords = getOutputCoords();\n        int nearestPose = findNearestPose(coords[0], coords[1]);\n        setOutput(float(nearestPose));\n      }\n  "};return(0,a.backend)().compileAndRun(L,[e,w,D])}function N(){return"webgl"===(0,a.getBackend)()}function E(e,t,n,i,r,s,o,u,d,p,h,m){var f=o[0],g=o[1];return void 0===d&&(d=.2),void 0===p&&(p=8),void 0===h&&(h=.3),void 0===m&&(m=10),l(this,void 0,void 0,(function(){var o,l,b,y,k;return c(this,(function(c){switch(c.label){case 0:return o=n.filter((function(e){return e.score>=d})),N()?(b=(0,a.tidy)((function(){var n=A(e,t,o,i,r,s,[f,g],u,p,h,m),l=(0,a.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return o.map((function(e,t){return function(e,t){return(0,a.tidy)((function(){return(0,a.cast)((0,a.equal)(e,(0,a.scalar)(t)),"int32")}))}(l,t)}))})),[4,Promise.all(b.map((function(e){return e.data()})))]):[3,2];case 1:return l=c.sent(),b.forEach((function(e){return e.dispose()})),[3,5];case 2:return[4,e.data()];case 3:return y=c.sent(),[4,t.data()];case 4:k=c.sent(),l=function(e,t,n,a,i,r,s,o,l,c){var u=s[0],d=s[1];void 0===c&&(c=5);for(var p=n.map((function(e){return new Uint8Array(a*i).fill(0)})),h=o.top,m=o.left,f=v([a,i],[u,d],o),g=f[0],b=f[1],y=I([u,d],r)[0],k=0;k<a;k+=1)for(var x=0;x<i;x+=1){var w=k*i+x;if(1===e[w]){var S=_({x,y:k},t,n,c,[h,m],[g,b],y,[a,i],r,l);S>=0&&(p[S][w]=1)}}return p}(y,k,o,i,r,s,[f,g],u,p),c.label=5;case 5:return[2,l.map((function(e,t){return{data:e,pose:o[t],width:r,height:i}}))]}}))}))}function R(e,t,n,i,r,s,o,u,d,p,h,m,f){var g=u[0],b=u[1];return void 0===p&&(p=.2),void 0===h&&(h=8),void 0===m&&(m=.3),void 0===f&&(f=10),l(this,void 0,void 0,(function(){var l,u,y,k,x,w;return c(this,(function(c){switch(c.label){case 0:return l=i.filter((function(e){return e.score>=p})),N()?(y=(0,a.tidy)((function(){var i=A(e,t,l,r,s,o,[g,b],d,h,m,f),c=(0,a.engine)().makeTensorFromDataId(i.dataId,i.shape,i.dtype);return l.map((function(e,t){return function(e,t,n){return(0,a.tidy)((function(){return(0,a.sub)((0,a.mul)((0,a.cast)((0,a.equal)(e,(0,a.scalar)(n)),"int32"),(0,a.add)(t,1)),1)}))}(c,n,t)}))})),[4,Promise.all(y.map((function(e){return e.data()})))]):[3,2];case 1:return u=c.sent(),y.forEach((function(e){return e.dispose()})),[3,6];case 2:return[4,e.data()];case 3:return k=c.sent(),[4,t.data()];case 4:return x=c.sent(),[4,n.data()];case 5:w=c.sent(),u=function(e,t,n,a,i,r,s,o,l,c,u){var d=o[0],p=o[1];void 0===u&&(u=5);for(var h=a.map((function(e){return new Int32Array(i*r).fill(-1)})),m=l.top,f=l.left,g=v([i,r],[d,p],l),b=g[0],y=g[1],k=I([d,p],s)[0],x=0;x<i;x+=1)for(var w=0;w<r;w+=1){var S=x*r+w;if(1===e[S]){var C=_({x:w,y:x},t,a,u,[m,f],[b,y],k,[i,r],s,c);C>=0&&(h[C][S]=n[S])}}return h}(k,x,w,l,r,s,o,[g,b],d,h),c.label=6;case 6:return[2,u.map((function(e,t){return{pose:l[t],data:e,height:r,width:s}}))]}}))}))}function M(e){return Math.floor(e/2)}var D=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(M(e),e);)this.exchange(e,M(e)),e=M(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function $(e,t,n,a,i,r){for(var s=r.shape,o=s[0],l=s[1],c=!0,u=Math.max(n-i,0),d=Math.min(n+i+1,o),p=u;p<d;++p){for(var h=Math.max(a-i,0),m=Math.min(a+i+1,l),f=h;f<m;++f)if(r.get(p,f,e)>t){c=!1;break}if(!c)break}return c}var B=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map((function(e){var t=e[0],n=e[1];return[y[t],y[n]]})),L=B.map((function(e){return e[1]})),F=B.map((function(e){return e[0]}));function O(e,t,n,a){return{y:w(Math.round(e.y/t),0,n-1),x:w(Math.round(e.x/t),0,a-1)}}function j(e,t,n,a,i,r,s,o){void 0===o&&(o=2);for(var l=a.shape,c=l[0],u=l[1],d=function(e,t,n){var a=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,a+e)}}(e,O(t.position,r,c,u),s),p=S(t.position,d),h=0;h<o;h++){var m=O(p,r,c,u),f=k(m.y,m.x,n,i);p=S({x:m.x*r,y:m.y*r},{x:f.x,y:f.y})}var b=O(p,r,c,u),y=a.get(b.y,b.x,n);return{position:p,part:g[n],score:y}}function z(e,t,n,a,i,r){var s=t.shape[2],o=L.length,l=new Array(s),c=e.part,u=e.score,d=x(c,a,n);l[c.id]={score:u,part:g[c.id],position:d};for(var p=o-1;p>=0;--p){var h=L[p],m=F[p];l[h]&&!l[m]&&(l[m]=j(p,l[h],m,t,n,a,r))}for(p=0;p<o;++p)h=F[p],m=L[p],l[h]&&!l[m]&&(l[m]=j(p,l[h],m,t,n,a,i));return l}function P(e,t,n,a){var i=n.x,r=n.y;return e.some((function(e){var n=e.keypoints[a].position;return function(e,t,n,a){var i=n-e,r=a-t;return i*i+r*r}(r,i,n.y,n.x)<=t}))}function W(e,t,n){return n.reduce((function(n,a,i){var r=a.position,s=a.score;return P(e,t,r,i)||(n+=s),n}),0)/n.length}function G(e,t,n,a,i,r,s,o){void 0===s&&(s=.5),void 0===o&&(o=20);for(var l=[],c=function(e,t,n){for(var a=n.shape,i=a[0],r=a[1],s=a[2],o=new D(i*r*s,(function(e){return e.score})),l=0;l<i;++l)for(var c=0;c<r;++c)for(var u=0;u<s;++u){var d=n.get(l,c,u);d<e||$(u,d,l,c,t,n)&&o.enqueue({score:d,part:{heatmapY:l,heatmapX:c,id:u}})}return o}(s,1,e),u=o*o;l.length<r&&!c.empty();){var d=c.dequeue();if(!P(l,u,x(d.part,i,t),d.part.id)){var p=z(d,e,t,i,n,a),h=W(l,u,p);l.push({keypoints:p,score:h})}}return l}var V,U=[-123.15,-115.9,-103.06],H=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.preprocessInput=function(e){return(0,a.add)(e,U)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],a=e[2],i=e[3],r=e[4],s=e[5];return{offsets:r,segmentation:e[6],partHeatmaps:s,longOffsets:i,heatmap:a,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(m),q="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",K="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function J(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(e);if(e instanceof a.Tensor)return[e.shape[0],e.shape[1]];throw new Error("error: Unknown input type: "+e+".")}function X(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var Y={low:"low",medium:"medium",high:"high",full:"full"},Z=((V={})[Y.low]=.25,V[Y.medium]=.5,V[Y.high]=.75,V[Y.full]=1,V);function Q(e,t,n){var i=n[0],r=n[1],s=function(e){if("string"==typeof e){var t=Z[e];return a.util.assert("number"==typeof t,(function(){return"string value of inputResolution must be one of "+Object.values(Y).join(",")+" but was "+e+"."})),t}return a.util.assert("number"==typeof e&&e<=2&&e>=.1,(function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e})),e}(e);return[X(i*s,t),X(r*s,t)]}function ee(e,t,n,i,r){var s=t[0],o=t[1],l=n[0],c=n[1],u=i[0],d=u[0],p=u[1],h=i[1],m=h[0],f=h[1];return void 0===r&&(r=!1),(0,a.tidy)((function(){var t=a.image.resizeBilinear(e,[l,c],!0);return r&&(t=(0,a.sigmoid)(t)),function(e,t,n){var i=t[0],r=t[1],s=n[0],o=s[0],l=s[1],c=n[1],u=c[0],d=c[1];return(0,a.tidy)((function(){var t=(0,a.expandDims)(e);return(0,a.squeeze)(a.image.cropAndResize(t,[[o/(i+o+l-1),u/(r+u+d-1),(o+i-1)/(i+o+l-1),(u+r-1)/(r+u+d-1)]],[0],[i,r]),[0])}))}(t,[s,o],[[d,p],[m,f]])}))}function te(e,t){var n=t[0],i=t[1],r=J(e),s=r[0],o=r[1],l=i/n,c=[0,0,0,0],u=c[0],d=c[1],p=c[2],h=c[3];return o/s<l?(u=0,d=0,p=Math.round(.5*(l*s-o)),h=Math.round(.5*(l*s-o))):(u=Math.round(.5*(1/l*o-s)),d=Math.round(.5*(1/l*o-s)),p=0,h=0),{resized:(0,a.tidy)((function(){var t=function(e){return e instanceof a.Tensor?e:a.browser.fromPixels(e)}(e);return t=(0,a.pad3d)(t,[[u,d],[p,h],[0,0]]),a.image.resizeBilinear(t,[n,i])})),padding:{top:u,left:p,right:h,bottom:d}}}function ne(e){return l(this,void 0,void 0,(function(){return c(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function ae(e,t,n,a,i){var r=t[0],s=t[1],o=n[0],l=n[1],c=function(e,t,n,a,i){return void 0===a&&(a=0),void 0===i&&(i=0),1===n&&1===t&&0===a&&0===i?e:e.map((function(e){return function(e,t,n,a,i){return void 0===a&&(a=0),void 0===i&&(i=0),{score:e.score,keypoints:e.keypoints.map((function(e){var r=e.score,s=e.part,o=e.position;return{score:r,part:s,position:{x:o.x*n+i,y:o.y*t+a}}}))}}(e,t,n,a,i)}))}(e,(r+a.top+a.bottom)/o,(s+a.left+a.right)/l,-a.top,-a.left);return i?function(e,t){return t<=0?e:e.map((function(e){return function(e,t){return{score:e.score,keypoints:e.keypoints.map((function(e){var n=e.score,a=e.part,i=e.position;return{score:n,part:a,position:{x:t-1-i.x,y:i.y}}}))}}(e,t)}))}(c,s):c}var ie=!0,re=!1,se={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},oe=["MobileNetV1","ResNet50"],le={MobileNetV1:[8,16,32],ResNet50:[32,16]},ce={MobileNetV1:[.5,.75,1],ResNet50:[1]},ue=[1,2,4];var de={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},pe={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function he(e){var t=e.segmentationThreshold,n=e.maxDetections,a=e.scoreThreshold,i=e.nmsRadius;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(a<0||a>1)throw new Error("Invalid scoreThreshold "+a+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function me(e){var t=e.segmentationThreshold,n=e.maxDetections,a=e.scoreThreshold,i=e.nmsRadius,r=e.minKeypointScore,s=e.refineSteps;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(a<0||a>1)throw new Error("Invalid scoreThreshold "+a+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(r<0||r>1)throw new Error("Invalid minKeypointScore "+r+".Should be in range [0.0, 1.0]");if(s<=0||s>20)throw new Error("Invalid refineSteps "+s+".Should be in range [1, 20]")}var fe=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var i=this;void 0===n&&(n=.5);var r=J(e),s=r[0],o=r[1],l=Q(t,this.baseModel.outputStride,[s,o]),c=te(e,l),u=c.resized,p=c.padding,h=(0,a.tidy)((function(){var e=i.predictForPersonSegmentation(u),t=e.segmentLogits,r=e.heatmapScores,l=e.offsets,c=e.displacementFwd,h=e.displacementBwd,m=u.shape,f=m[0],g=m[1],b=ee(t,[s,o],[f,g],[[p.top,p.bottom],[p.left,p.right]],ie);return{segmentation:d((0,a.squeeze)(b),n),heatmapScores:r,offsets:l,displacementFwd:c,displacementBwd:h}})),m=h.segmentation,f=h.heatmapScores,g=h.offsets,b=h.displacementFwd,y=h.displacementBwd;return u.dispose(),{segmentation:m,heatmapScores:f,offsets:g,displacementFwd:b,displacementBwd:y,padding:p,internalResolutionHeightAndWidth:l}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=de),l(this,void 0,void 0,(function(){var n,a,i,r,s,l,u,d,p,h,m,f,g,b,y,v,k,x;return c(this,(function(c){switch(c.label){case 0:return he(t=o(o({},de),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),a=n.segmentation,i=n.heatmapScores,r=n.offsets,s=n.displacementFwd,l=n.displacementBwd,u=n.padding,d=n.internalResolutionHeightAndWidth,p=a.shape,h=p[0],m=p[1],[4,a.data()];case 1:return f=c.sent(),a.dispose(),[4,ne([i,r,s,l])];case 2:return g=c.sent(),b=g[0],y=g[1],v=g[2],k=g[3],x=ae(x=G(b,y,v,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[h,m],d,u,re),i.dispose(),r.dispose(),s.dispose(),l.dispose(),[2,{height:h,width:m,data:f,allPoses:x}]}}))}))},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=pe),l(this,void 0,void 0,(function(){var n,i,r,s,l,u,p,h,m,f,g,b,y,v,k,x,w,S,C,T,_,I=this;return c(this,(function(c){switch(c.label){case 0:return me(t=o(o({},pe),t)),n=J(e),i=n[0],r=n[1],s=Q(t.internalResolution,this.baseModel.outputStride,[i,r]),l=te(e,s),u=l.resized,p=l.padding,h=(0,a.tidy)((function(){var e,n=I.predictForMultiPersonInstanceSegmentationAndPart(u),o=n.segmentLogits,l=n.longOffsets,c=n.heatmapScores,h=n.offsets,m=n.displacementFwd,f=n.displacementBwd,g=ee(o,[i,r],s,[[p.top,p.bottom],[p.left,p.right]],ie);return e=l,{segmentation:d((0,a.squeeze)(g),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:c,offsetsRaw:h,displacementFwdRaw:m,displacementBwdRaw:f}})),m=h.segmentation,f=h.longOffsets,g=h.heatmapScoresRaw,b=h.offsetsRaw,y=h.displacementFwdRaw,v=h.displacementBwdRaw,[4,ne([g,b,y,v])];case 1:return k=c.sent(),x=k[0],w=k[1],S=k[2],C=k[3],T=ae(T=G(x,w,S,C,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[i,r],s,p,re),[4,E(m,f,T,i,r,this.baseModel.outputStride,s,p,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return _=c.sent(),u.dispose(),m.dispose(),f.dispose(),g.dispose(),b.dispose(),y.dispose(),v.dispose(),[2,_]}}))}))},e.prototype.segmentPersonPartsActivation=function(e,t,n){var i=this;void 0===n&&(n=.5);var r=J(e),s=r[0],o=r[1],l=Q(t,this.baseModel.outputStride,[s,o]),c=te(e,l),u=c.resized,h=c.padding,m=(0,a.tidy)((function(){var e=i.predictForPersonSegmentationAndPart(u),t=e.segmentLogits,r=e.partHeatmapLogits,l=e.heatmapScores,c=e.offsets,m=e.displacementFwd,f=e.displacementBwd,g=u.shape,b=g[0],y=g[1],v=ee(t,[s,o],[b,y],[[h.top,h.bottom],[h.left,h.right]],ie),k=ee(r,[s,o],[b,y],[[h.top,h.bottom],[h.left,h.right]],ie);return{partSegmentation:p(d((0,a.squeeze)(v),n),k),heatmapScores:l,offsets:c,displacementFwd:m,displacementBwd:f}})),f=m.partSegmentation,g=m.heatmapScores,b=m.offsets,y=m.displacementFwd,v=m.displacementBwd;return u.dispose(),{partSegmentation:f,heatmapScores:g,offsets:b,displacementFwd:y,displacementBwd:v,padding:h,internalResolutionHeightAndWidth:l}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=de),l(this,void 0,void 0,(function(){var n,a,i,r,s,l,u,d,p,h,m,f,g,b,y,v,k,x;return c(this,(function(c){switch(c.label){case 0:return he(t=o(o({},de),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),a=n.partSegmentation,i=n.heatmapScores,r=n.offsets,s=n.displacementFwd,l=n.displacementBwd,u=n.padding,d=n.internalResolutionHeightAndWidth,p=a.shape,h=p[0],m=p[1],[4,a.data()];case 1:return f=c.sent(),a.dispose(),[4,ne([i,r,s,l])];case 2:return g=c.sent(),b=g[0],y=g[1],v=g[2],k=g[3],x=ae(x=G(b,y,v,k,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[h,m],d,u,re),i.dispose(),r.dispose(),s.dispose(),l.dispose(),[2,{height:h,width:m,data:f,allPoses:x}]}}))}))},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=pe),l(this,void 0,void 0,(function(){var n,i,r,s,l,u,p,m,f,g,b,y,v,k,x,w,S,C,T,_,I,A,N=this;return c(this,(function(c){switch(c.label){case 0:return me(t=o(o({},pe),t)),n=J(e),i=n[0],r=n[1],s=Q(t.internalResolution,this.baseModel.outputStride,[i,r]),l=te(e,s),u=l.resized,p=l.padding,m=(0,a.tidy)((function(){var e=N.predictForMultiPersonInstanceSegmentationAndPart(u),n=e.segmentLogits,o=e.longOffsets,l=e.heatmapScores,c=e.offsets,m=e.displacementFwd,f=e.displacementBwd,g=e.partHeatmaps,b=ee(n,[i,r],s,[[p.top,p.bottom],[p.left,p.right]],ie),y=ee(g,[i,r],s,[[p.top,p.bottom],[p.left,p.right]],ie),v=o;return{segmentation:d((0,a.squeeze)(b),t.segmentationThreshold),longOffsets:v,heatmapScoresRaw:l,offsetsRaw:c,displacementFwdRaw:m,displacementBwdRaw:f,partSegmentation:h(y)}})),f=m.segmentation,g=m.longOffsets,b=m.heatmapScoresRaw,y=m.offsetsRaw,v=m.displacementFwdRaw,k=m.displacementBwdRaw,x=m.partSegmentation,[4,ne([b,y,v,k])];case 1:return w=c.sent(),S=w[0],C=w[1],T=w[2],_=w[3],I=ae(I=G(S,C,T,_,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[i,r],s,p,re),[4,R(f,g,x,I,i,r,this.baseModel.outputStride,s,p,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return A=c.sent(),u.dispose(),f.dispose(),g.dispose(),b.dispose(),y.dispose(),v.dispose(),k.dispose(),x.dispose(),[2,A]}}))}))},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function ge(e){return l(this,void 0,void 0,(function(){var t,n,r,s,o,l;return c(this,(function(c){switch(c.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==a)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return s=function(e,t,n){var a={1:"100",.75:"075",.5:"050"},i="model-stride"+e+".json";return 4===n?K+"float/"+a[t]+"/"+i:K+"quant"+n+"/"+a[t]+"/"+i}(t,r,n),[4,(0,i.YL)(e.modelUrl||s)];case 1:return o=c.sent(),l=new f(o,t),[2,new fe(l)]}}))}))}function be(e){return l(this,void 0,void 0,(function(){var t,n,r,s,o;return c(this,(function(l){switch(l.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==a)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return r=function(e,t){var n="model-stride"+e+".json";return 4===t?q+"float/"+n:q+"quant"+t+"/"+n}(t,n),[4,(0,i.YL)(e.modelUrl||r)];case 1:return s=l.sent(),o=new H(s,t),[2,new fe(o)]}}))}))}function ye(e){return void 0===e&&(e=se),l(this,void 0,void 0,(function(){return c(this,(function(t){return"ResNet50"===(e=function(e){if(null==(e=e||se).architecture&&(e.architecture="MobileNetV1"),oe.indexOf(e.architecture)<0)throw new Error("Invalid architecture "+e.architecture+". Should be one of "+oe);if(null==e.outputStride&&(e.outputStride=16),le[e.architecture].indexOf(e.outputStride)<0)throw new Error("Invalid outputStride "+e.outputStride+". Should be one of "+le[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),ce[e.architecture].indexOf(e.multiplier)<0)throw new Error("Invalid multiplier "+e.multiplier+". Should be one of "+ce[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),ue.indexOf(e.quantBytes)<0)throw new Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+ue+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,be(e)]:"MobileNetV1"===e.architecture?[2,ge(e)]:[2,null]}))}))}var ve={};function ke(e){var t=e.getContext("2d");t.scale(-1,1),t.translate(-e.width,0)}function xe(e,t,n){e.globalCompositeOperation=n,e.drawImage(t,0,0)}function we(e){return ve[e]||(ve[e]=function(){if("undefined"!=typeof document)return document.createElement("canvas");if("undefined"!=typeof OffscreenCanvas)return new OffscreenCanvas(0,0);throw new Error("Cannot create a canvas in this context")}()),ve[e]}function Se(e,t,n){var a=e.height,i=e.width,r=n.getContext("2d");n.width=i,n.height=a,r.clearRect(0,0,i,a),r.save(),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?function(e,t,n){for(var a=e.getContext("2d"),i=0,r=1/(2*Math.PI*5*5),s=n<3?1:2,o=-n;o<=n;o+=s)for(var l=-n;l<=n;l+=s)i+=r*Math.exp(-(l*l+o*o)/50);for(o=-n;o<=n;o+=s)for(l=-n;l<=n;l+=s)a.globalAlpha=r*Math.exp(-(l*l+o*o)/50)/i*n,a.drawImage(t,l,o);a.globalAlpha=1}(n,e,t):(r.filter="blur("+t+"px)",r.drawImage(e,0,0,i,a)),r.restore()}function Ce(e,t,n){var a=we(n);return 0===t?function(e,t){var n=e.width,a=e.height;t.width=n,t.height=a,t.getContext("2d").drawImage(e,0,0,n,a)}(e,a):Se(e,t,a),a}function Te(e,t){var n=we(t);return function(e,t){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0)}(e,n),n}function _e(e,t,n,a,i){if(void 0===t&&(t={r:0,g:0,b:0,a:0}),void 0===n&&(n={r:0,g:0,b:0,a:255}),void 0===a&&(a=!1),void 0===i&&(i=[1]),Array.isArray(e)&&0===e.length)return null;var r,s=(r=Array.isArray(e)?e:[e])[0],o=s.width,l=s.height,c=new Uint8ClampedArray(o*l*4);function u(e,t,n,a,i,r){void 0===r&&(r={r:0,g:255,b:255,a:255});for(var s=-i;s<=i;s++)for(var o=-i;o<=i;o++)if(0!==s&&0!==o){var l=(t+s)*a+(n+o);e[4*l+0]=r.r,e[4*l+1]=r.g,e[4*l+2]=r.b,e[4*l+3]=r.a}}function d(e,t,n,a,i,r){void 0===i&&(i=[1]),void 0===r&&(r=1);for(var s=0,o=-r;o<=r;o++)for(var l=function(r){if(0!==o&&0!==r){var l=(t+o)*a+(n+r);i.some((function(t){return t===e[l]}))||(s+=1)}},c=-r;c<=r;c++)l(c);return s>0}for(var p=0;p<l;p+=1)for(var h=function(e){var s=p*o+e;c[4*s+0]=n.r,c[4*s+1]=n.g,c[4*s+2]=n.b,c[4*s+3]=n.a;for(var h=function(n){if(i.some((function(e){return e===r[n].data[s]}))){c[4*s]=t.r,c[4*s+1]=t.g,c[4*s+2]=t.b,c[4*s+3]=t.a;var h=d(r[n].data,p,e,o,i);a&&p-1>=0&&p+1<l&&e-1>=0&&e+1<o&&h&&u(c,p,e,o,1)}},m=0;m<r.length;m++)h(m)},m=0;m<o;m+=1)h(m);return new ImageData(c,o,l)}var Ie="blurred",Ae="blurred-mask",Ne="mask";function Ee(e,t,n,a,i,r){void 0===a&&(a=3),void 0===i&&(i=3),void 0===r&&(r=!1);var s=Ce(t,a,Ie);e.width=s.width,e.height=s.height;var o=e.getContext("2d");if(Array.isArray(n)&&0===n.length)o.drawImage(s,0,0);else{var l=function(e,t){var n=Te(_e(e,{r:0,g:0,b:0,a:255},{r:0,g:0,b:0,a:0}),Ne);return 0===t?n:Ce(n,t,Ae)}(n,i);o.save(),r&&ke(e);var c=J(t),u=c[0],d=c[1];o.drawImage(t,0,0,d,u),xe(o,l,"destination-in"),xe(o,s,"destination-over"),o.restore()}}},70307:(e,t,n)=>{"use strict";n.d(t,{YL:()=>ka,gJ:()=>xa});var a={};n.r(a),n.d(a,{json:()=>$});var i={};n.r(i),n.d(i,{json:()=>B});var r={};n.r(r),n.d(r,{json:()=>L});var s={};n.r(s),n.d(s,{json:()=>F});var o={};n.r(o),n.d(o,{json:()=>O});var l={};n.r(l),n.d(l,{json:()=>j});var c={};n.r(c),n.d(c,{json:()=>z});var u={};n.r(u),n.d(u,{json:()=>P});var d={};n.r(d),n.d(d,{json:()=>W});var p={};n.r(p),n.d(p,{json:()=>G});var h={};n.r(h),n.d(h,{json:()=>V});var m={};n.r(m),n.d(m,{json:()=>U});var f={};n.r(f),n.d(f,{json:()=>H});var g={};n.r(g),n.d(g,{json:()=>q});var b={};n.r(b),n.d(b,{json:()=>K});var y={};n.r(y),n.d(y,{json:()=>J});var v={};n.r(v),n.d(v,{json:()=>X});var k={};n.r(k),n.d(k,{json:()=>Y});var x={};n.r(x),n.d(x,{json:()=>Z});var w=n(30645);var S,C;(0,w.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(S||(S={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(C||(C={}));const T={};function _(e){return T[e]}function I(e,t,n,a,i){const r=t.inputParams[e];if(r&&void 0!==r.inputIndexStart){const e=r.inputIndexStart,s=0===r.inputIndexEnd?void 0:void 0===r.inputIndexEnd?e+1:r.inputIndexEnd;if("tensor"===r.type)return A(t.inputNames[r.inputIndexStart],n,a,i);if("tensors"===r.type){return t.inputNames.slice(e,s).map((e=>A(e,n,a,i)))}const o=A(t.inputNames.slice(e)[0],n,a,i),l=o.dataSync();return"number"===r.type?l[0]:w.util.toNestedArray(o.shape,l)}const s=t.attrParams[e];return s&&s.value}function A(e,t,n,a){const[i,r]=R(e);if(null!=a){const e=a.getHashTableHandleByName(i);if(null!=e)return e}const s=n.currentContextIds.find((e=>!!t[E(i,e)]));return void 0!==s?t[E(i,s)][r]:void 0}function N(e,t){const[n,a,i]=R(e);return[E(n,t&&t.currentContextId),a,i]}function E(e,t){return t?`${e}-${t}`:e}function R(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],a=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),a]}function M(e,t,n){let a=I("pad",e,t,n);if("explicit"===a){a=I("explicitPaddings",e,t,n);const i=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)i[e][0]=a[2*e],i[e][1]=a[2*e+1];return i}return a}function D(e){return e.kept?e:(0,w.clone)(e)}const $=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],B=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],L=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],F=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],O=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],j=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],z=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],P=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],W=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],G=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],V=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],U=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],H=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],q=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],K=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],J=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],X=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Y=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Z=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];var Q=n(48764).Buffer;class ee{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[a,i,r,s,o,l,c,u,d,p,h,m,f,g,b,y,v,k,x].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,a=[],i=[],r=[],s=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?a.push(e[t.name]):"Const"===t.op?i.push(e[t.name]):null!=t.input&&0!==t.input.length||r.push(e[t.name]),e)),{});let o=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const d=Object.keys(s);d.forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[a,,i]=N(e),r=s[a];if(null!=r.outputs){const e=r.outputs.indexOf(i);if(-1!==e){const i=`${a}:${e}`;t.inputNames[n]=i}}t.inputs.push(r),r.children.push(t)}))})),0===Object.keys(u).length?d.forEach((e=>{const t=s[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=N(e),n=s[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=N(e),n=s[t];n&&(n.signatureKey=c[e],o.push(n))})):o=a;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const h={nodes:s,inputs:o,outputs:l,weights:i,placeholders:a,signature:t,functions:p};return r.length>0&&(h.initNodes=r),h}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=_(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const a=n.type;let i;switch(n.type){case"string":i=ne(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ne(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":i=pe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":i=ie(e.attr,n.tfName,n.defaultValue||0),void 0===i&&n.tfDeprecatedName&&(i=ie(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":i=de(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":i=ae(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":i=me(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=me(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":i=ue(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":i=he(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=he(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":i=oe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=oe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":i=le(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=le(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":i=se(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=se(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:i,type:a},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let a={};null!=t&&(a=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const i=[],r=[];e.signature.inputArg.forEach((e=>{const[t]=N(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:re(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,i.push(n),a[t]=n}));Object.keys(a).forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[i,,r]=N(e),s=a[i];if(null!=s.outputs){const e=s.outputs.indexOf(r);if(-1!==e){const a=`${i}:${e}`;t.inputNames[n]=a}}t.inputs.push(s),s.children.push(t)}))}));const s=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=N(s[e.name]),i=a[t];null!=i&&(i.defaultOutput=n,r.push(i))}));const o=this.mapArgsToSignature(e);return{nodes:a,inputs:i,outputs:r,weights:n,placeholders:[],signature:o}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function te(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=(0,w.env)().global;if(void 0!==t.atob)return t.atob(e);if(void 0!==Q)return new Q(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function ne(e,t,n,a=!1){const i=e[t];return null!=i?te(i.s,a):n}function ae(e,t,n){const a=e[t];return a?a.b:n}function ie(e,t,n){const a=e[t]||{},i=null!=a.i?a.i:null!=a.f?a.f:n;return"number"==typeof i?i:parseInt(i,10)}function re(e){switch("string"==typeof e&&(e=S[e]),e){case S.DT_FLOAT:case S.DT_HALF:return"float32";case S.DT_INT32:case S.DT_INT64:case S.DT_INT8:case S.DT_UINT8:return"int32";case S.DT_BOOL:return"bool";case S.DT_DOUBLE:return"float32";case S.DT_STRING:return"string";default:return null}}function se(e,t,n){const a=e[t];return a&&a.func?a.func.name:n}function oe(e,t,n){const a=e[t];return a&&a.type?re(a.type):n}function le(e,t,n){const a=e[t];return a&&a.list&&a.list.type?a.list.type.map((e=>re(e))):n}function ce(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"==typeof e.size?e.size:parseInt(e.size,10))):[]}function ue(e,t,n){const a=e[t];return a&&a.shape?ce(a.shape):n}function de(e,t,n){const a=e[t];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map((e=>"number"==typeof e?e:parseInt(e,10))):n}function pe(e,t,n,a=!1){const i=e[t];return i&&i.list&&i.list.s?i.list.s.map((e=>te(e,a))):n}function he(e,t,n){const a=e[t];return a&&a.list&&a.list.shape?a.list.shape.map((e=>ce(e))):n}function me(e,t,n){const a=e[t];return a&&a.list&&a.list.b?a.list.b:n}class fe{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return A(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return A(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return ie(this.node.rawAttrs,e,t);if(null!=n.s)return ne(this.node.rawAttrs,e,t);if(null!=n.b)return ae(this.node.rawAttrs,e,t);if(null!=n.shape)return ue(this.node.rawAttrs,e,t);if(null!=n.type)return oe(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return de(this.node.rawAttrs,e,t);if(null!=n.list.s)return pe(this.node.rawAttrs,e,t);if(null!=n.list.shape)return he(this.node.rawAttrs,e,t);if(null!=n.list.b)return me(this.node.rawAttrs,e,t);if(null!=n.list.type)return le(this.node.rawAttrs,e,t)}return t}}var ge=n(56407),be=n(13135),ye=n(85228),ve=n(24841),ke=n(41274),xe=n(49322),we=n(9165),Se=n(70827),Ce=n(24513),Te=n(80632),_e=n(33453),Ie=n(15265);var Ae=n(96235),Ne=n(17839),Ee=n(91470),Re=n(72421),Me=n(21891),De=n(77037),$e=n(29812),Be=n(80369),Le=n(6825),Fe=n(61661),Oe=n(70173),je=n(2699),ze=n(83233),Pe=n(34650),We=n(44842),Ge=n(53426),Ve=n(26943),Ue=n(82597),He=n(17474),qe=n(64386),Ke=n(17370),Je=n(19036),Xe=n(60766),Ye=n(7409),Ze=n(97809),Qe=n(55503),et=n(30625),tt=n(99331),nt=n(34434),at=n(83254),it=n(3694),rt=n(13261),st=n(50248),ot=n(21869),lt=n(61173),ct=n(42279),ut=n(83582),dt=n(32634),pt=n(49451),ht=n(99133),mt=n(98151),ft=n(96230);function gt(e,t,n=""){if("number"!=typeof e&&"number"!=typeof t){w.util.assert(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let a=0;a<e.length;a++){const i=e[a],r=t[a];w.util.assert(i<0||r<0||i===r,(()=>n+` Shapes ${e} and ${t} must match`))}}}function bt(e){return"number"!=typeof e&&!e.some((e=>e<0))}function yt(e,t,n){let a=vt(e,n);const i=!bt(a);if(i&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${a}`);if(i&&t.forEach((e=>{a=vt(e.shape,a)})),!bt(a))throw new Error(`Non-fully-defined elementShape: ${a}`);return a}function vt(e,t){if("number"==typeof e)return t;if("number"==typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let a=0;a<e.length;++a){const i=e[a],r=t[a];if(i>=0&&r>=0&&i!==r)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[a]=i>=0?i:r}return n}class kt{constructor(e,t,n,a,i,r,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=i,this.dynamicSize=r,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,w.scalar)(0),(0,w.keep)(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),gt(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,(0,w.keep)(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return(0,w.tensor)([],[0].concat(this.elementShape));const n=this.readMany(e);return gt(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,w.stack)(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,w.tensor)([],[0].concat(this.elementShape));const t=[];for(let e=0;e<this.size();e++)t.push(e);const n=this.readMany(t);return gt(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),(0,w.concat)(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,(0,w.unstack)(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const a=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=0===n?0:t.size/n,r=[];(0,w.tidy)((()=>{t=(0,w.reshape)(t,[1,n,i]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:a[n-1],0],o=[1,e[n],i];r[n]=(0,w.reshape)((0,w.slice)(t,s,o),this.elementShape)}return r}));const s=[];for(let t=0;t<e.length;t++)s[t]=t;this.writeMany(s,r)}}class xt{constructor(e,t,n,a=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);gt(t,e.shape,"TensorList shape mismatch: "),(0,w.keep)(e)})),this.idTensor=(0,w.scalar)(0),this.maxNumElements=a,(0,w.keep)(this.idTensor)}get id(){return this.idTensor.id}copy(){return new xt([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);gt(e,this.elementShape,"TensorList shape mismatch: ");const a=yt(this.elementShape,this.tensors,e);return(0,w.tidy)((()=>{const e=this.tensors.map((e=>(0,w.reshape)(e,a)));return(0,w.stack)(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=yt(this.elementShape,this.tensors,e),a=this.tensors.pop();return gt(a.shape,e,"TensorList shape mismatch: "),(0,w.reshape)(a,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(gt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,w.keep)(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const t=new xt([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);gt(this.tensors[e].shape,t,"TensorList shape mismatch: ");const a=yt(this.elementShape,this.tensors,t);return(0,w.reshape)(this.tensors[e],a)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);gt(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,w.keep)(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);gt(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=yt(this.elementShape,this.tensors,n);return 0===e.length?(0,w.tensor)([],[0].concat(a)):(0,w.tidy)((()=>{const t=e.map((e=>(0,w.reshape)(this.tensors[e],a)));return(0,w.stack)(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);gt(this.elementShape,t,"TensorList shape mismatch: ");const n=yt(this.elementShape,this.tensors,t);return 0===this.size()?(0,w.tensor)([],[0].concat(n)):(0,w.tidy)((()=>{const e=this.tensors.map((e=>(0,w.reshape)(e,n)));return(0,w.concat)(e,0)}))}}const wt=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const a=I("thenBranch",e,t,n),i=I("elseBranch",e,t,n),r=I("cond",e,t,n),s=I("args",e,t,n);return(await r.data())[0]?n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[i].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const a=I("body",e,t,n),i=I("cond",e,t,n),r=I("args",e,t,n),s=await n.functionMap[i].executeFunctionAsync(r,n.tensorArrayMap,n.tensorListMap),o=r.map((e=>e.id));let l=await s[0].data();s.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||e.dispose()}));let c=r;for(;l[0];){const e=c;c=await n.functionMap[a].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const r=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await r[0].data(),r.forEach((e=>{e.kept||-1!==o.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[D(I("pred",e,t,n))];case"Switch":{const a=I("pred",e,t,n);let i=I("data",e,t,n);return i.kept||(i=D(i)),(await a.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const a=e.inputNames.find((e=>void 0!==A(e,t,n)));if(a){return[D(A(a,t,n))]}return}case"Enter":{const a=I("frameName",e,t,n),i=I("tensor",e,t,n);return n.enterFrame(a),[D(i)]}case"Exit":{const a=I("tensor",e,t,n);return n.exitFrame(),[D(a)]}case"NextIteration":{const a=I("tensor",e,t,n);return n.nextIteration(),[D(a)]}case"TensorArrayV3":{const a=I("size",e,t,n),i=I("dtype",e,t,n),r=I("elementShape",e,t,n),s=I("dynamicSize",e,t,n),o=I("clearAfterRead",e,t,n),l=I("identicalElementShapes",e,t,n),c=I("name",e,t,n),u=new kt(c,i,a,r,l,s,o);return n.addTensorArray(u),[u.idTensor,(0,w.scalar)(1)]}case"TensorArrayWriteV3":{const a=I("tensorArrayId",e,t,n),i=I("index",e,t,n),r=I("tensor",e,t,n),s=n.getTensorArray(a.id);return s.write(i,r),[s.idTensor]}case"TensorArrayReadV3":{const a=I("tensorArrayId",e,t,n),i=I("index",e,t,n);return[n.getTensorArray(a.id).read(i)]}case"TensorArrayGatherV3":{const a=I("tensorArrayId",e,t,n),i=I("indices",e,t,n),r=I("dtype",e,t,n);return[n.getTensorArray(a.id).gather(i,r)]}case"TensorArrayScatterV3":{const a=I("tensorArrayId",e,t,n),i=I("indices",e,t,n),r=I("tensor",e,t,n),s=n.getTensorArray(a.id);return s.scatter(i,r),[s.idTensor]}case"TensorArrayConcatV3":{const a=I("tensorArrayId",e,t,n),i=n.getTensorArray(a.id),r=I("dtype",e,t,n);return[i.concat(r)]}case"TensorArraySplitV3":{const a=I("tensorArrayId",e,t,n),i=I("tensor",e,t,n),r=I("lengths",e,t,n),s=n.getTensorArray(a.id);return s.split(r,i),[s.idTensor]}case"TensorArraySizeV3":{const a=I("tensorArrayId",e,t,n),i=n.getTensorArray(a.id);return[(0,w.scalar)(i.size(),"int32")]}case"TensorArrayCloseV3":{const a=I("tensorArrayId",e,t,n),i=n.getTensorArray(a.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const a=I("tensorListId",e,t,n),i=I("index",e,t,n),r=I("tensor",e,t,n),s=n.getTensorList(a.id);return s.setItem(i,r),[s.idTensor]}case"TensorListGetItem":{const a=I("tensorListId",e,t,n),i=I("index",e,t,n),r=I("elementShape",e,t,n),s=I("elementDType",e,t,n);return[n.getTensorList(a.id).getItem(i,r,s)]}case"TensorListScatterV2":case"TensorListScatter":{const a=I("indices",e,t,n),i=function(e,t,n,a){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(null!=a&&-1!==a&&i>=a)throw new Error(`Max index must be < array size (${i}  vs. ${a})`);const r=new xt([],n,e.dtype,a),s=(0,w.unstack)(e,0);return t.forEach(((e,t)=>{r.setItem(e,s[t])})),r}(I("tensor",e,t,n),a,I("elementShape",e,t,n),I("numElements",e,t,n));return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const a=I("elementShape",e,t,n),i=I("elementDType",e,t,n);let r;r="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=function(e,t,n){return new xt([],e,t,n)}(a,i,I(r,e,t,n));return n.addTensorList(s),[s.idTensor]}case"TensorListGather":{const a=I("tensorListId",e,t,n),i=I("indices",e,t,n),r=I("elementShape",e,t,n),s=I("elementDType",e,t,n);return[n.getTensorList(a.id).gather(i,s,r)]}case"TensorListStack":{const a=I("tensorListId",e,t,n),i=I("elementShape",e,t,n),r=I("elementDType",e,t,n),s=I("numElements",e,t,n);return[n.getTensorList(a.id).stack(i,r,s)]}case"TensorListFromTensor":{const a=function(e,t,n){const a=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);gt(e.shape.slice(1),t,"TensorList shape mismatch: ");const i=(0,w.unstack)(e);return new xt(i,t,a)}(I("tensor",e,t,n),I("elementShape",e,t,n),I("elementDType",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const a=I("tensorListId",e,t,n),i=n.getTensorList(a.id),r=I("dtype",e,t,n),s=I("elementShape",e,t,n);return[i.concat(r,s)]}case"TensorListPushBack":{const a=I("tensorListId",e,t,n),i=I("tensor",e,t,n),r=n.getTensorList(a.id);return r.pushBack(i),[r.idTensor]}case"TensorListPopBack":{const a=I("tensorListId",e,t,n),i=I("elementShape",e,t,n),r=I("elementDType",e,t,n);return[n.getTensorList(a.id).popBack(i,r)]}case"TensorListSplit":{const a=I("tensor",e,t,n),i=I("elementShape",e,t,n),r=function(e,t,n){let a=0;const i=t.map((e=>(a+=e,a)));if(a!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${a}, and tensor's shape is: ${e.shape}`);const r=vt(e.shape.slice(1),n),s=0===a?0:e.size/a,o=(0,w.tidy)((()=>{const n=[];e=(0,w.reshape)(e,[1,a,s]);for(let a=0;a<t.length;++a){const o=[0,0===a?0:i[a-1],0],l=[1,t[a],s];n[a]=(0,w.reshape)((0,w.slice)(e,o,l),r)}return e.dispose(),n})),l=new xt([],n,e.dtype,t.length);for(let e=0;e<o.length;e++)l.setItem(e,o[e]);return l}(a,I("lengths",e,t,n),i);return n.addTensorList(r),[r.idTensor]}case"TensorListLength":{const a=I("tensorListId",e,t,n),i=n.getTensorList(a.id);return[(0,w.scalar)(i.size(),"int32")]}case"TensorListResize":{const a=I("tensorListId",e,t,n),i=I("size",e,t,n),r=n.getTensorList(a.id).resize(i);return n.addTensorList(r),[r.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};var St=n(11355),Ct=n(64794),Tt=n(43854),_t=n(71405),It=n(64718),At=n(70473),Nt=n(15176),Et=n(21174),Rt=n(96877),Mt=n(61749),Dt=n(25020),$t=n(70557);function Bt(e,t,n){const[a,i]=I("fusedOps",e,t,n),r="biasadd"===a,s=!r,o="prelu"===i,l="fusedbatchnorm"===a,c=I("numArgs",e,t,n);if(r){if(o&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!o&&r&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=I("strides",e,t,n),d=M(e,t,n),p=I("dataFormat",e,t,n).toUpperCase(),h=I("dilations",e,t,n);let[m,f]=I("args",e,t,n);s&&(f=m,m=void 0);return{stride:u,pad:d,dataFormat:p,dilations:h,biasArg:m,preluArg:f,activationFunc:i,leakyreluAlpha:I("leakyreluAlpha",e,t,n)}}var Lt=n(14006),Ft=n(14135),Ot=n(90686),jt=n(76708),zt=n(44917),Pt=n(7846),Wt=n(75002),Gt=n(47245),Vt=n(43596),Ut=n(59640),Ht=n(6577);var qt=n(81238),Kt=n(62271),Jt=n(66380),Xt=n(36567);function Yt(e,t,n){return{boxes:I("boxes",e,t,n),scores:I("scores",e,t,n),maxOutputSize:I("maxOutputSize",e,t,n),iouThreshold:I("iouThreshold",e,t,n),scoreThreshold:I("scoreThreshold",e,t,n),softNmsSigma:I("softNmsSigma",e,t,n)}}var Zt=n(94608),Qt=n(43243),en=n(64978),tn=n(49608);var nn=n(46092),an=n(99494);class rn{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=(0,w.scalar)(0),this.tensorMap=new Map,(0,w.keep)(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return an.i(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),(0,w.tidy)((()=>{const e=(0,w.unstack)(t),a=n.length,i=e.length;w.util.assert(a===i,(()=>`The number of elements doesn't match, keys has ${a} elements, the values has ${i} elements.`));for(let t=0;t<a;t++){const a=n[t],i=e[t];(0,w.keep)(i),this.tensorMap.set(a,i)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return(0,w.tidy)((()=>{const e=[];for(let a=0;a<n.length;a++){const i=n[a],r=this.findWithDefault(i,t);e.push(r)}return(0,w.stack)(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}var sn=n(26477),on=n(16500),ln=n(20636),cn=n(17630),un=n(86573),dn=n(50624),pn=n(2856),hn=n(38651),mn=n(15750),fn=n(95912);var gn=n(28687),bn=n(94653),yn=n(89065);var vn=n(31954),kn=n(40094),xn=n(79648),wn=n(80682),Sn=n(31510),Cn=n(69040);var Tn=n(83307),_n=n(75130),In=n(25735),An=n(15475),Nn=n(90781),En=n(92998),Rn=n(40047),Mn=n(27394),Dn=n(9640),$n=n(37405),Bn=n(93865),Ln=n(75746);var Fn=n(46884),On=n(24926),jn=n(57486),zn=n(22676),Pn=n(55158),Wn=n(79590),Gn=n(4968),Vn=n(82991),Un=n(24136),Hn=n(47501),qn=n(28644),Kn=n(63100),Jn=n(87494);var Xn=n(7020),Yn=n(88447),Zn=n(13710),Qn=n(84415);var ea=n(81300),ta=n(71483),na=n(39682),aa=n(27918),ia=n(28441),ra=n(89112),sa=n(68247),oa=n(88194);function la(e,t,n,a){const i=((e,t,n)=>{switch(e.category){case"arithmetic":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[ge.I(I("a",e,t,n),I("b",e,t,n))];case"AddN":return[be.Q(I("tensors",e,t,n))];case"FloorMod":case"Mod":return[ye.w(I("a",e,t,n),I("b",e,t,n))];case"Mul":return[ve.d(I("a",e,t,n),I("b",e,t,n))];case"RealDiv":case"Div":return[ke.h(I("a",e,t,n),I("b",e,t,n))];case"DivNoNan":return[xe.N(I("a",e,t,n),I("b",e,t,n))];case"FloorDiv":return[we.q(I("a",e,t,n),I("b",e,t,n))];case"Sub":return[Se.l(I("a",e,t,n),I("b",e,t,n))];case"Minimum":return[Ce.L(I("a",e,t,n),I("b",e,t,n))];case"Maximum":return[Te.g(I("a",e,t,n),I("b",e,t,n))];case"Pow":return[_e.s(I("a",e,t,n),I("b",e,t,n))];case"SquaredDifference":return[Ie.$(I("a",e,t,n),I("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[Ae.W(I("x",e,t,n))];case"Acos":return[Ne.K(I("x",e,t,n))];case"Acosh":return[Ee._(I("x",e,t,n))];case"Asin":return[Re.Z(I("x",e,t,n))];case"Asinh":return[Me.V(I("x",e,t,n))];case"Atan":return[De.z(I("x",e,t,n))];case"Atan2":return[$e.f(I("x",e,t,n),I("y",e,t,n))];case"Atanh":return[Be.C(I("x",e,t,n))];case"Ceil":return[Le.m(I("x",e,t,n))];case"Complex":return[Fe.P(I("real",e,t,n),I("imag",e,t,n))];case"Cos":return[Oe.m(I("x",e,t,n))];case"Cosh":return[je.f(I("x",e,t,n))];case"Elu":return[ze.p(I("x",e,t,n))];case"Erf":return[Pe.q(I("x",e,t,n))];case"Exp":return[We.Q(I("x",e,t,n))];case"Expm1":return[Ge.t(I("x",e,t,n))];case"Floor":return[Ve.G(I("x",e,t,n))];case"Log":return[Ue.c(I("x",e,t,n))];case"Log1p":return[He.K(I("x",e,t,n))];case"Imag":return[qe.a(I("x",e,t,n))];case"Neg":return[Ke.W(I("x",e,t,n))];case"Reciprocal":return[Je.M(I("x",e,t,n))];case"Real":return[Xe.k(I("x",e,t,n))];case"Relu":return[Ye.U(I("x",e,t,n))];case"Round":return[Ze.N(I("x",e,t,n))];case"Selu":return[Qe.U(I("x",e,t,n))];case"Sigmoid":return[et.X(I("x",e,t,n))];case"Sin":return[tt.O(I("x",e,t,n))];case"Sign":return[nt.X(I("x",e,t,n))];case"Sinh":return[at.R(I("x",e,t,n))];case"Softplus":return[it.W(I("x",e,t,n))];case"Sqrt":return[rt._(I("x",e,t,n))];case"Square":return[st.h(I("x",e,t,n))];case"Tanh":return[ot.A(I("x",e,t,n))];case"Tan":return[lt.O(I("x",e,t,n))];case"ClipByValue":return[ct.i(I("x",e,t,n),I("clipValueMin",e,t,n),I("clipValueMax",e,t,n))];case"Relu6":return[ut.b(I("x",e,t,n))];case"Rsqrt":return[dt.b(A(e.inputNames[0],t,n))];case"Prod":return[pt.W(I("x",e,t,n),I("axes",e,t,n))];case"LeakyRelu":return[ht.h(I("x",e,t,n),I("alpha",e,t,n))];case"Prelu":return[mt.A(I("x",e,t,n),I("alpha",e,t,n))];case"IsNan":return[ft.i(A(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return wt(e,t,n);case"convolution":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const a=I("stride",e,t,n),i=I("pad",e,t,n),r=I("dataFormat",e,t,n).toUpperCase(),s=I("dilation",e,t,n);return[St.P(I("x",e,t,n),I("filter",e,t,n),a,i,r,s)]}case"Conv2D":{const a=I("strides",e,t,n),i=M(e,t,n),r=I("dataFormat",e,t,n).toUpperCase(),s=I("dilations",e,t,n);return[Ct.T(I("x",e,t,n),I("filter",e,t,n),[a[1],a[2]],i,r,[s[1],s[2]])]}case"_FusedConv2D":{const{stride:a,pad:i,dataFormat:r,dilations:s,biasArg:o,preluArg:l,activationFunc:c,leakyreluAlpha:u}=Bt(e,t,n);return[Tt.conv2d({x:I("x",e,t,n),filter:I("filter",e,t,n),strides:[a[1],a[2]],pad:i,dataFormat:r,dilations:[s[1],s[2]],bias:o,activation:c,preluActivationWeights:l,leakyreluAlpha:u})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:i,dataFormat:r,dilations:s,biasArg:o,preluArg:l,activationFunc:c,leakyreluAlpha:u}=Bt(e,t,n);return[Tt.depthwiseConv2d({x:I("x",e,t,n),filter:I("filter",e,t,n),strides:[a[1],a[2]],pad:i,dataFormat:r,dilations:[s[1],s[2]],bias:o,activation:c,preluActivationWeights:l,leakyreluAlpha:u})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=I("outputShape",e,t,n),i=I("strides",e,t,n),r=M(e,t,n);return[_t.b(I("x",e,t,n),I("filter",e,t,n),a,[i[1],i[2]],r)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=I("strides",e,t,n),i=M(e,t,n),r=I("dilations",e,t,n),s=I("dataFormat",e,t,n).toUpperCase();return[It.B(I("input",e,t,n),I("filter",e,t,n),[a[1],a[2]],i,s,[r[1],r[2]])]}case"Conv3D":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("dataFormat",e,t,n).toUpperCase(),s=I("dilations",e,t,n);return[At.p(I("x",e,t,n),I("filter",e,t,n),[a[1],a[2],a[3]],i,r,[s[1],s[2],s[3]])]}case"AvgPool":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("kernelSize",e,t,n);return[Nt.w(I("x",e,t,n),[r[1],r[2]],[a[1],a[2]],i)]}case"MaxPool":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("kernelSize",e,t,n);return[Et._(I("x",e,t,n),[r[1],r[2]],[a[1],a[2]],i)]}case"MaxPoolWithArgmax":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("kernelSize",e,t,n),s=I("includeBatchInIndex",e,t,n),{result:o,indexes:l}=Rt.I(I("x",e,t,n),[r[1],r[2]],[a[1],a[2]],i,s);return[o,l]}case"AvgPool3D":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("kernelSize",e,t,n);return[Mt.u(I("x",e,t,n),[r[1],r[2],r[3]],[a[1],a[2],a[3]],i)]}case"MaxPool3D":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("kernelSize",e,t,n);return[Dt.Y(I("x",e,t,n),[r[1],r[2],r[3]],[a[1],a[2],a[3]],i)]}case"Dilation2D":{const a=I("strides",e,t,n),i=I("pad",e,t,n),r=I("dilations",e,t,n),s=a[1],o=a[2],l=r[1],c=r[2];return[$t.W(I("x",e,t,n),I("filter",e,t,n),[s,o],i,[l,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Fill":{const a=I("shape",e,t,n),i=I("dtype",e,t,n),r=I("value",e,t,n);return[Lt.h(a,r,i)]}case"LinSpace":{const a=I("start",e,t,n),i=I("stop",e,t,n),r=I("num",e,t,n);return[Ft.S(a,i,r)]}case"Multinomial":{const a=I("logits",e,t,n),i=I("numSamples",e,t,n),r=I("seed",e,t,n);return[Ot.S(a,i,r)]}case"OneHot":{const a=I("indices",e,t,n),i=I("depth",e,t,n),r=I("onValue",e,t,n),s=I("offValue",e,t,n);return[jt.l(a,i,r,s)]}case"Ones":return[zt.i(I("shape",e,t,n),I("dtype",e,t,n))];case"OnesLike":return[Pt.J(I("x",e,t,n))];case"RandomUniform":return[Wt.L(I("shape",e,t,n),I("minval",e,t,n),I("maxval",e,t,n),I("dtype",e,t,n))];case"Range":{const a=I("start",e,t,n),i=I("stop",e,t,n),r=I("step",e,t,n);return[Gt.w(a,i,r,I("dtype",e,t,n))]}case"TruncatedNormal":{const a=I("shape",e,t,n),i=I("mean",e,t,n),r=I("stdDev",e,t,n),s=I("seed",e,t,n);return[Vt.X(a,i,r,I("dtype",e,t,n),s)]}case"Zeros":return[Ut.l(I("shape",e,t,n),I("dtype",e,t,n))];case"ZerosLike":return[Ht.P(I("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:i,maxOutputSize:r,iouThreshold:s,scoreThreshold:o,softNmsSigma:l}=Yt(e,t,n),c=await qt.BHj.nonMaxSuppressionWithScoreAsync(a,i,r,s,o,l);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:i,maxOutputSize:r,iouThreshold:s,scoreThreshold:o}=Yt(e,t,n),l=I("padToMaxOutputSize",e,t,n),c=await qt.BHj.nonMaxSuppressionPaddedAsync(a,i,r,s,o,l);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:i,maxOutputSize:r,iouThreshold:s,scoreThreshold:o}=Yt(e,t,n);return[await qt.BHj.nonMaxSuppressionAsync(a,i,r,s,o)]}case"Where":{const a=Kt.p(I("condition",e,t,n),"bool"),i=[await Jt.i(a)];return a.dispose(),i}case"ListDiff":return Xt.O(I("x",e,t,n),I("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"LowerBound":{const a=I("sortedSequence",e,t,n),i=I("values",e,t,n);return[Zt.e(a,i)]}case"TopKV2":{const a=I("x",e,t,n),i=I("k",e,t,n),r=I("sorted",e,t,n),s=Qt.h(a,i,r);return[s.values,s.indices]}case"UpperBound":{const a=I("sortedSequence",e,t,n),i=I("values",e,t,n);return[en.G(a,i)]}case"Unique":{const a=I("x",e,t,n),i=tn.T(a);return[i.values,i.indices]}case"UniqueV2":{const a=I("x",e,t,n),i=I("axis",e,t,n),r=tn.T(a,i);return[r.values,r.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const a=I("images",e,t,n),i=I("size",e,t,n),r=I("alignCorners",e,t,n),s=I("halfPixelCenters",e,t,n);return[qt.BHj.resizeBilinear(a,[i[0],i[1]],r,s)]}case"ResizeNearestNeighbor":{const a=I("images",e,t,n),i=I("size",e,t,n),r=I("alignCorners",e,t,n),s=I("halfPixelCenters",e,t,n);return[qt.BHj.resizeNearestNeighbor(a,[i[0],i[1]],r,s)]}case"CropAndResize":{const a=I("image",e,t,n),i=I("boxes",e,t,n),r=I("boxInd",e,t,n),s=I("cropSize",e,t,n),o=I("method",e,t,n),l=I("extrapolationValue",e,t,n);return[qt.BHj.cropAndResize(a,i,r,s,o,l)]}case"ImageProjectiveTransformV3":{const a=I("images",e,t,n),i=I("transforms",e,t,n),r=I("outputShape",e,t,n),s=I("fillValue",e,t,n),o=I("interpolation",e,t,n),l=I("fillMode",e,t,n);return[qt.BHj.transform(a,i,o.toLowerCase(),l.toLowerCase(),s,r)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const a=I("default",e,t,n);return[A(e.name,t,n)||a];case"Placeholder":return[A(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[D(I("x",e,t,n))];case"IdentityN":return I("x",e,t,n).map((e=>D(e)));case"Shape":return[nn.R(I("x",e,t,n).shape,"int32")];case"ShapeN":return I("x",e,t,n).map((e=>nn.R(e.shape)));case"Size":return[an.i(I("x",e,t,n).size,"int32")];case"Rank":return[an.i(I("x",e,t,n).rank,"int32")];case"NoOp":return[an.i(1)];case"Print":const i=I("x",e,t,n),r=I("data",e,t,n),s=I("message",e,t,n),o=I("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(let e=0;e<r.length;e++)console.log(Array.prototype.slice.call(r[e].dataSync()).slice(0,o));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Equal":return[sn.D(I("a",e,t,n),I("b",e,t,n))];case"NotEqual":return[on.Q(I("a",e,t,n),I("b",e,t,n))];case"Greater":return[ln.p(I("a",e,t,n),I("b",e,t,n))];case"GreaterEqual":return[cn.b(I("a",e,t,n),I("b",e,t,n))];case"Less":return[un.d(I("a",e,t,n),I("b",e,t,n))];case"LessEqual":return[dn.z(I("a",e,t,n),I("b",e,t,n))];case"LogicalAnd":return[pn.H(I("a",e,t,n),I("b",e,t,n))];case"LogicalNot":return[hn.h(I("a",e,t,n))];case"LogicalOr":return[mn.K(I("a",e,t,n),I("b",e,t,n))];case"Select":case"SelectV2":return[fn.a(I("condition",e,t,n),I("a",e,t,n),I("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[gn.O(I("a",e,t,n),I("b",e,t,n),I("transposeA",e,t,n),I("transposeB",e,t,n))];case"Einsum":return[bn.W(I("equation",e,t,n),...I("tensors",e,t,n))];case"Transpose":return[yn.p(I("x",e,t,n),I("perm",e,t,n))];case"_FusedMatMul":const[a,i]=I("fusedOps",e,t,n),r="biasadd"===a,s="prelu"===i,o=I("numArgs",e,t,n),l=I("leakyreluAlpha",e,t,n);if(r){if(s&&2!==o)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&1!==o)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,u]=I("args",e,t,n);return[Tt.matMul({a:I("a",e,t,n),b:I("b",e,t,n),transposeA:I("transposeA",e,t,n),transposeB:I("transposeB",e,t,n),bias:c,activation:i,preluActivationWeights:u,leakyreluAlpha:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"EuclideanNorm":return[vn.d(I("x",e,t,n),I("axis",e,t,n),I("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[kn.t(I("x",e,t,n),I("mean",e,t,n),I("variance",e,t,n),I("offset",e,t,n),I("scale",e,t,n),I("epsilon",e,t,n))];case"LRN":return[xn.G(I("x",e,t,n),I("radius",e,t,n),I("bias",e,t,n),I("alpha",e,t,n),I("beta",e,t,n))];case"Softmax":return[wn.X(I("x",e,t,n))];case"LogSoftmax":return[Sn.C(I("x",e,t,n))];case"SparseToDense":return[Cn.e(I("sparseIndices",e,t,n),I("outputShape",e,t,n),I("sparseValues",e,t,n),I("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Max":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[Tn.F(I("x",e,t,n),a,i)]}case"Mean":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[_n.J(I("x",e,t,n),a,i)]}case"Min":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[In.V(I("x",e,t,n),a,i)]}case"Sum":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[An.S(I("x",e,t,n),a,i)]}case"All":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[Nn.$(I("x",e,t,n),a,i)]}case"Any":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[En.Y(I("x",e,t,n),a,i)]}case"ArgMax":{const a=I("axis",e,t,n);return[Rn.N(I("x",e,t,n),a)]}case"ArgMin":{const a=I("axis",e,t,n);return[Mn.v(I("x",e,t,n),a)]}case"Prod":{const a=I("axis",e,t,n),i=I("keepDims",e,t,n);return[pt.W(I("x",e,t,n),a,i)]}case"Cumprod":{const a=I("axis",e,t,n),i=I("exclusive",e,t,n),r=I("reverse",e,t,n);return[Dn.$(I("x",e,t,n),a,i,r)]}case"Cumsum":{const a=I("axis",e,t,n),i=I("exclusive",e,t,n),r=I("reverse",e,t,n);return[$n.z(I("x",e,t,n),a,i,r)]}case"Bincount":const a=I("x",e,t,n),i=I("weights",e,t,n),r=I("size",e,t,n);return[Bn.y(a,i,r)];case"DenseBincount":{const a=I("x",e,t,n),i=I("weights",e,t,n),r=I("size",e,t,n),s=I("binaryOutput",e,t,n);return[Ln.p(a,i,r,s)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const a=I("n",e,t,n),i=I("axis",e,t,n);let r=I("tensors",e,t,n);return r=r.slice(0,a),[Fn.z(r,i)]}case"Gather":{const a=I("x",e,t,n),i=I("indices",e,t,n);return[On.I(a,Kt.p(i,"int32"),0)]}case"GatherV2":{const a=I("axis",e,t,n),i=I("batchDims",e,t,n),r=I("x",e,t,n),s=I("indices",e,t,n);return[On.I(r,Kt.p(s,"int32"),a,i)]}case"Reverse":{const a=I("dims",e,t,n),i=[];for(let e=0;e<a.length;e++)a[e]&&i.push(e);const r=I("x",e,t,n);return[jn.G(r,i)]}case"ReverseV2":{const a=I("axis",e,t,n),i=I("x",e,t,n);return[jn.G(i,a)]}case"Slice":{const a=I("begin",e,t,n),i=I("size",e,t,n);return[zn.t(I("x",e,t,n),a,i)]}case"StridedSlice":{const a=I("begin",e,t,n),i=I("end",e,t,n),r=I("strides",e,t,n),s=I("beginMask",e,t,n),o=I("endMask",e,t,n),l=I("ellipsisMask",e,t,n),c=I("newAxisMask",e,t,n),u=I("shrinkAxisMask",e,t,n),d=I("x",e,t,n);return[Pn.N(d,a,i,r,s,o,l,c,u)]}case"Pack":return(0,w.tidy)((()=>{const a=I("axis",e,t,n),i=I("tensors",e,t,n),r=i[0].shape,s=Wn.L(i[0]).shape,o=i.map((e=>{const t=w.util.arraysEqual(e.shape,r);if(!t&&!w.util.arraysEqual(Wn.L(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:Gn.X(e,r)}));return[Vn.k(o,a)]}));case"Unpack":{const a=I("axis",e,t,n),i=I("tensor",e,t,n);return Un.H(i,a)}case"Tile":{const a=I("reps",e,t,n);return[Hn.G(I("x",e,t,n),a)]}case"Split":case"SplitV":{const a=I("axis",e,t,n),i=I("numOrSizeSplits",e,t,n),r=I("x",e,t,n);return qn.V(r,i,a)}case"ScatterNd":{const a=I("indices",e,t,n),i=I("values",e,t,n),r=I("shape",e,t,n);return[Kn.s(a,i,r)]}case"GatherNd":{const a=I("x",e,t,n),i=I("indices",e,t,n);return[Jn.d(a,i)]}case"SparseToDense":{const a=I("sparseIndices",e,t,n),i=I("outputShape",e,t,n),r=I("sparseValues",e,t,n),s=I("defaultValue",e,t,n);return[Cn.e(a,r,i,r.dtype===s.dtype?s:Kt.p(s,r.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:i,emptyRowIndicator:r,reverseIndexMap:s}=qt.rVs.sparseFillEmptyRows(I("indices",e,t,n),I("values",e,t,n),I("denseShape",e,t,n),I("defaultValue",e,t,n));return[a,i,r,s]}case"SparseReshape":{const{outputIndices:a,outputShape:i}=qt.rVs.sparseReshape(I("inputIndices",e,t,n),I("inputShape",e,t,n),I("newShape",e,t,n));return[a,i]}case"SparseSegmentMean":return[qt.rVs.sparseSegmentMean(I("data",e,t,n),I("indices",e,t,n),I("segmentIds",e,t,n))];case"SparseSegmentSum":return[qt.rVs.sparseSegmentSum(I("data",e,t,n),I("indices",e,t,n),I("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"FFT":return[Xn.k(I("x",e,t,n))];case"IFFT":return[Yn.S(I("x",e,t,n))];case"RFFT":return[Zn.Q(I("x",e,t,n))];case"IRFFT":return[Qn.w(I("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"StringNGrams":{const{nGrams:a,nGramsSplits:i}=qt.Z_8.stringNGrams(I("data",e,t,n),I("dataSplits",e,t,n),I("separator",e,t,n),I("nGramWidths",e,t,n),I("leftPad",e,t,n),I("rightPad",e,t,n),I("padWidth",e,t,n),I("preserveShortSequences",e,t,n));return[a,i]}case"StringSplit":{const{indices:a,values:i,shape:r}=qt.Z_8.stringSplit(I("input",e,t,n),I("delimiter",e,t,n),I("skipEmpty",e,t,n));return[a,i,r]}case"StringToHashBucketFast":return[qt.Z_8.stringToHashBucketFast(I("input",e,t,n),I("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return w.tidy((()=>((e,t,n)=>{switch(e.op){case"Cast":return[Kt.p(I("x",e,t,n),I("dtype",e,t,n))];case"ExpandDims":{const a=I("axis",e,t,n);return[ea.d(I("x",e,t,n),a)]}case"Squeeze":{const a=I("axis",e,t,n);return[Wn.L(I("x",e,t,n),a)]}case"Reshape":return[Gn.X(I("x",e,t,n),I("shape",e,t,n))];case"MirrorPad":return[ta.V(I("x",e,t,n),I("padding",e,t,n),I("mode",e,t,n))];case"PadV2":case"Pad":return[na.v(I("x",e,t,n),I("padding",e,t,n),I("constantValue",e,t,n))];case"SpaceToBatchND":{const a=I("blockShape",e,t,n),i=I("paddings",e,t,n);return[aa.f(I("x",e,t,n),a,i)]}case"BatchToSpaceND":{const a=I("blockShape",e,t,n),i=I("crops",e,t,n);return[ia.E(I("x",e,t,n),a,i)]}case"DepthToSpace":{const a=I("blockSize",e,t,n),i=I("dataFormat",e,t,n).toUpperCase();return[ra.n(I("x",e,t,n),a,i)]}case"BroadcastTo":return[sa.U(I("x",e,t,n),I("shape",e,t,n))];case"BroadcastArgs":return[oa.X(I("s0",e,t,n),I("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,a)=>{switch(e.op){case"HashTable":case"HashTableV2":{const i=I("keyDType",e,t,n),r=I("valueDType",e,t,n),s=new rn(i,r);return a.addHashTable(e.name,s),[s.handle]}case"LookupTableImport":case"LookupTableImportV2":{const i=I("tableHandle",e,t,n,a),r=I("keys",e,t,n),s=I("values",e,t,n),o=a.getHashTableById(i.id);return[await o.import(r,s)]}case"LookupTableFind":case"LookupTableFindV2":{const i=I("tableHandle",e,t,n,a),r=I("keys",e,t,n),s=I("defaultValue",e,t,n),o=a.getHashTableById(i.id);return[await o.find(r,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=I("tableHandle",e,t,n,a);return[a.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,a);case"custom":const i=_(e.op);if(i&&i.customExecutor)return i.customExecutor(new fe(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return w.util.isPromise(i)?i.then((e=>[].concat(e))):[].concat(i)}class ca{constructor(e={},t={},n={},a={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function ua(e,t,n,a){const i=new Set,r=[];let s=null,o=null;const l=new Set,c=Object.keys(e).map((e=>R(e)[0]));let u=[];null!=a&&(u=a.map((e=>R(e.name)[0])));const d=[...t];for(;d.length>0;){const e=d.pop();(ma(e)||fa(e)||ga(e))&&null==s&&(s=e,o=s.children.map((e=>e.name)).filter((e=>i.has(e)))),i.add(e.name),null==n[e.name]&&(-1===c.indexOf(e.name)&&-1===u.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):r.push(e.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:r,dynamicNode:s,syncInputs:o}}const da=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],pa=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],ha=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function ma(e){return da.indexOf(e.op)>=0}function fa(e){return pa.indexOf(e.op)>=0}function ga(e){return ha.indexOf(e.op)>=0}class ba{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new ba(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),a=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+a.join(this.SEPERATOR)}compile(e,t){const n=ua(e,t,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:i,syncInputs:r}=n;if(null!=i)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${r}]`);if(a.length>0){const n=t.map((e=>e.name)),i=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${i}]. Missing the following inputs: [${a}]`)}return function(e,t,n){const{usedNodes:a,inputs:i}=n,r=[],s=Object.keys(i).map((e=>R(e)[0])).map((t=>e.nodes[t])),o=e.initNodes;s.forEach((e=>{a.has(e.name)&&r.push(e)})),e.weights.forEach((e=>{a.has(e.name)&&r.push(e)})),null!=o&&o.forEach((e=>{a.has(e.name)&&r.push(e)}));const l=new Set,c=[];for(;r.length>0;){const e=r.pop();l.add(e.name),t[e.name]||c.push(e),e.children.forEach((e=>{!l.has(e.name)&&a.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&r.push(e)}))}return c}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const a=n.map((e=>this.graph.nodes[R(e)[0]])),i=t.map((e=>R(e)[0]));let r=i.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===r.length&&(r=this._outputs);const s=this.getCompilationKey(a,r);let o=this.compiledMap.get(s);null==o&&(o=this.compile(e,r),this.compiledMap.set(s,o));const l={},c={};return(0,w.tidy)((()=>{const n=new ca(this.weightMap,l,c,this.functionExecutorMap),a=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,i]=R(t),r=[];r[i]=e[t],a[n]=r}));const r=this.getFrozenTensorIds(a),s={};for(let e=0;e<o.length;e++){const t=o[e];if(!a[t.name]){const e=la(t,a,n,this._resourceManager);if(w.util.isPromise(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);a[t.name]=e,this.checkTensorForDisposal(t.name,t,a,n,r,i,s)}}return null==this.parent&&n.dispose(r),t.map((e=>A(e,a,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,a,i,r,s){"control"!==t.category&&-1===r.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(s[e.id]=(s[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const r=function(e,t,n){return t[E(e,n.currentContextId)]}(e.name,n,a);null!=r&&r.forEach((e=>{if(e&&!e.kept&&!i.has(e.id)){const n=s[e.id];if(1===n){if(this.keepTensorForDebug){const[n,i]=N(t.name,a);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][i]=e}else e.dispose();delete s[e.id]}else null!=n&&s[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,a={},i={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=(0,w.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(e){console.warn(e.message)}this.resetIntermediateTensors();const r=new ca(this.weightMap,a,i,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,r,t,n);const s=t.map((e=>A(e,this.tensorsMap,r))),o=s.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...o,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&r.dispose(this.keepIds),s}async executeFunctionAsync(e,t,n){const a=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(a,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,a){const i=Object.keys(e),r=i.map((e=>this.graph.nodes[R(e)[0]])),s=n.map((e=>R(e)[0]));let o=s.map((e=>this.graph.nodes[e]));0===o.length&&(o=this._outputs);const{usedNodes:l,missingInputs:c,dynamicNode:u,syncInputs:d}=ua(e,o,this.weightMap,this._initNodes),p=[...r,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),h=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=R(t),i=[];i[a]=e[t],h[n]=i}));const m={},f=this.getFrozenTensorIds(h),g={};for(;p.length>0;){const e=this.processStack(r,p,t,h,g,f,s,m,l);await Promise.all(e)}null!=u||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=o.filter((e=>!ma(e)&&!A(e.name,h,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=u&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${b}] from the provided inputs [${i}]. Consider providing the following inputs: [${c}]. ${e}`)}return h}processStack(e,t,n,a,i,r,s,o,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&I("isConstant",e.node,a,n)&&([u]=N(e.node.name,n)),null==a[e.node.name]){const d=la(e.node,a,n,this._resourceManager);u||([u]=N(e.node.name,n));const p=n.currentContext;w.util.isPromise(d)?c.push(d.then((c=>(a[u]=c,n.currentContext=p,this.checkTensorForDisposal(u,e.node,a,n,r,s,o),this.processChildNodes(e.node,t,n,a,i,l),c)))):(a[u]=d,this.checkTensorForDisposal(u,e.node,a,n,r,s,o),this.processChildNodes(e.node,t,n,a,i,l))}else this.processChildNodes(e.node,t,n,a,i,l)}return c}processChildNodes(e,t,n,a,i,r){e.children.forEach((e=>{const[s]=N(e.name,n);!i[s]&&r.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!A(e,a,n)))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!A(e,a,n)))&&(i[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[a]=R(t),i=this.graph.nodes[a];if(i.attrParams.shape&&i.attrParams.shape.value){const e=i.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));w.util.assert(t,(()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}i.attrParams.dtype&&i.attrParams.dtype.value&&w.util.assert(n.dtype===i.attrParams.dtype.value,(()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=R(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=R(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class ya{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class va{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new ya}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=w.io.browserHTTPRequest(e,this.loadOptions);else{const t=w.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(w.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return w.util.isPromise(e)?e.then((e=>this.loadSync(e))):this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n;n=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const a=w.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new ba(ee.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=ee.Instance.transformGraph(e.modelInitializer);this.initializer=new ba(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"==typeof e){const t=w.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof w.Tensor||Array.isArray(e)))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,a)=>(t[n]=e[a],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function ka(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"==typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}model.json?tfjs-format=file`}(e));const n=new va(e,t);return await n.load(),n}const xa="3.18.0"},68713:(e,t,n)=>{"use strict";n.d(t,{JL:()=>a,Zu:()=>i});class a{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class i{refCount(e){return r("refCount")}incRef(e){return r("incRef")}timerAvailable(){return!0}time(e){return r("time")}read(e){return r("read")}readSync(e){return r("readSync")}readToGPU(e,t){return r("readToGPU")}numDataIds(){return r("numDataIds")}disposeData(e,t){return r("disposeData")}write(e,t,n){return r("write")}move(e,t,n,a,i){return r("move")}memory(){return r("memory")}floatPrecision(){return r("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return r("dispose")}}function r(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},68329:(e,t,n)=>{"use strict";function a(e,t,n){const a=function(e,t,n){return function(e,t,n){let a=0,i=e.length,r=0,s=!1;for(;a<i;){r=a+(i-a>>>1);const o=n(t,e[r]);o>0?a=r+1:(i=r,s=!o)}return s?a:-a-1}(e,t,n||i)}(e,t,n),r=a<0?-(a+1):a;e.splice(r,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function r(e,t,n,a,i){return l(e,t,n,a,i,0)}function s(e,t,n,a,i,r){return l(e,t,n,a,i,0,!1,r,!0)}function o(e,t,n,a,i,r){return l(e,t,n,a,i,r,!0)}function l(e,t,n,i,r,s,o=!1,l=!1,p=!1){const h=[];for(let e=0;e<t.length;e++)t[e]>r&&h.push({score:t[e],boxIndex:e,suppressBeginIndex:0});h.sort(d);const m=s>0?-.5/s:0,f=[],g=[];for(;f.length<n&&h.length>0;){const t=h.pop(),{score:n,boxIndex:s,suppressBeginIndex:o}=t;if(n<r)break;let l=!1;for(let n=f.length-1;n>=o;--n){const a=c(e,s,f[n]);if(a>=i){l=!0;break}if(t.score=t.score*u(i,m,a),t.score<=r)break}t.suppressBeginIndex=f.length,l||(t.score===n?(f.push(s),g.push(t.score)):t.score>r&&a(h,t,d))}const b=f.length,y=n-b;l&&y>0&&(f.push(...new Array(y).fill(0)),g.push(...new Array(y).fill(0)));const v={selectedIndices:f};return o&&(v.selectedScores=g),p&&(v.validOutputs=b),v}function c(e,t,n){const a=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),r=Math.min(a[0],a[2]),s=Math.min(a[1],a[3]),o=Math.max(a[0],a[2]),l=Math.max(a[1],a[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),p=Math.max(i[1],i[3]),h=(o-r)*(l-s),m=(d-c)*(p-u);if(h<=0||m<=0)return 0;const f=Math.max(r,c),g=Math.max(s,u),b=Math.min(o,d),y=Math.min(l,p),v=Math.max(b-f,0)*Math.max(y-g,0);return v/(h+m-v)}function u(e,t,n){const a=Math.exp(t*n*n);return n<=e?a:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,{GP:()=>r,qP:()=>s,pA:()=>o})},48333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(72657);function i(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const i=(0,a.f)(e,"int32"),r=(0,a.f)([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const a=i.indexToLoc(n[t]),s=t*e.length;r.values.set(a,s)}return r.toTensor()}},50196:(e,t,n)=>{"use strict";n.d(t,{BV:()=>k,wv:()=>v});var a=n(68713),i=n(22885),r=n(55938),s=n(29121),o=n(26151),l=n(64706),c=n(23418),u=n(20569);class d{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new h)}profileKernel(e,t,n){let a;const r=()=>{a=n()};let s;const o=c.now();if(this.backendTimer.timerAvailable())s=this.backendTimer.time(r);else{r();for(const e of a)e.dataSync();s=Promise.resolve({kernelMs:c.now()-o})}if((0,i.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<a.length;t++){const n=a[t];n.data().then((t=>{p(t,n.dtype,e)}))}return{kernelName:e,outputs:a,inputs:t,timeMs:s.then((e=>e.kernelMs)),extraInfo:s.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:a,inputs:i,extraInfo:r}=e;n.forEach((e=>{Promise.all([e.data(),a,r]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],i,n[2])}))}))}}function p(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const a=e[t];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class h{logKernelProfile(e,t,n,a,i,r){const s="number"==typeof a?u.oj(`${a}ms`,9):a.error,o=u.oj(e,25),l=t.rank,c=t.size,d=u.oj(t.shape.toString(),14);let p="";for(const e in i){const n=i[e];if(null!=n){const a=n.shape||t.shape,i=a.length;p+=`${e}: ${i}D ${i>0?a:""} `}}console.log(`%c${o}\t%c${s}\t%c${l}D ${d}\t%c${c}\t%c${p}\t%c${r}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var m=n(40974),f=n(80747);function g(e){return null!=e.kernelName}class b{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class y{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new b}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(l.Z(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new d(this.backendInstance),!0}setupRegisteredKernels(){(0,o.tr)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,o.tr)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof a.Zu||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,a=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,l.Z(`Initialization of backend ${e} failed`),l.Z(n.stack||n.message)),!1)));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(t){return l.Z(`Initialization of backend ${e} failed`),l.Z(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:a,asyncInit:i}=this.initializeBackend(n);if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),a=n.backend,i=this.readSync(t),r=a.refCount(t);a.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,r),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,a=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((()=>this.startScope(a)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return y.nextTensorId++}nextVariableId(){return y.nextVariableId++}clone(e){const t=k.runKernel(s.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return k.runKernel(s.RF,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=(0,o.pI)(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const a=this.backend.numDataIds();let i=0;n.forEach((e=>{i+="complex64"===e.dtype?3:1}));const r=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-t-i-r;if(s>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${s} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const a=this.isTapeOn(),i=this.state.numBytes,r=this.state.numTensors;let s,l;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=g(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(g(e)){const{kernelName:t,inputs:i,attrs:r}=e;null==this.backendName&&this.backend;const c=(0,o.pI)(t,this.backendName);u.hu(null!=c,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),s=()=>{const e=this.backend.numDataIds();l=c.kernelFunc({inputs:i,attrs:r,backend:this.backend});const s=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const o=s.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(a){const e=this.getTensorsForGradient(t,i,o);n=this.saveTensorsForBackwardMode(e)}return o}}else{const{forwardFunc:t}=e,i=e=>{a&&(n=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();l=this.tidy((()=>t(this.backend,i)));const n=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:d,attrs:p}=e,h=g(e)?null:e.backwardsFunc;let m;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(m=this.profiler.profileKernel(c,d,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),t=m.outputs):t=s()})),a&&this.addTapeNode(c,d,t,h,n,p),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-r,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map((e=>null!=d[e]?d[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(l)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const a=(0,o.uk)(e);if(null!=a){const e=a.inputsToSave||[],i=a.outputsToSave||[];let r;a.saveAllInputs?(u.hu(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),r=Object.keys(t).map((e=>t[e]))):r=e.map((e=>t[e]));const s=n.filter(((e,t)=>i[t]));return r.concat(s)}return[]}makeTensor(e,t,n,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let i=e;"string"===n&&u.HD(e[0])&&(i=e.map((e=>c.encodeString(e))));const r=a.write(i,t,n),s=new m.es(t,n,r,this.nextTensorId());if(this.trackTensor(s,a),"string"===n){const e=this.state.tensorInfo.get(r),t=(0,u.Ub)(i);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,a){const i={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(i,a)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:a,dtype:i}=e,r=new m.es(a,i,n,this.nextTensorId());return this.trackTensor(r,t),r}makeVariable(e,t=!0,n,a){n=n||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const i=new m._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*u.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof m._w||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*u.bT(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,a,i,r){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},l=(0,o.uk)(e);null!=l&&(a=l.gradFunc),null!=a&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],a=u.wT(e.size,e.dtype);return this.makeTensor(a,e.shape,e.dtype)}return e})),a(e.length>1?e:e[0],i,r))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,f.getTensorsInContainer)(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==a.id||this.track(e)}))}gradients(e,t,n,a=!1){if(u.hu(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));u.hu(i instanceof m.es,(()=>"The result y returned by f() must be a tensor."));const r=function(e,t,n){const a={},i={};for(let e=0;e<t.length;e++)a[t[e].id]=!0;for(let n=0;n<e.length;n++){const r=e[n],s=r.inputs;for(const e in s){const n=s[e];let o=!1;for(let e=0;e<t.length;e++)if(a[n.id]){r.outputs.forEach((e=>a[e.id]=!0)),o=!0,i[r.id]=!0;break}if(o)break}}const r={};r[n.id]=!0;const s={};for(let t=e.length-1;t>=0;t--){const n=e[t],a=n.inputs;for(let e=0;e<n.outputs.length;e++)if(r[n.outputs[e].id]){for(const e in a)r[a[e].id]=!0,s[n.id]=!0;break}}const o=[];for(let t=0;t<e.length;t++){const n=e[t];if(i[n.id]&&s[n.id]){const e={};for(const t in n.inputs){const i=n.inputs[t];a[i.id]&&(e[t]=i)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,o.push(t)}}return o}(this.state.activeTape,t,i);if(!a&&0===r.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[i.id]=null==n?function(e){const t=(0,u.p8)((0,u.NA)(e),"float32");return k.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,a){for(let i=t.length-1;i>=0;i--){const r=t[i],s=[];if(r.outputs.forEach((t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)})),null==r.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${r.kernelName}.`);const o=r.gradient(s);for(const t in r.inputs){if(!(t in o))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(o)}.`);const i=n((()=>o[t]()));if("float32"!==i.dtype)throw new Error(`Error in gradient for op ${r.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${i.dtype}'`);const s=r.inputs[t];if(!u.cO(i.shape,s.shape))throw new Error(`Error in gradient for op ${r.kernelName}. The gradient of input '${t}' has shape '${i.shape}', which does not match the shape of the input '${s.shape}'`);if(null==e[s.id])e[s.id]=i;else{const t=e[s.id];e[s.id]=a(t,i),t.dispose()}}}}(e,r,(e=>this.tidy(e)),x);const a=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:i,grads:a}}))}customGrad(e){return u.hu(u.mf(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;u.hu(t.every((e=>e instanceof m.es)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const a={};t.forEach(((e,t)=>{a[t]=e}));return this.runKernelFunc({forwardFunc:(a,i)=>(n=e(...t,i),u.hu(n.value instanceof m.es,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),u.hu(u.mf(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,a)=>{const i=n.gradFunc(e,a),r=Array.isArray(i)?i:[i];u.hu(r.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),u.hu(r.every((e=>e instanceof m.es)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return r.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=(0,c.now)(),n=await this.backend.time(e);return n.wallMs=(0,c.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new b;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function v(){const e=(0,r.D)();if(null==e._tfengine){const t=new i.qA(e);e._tfengine=new y(t)}return(0,i.iG)(e._tfengine.ENV),(0,m.Vi)((()=>e._tfengine)),e._tfengine}y.nextTensorId=0,y.nextVariableId=0;const k=v();function x(e,t){const n={a:e,b:t};return k.runKernel(s.mm,n)}},22885:(e,t,n)=>{"use strict";n.d(t,{OB:()=>o,Vi:()=>l,iG:()=>c,qA:()=>r});var a=n(20569);const i="tfjsflags";class r{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=s,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(o().getBool("IS_TEST")||o().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];o().getBool("IS_TEST")||o().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,a.tI)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(i in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function s(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function o(){return l}let l=null;function c(e){l=e}},55938:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,R:()=>s});var a=n(34155);let i;function r(){if(null==i){let e;if("undefined"!=typeof window)e=window;else if(void 0!==n.g)e=n.g;else if(void 0!==a)e=a;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}i=e}return i}function s(e,t){const n=function(){const e=r();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const a=t();return n.set(e,a),n.get(e)}}},4368:(e,t,n)=>{"use strict";n.d(t,{B9:()=>g,CQ:()=>v,Cd:()=>k,Cn:()=>b,G4:()=>o,MX:()=>u,N5:()=>m,N8:()=>d,N_:()=>x,R:()=>l,SR:()=>p,VY:()=>I,XV:()=>y,cF:()=>c,cj:()=>w,jq:()=>T,lu:()=>f,sq:()=>h,x3:()=>S,y3:()=>_,ze:()=>C});var a=n(50196),i=n(22885),r=n(40974),s=n(80747);function o(){(0,i.OB)().set("PROD",!0)}function l(){(0,i.OB)().set("DEBUG",!0)}function c(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function u(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){a.BV.disposeVariables()}function p(){return a.BV}function h(){return a.BV.memory()}function m(e){return a.BV.profile(e)}function f(e,t){return a.BV.tidy(e,t)}function g(e){(0,s.getTensorsInContainer)(e).forEach((e=>e.dispose()))}function b(e){return a.BV.keep(e)}function y(e){return a.BV.time(e)}function v(e){return a.BV.setBackend(e)}function k(){return a.BV.ready()}function x(){return a.BV.backendName}function w(e){a.BV.removeBackend(e)}function S(e){return a.BV.findBackend(e)}function C(e){return a.BV.findBackendFactory(e)}function T(e,t,n=1){return a.BV.registerBackend(e,t,n)}function _(){return a.BV.backend}function I(e,t){(0,i.OB)().setPlatform(e,t)}(0,r.FZ)(u)},30633:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>o,cb:()=>p,fN:()=>u,h7:()=>c,pn:()=>d,ti:()=>l});var a=n(50196),i=n(40974),r=n(43740),s=n(20569);function o(e){return s.hu(s.mf(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const i=(0,r._1)(t,"x","tf.grad","string_or_numeric"),o=null!=n?(0,r._1)(n,"dy","tf.grad"):null;return a.BV.tidy((()=>{const{value:t,grads:n}=a.BV.gradients((()=>e(i)),[i],o);return null!=o&&s.k5(t.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(n),n[0]}))}}function l(e){return s.hu(s.mf(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{s.hu(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const i=(0,r.sI)(t,"args","tf.grads","string_or_numeric"),o=null!=n?(0,r._1)(n,"dy","tf.grads"):null;return a.BV.tidy((()=>{const{value:t,grads:n}=a.BV.gradients((()=>e(...i)),i,o);return null!=o&&s.k5(t.shape,o.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(n),n}))}}function c(e){return s.hu(s.mf(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{s.hu(t instanceof i.es,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),s.hu(null==n||n instanceof i.es,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:r,value:o}=a.BV.gradients((()=>e(t)),[t],n);return h(r),{grad:r[0],value:o}}}function u(e){return s.hu(s.mf(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{s.hu(Array.isArray(t)&&t.every((e=>e instanceof i.es)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),s.hu(null==n||n instanceof i.es,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const r=a.BV.gradients((()=>e(...t)),t,n);return null!=n&&s.k5(r.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(r.grads),r}}function d(e,t){s.hu(s.mf(e),(()=>"The f passed in variableGrads(f) must be a function")),s.hu(null==t||Array.isArray(t)&&t.every((e=>e instanceof i._w)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in a.BV.registeredVariables)t.push(a.BV.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,o=t.length;t=t.filter((e=>e.trainable)),s.hu(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${o} variables is trainable.`));const{value:l,grads:c}=a.BV.gradients(e,t,null,!0);s.hu(c.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),s.hu(0===l.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${l.rank} tensor`));const u={};return t.forEach(((e,t)=>{null!=c[t]&&(u[e.name]=c[t])})),null!=r&&r.forEach((e=>u[e.name]=null)),{value:l,grads:u}}function p(e){return a.BV.customGrad(e)}function h(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},30645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Abs:()=>tt.SY,Acos:()=>tt.VG,Acosh:()=>tt.Sp,AdadeltaOptimizer:()=>zt,AdagradOptimizer:()=>Wt,AdamOptimizer:()=>Ut,AdamaxOptimizer:()=>Kt,Add:()=>tt.mm,AddN:()=>tt.Xz,All:()=>tt.oT,Any:()=>tt.IK,ArgMax:()=>tt.sJ,ArgMin:()=>tt.aJ,Asin:()=>tt.M2,Asinh:()=>tt.qw,Atan:()=>tt.jM,Atan2:()=>tt.QC,Atanh:()=>tt.Oy,AvgPool:()=>tt.Jh,AvgPool3D:()=>tt._k,AvgPool3DGrad:()=>tt.IM,AvgPoolGrad:()=>tt.RO,BatchMatMul:()=>tt.XL,BatchToSpaceND:()=>tt.zw,Bincount:()=>tt.zv,BroadcastArgs:()=>tt.eE,BroadcastTo:()=>tt.Ly,Cast:()=>tt.RF,Ceil:()=>tt.gJ,ClipByValue:()=>tt.xn,Complex:()=>tt.Zz,ComplexAbs:()=>tt.yj,Concat:()=>tt.Eh,Conv2D:()=>tt.mh,Conv2DBackpropFilter:()=>tt.wU,Conv2DBackpropInput:()=>tt.wm,Conv3D:()=>tt.x1,Conv3DBackpropFilterV2:()=>tt.o2,Conv3DBackpropInputV2:()=>tt.ik,Cos:()=>tt.mc,Cosh:()=>tt.TR,CropAndResize:()=>tt.Vc,Cumprod:()=>tt.By,Cumsum:()=>tt.iH,DataStorage:()=>ca.JL,DenseBincount:()=>tt.QR,DepthToSpace:()=>tt.T0,DepthwiseConv2dNative:()=>tt.ci,DepthwiseConv2dNativeBackpropFilter:()=>tt.sL,DepthwiseConv2dNativeBackpropInput:()=>tt.y7,Diag:()=>tt.$w,Dilation2D:()=>tt.p4,Dilation2DBackpropFilter:()=>tt.Vn,Dilation2DBackpropInput:()=>tt.ek,ENV:()=>y.Vi,Einsum:()=>tt.$g,Elu:()=>tt.SX,EluGrad:()=>tt.HE,Environment:()=>y.qA,Equal:()=>tt.hd,Erf:()=>tt.Om,Exp:()=>tt.NE,ExpandDims:()=>tt.YF,Expm1:()=>tt.Y0,FFT:()=>tt.vw,Fill:()=>tt.de,FlipLeftRight:()=>tt.Uy,Floor:()=>tt.OR,FloorDiv:()=>tt.je,FromPixels:()=>tt.eB,FusedBatchNorm:()=>tt.sH,FusedConv2D:()=>tt._V,FusedDepthwiseConv2D:()=>tt.lu,GatherNd:()=>tt.q1,GatherV2:()=>tt.qi,Greater:()=>tt.iZ,GreaterEqual:()=>tt.Ac,IFFT:()=>tt.Qg,Identity:()=>tt.iJ,Imag:()=>tt.J_,IsFinite:()=>tt.av,IsInf:()=>tt.iW,IsNan:()=>tt.r7,KernelBackend:()=>ca.Zu,LRN:()=>tt.eZ,LRNGrad:()=>tt.Hh,LeakyRelu:()=>tt.J$,Less:()=>tt.vt,LessEqual:()=>tt.CA,LinSpace:()=>tt.e7,Log:()=>tt.Zb,Log1p:()=>tt.kU,LogSoftmax:()=>tt.qC,LogicalAnd:()=>tt.PY,LogicalNot:()=>tt.Vf,LogicalOr:()=>tt.MZ,LowerBound:()=>tt.qI,Max:()=>tt.Yo,MaxPool:()=>tt.mT,MaxPool3D:()=>tt.OA,MaxPool3DGrad:()=>tt.OU,MaxPoolGrad:()=>tt.OV,MaxPoolWithArgmax:()=>tt.vF,Maximum:()=>tt.BM,Mean:()=>tt.q2,Min:()=>tt.c1,Minimum:()=>tt.q8,MirrorPad:()=>tt.jQ,Mod:()=>tt.Vb,MomentumOptimizer:()=>Xt,Multinomial:()=>tt.NZ,Multiply:()=>tt.wY,Neg:()=>tt.ku,NonMaxSuppressionV3:()=>tt.uv,NonMaxSuppressionV4:()=>tt.cy,NonMaxSuppressionV5:()=>tt.W0,NotEqual:()=>tt.yQ,OP_SCOPE_SUFFIX:()=>en.zvA,OneHot:()=>tt.we,OnesLike:()=>tt.qW,Optimizer:()=>jt,OptimizerConstructors:()=>Zt,Pack:()=>tt.Qi,PadV2:()=>tt.ly,Pool:()=>tt.Kg,Pow:()=>tt.pe,Prelu:()=>tt.o0,Prod:()=>tt.Dl,RMSPropOptimizer:()=>Yt,Range:()=>tt.e6,Rank:()=>Qt.yw,Real:()=>tt.xJ,RealDiv:()=>tt.oH,Reciprocal:()=>tt.$H,Reduction:()=>tn.I,Relu:()=>tt.qk,Relu6:()=>tt.Sb,Reshape:()=>tt.HZ,ResizeBilinear:()=>tt._Y,ResizeBilinearGrad:()=>tt.zb,ResizeNearestNeighbor:()=>tt.dp,ResizeNearestNeighborGrad:()=>tt.Hm,Reverse:()=>tt.mK,RotateWithOffset:()=>tt.b9,Round:()=>tt.e0,Rsqrt:()=>tt.bV,SGDOptimizer:()=>Jt,ScatterNd:()=>tt.xQ,SearchSorted:()=>tt.nr,Select:()=>tt.Ph,Selu:()=>tt.oF,Sigmoid:()=>tt.a5,Sign:()=>tt.i5,Sin:()=>tt.RQ,Sinh:()=>tt.w3,Slice:()=>tt.p2,Softmax:()=>tt.Gc,Softplus:()=>tt.MR,SpaceToBatchND:()=>tt.TQ,SparseFillEmptyRows:()=>tt.O3,SparseReshape:()=>tt.nh,SparseSegmentMean:()=>tt.YW,SparseSegmentSum:()=>tt.Zj,SparseToDense:()=>tt.D2,SplitV:()=>tt.L8,Sqrt:()=>tt.FK,Square:()=>tt.bK,SquaredDifference:()=>tt._t,Step:()=>tt.h8,StridedSlice:()=>tt.m2,StringNGrams:()=>tt._J,StringSplit:()=>tt.s1,StringToHashBucketFast:()=>tt.Xk,Sub:()=>tt.Tr,Sum:()=>tt.GB,Tan:()=>tt.sE,Tanh:()=>tt.MI,Tensor:()=>_e.es,TensorBuffer:()=>_e.YD,Tile:()=>tt.n9,TopK:()=>tt.cW,Transform:()=>tt.wx,Transpose:()=>tt.G3,Unique:()=>tt.kp,Unpack:()=>tt.To,UnsortedSegmentSum:()=>tt.Qv,UpperBound:()=>tt.XD,Variable:()=>_e._w,ZerosLike:()=>tt.Ru,_FusedMatMul:()=>tt.us,abs:()=>en.WnP,acos:()=>en.Khb,acosh:()=>en.__u,add:()=>en.IHx,addN:()=>en.QBD,all:()=>en.$6P,any:()=>en.YjB,argMax:()=>en.NqF,argMin:()=>en.vHJ,asin:()=>en.ZRM,asinh:()=>en.VfV,atan:()=>en.z4N,atan2:()=>en.fvJ,atanh:()=>en.C80,avgPool:()=>en.wS1,avgPool3d:()=>en.uR5,backend:()=>Et.y3,backend_util:()=>d,basicLSTMCell:()=>en.zEQ,batchNorm:()=>en.tgs,batchNorm2d:()=>en.Dxk,batchNorm3d:()=>en.JY5,batchNorm4d:()=>en.p3b,batchToSpaceND:()=>en.E4h,bincount:()=>en.yE8,booleanMaskAsync:()=>en.anm,broadcastArgs:()=>en.XsQ,broadcastTo:()=>en.UFq,broadcast_util:()=>et,browser:()=>s,buffer:()=>en.f3b,cast:()=>en.pju,ceil:()=>en.mDi,clipByValue:()=>en.iUl,clone:()=>en.d9v,complex:()=>en.PYB,concat:()=>en.zoF,concat1d:()=>en.gME,concat2d:()=>en.Izb,concat3d:()=>en.MNy,concat4d:()=>en.ZaL,conv1d:()=>en.PAt,conv2d:()=>en.Tek,conv2dTranspose:()=>en.bc,conv3d:()=>en.pdZ,conv3dTranspose:()=>en.$QV,copyRegisteredKernels:()=>nt.T3,cos:()=>en.mCk,cosh:()=>en.f9Y,cosineWindow:()=>en.mew,cumprod:()=>en.$Gn,cumsum:()=>en.zbp,customGrad:()=>Ft.cb,denseBincount:()=>en.ppE,deprecationWarn:()=>Et.MX,depthToSpace:()=>en.nTT,depthwiseConv2d:()=>en.B10,device_util:()=>a,diag:()=>en.Ka3,dilation2d:()=>en.WmZ,disableDeprecationWarnings:()=>Et.cF,dispose:()=>Et.B9,disposeVariables:()=>Et.N8,div:()=>en.hiC,divNoNan:()=>en.NTj,dot:()=>en.AKD,dropout:()=>en.rvX,einsum:()=>en.WYO,elu:()=>en.pyx,enableDebugMode:()=>Et.R,enableProdMode:()=>Et.G4,enclosingPowerOfTwo:()=>en.GRh,engine:()=>Et.SR,env:()=>y.OB,equal:()=>en.DgJ,erf:()=>en.qNN,euclideanNorm:()=>en.d2q,exp:()=>en.Qqt,expandDims:()=>en.dt4,expm1:()=>en.t$B,eye:()=>en.iyy,fft:()=>en.kp_,fill:()=>en.hlL,findBackend:()=>Et.x3,findBackendFactory:()=>Et.ze,floor:()=>en.GWj,floorDiv:()=>en.qPi,fused:()=>en.imm,gather:()=>en.Iqj,gatherND:()=>en.dbB,gather_util:()=>o,getBackend:()=>Et.N_,getGradient:()=>nt.uk,getKernel:()=>nt.pI,getKernelsForBackend:()=>nt.tr,grad:()=>Ft.UQ,grads:()=>Ft.ti,greater:()=>en.pjt,greaterEqual:()=>en.brS,ifft:()=>en.Sxn,imag:()=>en.asL,image:()=>en.BHj,inTopKAsync:()=>en.V3u,io:()=>i,irfft:()=>en.wx0,isFinite:()=>en.xVT,isInf:()=>en.UWc,isNaN:()=>en.i2d,keep:()=>Et.Cn,kernel_impls:()=>p,leakyRelu:()=>en.hi7,less:()=>en.d9m,lessEqual:()=>en.zN1,linalg:()=>en.$r2,linspace:()=>en.SX3,localResponseNormalization:()=>en.G9k,log:()=>en.cM7,log1p:()=>en.Krr,logSigmoid:()=>en.e_t,logSoftmax:()=>en.CmS,logSumExp:()=>en.l_t,logicalAnd:()=>en.HvI,logicalNot:()=>en.hJK,logicalOr:()=>en.K5V,logicalXor:()=>en.egP,losses:()=>en.MB5,lowerBound:()=>en.eab,matMul:()=>en.OI3,math:()=>r,max:()=>en.Fp7,maxPool:()=>en._sB,maxPool3d:()=>en.YQQ,maxPoolWithArgmax:()=>en.Ip$,maximum:()=>en.gWQ,mean:()=>en.J69,memory:()=>Et.sq,meshgrid:()=>en.ry_,min:()=>en.VV$,minimum:()=>en.LTh,mirrorPad:()=>en.VdP,mod:()=>en.wQq,moments:()=>en.Gi7,movingAverage:()=>en.p_,mul:()=>en.dC7,multiRNNCell:()=>en.rq4,multinomial:()=>en.SJ_,neg:()=>en.W76,nextFrame:()=>rn,norm:()=>en.KOy,notEqual:()=>en.Quu,oneHot:()=>en.lfX,ones:()=>en.iUs,onesLike:()=>en.JpU,op:()=>en.op,outerProduct:()=>en.N2O,pad:()=>en.vku,pad1d:()=>en.pNR,pad2d:()=>en.koy,pad3d:()=>en.t1L,pad4d:()=>en.lGY,pool:()=>en.d_R,pow:()=>en.sQ3,prelu:()=>en.AL3,print:()=>en.S0v,prod:()=>en.WVs,profile:()=>Et.N5,rand:()=>en.TN_,randomGamma:()=>en.wzB,randomNormal:()=>en.nGf,randomUniform:()=>en.LGj,range:()=>en.w6H,ready:()=>Et.Cd,real:()=>en.kwC,reciprocal:()=>en.M25,registerBackend:()=>Et.jq,registerGradient:()=>nt.Li,registerKernel:()=>nt.wC,relu:()=>en.UYe,relu6:()=>en.btT,removeBackend:()=>Et.cj,reshape:()=>en.XLQ,reverse:()=>en.GYS,reverse1d:()=>en.SDf,reverse2d:()=>en.diP,reverse3d:()=>en.sx7,reverse4d:()=>en.mG2,rfft:()=>en.QEs,round:()=>en.NMM,rsqrt:()=>en.bp0,scalar:()=>en.iD$,scatterND:()=>en.snQ,scatter_util:()=>dt,searchSorted:()=>en.zcT,selu:()=>en.U8D,separableConv2d:()=>en.U_I,serialization:()=>l,setBackend:()=>Et.CQ,setPlatform:()=>Et.VY,setdiff1dAsync:()=>en.ODp,sigmoid:()=>en.XD2,sign:()=>en.Xxe,signal:()=>en.tdS,sin:()=>en.O$l,sinh:()=>en.R_K,slice:()=>en.tPi,slice1d:()=>en.jZU,slice2d:()=>en.SmN,slice3d:()=>en.CnO,slice4d:()=>en.p0P,slice_util:()=>pt,softmax:()=>en.XAC,softplus:()=>en.Wvh,spaceToBatchND:()=>en.fBT,sparse:()=>en.rVs,sparseToDense:()=>en.ers,spectral:()=>en.uN7,split:()=>en.Vl2,sqrt:()=>en._b3,square:()=>en.h62,squaredDifference:()=>en.$i,squeeze:()=>en.L9e,stack:()=>en.knu,step:()=>en.Nbs,stridedSlice:()=>en.NXj,string:()=>en.Z_8,sub:()=>en.luU,sum:()=>en.Smz,sumOutType:()=>Qt.z4,tan:()=>en.ORZ,tanh:()=>en.AEp,tensor:()=>en.XeE,tensor1d:()=>en.RRF,tensor2d:()=>en.odF,tensor3d:()=>en.wOQ,tensor4d:()=>en.yXz,tensor5d:()=>en.Bfx,tensor6d:()=>en.xZs,tensor_util:()=>gt,test_util:()=>c,tidy:()=>Et.lu,tile:()=>en.Gg6,time:()=>Et.XV,topk:()=>en.hg7,train:()=>nn,transpose:()=>en.p4s,truncatedNormal:()=>en.Xu6,unique:()=>en.Two,unregisterGradient:()=>nt.bt,unregisterKernel:()=>nt.nE,unsortedSegmentSum:()=>en.pUJ,unstack:()=>en.HHK,upcastType:()=>Qt.x8,upperBound:()=>en.GaM,util:()=>bt,valueAndGrad:()=>Ft.h7,valueAndGrads:()=>Ft.fN,variable:()=>en.VD$,variableGrads:()=>Ft.pn,version_core:()=>Nt,where:()=>en.arb,whereAsync:()=>en.itS,zeros:()=>en.lls,zerosLike:()=>en.P84});var a={};n.r(a),n.d(a,{isBrowser:()=>b,isMobile:()=>g,mockIsMobile:()=>f});var i={};n.r(i),n.d(i,{browserFiles:()=>Re,browserHTTPRequest:()=>ze,concatenateArrayBuffers:()=>R,copyModel:()=>fe,decodeWeights:()=>I,encodeWeights:()=>_,fromMemory:()=>Ve,fromMemorySync:()=>Ue,getLoadHandlers:()=>P,getModelArtifactsForJSON:()=>$,getModelArtifactsInfoForJSON:()=>B,getSaveHandlers:()=>z,http:()=>je,isHTTPScheme:()=>Fe,listModels:()=>he,loadWeights:()=>$e,moveModel:()=>ge,registerLoadRouter:()=>j,registerSaveRouter:()=>O,removeModel:()=>me,weightsLoaderFactory:()=>Be,withSaveHandler:()=>He,withSaveHandlerSync:()=>qe});var r={};n.r(r),n.d(r,{confusionMatrix:()=>Qe});var s={};n.r(s),n.d(s,{fromPixels:()=>ct,fromPixelsAsync:()=>ot,toPixels:()=>lt});var o={};n.r(o),n.d(o,{prepareAndValidate:()=>ut});var l={};n.r(l),n.d(l,{Serializable:()=>ht,SerializationMap:()=>mt,registerClass:()=>ft});var c={};n.r(c),n.d(c,{TEST_EPSILON_FLOAT16:()=>yt,encodeStrings:()=>At,expectArrayBuffersEqual:()=>It,expectArraysClose:()=>vt,expectArraysEqual:()=>St,expectNumbersClose:()=>Ct,expectPromiseToFail:()=>wt,expectValuesInRange:()=>_t,testEpsilon:()=>kt});var u={};n.r(u),n.d(u,{collectGatherOpShapeInfo:()=>ia,computeOutShape:()=>aa,segOpComputeOptimalWindowSize:()=>na});var d={};n.r(d),n.d(d,{ERF_A1:()=>xn,ERF_A2:()=>wn,ERF_A3:()=>Sn,ERF_A4:()=>Cn,ERF_A5:()=>Tn,ERF_P:()=>kn,PARALLELIZE_THRESHOLD:()=>dn,SELU_SCALE:()=>vn.$,SELU_SCALEALPHA:()=>vn.y,applyActivation:()=>un.QH,assertAndGetBroadcastShape:()=>et.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>sn.lB,assertParamsConsistent:()=>on,assignToTypedArray:()=>Mn,axesAreInnerMostDims:()=>sn.YB,calculateShapes:()=>dt.calculateShapes,checkEinsumDimSizes:()=>jn,checkPadOnDimRoundingMode:()=>cn.m,combineLocations:()=>sn.Vh,complexWithEvenIndex:()=>Nn,complexWithOddIndex:()=>En,computeConv2DInfo:()=>cn.Ix,computeConv3DInfo:()=>cn.jw,computeDefaultPad:()=>cn.aO,computeDilation2DInfo:()=>cn.Rf,computeOptimalWindowSize:()=>pn,computeOutAndReduceShapes:()=>sn.kz,computeOutShape:()=>ln,computePool2DInfo:()=>cn.Xw,computePool3DInfo:()=>cn.pl,convertConv2DDataFormat:()=>cn.sl,decodeEinsumEquation:()=>Fn,eitherStridesOrDilationsAreOne:()=>cn.jT,expandShapeToKeepDim:()=>sn.rv,exponent:()=>$n,exponents:()=>Dn,fromStringArrayToUint8:()=>sa,fromUint8ToStringArray:()=>ra,getAxesPermutation:()=>sn.Q3,getBroadcastDims:()=>et.getBroadcastDims,getComplexWithIndex:()=>Rn,getEinsumComputePath:()=>zn,getEinsumPermutation:()=>On,getFusedBiasGradient:()=>un.pf,getFusedDyActivation:()=>un.Fr,getImageCenter:()=>hn,getInnerMostAxes:()=>sn.sY,getPermuted:()=>fn,getReductionAxes:()=>et.getReductionAxes,getReshaped:()=>mn,getReshapedPermuted:()=>gn,getSliceBeginCoords:()=>bn,getSliceSize:()=>yn,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Vn,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Un,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Hn,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>Jn,getSparseReshapeInputOutputMismatchErrorMessage:()=>Yn,getSparseReshapeInputOutputMultipleErrorMessage:()=>Xn,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>qn,getSparseReshapeNegativeOutputDimErrorMessage:()=>Kn,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>ta,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Zn,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Qn,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>ea,getUndoAxesPermutation:()=>sn.LJ,isIdentityPermutation:()=>Pn,log:()=>_n.c,mergeRealAndImagArrays:()=>In,prepareAndValidate:()=>ut,prepareSplitSize:()=>Gn,segment_util:()=>u,shouldFuse:()=>un.uy,slice_util:()=>pt,splitRealAndImagArrays:()=>An,tupleValuesAreOne:()=>cn.I0,upcastType:()=>Qt.x8,validateInput:()=>dt.validateInput,validateUpdateShape:()=>dt.validateUpdateShape,warn:()=>_n.Z});var p={};n.r(p),n.d(p,{nonMaxSuppressionV3Impl:()=>oa.GP,nonMaxSuppressionV4Impl:()=>oa.qP,nonMaxSuppressionV5Impl:()=>oa.pA,whereImpl:()=>la.Z});var h=n(50196);let m;function f(e){m=e}function g(e){if(void 0!==m)return m;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function b(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var y=n(22885),v=n(34155);const k=(0,y.OB)();k.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),k.registerFlag("IS_BROWSER",(()=>b())),k.registerFlag("IS_NODE",(()=>void 0!==v&&void 0!==v.versions&&void 0!==v.versions.node)),k.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),k.registerFlag("PROD",(()=>!1)),k.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>k.getBool("DEBUG"))),k.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),k.registerFlag("IS_TEST",(()=>!1)),k.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),k.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),k.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));var x=n(61661),w=n(10701),S=n(20569);const C={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};var T=n(48764).Buffer;async function _(e,t){const n=[],a=[],i=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let r=0;r<i.length;++r){const s=i[r],o=Array.isArray(e)?e[r].tensor:e[s];if("float32"!==o.dtype&&"int32"!==o.dtype&&"bool"!==o.dtype&&"string"!==o.dtype&&"complex64"!==o.dtype)throw new Error(`Unsupported dtype in weight '${s}': ${o.dtype}`);const l={name:s,shape:o.shape,dtype:o.dtype};if("string"===o.dtype){const e=new Promise((async e=>{const t=await o.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,a=new Uint8Array(n);let i=0;for(let e=0;e<t.length;e++){const n=t[e],r=new Uint8Array(new Uint32Array([n.length]).buffer);a.set(r,i),i+=4,a.set(n,i),i+=n.length}e(a)}));a.push(e)}else a.push(o.data());null!=t&&(l.group=t),n.push(l)}return{data:A(await Promise.all(a)),specs:n}}function I(e,t){const n={};let a,i=0;for(const r of t){const t=r.name,s=r.dtype,o=r.shape,l=(0,S.NA)(o);let c;if("quantization"in r){const n=r.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${r.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${r.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==s)throw new Error(`Weight ${r.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${s}.`)}const o=C[n.dtype],u=e.slice(i,i+l*o),d="uint8"===n.dtype?new Uint8Array(u):new Uint16Array(u);if("float32"===s)if("uint8"===n.dtype||"uint16"===n.dtype){c=new Float32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];c[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===a&&(a=L()),c=a(d)}else{if("int32"!==s)throw new Error(`Unsupported dtype in weight '${t}': ${s}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);c=new Int32Array(d.length);for(let e=0;e<d.length;e++){const t=d[e];c[e]=Math.round(t*n.scale+n.min)}}i+=l*o}else if("string"===s){const t=(0,S.NA)(r.shape);c=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(i,i+4))[0];i+=4;const n=new Uint8Array(e.slice(i,i+t));c.push(n),i+=t}}else{const a=C[s],r=e.slice(i,i+l*a);if("float32"===s)c=new Float32Array(r);else if("int32"===s)c=new Int32Array(r);else if("bool"===s)c=new Uint8Array(r);else{if("complex64"!==s)throw new Error(`Unsupported dtype in weight '${t}': ${s}`);{c=new Float32Array(r);const e=new Float32Array(c.length/2),a=new Float32Array(c.length/2);for(let t=0;t<e.length;t++)e[t]=c[2*t],a[t]=c[2*t+1];const i=(0,w.X)(e,o,"float32"),s=(0,w.X)(a,o,"float32");n[t]=(0,x.P)(i,s),i.dispose(),s.dispose()}}i+=l*a}"complex64"!==s&&(n[t]=(0,w.X)(c,o,s))}return n}function A(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const a=new Uint8Array(t);let i=0;return n.forEach((e=>{a.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),a.buffer}const N=void 0!==T&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function E(e){return N?T.byteLength(e):new Blob([e]).size}function R(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let a=0;return e.forEach((e=>{n.set(new Uint8Array(e),a),a+=e.byteLength})),n.buffer}function M(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function D(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function $(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[a,i]=await t(e.weightsManifest);n.weightSpecs=a,n.weightData=i}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function B(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:E(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:E(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function L(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0==(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let e=1024;e<2048;e++)t[e]=939524096+(e-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return a=>{const i=new ArrayBuffer(4*a.length),r=new Uint32Array(i);for(let i=0;i<a.length;i++){const s=a[i],o=e[n[s>>10]+(1023&s)]+t[s>>10];r[i]=o}return new Float32Array(i)}}class F{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==F.instance&&(F.instance=new F),F.instance}static registerSaveRouter(e){F.getInstance().saveRouters.push(e)}static registerLoadRouter(e){F.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return F.getHandlers(e,"save")}static getLoadHandlers(e,t){return F.getHandlers(e,"load",t)}static getHandlers(e,t,n){const a=[];return("load"===t?F.getInstance().loadRouters:F.getInstance().saveRouters).forEach((t=>{const i=t(e,n);null!==i&&a.push(i)})),a}}const O=e=>F.registerSaveRouter(e),j=e=>F.registerLoadRouter(e),z=e=>F.getSaveHandlers(e),P=(e,t)=>F.getLoadHandlers(e,t),W="tensorflowjs",G="models_store",V="model_info_store";function U(){if(!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function H(e){const t=e.result;t.createObjectStore(G,{keyPath:"modelPath"}),t.createObjectStore(V,{keyPath:"modelPath"})}class q{constructor(e){if(this.indexedDB=U(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const a=this.indexedDB.open(W,1);a.onupgradeneeded=()=>H(a),a.onsuccess=()=>{const i=a.result;if(null==t){const t=i.transaction(G,"readonly"),a=t.objectStore(G).get(this.modelPath);a.onsuccess=()=>{if(null==a.result)return i.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(a.result.modelArtifacts)},a.onerror=e=>(i.close(),n(a.error)),t.oncomplete=()=>i.close()}else{const a=B(t),r=i.transaction(V,"readwrite");let s=r.objectStore(V);const o=s.put({modelPath:this.modelPath,modelArtifactsInfo:a});let l;o.onsuccess=()=>{l=i.transaction(G,"readwrite");const o=l.objectStore(G).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a});o.onsuccess=()=>e({modelArtifactsInfo:a}),o.onerror=e=>{s=r.objectStore(V);const t=s.delete(this.modelPath);t.onsuccess=()=>(i.close(),n(o.error)),t.onerror=e=>(i.close(),n(o.error))}},o.onerror=e=>(i.close(),n(o.error)),r.oncomplete=()=>{null==l?i.close():l.oncomplete=()=>i.close()}}},a.onerror=e=>n(a.error)}))}}q.URL_SCHEME="indexeddb://";const K=e=>{return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(q.URL_SCHEME)?(t=e.slice(q.URL_SCHEME.length),new q(t)):null;var t};F.registerSaveRouter(K),F.registerLoadRouter(K);class J{constructor(){this.indexedDB=U()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(W,1);n.onupgradeneeded=()=>H(n),n.onsuccess=()=>{const a=n.result,i=a.transaction(V,"readonly"),r=i.objectStore(V).getAll();r.onsuccess=()=>{const t={};for(const e of r.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},r.onerror=e=>(a.close(),t(r.error)),i.oncomplete=()=>a.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(q.URL_SCHEME)?t.slice(q.URL_SCHEME.length):t,new Promise(((t,n)=>{const a=this.indexedDB.open(W,1);a.onupgradeneeded=()=>H(a),a.onsuccess=()=>{const i=a.result,r=i.transaction(V,"readwrite"),s=r.objectStore(V),o=s.get(e);let l;o.onsuccess=()=>{if(null==o.result)return i.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const a=s.delete(e),r=()=>{l=i.transaction(G,"readwrite");const a=l.objectStore(G).delete(e);a.onsuccess=()=>t(o.result.modelArtifactsInfo),a.onerror=e=>n(o.error)};a.onsuccess=r,a.onerror=e=>(r(),i.close(),n(o.error))}},o.onerror=e=>(i.close(),n(o.error)),r.oncomplete=()=>{null==l?i.close():l.oncomplete=()=>i.close()}},a.onerror=e=>n(a.error)}))}}const X="/",Y="tensorflowjs_models",Z="info",Q="model_topology",ee="weight_specs",te="weight_data",ne="model_metadata";function ae(e){return{info:[Y,e,Z].join(X),topology:[Y,e,Q].join(X),weightSpecs:[Y,e,ee].join(X),weightData:[Y,e,te].join(X),modelMetadata:[Y,e,ne].join(X)}}function ie(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function re(e){const t=e.split(X);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(X)}class se{constructor(e){if(!(0,y.OB)().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=ae(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),a=B(e);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(N)return T.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,a=t.length;e<a;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(e.weightData));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:a}}catch(e){throw ie(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==a)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=a;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const e=JSON.parse(i);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const r=this.LS.getItem(this.keys.weightData);if(null==r)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(N){const t=T.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(r),t}}se.URL_SCHEME="localstorage://";const oe=e=>{return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(se.URL_SCHEME)?(t=e.slice(se.URL_SCHEME.length),new se(t)):null;var t};F.registerSaveRouter(oe),F.registerLoadRouter(oe);class le{constructor(){(0,S.hu)((0,y.OB)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,S.hu)("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=Y+X,n=X+Z;for(let a=0;a<this.LS.length;++a){const i=this.LS.key(a);if(i.startsWith(t)&&i.endsWith(n)){e[re(i)]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){var t;const n=ae(e=(t=e).startsWith(se.URL_SCHEME)?t.slice(se.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const a=JSON.parse(this.LS.getItem(n.info));return ie(n),a}}const ce="://";class ue{constructor(){this.managers={}}static getInstance(){return null==ue.instance&&(ue.instance=new ue),ue.instance}static registerManager(e,t){(0,S.hu)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(ce)&&(e=e.slice(0,e.indexOf(ce))),(0,S.hu)(e.length>0,(()=>"scheme must not be an empty string."));const n=ue.getInstance();(0,S.hu)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function de(e){if(-1===e.indexOf(ce))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${ue.getSchemes().join(",")}`);return{scheme:e.split(ce)[0],path:e.split(ce)[1]}}async function pe(e,t,n=!1){(0,S.hu)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const a=F.getLoadHandlers(e);(0,S.hu)(a.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,S.hu)(a.length<2,(()=>`Copying failed because more than one (${a.length}) load handlers for source URL ${e}.`));const i=a[0],r=F.getSaveHandlers(t);(0,S.hu)(r.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,S.hu)(r.length<2,(()=>`Copying failed because more than one (${a.length}) save handlers for destination URL ${t}.`));const s=r[0],o=de(e).scheme,l=de(e).path,c=o===de(e).scheme,u=await i.load();n&&c&&await ue.getManager(o).removeModel(l);const d=await s.save(u);return n&&!c&&await ue.getManager(o).removeModel(l),d.modelArtifactsInfo}async function he(){const e=ue.getSchemes(),t={};for(const n of e){const e=await ue.getManager(n).listModels();for(const a in e){t[n+ce+a]=e[a]}}return t}async function me(e){const t=de(e);return ue.getManager(t.scheme).removeModel(t.path)}async function fe(e,t){return pe(e,t,!1)}async function ge(e,t){return pe(e,t,!0)}class be{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if((0,y.OB)().get("IS_BROWSER")){(0,y.OB)().setPlatform("browser",new be);try{ue.registerManager(se.URL_SCHEME,new le)}catch(e){}try{ue.registerManager(q.URL_SCHEME,new J)}catch(e){}}var ye=n(34155);const ve=()=>n(75410);let ke;class xe{constructor(){this.util=n(48628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=(0,y.OB)().global.fetch?(0,y.OB)().global.fetch(e,t):(null==ke&&(ke=ve()),ke(e,t))}now(){const e=ye.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}(0,y.OB)().get("IS_NODE")&&!(0,y.OB)().get("IS_BROWSER")&&(0,y.OB)().setPlatform("node",new xe);var we=n(72657),Se=n(62271),Ce=n(8723),Te=n(29798),_e=n(40974);(0,h.wv)();const Ie={buffer:we.f,cast:Se.p,clone:Ce.d,print:Te.S};(0,_e.Vp)(Ie);function Ae(e){return new Promise((e=>setTimeout(e))).then(e)}class Ne{constructor(e){if(!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Ne.URL_SCHEME)&&(e=e.slice(Ne.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=D(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),a=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=a,await Ae((()=>i.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await Ae((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:B(e)}}}}Ne.URL_SCHEME="downloads://";class Ee{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const a=JSON.parse(n.target.result),i=a.modelTopology;if(null==i)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==a.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:i});const r=$(a,(e=>this.loadWeights(e)));e(r)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const a of e)t.push(...a.weights),n.push(...a.paths);const a=this.checkManifestAndWeightFiles(e),i=n.map((e=>this.loadWeightsFile(e,a[e])));return Promise.all(i).then((e=>[t,R(e)]))}loadWeightsFile(e,t){return new Promise(((n,a)=>{const i=new FileReader;i.onload=e=>{const t=e.target.result;n(t)},i.onerror=t=>a(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>M(e.name))),a={};for(const i of e)i.paths.forEach((e=>{const i=M(e);if(-1!==t.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(t.push(i),-1===n.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);a[e]=this.weightsFiles[n.indexOf(i)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}function Re(e){return new Ee(e)}function Me(e,t,n,a){!function(e){(0,S.hu)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,S.hu)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,S.hu)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,S.hu)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,a=null==a?1:a);let i=0;return Promise.all(e.map((r=>(r.then((r=>{const s=n+ ++i/e.length*(a-n);return t(s),r})),r))))}async function De(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,y.OB)().platform.fetch:t.fetchFunc,a=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),i=(null==t.onProgress?await Promise.all(a):await Me(a,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(i):await Me(i,t.onProgress,.5,1)}async function $e(e,t="",n,a){return Be((e=>De(e,{requestInit:a})))(e,t,n)}function Be(e){return async(t,n="",a)=>{const i=t.map((()=>!1)),r={},s=null!=a?a.map((()=>!1)):[],o=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=C[l]*S.NA(e.shape),u=()=>{i[t]=!0,null==r[t]&&(r[t]=[]),r[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach(((t,n)=>{t===e.name&&(u(),s[n]=!0)})):u(),o.push(e.name),n+=c}))})),!s.every((e=>e))){const e=a.filter(((e,t)=>!s[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${o.join(", ")}.`)}const l=i.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length;let a=0;for(let e=0;e<n;e++)a+=u[p+e].byteLength;const i=new ArrayBuffer(a),s=new Uint8Array(i);let o=0;for(let e=0;e<n;e++){const t=new Uint8Array(u[p+e]);s.set(t,o),o+=t.byteLength}r[e].forEach((e=>{const t=I(i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const e in t)d[e]=t[e]})),p+=n})),d}}F.registerSaveRouter((e=>(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Ne.URL_SCHEME)?function(e="model"){return new Ne(e)}(e.slice(Ne.URL_SCHEME.length)):null));class Le{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,S.hu)("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,y.OB)().platform.fetch,(0,S.hu)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,S.hu)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=D(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const a=await this.fetch(this.path,t);if(a.ok)return{modelArtifactsInfo:B(e),responses:[a]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${a.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,a=t.weightsManifest;if(null==n&&null==a)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return $(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),a=e.substring(0,t),i=n>t?e.substring(n):"";return[a+"/",i]}(t),i=this.weightPathPrefix||n,r=[];for(const t of e)r.push(...t.weights);const s=[],o=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?o.push(this.weightUrlConverter(e)):s.push(i+e+a);this.weightUrlConverter&&s.push(...await Promise.all(o));return[r,R(await De(s,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}}function Fe(e){return null!=e.match(Le.URL_SCHEME_REGEX)}Le.URL_SCHEME_REGEX=/^https?:\/\//;const Oe=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>Fe(e))):Fe(e),n)return je(e,t)}return null};function je(e,t){return new Le(e,t)}function ze(e,t){return je(e,t)}F.registerSaveRouter(Oe),F.registerLoadRouter(Oe);class Pe{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class We{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class Ge{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function Ve(e,t,n,a){const i=arguments;return new Ge(Ue(...i))}function Ue(e,t,n,a){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new Pe(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Pe({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Pe({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:a})}function He(e){return new We(e)}function qe(e){return new We(e)}var Ke=n(43740),Je=n(28687),Xe=n(76708),Ye=n(2668),Ze=n(89065);const Qe=(0,Ye.op)({confusionMatrix_:function(e,t,n){const a=(0,Ke._1)(e,"labels","confusionMatrix"),i=(0,Ke._1)(t,"predictions","confusionMatrix");S.hu(null==n||n>0&&Number.isInteger(n),(()=>`If provided, numClasses must be a positive integer, but got ${n}`)),S.hu(1===a.rank,(()=>`Expected the rank of labels to be 1, but got ${a.rank}`)),S.hu(1===i.rank,(()=>`Expected the rank of predictions to be 1, but got ${i.rank}`)),S.hu(a.shape[0]===i.shape[0],(()=>`Mismatch in the number of examples: ${a.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`)),S.hu(n>0&&Number.isInteger(n),(()=>`numClasses is required to be a positive integer, but got ${n}`));const r=(0,Xe.l)((0,Se.p)(a,"int32"),n),s=(0,Xe.l)((0,Se.p)(i,"int32"),n),o=(0,Ze.p)(r),l=(0,Je.O)(o,s);return(0,Se.p)(l,"int32")}});var et=n(72200),tt=n(29121),nt=n(26151),at=n(99906);let it;function rt(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,a=!1,i=!1,r=!1,s=!1,o=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)a=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)r=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);o=!0}if(i){const t=2;if(i&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,nt.pI)(tt.eB,h.BV.backendName)){const n={pixels:e},a={numChannels:t};return h.BV.runKernel(tt.eB,n,a)}const[l,c]=i?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,d;if(s)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(a||n)u=e.data;else if(r||i||o){if(null==it)if("undefined"==typeof document){if("undefined"==typeof OffscreenCanvas||"undefined"==typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");it=new OffscreenCanvas(1,1).getContext("2d")}else it=document.createElement("canvas").getContext("2d");it.canvas.width=l,it.canvas.height=c,it.drawImage(e,0,0,l,c),u=it.getImageData(0,0,l,c).data}if(4===t)d=new Int32Array(u);else{const e=l*c;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=u[4*n+e]}const p=[c,l,t];return(0,at.w)(d,p,"int32")}function st(e){return"undefined"!=typeof window&&"undefined"!=typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function ot(e,t=3){let n=null;if((0,y.OB)().getBool("WRAP_TO_IMAGEBITMAP")&&st(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(e){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return rt(n,t)}async function lt(e,t){let n=(0,Ke._1)(e,"img","toPixels");if(!(e instanceof _e.es)){const e=n;n=(0,Se.p)(e,"int32"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[a,i]=n.shape.slice(0,2),r=2===n.rank?1:n.shape[2];if(r>4||2===r)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${r}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const s=await n.data(),o="float32"===n.dtype?255:1,l=new Uint8ClampedArray(i*a*4);for(let e=0;e<a*i;++e){const t=[0,0,0,255];for(let a=0;a<r;a++){const i=s[e*r+a];if("float32"===n.dtype){if(i<0||i>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${i}.`)}else if("int32"===n.dtype&&(i<0||i>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${i}.`);1===r?(t[0]=i*o,t[1]=i*o,t[2]=i*o):t[a]=i*o}const a=4*e;l[a+0]=Math.round(t[0]),l[a+1]=Math.round(t[1]),l[a+2]=Math.round(t[2]),l[a+3]=Math.round(t[3])}if(null!=t){t.width=i,t.height=a;const e=t.getContext("2d"),n=new ImageData(l,i,a);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const ct=(0,Ye.op)({fromPixels_:rt});function ut(e,t){const n=e.shape.length,a=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(a<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${a}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[a-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[a-1]} vs. ${n}`);if(0===(0,S.NA)(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const i=t.shape,r=i[i.length-1];let s=1;for(let e=0;e<i.length-1;++e)s*=i[e];const o=e.shape,l=i.slice();l.pop();let c=1;for(let e=r;e<n;++e)c*=o[e],l.push(o[e]);const u=[...(0,S.e3)(e.shape).map((e=>e/c)),1].slice(0,r);return[l,s,c,u]}var dt=n(33028),pt=n(37650);class ht{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class mt{constructor(){this.classNameMap={}}static getMap(){return null==mt.instance&&(mt.instance=new mt),mt.instance}static register(e){mt.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function ft(e){(0,S.hu)(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),(0,S.hu)("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),(0,S.hu)(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),mt.register(e)}var gt=n(80747),bt=n(23418);const yt=.1;function vt(e,t,n){return null==n&&(n=kt()),xt(e,t,((e,t)=>Tt(e,t,n)))}function kt(){return 32===h.BV.backend.floatPrecision()?.001:yt}function xt(e,t,n){let a=!0;if(((0,S.fU)(e)||(0,S.fU)(t))&&(a=!1),(0,S.fU)(e)&&(0,S.fU)(t)&&(a=!0),a){const n=e.constructor.name,a=t.constructor.name;if(n!==a)throw new Error(`Arrays are of different type. Actual: ${n}. Expected: ${a}`)}if(Array.isArray(e)&&Array.isArray(t)){const n=(0,Ke.C)(e),a=(0,Ke.C)(t);if(!(0,S.cO)(n,a))throw new Error(`Arrays have different shapes. Actual: [${n}]. Expected: [${a}]`)}const i=(0,S.fU)(e)?e:(0,S.xH)(e),r=(0,S.fU)(t)?t:(0,S.xH)(t);if(i.length!==r.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${r.length}.\nActual:   ${i}.\nExpected: ${r}.`);for(let e=0;e<r.length;++e){const t=i[e],a=r[e];if(!n(t,a))throw new Error(`Arrays differ: actual[${e}] = ${t}, expected[${e}] = ${a}.\nActual:   ${i}.\nExpected: ${r}.`)}}function wt(e,t){e().then((()=>t.fail()),(()=>t()))}function St(e,t){const n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return(0,S.HD)(e)||(0,S.HD)(e[0])||(0,S.HD)(t)||(0,S.HD)(t[0])?xt(e,n,((e,t)=>e==t)):xt(e,t,((e,t)=>Tt(e,t,0)))}function Ct(e,t,n){if(null==n&&(n=kt()),!Tt(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`)}function Tt(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function _t(e,t,n){for(let a=0;a<e.length;a++)if(e[a]<t||e[a]>n)throw new Error(`Value out of range:${e[a]} low: ${t}, high: ${n}`)}function It(e,t){const n=new Float32Array(e),a=new Float32Array(t);if(n.length!==a.length)throw new Error(`Expected ArrayBuffer to be of length ${a.length}, but it was ${n.length}`);for(let e=0;e<a.length;e++)if(n[e]!==a[e])throw new Error(`Expected ArrayBuffer value at ${e} to be ${a[e]} but got ${n[e]} instead`)}function At(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?At(n):e[t]=(0,bt.encodeString)(n)}return e}const Nt="3.18.0";var Et=n(4368),Rt=n(56407),Mt=n(41274),Dt=n(24841),$t=n(13261),Bt=n(50248),Lt=n(6577),Ft=n(30633),Ot=n(99494);class jt extends ht{minimize(e,t=!1,n){const{value:a,grads:i}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:i[e.name]})));this.applyGradients(e)}else this.applyGradients(i);return(0,Et.B9)(i),t?a:(a.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return(0,Ft.pn)(e,t)}dispose(){null!=this.iterations_&&(0,Et.B9)(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:(0,Ot.i)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(jt,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class zt extends jt{constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=h.BV.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:(0,Et.lu)((()=>(0,Lt.P)(a).variable(false)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:(0,Et.lu)((()=>(0,Lt.P)(a).variable(false)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const r=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;(0,Et.lu)((()=>{const e=(0,Rt.I)((0,Dt.d)(r,this.rho),(0,Dt.d)((0,Bt.h)(i),1-this.rho)),t=(0,Dt.d)((0,Mt.h)((0,$t._)((0,Rt.I)(s,this.epsilon)),(0,$t._)((0,Rt.I)(r,this.epsilon))),i),n=(0,Rt.I)((0,Dt.d)(s,this.rho),(0,Dt.d)((0,Bt.h)(t),1-this.rho));r.assign(e),s.assign(n);const o=(0,Rt.I)((0,Dt.d)(t,-this.learningRate),a);a.assign(o)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&((0,Et.B9)(this.accumulatedGrads.map((e=>e.variable))),(0,Et.B9)(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}zt.className="Adadelta",ft(zt);var Pt=n(14006);class Wt extends jt{constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:(0,Et.lu)((()=>(0,Pt.h)(a.shape,this.initialAccumulatorValue).variable(e)))}}const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const r=this.accumulatedGrads[n].variable;(0,Et.lu)((()=>{const e=(0,Rt.I)(r,(0,Bt.h)(i));r.assign(e);const t=(0,Rt.I)((0,Dt.d)((0,Mt.h)(i,(0,$t._)((0,Rt.I)(e,h.BV.backend.epsilon()))),-this.learningRate),a);a.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&(0,Et.B9)(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}Wt.className="Adagrad",ft(Wt);var Gt=n(33453),Vt=n(70827);class Ut extends jt{constructor(e,t,n,a=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],(0,Et.lu)((()=>{this.accBeta1=(0,Ot.i)(t).variable(),this.accBeta2=(0,Ot.i)(n).variable()})),null==a&&(this.epsilon=h.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,Et.lu)((()=>{const n=(0,Vt.l)(1,this.accBeta1),a=(0,Vt.l)(1,this.accBeta2);t.forEach(((t,i)=>{const r=h.BV.registeredVariables[t];null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:(0,Et.lu)((()=>(0,Lt.P)(r).variable(false)))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:`${t}/v`,variable:(0,Et.lu)((()=>(0,Lt.P)(r).variable(false)))});const s=Array.isArray(e)?e[i].tensor:e[t];if(null==s)return;const o=this.accumulatedFirstMoment[i].variable,l=this.accumulatedSecondMoment[i].variable,c=(0,Rt.I)((0,Dt.d)(o,this.beta1),(0,Dt.d)(s,1-this.beta1)),u=(0,Rt.I)((0,Dt.d)(l,this.beta2),(0,Dt.d)((0,Bt.h)(s),1-this.beta2)),d=(0,Mt.h)(c,n),p=(0,Mt.h)(u,a);o.assign(c),l.assign(u);const m=(0,Rt.I)((0,Dt.d)((0,Mt.h)(d,(0,Rt.I)((0,$t._)(p),this.epsilon)),-this.learningRate),r);r.assign(m)})),this.accBeta1.assign((0,Dt.d)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,Dt.d)(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,Et.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&(0,Et.B9)(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),(0,Et.lu)((()=>{this.accBeta1.assign((0,Gt.s)(this.beta1,this.iterations_+1)),this.accBeta2.assign((0,Gt.s)(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}Ut.className="Adam",ft(Ut);var Ht=n(96235),qt=n(80632);class Kt extends jt{constructor(e,t,n,a=null,i=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],(0,Et.lu)((()=>{this.iteration=(0,Ot.i)(0).variable(),this.accBeta1=(0,Ot.i)(t).variable()})),null==a&&(this.epsilon=h.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,Et.lu)((()=>{const n=(0,Vt.l)(1,this.accBeta1),a=(0,Mt.h)(-this.learningRate,(0,Rt.I)((0,Dt.d)(this.iteration,this.decay),1));t.forEach(((t,i)=>{const r=h.BV.registeredVariables[t];null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:(0,Lt.P)(r).variable(false)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:`${t}/v`,variable:(0,Lt.P)(r).variable(false)});const s=Array.isArray(e)?e[i].tensor:e[t];if(null==s)return;const o=this.accumulatedFirstMoment[i].variable,l=this.accumulatedWeightedInfNorm[i].variable,c=(0,Rt.I)((0,Dt.d)(o,this.beta1),(0,Dt.d)(s,1-this.beta1)),u=(0,Dt.d)(l,this.beta2),d=(0,Ht.W)(s),p=(0,qt.g)(u,d);o.assign(c),l.assign(p);const m=(0,Rt.I)((0,Dt.d)((0,Mt.h)(a,n),(0,Mt.h)(c,(0,Rt.I)(p,this.epsilon))),r);r.assign(m)})),this.iteration.assign((0,Rt.I)(this.iteration,1)),this.accBeta1.assign((0,Dt.d)(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,Et.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&(0,Et.B9)(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}Kt.className="Adamax",ft(Kt);class Jt extends jt{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const i=h.BV.registeredVariables[t];(0,Et.lu)((()=>{const e=(0,Rt.I)((0,Dt.d)(this.c,a),i);i.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,Et.Cn)((0,Ot.i)(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}Jt.className="SGD",ft(Jt);class Xt extends Jt{constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=(0,Ot.i)(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:(0,Et.lu)((()=>(0,Lt.P)(a).variable(e)))}}const i=this.accumulations[n].variable,r=Array.isArray(e)?e[n].tensor:e[t];null!=r&&(0,Et.lu)((()=>{let e;const t=(0,Rt.I)((0,Dt.d)(this.m,i),r);e=this.useNesterov?(0,Rt.I)((0,Dt.d)(this.c,(0,Rt.I)(r,(0,Dt.d)(t,this.m))),a):(0,Rt.I)((0,Dt.d)(this.c,t),a),i.assign(t),a.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&(0,Et.B9)(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}Xt.className="Momentum",ft(Xt);class Yt extends jt{constructor(e,t=.9,n=0,a=null,i=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==a&&(this.epsilon=h.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=h.BV.registeredVariables[t],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:(0,Et.lu)((()=>(0,Lt.P)(a).variable(i)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:(0,Et.lu)((()=>(0,Lt.P)(a).variable(i)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:(0,Et.lu)((()=>(0,Lt.P)(a).variable(i)))});const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const s=this.accumulatedMeanSquares[n].variable,o=this.accumulatedMoments[n].variable;(0,Et.lu)((()=>{const e=(0,Rt.I)((0,Dt.d)(s,this.decay),(0,Dt.d)((0,Bt.h)(r),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,i=(0,Rt.I)((0,Dt.d)(t,this.decay),(0,Dt.d)(r,1-this.decay)),l=(0,Mt.h)((0,Dt.d)(r,this.learningRate),(0,$t._)((0,Vt.l)(e,(0,Rt.I)((0,Bt.h)(i),this.epsilon)))),c=(0,Rt.I)((0,Dt.d)(o,this.momentum),l);s.assign(e),t.assign(i),o.assign(c);const u=(0,Vt.l)(a,c);a.assign(u)}else{const e=(0,Rt.I)((0,Dt.d)(s,this.decay),(0,Dt.d)((0,Bt.h)(r),1-this.decay)),t=(0,Rt.I)((0,Dt.d)(o,this.momentum),(0,Mt.h)((0,Dt.d)(r,this.learningRate),(0,$t._)((0,Rt.I)(e,this.epsilon))));s.assign(e),o.assign(t);const n=(0,Vt.l)(a,t);a.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&(0,Et.B9)(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&(0,Et.B9)(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&(0,Et.B9)(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}Yt.className="RMSProp",ft(Yt);class Zt{static sgd(e){return new Jt(e)}static momentum(e,t,n=!1){return new Xt(e,t,n)}static rmsprop(e,t=.9,n=0,a=null,i=!1){return new Yt(e,t,n,a,i)}static adam(e=.001,t=.9,n=.999,a=null){return new Ut(e,t,n,a)}static adadelta(e=.001,t=.95,n=null){return new zt(e,t,n)}static adamax(e=.002,t=.9,n=.999,a=null,i=0){return new Kt(e,t,n,a,i)}static adagrad(e,t=.1){return new Wt(e,t)}}var Qt=n(71221),en=n(81238),tn=n(49876);const nn={sgd:Zt.sgd,momentum:Zt.momentum,adadelta:Zt.adadelta,adagrad:Zt.adagrad,rmsprop:Zt.rmsprop,adamax:Zt.adamax,adam:Zt.adam},an="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function rn(){return new Promise((e=>an((()=>e()))))}var sn=n(83591);function on(e,t){const n=e[0].length;e.forEach(((e,t)=>{S.hu(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),S.hu(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const a=e[0];e.forEach(((e,i)=>{for(let r=0;r<n;r++)S.hu(r===t||e[r]===a[r],(()=>`Error in concat${n}D: Shape of tensors[${i}] (${e}) does not match the shape of the rest (${a}) along the non-concatenated axis ${i}.`))}))}function ln(e,t){const n=e[0].slice();for(let a=1;a<e.length;a++)n[t]+=e[a][t];return n}var cn=n(2582),un=n(19323);const dn=30;function pn(e){return e<=dn?e:(0,S.jP)(e,Math.floor(Math.sqrt(e)))}function hn(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function mn(e,t,n,a=!0){let i=[];if(a)i=i.concat(t.slice(0)),i.push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);const n=t.length;for(let a=0;a<n;++a)i=i.concat([e[a+1]/t[a],t[a]]);i=i.concat(e.slice(n+1))}return i}function fn(e,t,n=!0){const a=[];if(n){a.push(t);for(let n=t+1;n<e;++n)n<=2*t?(a.push(n),a.push(n-(t+1))):a.push(n)}else{const n=[],i=[];for(let a=1;a<e;++a)a>=2*t+1||a%2==1?i.push(a):n.push(a);a.push(...n),a.push(0),a.push(...i)}return a}function gn(e,t,n,a=!0){const i=[];a?i.push(e[0]/n):i.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?a?i.push(t[n-1]*e[n]):i.push(e[n]/t[n-1]):i.push(e[n]);return i}function bn(e,t){const n=[0];for(let a=0;a<t;++a)n.push(e[a][0]);return n}function yn(e,t,n){const a=e.slice(0,1);for(let i=0;i<n;++i)a.push(e[i+1]-t[i][0]-t[i][1]);return a}var vn=n(43179);const kn=.3275911,xn=.254829592,wn=-.284496736,Sn=1.421413741,Cn=-1.453152027,Tn=1.061405429;var _n=n(64706);function In(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let a=0;a<n.length;a+=2)n[a]=e[a/2],n[a+1]=t[a/2];return n}function An(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let a=0;a<e.length;a+=2)t[a/2]=e[a],n[a/2]=e[a+1];return{real:t,imag:n}}function Nn(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],a[Math.floor(t/4)]=e[t+1];return{real:n,imag:a}}function En(e){const t=Math.floor(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],a[Math.floor(t/4)]=e[t+1];return{real:n,imag:a}}function Rn(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Mn(e,t,n,a){e[2*a]=t,e[2*a+1]=n}function Dn(e,t){const n=new Float32Array(e/2),a=new Float32Array(e/2);for(let i=0;i<Math.ceil(e/2);i++){const r=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(r),a[i]=Math.sin(r)}return{real:n,imag:a}}function $n(e,t,n){const a=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(a),imag:Math.sin(a)}}const Bn="->",Ln=/->/g;function Fn(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Ln,"").length)/Bn.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("->").');const[a,i]=e.split(Bn);(0,S.hu)(-1===a.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const r=a.split(","),s=r.length;if(t!==s)throw new Error(`Expected ${s} input tensors, received ${t}`);if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const o=[];for(let e=0;e<i.length;++e){const t=i[e];if(!r.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===o.indexOf(t)&&o.push(t)}for(let e=0;e<a.length;++e){const t=a[e];-1===o.indexOf(t)&&","!==t&&o.push(t)}const l=new Array(r.length);for(let e=0;e<s;++e){if(new Set(r[e].split("")).size!==r[e].length)throw new Error(`Found duplicate axes in input component ${r[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<r[e].length;++t)l[e].push(o.indexOf(r[e][t]))}const c=o.length,u=[];for(let e=i.length;e<c;++e)u.push(e);return{allDims:o,summedDims:u,idDims:l}}function On(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const a=[];for(let t=0;t<e;++t)-1===n[t]&&a.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:a}}function jn(e,t,n){const a=new Array(e);for(let e=0;e<n.length;++e){const i=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===a[t[e][n]]?a[t[e][n]]=i[n]:(0,S.hu)(a[t[e][n]]===i[n],(()=>`Expected dimension ${a[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(i)}, but got dimension ${i[n]}`))}}function zn(e,t){const n=e,a=[];let i=0;0===e.length&&n.push(-1),i=e.length+1;for(let e=0;e<i;++e)a.push([]);const r=[];for(let e=0;e<n.length;++e){const i=Wn(t,n[e]);for(const t of i)-1===r.indexOf(t)&&(a[e].push(t),r.push(t))}return{path:n,steps:a}}function Pn(e){return e.every(((e,t)=>e===t))}function Wn(e,t){const n=[];for(let a=0;a<e.length;++a)0!==e[a].length&&-1===e[a].indexOf(t)&&-1!==t||n.push(a);return n}function Gn(e,t,n=0){let a=[];if("number"==typeof t)(0,S.hu)(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),a=new Array(t).fill(e.shape[n]/t);else{const i=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);(0,S.hu)(i<=1,(()=>"There should be only one negative value in split array."));const r=t.indexOf(-1);if(-1!==r){const a=t.reduce(((e,t)=>t>0?e+t:e));t[r]=e.shape[n]-a}(0,S.hu)(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),a=t}return a}function Vn(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function Un(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Hn(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function qn(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Kn(e,t){return`size ${e} must be non-negative, not ${t}`}function Jn(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Xn(e,t){return`Input to reshape is a SparseTensor with ${(0,S.NA)(e)}\n  dense values, but the requested shape requires a multiple of ${(0,S.NA)(t)}. inputShape=${e} outputShape= ${t}`}function Yn(e,t){return`Input to reshape is a tensor with ${(0,S.NA)(e)} dense values, but the requested shape has ${(0,S.NA)(t)}. inputShape=${e} outputShape=${t}`}function Zn(){return"segment ids must be >= 0"}function Qn(){return"segment ids are not increasing"}function ea(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function ta(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function na(e,t){let n,a=!1;for(e<=dn?(n=e,a=!0):n=(0,S.jP)(e,Math.floor(Math.sqrt(e)));!a;)n>t||n===e?a=!0:n=(0,S.jP)(e,n+1);return n}function aa(e,t,n){const a=[],i=e.length;for(let r=0;r<i;r++)r!==t?a.push(e[r]):a.push(n);return a}function ia(e,t,n,a){const i=t.shape.length,r=e.shape.length;if(0!==a&&(a<-i||a>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${a}`);if(a<0&&(a+=i),a>r)throw new Error(`batchDims (${a}) must be less than rank(x) (\n    ${r}).`);if(n<a)throw new Error(`batchDims (${a}) must be less than or equal to axis (${n}).`);for(let n=0;n<a;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const s=e.shape[n],o=[];let l=1,c=1,u=1;for(let t=0;t<a;++t)o.push(e.shape[t]),l*=e.shape[t];for(let t=a;t<n;t++)o.push(e.shape[t]),c*=e.shape[t];for(let e=a;e<i;e++)o.push(t.shape[e]);for(let t=n+1;t<r;t++)o.push(e.shape[t]),u*=e.shape[t];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:s,outputShape:o}}function ra(e){try{return e.map((e=>(0,bt.decodeString)(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function sa(e){return e.map((e=>(0,bt.encodeString)(e)))}var oa=n(68329),la=n(48333),ca=n(68713)},29121:(e,t,n)=>{"use strict";n.d(t,{$H:()=>dt,$g:()=>Q,$w:()=>K,Ac:()=>ge,BM:()=>Fe,By:()=>z,CA:()=>Te,D2:()=>Pt,Dl:()=>lt,Eh:()=>R,FK:()=>Mt,G3:()=>en,GB:()=>Dt,Gc:()=>Lt,HE:()=>te,HZ:()=>ht,Hh:()=>Be,Hm:()=>ft,IK:()=>c,IM:()=>k,J$:()=>Se,J_:()=>ve,Jh:()=>b,Kg:()=>rt,L8:()=>Bt,Ly:()=>C,M2:()=>p,MI:()=>Xt,MR:()=>Rt,MZ:()=>Re,NE:()=>ie,NZ:()=>Ke,O3:()=>Ft,OA:()=>ze,OR:()=>ue,OU:()=>Pe,OV:()=>je,Om:()=>ne,Oy:()=>f,PY:()=>Ne,Ph:()=>Ct,QC:()=>g,QR:()=>G,Qg:()=>ye,Qi:()=>at,Qv:()=>an,RF:()=>_,RO:()=>y,RQ:()=>It,Ru:()=>sn,SX:()=>ee,SY:()=>a,Sb:()=>yt,Sp:()=>r,T0:()=>V,TQ:()=>$t,TR:()=>j,To:()=>nn,Tr:()=>Kt,Uy:()=>ce,VG:()=>i,Vb:()=>qe,Vc:()=>W,Vf:()=>Ee,Vn:()=>Y,W0:()=>et,XD:()=>rn,XL:()=>x,Xk:()=>qt,Xz:()=>o,Y0:()=>se,YF:()=>re,YW:()=>jt,Yo:()=>Le,Zb:()=>Ie,Zj:()=>zt,Zz:()=>N,_J:()=>Ut,_V:()=>dn,_Y:()=>gt,_k:()=>v,_t:()=>Wt,a5:()=>Et,aJ:()=>d,av:()=>ke,b9:()=>cn,bK:()=>Gt,bV:()=>xt,c1:()=>Ve,cW:()=>Zt,ci:()=>U,cy:()=>Qe,de:()=>le,dp:()=>mt,e0:()=>kt,e6:()=>ct,e7:()=>_e,eB:()=>ln,eE:()=>T,eZ:()=>$e,ek:()=>X,gJ:()=>I,h8:()=>on,hd:()=>ae,i5:()=>Nt,iH:()=>P,iJ:()=>be,iW:()=>xe,iZ:()=>fe,ik:()=>F,jM:()=>m,jQ:()=>He,je:()=>de,kU:()=>Ae,kp:()=>tn,ku:()=>Xe,lu:()=>pn,ly:()=>it,m2:()=>Vt,mK:()=>vt,mT:()=>Oe,mc:()=>O,mh:()=>M,mm:()=>s,n9:()=>Yt,nh:()=>Ot,nr:()=>St,o0:()=>ot,o2:()=>L,oF:()=>Tt,oH:()=>Z,oT:()=>l,p2:()=>_t,p4:()=>J,pe:()=>st,q1:()=>me,q2:()=>Ge,q8:()=>Ue,qC:()=>Me,qI:()=>De,qW:()=>tt,qi:()=>he,qk:()=>pt,qw:()=>h,r7:()=>we,s1:()=>Ht,sE:()=>Jt,sH:()=>pe,sJ:()=>u,sL:()=>H,us:()=>un,uv:()=>Ze,vF:()=>We,vt:()=>Ce,vw:()=>oe,w3:()=>At,wU:()=>D,wY:()=>Je,we:()=>nt,wm:()=>$,wx:()=>Qt,x1:()=>B,xJ:()=>ut,xQ:()=>wt,xn:()=>A,y7:()=>q,yQ:()=>Ye,yj:()=>E,zb:()=>bt,zv:()=>S,zw:()=>w});const a="Abs",i="Acos",r="Acosh",s="Add",o="AddN",l="All",c="Any",u="ArgMax",d="ArgMin",p="Asin",h="Asinh",m="Atan",f="Atanh",g="Atan2",b="AvgPool",y="AvgPoolGrad",v="AvgPool3D",k="AvgPool3DGrad",x="BatchMatMul",w="BatchToSpaceND",S="Bincount",C="BroadcastTo",T="BroadcastArgs",_="Cast",I="Ceil",A="ClipByValue",N="Complex",E="ComplexAbs",R="Concat",M="Conv2D",D="Conv2DBackpropFilter",$="Conv2DBackpropInput",B="Conv3D",L="Conv3DBackpropFilterV2",F="Conv3DBackpropInputV2",O="Cos",j="Cosh",z="Cumprod",P="Cumsum",W="CropAndResize",G="DenseBincount",V="DepthToSpace",U="DepthwiseConv2dNative",H="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",K="Diag",J="Dilation2D",X="Dilation2DBackpropInput",Y="Dilation2DBackpropFilter",Z="RealDiv",Q="Einsum",ee="Elu",te="EluGrad",ne="Erf",ae="Equal",ie="Exp",re="ExpandDims",se="Expm1",oe="FFT",le="Fill",ce="FlipLeftRight",ue="Floor",de="FloorDiv",pe="FusedBatchNorm",he="GatherV2",me="GatherNd",fe="Greater",ge="GreaterEqual",be="Identity",ye="IFFT",ve="Imag",ke="IsFinite",xe="IsInf",we="IsNan",Se="LeakyRelu",Ce="Less",Te="LessEqual",_e="LinSpace",Ie="Log",Ae="Log1p",Ne="LogicalAnd",Ee="LogicalNot",Re="LogicalOr",Me="LogSoftmax",De="LowerBound",$e="LRN",Be="LRNGrad",Le="Max",Fe="Maximum",Oe="MaxPool",je="MaxPoolGrad",ze="MaxPool3D",Pe="MaxPool3DGrad",We="MaxPoolWithArgmax",Ge="Mean",Ve="Min",Ue="Minimum",He="MirrorPad",qe="Mod",Ke="Multinomial",Je="Multiply",Xe="Neg",Ye="NotEqual",Ze="NonMaxSuppressionV3",Qe="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",at="Pack",it="PadV2",rt="Pool",st="Pow",ot="Prelu",lt="Prod",ct="Range",ut="Real",dt="Reciprocal",pt="Relu",ht="Reshape",mt="ResizeNearestNeighbor",ft="ResizeNearestNeighborGrad",gt="ResizeBilinear",bt="ResizeBilinearGrad",yt="Relu6",vt="Reverse",kt="Round",xt="Rsqrt",wt="ScatterNd",St="SearchSorted",Ct="Select",Tt="Selu",_t="Slice",It="Sin",At="Sinh",Nt="Sign",Et="Sigmoid",Rt="Softplus",Mt="Sqrt",Dt="Sum",$t="SpaceToBatchND",Bt="SplitV",Lt="Softmax",Ft="SparseFillEmptyRows",Ot="SparseReshape",jt="SparseSegmentMean",zt="SparseSegmentSum",Pt="SparseToDense",Wt="SquaredDifference",Gt="Square",Vt="StridedSlice",Ut="StringNGrams",Ht="StringSplit",qt="StringToHashBucketFast",Kt="Sub",Jt="Tan",Xt="Tanh",Yt="Tile",Zt="TopK",Qt="Transform",en="Transpose",tn="Unique",nn="Unpack",an="UnsortedSegmentSum",rn="UpperBound",sn="ZerosLike",on="Step",ln="FromPixels",cn="RotateWithOffset",un="_FusedMatMul",dn="FusedConv2D",pn="FusedDepthwiseConv2D"},26151:(e,t,n)=>{"use strict";n.d(t,{Li:()=>p,T3:()=>f,bt:()=>m,nE:()=>h,pI:()=>l,tr:()=>u,uk:()=>c,wC:()=>d});var a=n(22885),i=n(55938),r=n(64706);const s=(0,i.R)("kernelRegistry",(()=>new Map)),o=(0,i.R)("gradRegistry",(()=>new Map));function l(e,t){const n=g(e,t);return s.get(n)}function c(e){return o.get(e)}function u(e){const t=s.entries(),n=[];for(;;){const{done:a,value:i}=t.next();if(a)break;const[r,s]=i,[o]=r.split("_");o===e&&n.push(s)}return n}function d(e){const{kernelName:t,backendName:n}=e,a=g(t,n);s.has(a)&&r.Z(`The kernel '${t}' for backend '${n}' is already registered`),s.set(a,e)}function p(e){const{kernelName:t}=e;o.has(t)&&(0,a.OB)().getBool("DEBUG")&&r.Z(`Overriding the gradient for '${t}'`),o.set(t,e)}function h(e,t){const n=g(e,t);if(!s.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);s.delete(n)}function m(e){if(!o.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);o.delete(e)}function f(e,t){u(e).forEach((e=>{d(Object.assign({},e,{backendName:t}))}))}function g(e,t){return`${t}_${e}`}},64706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,c:()=>r});var a=n(22885);function i(...e){(0,a.OB)().getBool("IS_TEST")||(0,a.OB)().getBool("PROD")||console.warn(...e)}function r(...e){(0,a.OB)().getBool("IS_TEST")||(0,a.OB)().getBool("PROD")||console.log(...e)}},96235:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({abs_:function(e){const t=(0,r._1)(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return a.BV.runKernel(i.yj,e)}{const e={x:t};return a.BV.runKernel(i.SY,e)}}})},17839:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({acos_:function(e){const t={x:(0,r._1)(e,"x","acos")};return a.BV.runKernel(i.VG,t)}})},91470:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({acosh_:function(e){const t={x:(0,r._1)(e,"x","acosh")};return a.BV.runKernel(i.Sp,t)}})},56407:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({add_:function(e,t){let n=(0,s._1)(e,"a","add"),o=(0,s._1)(t,"b","add");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.mm,l)}})},13135:(e,t,n)=>{"use strict";n.d(t,{Q:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({addN_:function(e){s.hu(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),s.hu(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>(0,r._1)(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!s.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const o=t;return a.BV.runKernel(i.Xz,o)}})},90781:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({all_:function(e,t=null,n=!1){const s={x:(0,r._1)(e,"x","all","bool")},o={axis:t,keepDims:n};return a.BV.runKernel(i.oT,s,o)}})},92998:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({any_:function(e,t=null,n=!1){const s={x:(0,r._1)(e,"x","any","bool")},o={axis:t,keepDims:n};return a.BV.runKernel(i.IK,s,o)}})},40047:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({argMax_:function(e,t=0){const n={x:(0,r._1)(e,"x","argMax")},s={axis:t};return a.BV.runKernel(i.sJ,n,s)}})},27394:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({argMin_:function(e,t=0){const n={x:(0,r._1)(e,"x","argMin")},s={axis:t};return a.BV.runKernel(i.aJ,n,s)}})},72421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({asin_:function(e){const t={x:(0,r._1)(e,"x","asin")};return a.BV.runKernel(i.M2,t)}})},21891:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({asinh_:function(e){const t={x:(0,r._1)(e,"x","asinh")};return a.BV.runKernel(i.qw,t)}})},77037:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({atan_:function(e){const t={x:(0,r._1)(e,"x","atan")};return a.BV.runKernel(i.jM,t)}})},29812:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({atan2_:function(e,t){let n=(0,s._1)(e,"a","atan2"),o=(0,s._1)(t,"b","atan2");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.QC,l)}})},80369:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({atanh_:function(e){const t={x:(0,r._1)(e,"x","atanh")};return a.BV.runKernel(i.Oy,t)}})},15176:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(62271),l=n(2582),c=n(2668),u=n(4968);const d=(0,c.op)({avgPool_:function(e,t,n,c,d){const p=(0,r._1)(e,"x","avgPool","float32");s.hu(l.jT(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let h=p,m=!1;3===p.rank&&(m=!0,h=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),s.hu(4===h.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${h.rank}.`)),l.m("avgPool",c,d);const f={x:h},g={filterSize:t,strides:n,pad:c,dimRoundingMode:d};let b=a.BV.runKernel(i.Jh,f,g);return b=(0,o.p)(b,p.dtype),m?(0,u.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},61749:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2582),l=n(62271),c=n(2668),u=n(4968);const d=(0,c.op)({avgPool3d_:function(e,t,n,c,d,p="NDHWC"){const h=(0,r._1)(e,"x","avgPool3d","float32");let m=h,f=!1;4===h.rank&&(f=!0,m=(0,u.X)(h,[1,h.shape[0],h.shape[1],h.shape[2],h.shape[3]])),s.hu(5===m.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${m.rank}.`)),s.hu("NDHWC"===p,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${p}`)),(0,o.m)("avgPool3d",c,d);const g={x:m},b={filterSize:t,strides:n,pad:c,dimRoundingMode:d,dataFormat:p};let y=a.BV.runKernel(i._k,g,b);return y=(0,l.p)(y,m.dtype),f?(0,u.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},83591:(e,t,n)=>{"use strict";n.d(t,{LJ:()=>u,Q3:()=>c,Vh:()=>r,YB:()=>i,kz:()=>s,lB:()=>l,rv:()=>o,sY:()=>d});var a=n(20569);function i(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function r(e,t,n){const a=e.length+t.length,i=[];let r=0,s=0;for(let o=0;o<a;o++)-1===n.indexOf(o)?i.push(e[r++]):i.push(t[s++]);return i}function s(e,t){const n=[],a=e.length;for(let i=0;i<a;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((t=>e[t]))]}function o(e,t){return r(e,t.map((e=>1)),t)}function l(e,t,n){a.hu(i(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function c(e,t){if(i(e,t))return null;const n=[];for(let a=0;a<t;++a)-1===e.indexOf(a)&&n.push(a);return e.forEach((e=>n.push(e))),n}function u(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function d(e,t){const n=[];for(let a=t-e;a<t;++a)n.push(a);return n}},28441:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({batchToSpaceND_:function(e,t,n){const o=(0,r._1)(e,"x","batchToSpaceND"),l=t.reduce(((e,t)=>e*t));s.hu(o.rank>=1+t.length,(()=>`input rank is ${o.rank} but should be > than blockShape.length ${t.length}`)),s.hu(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),s.hu(o.shape[0]%l==0,(()=>`input tensor batch is ${o.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${l}`));const c={x:o},u={blockShape:t,crops:n};return a.BV.runKernel(i.zw,c,u)}})},40094:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(4968);const l=(0,n(2668).op)({batchNorm_:function(e,t,n,l,c,u){null==u&&(u=.001);const d=(0,r._1)(e,"x","batchNorm"),p=(0,r._1)(t,"mean","batchNorm"),h=(0,r._1)(n,"variance","batchNorm");let m,f;null!=c&&(m=(0,r._1)(c,"scale","batchNorm")),null!=l&&(f=(0,r._1)(l,"offset","batchNorm")),s.hu(p.rank===h.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),s.hu(null==f||p.rank===f.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),s.hu(null==m||p.rank===m.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const g=function(e){let t;return t=0===e.rank||1===e.rank?(0,o.X)(e,[1,1,1,e.size]):2===e.rank?(0,o.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,o.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(d),b={x:g,scale:m,offset:f,mean:p,variance:h},y={varianceEpsilon:u},v=a.BV.runKernel(i.sH,b,y);return(0,o.X)(v,d.shape)}})},93865:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({bincount_:function(e,t,n){const o=(0,r._1)(e,"x","bincount"),l=(0,r._1)(t,"weights","bincount");s.hu("int32"===o.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${o.dtype}`)),s.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),s.hu(l.size===o.size||0===l.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${o.shape}, weights shape: ${l.shape}.`));const c={x:o,weights:l},u={size:n};return a.BV.runKernel(i.zv,c,u)}})},88194:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({broadcastArgs_:function(e,t){const n=(0,r._1)(e,"s0","broadcastArgs","int32"),s=(0,r._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==s.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${s.rank}`);const o={s0:n,s1:s};return a.BV.runKernel(i.eE,o)}})},68247:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var a=n(50196),i=n(29121),r=n(43740),s=n(8723),o=n(2668),l=n(4968);const c=(0,o.op)({broadcastTo_:function(e,t){let n=(0,r._1)(e,"broadcastTo","x");const o=n.shape;if(t.some((e=>!(e>0)||e%1!=0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=(0,l.X)(n,e)}const c=n.shape,u=Array.from(t);for(let e=t.length-1;e>=0;e--)if(c[e]===t[e])u[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${t}].`);if(0===u.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return(0,s.d)(n);const d={x:n},p={reps:u};return a.BV.runKernel(i.n9,d,p)}})},72200:(e,t,n)=>{"use strict";function a(e,t){const n=e.length,a=[];for(let i=0;i<n;i++){const r=n-1-i,s=e[r]||1;(t[t.length-1-i]||1)>1&&1===s&&a.unshift(r)}return a}function i(e,t){const n=[];for(let a=0;a<t.length;a++){const i=e[e.length-a-1],r=t.length-a-1,s=t[r];(null==i||1===i&&s>1)&&n.unshift(r)}return n}function r(e,t){const n=[],a=Math.max(e.length,t.length);for(let i=0;i<a;i++){let a=e[e.length-i-1];null==a&&(a=1);let r=t[t.length-i-1];if(null==r&&(r=1),1===a)n.unshift(r);else if(1===r)n.unshift(a);else{if(a!==r){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(a)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:()=>r,getBroadcastDims:()=>a,getReductionAxes:()=>i})},72657:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var a=n(40974),i=n(20569);function r(e,t="float32",n){return t=t||"float32",i.Mu(e),new a.YD(e,t,n)}},62271:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({cast_:function(e,t){const n=(0,r._1)(e,"x","cast");if(!s.LP(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const o={x:n},l={dtype:t};return a.BV.runKernel(i.RF,o,l)}})},6825:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({ceil_:function(e){const t={x:(0,r._1)(e,"x","ceil","float32")};return a.BV.runKernel(i.gJ,t)}})},42279:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({clipByValue_:function(e,t,n){const o=(0,r._1)(e,"x","clipByValue");s.hu(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const l={x:o},c={clipValueMin:t,clipValueMax:n};return a.BV.runKernel(i.xn,l,c)}})},8723:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({clone_:function(e){const t={x:(0,r._1)(e,"x","clone","string_or_numeric")};return a.BV.runKernel(i.iJ,t)}})},61661:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({complex_:function(e,t){const n=(0,r._1)(e,"real","complex"),o=(0,r._1)(t,"imag","complex");s.k5(n.shape,o.shape,`real and imag shapes, ${n.shape} and ${o.shape}, must match in call to tf.complex().`);const l={real:n,imag:o};return a.BV.runKernel(i.Zz,l)}})},46884:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(8723);const l=(0,n(2668).op)({concat_:function(e,t=0){(0,s.hu)(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=(0,r.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return(0,o.d)(n[0]);const l=n,c={axis:t};return a.BV.runKernel(i.Eh,l,c)}})},11355:(e,t,n)=>{"use strict";n.d(t,{P:()=>c});var a=n(43740),i=n(20569),r=n(64794),s=n(2582),o=n(2668),l=n(4968);const c=(0,o.op)({conv1d_:function(e,t,n,o,c="NWC",u=1,d){const p=(0,a._1)(e,"x","conv1d"),h=(0,a._1)(t,"filter","conv1d");let m=p,f=!1;2===p.rank&&(f=!0,m=(0,l.X)(p,[1,p.shape[0],p.shape[1]])),i.hu(3===m.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${m.rank}.`)),i.hu(3===h.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${h.rank}.`)),s.m("conv1d",o,d),i.hu(m.shape[2]===h.shape[1],(()=>`Error in conv1d: depth of input (${m.shape[2]}) must match input depth for filter ${h.shape[1]}.`)),i.hu(s.jT(n,u),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${u}'`)),i.hu("NWC"===c,(()=>`Error in conv1d: got dataFormat of ${c} but only NWC is currently supported.`));const g=(0,l.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]]),b=(0,l.X)(m,[m.shape[0],1,m.shape[1],m.shape[2]]),y=[1,n],v=[1,u],k=(0,r.T)(b,g,y,o,"NHWC",v,d);return f?(0,l.X)(k,[k.shape[2],k.shape[3]]):(0,l.X)(k,[k.shape[0],k.shape[2],k.shape[3]])}})},64794:(e,t,n)=>{"use strict";n.d(t,{T:()=>u});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({conv2d_:function(e,t,n,l,u="NHWC",d=[1,1],p){const h=(0,r._1)(e,"x","conv2d","float32"),m=(0,r._1)(t,"filter","conv2d","float32");let f=h,g=!1;3===h.rank&&(g=!0,f=(0,c.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),s.hu(4===f.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${f.rank}.`)),s.hu(4===m.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${m.rank}.`)),o.m("conv2d",l,p);const b="NHWC"===u?f.shape[3]:f.shape[1];s.hu(b===m.shape[2],(()=>`Error in conv2d: depth of input (${b}) must match input depth for filter ${m.shape[2]}.`)),s.hu(o.jT(n,d),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`));const y={x:f,filter:m},v={strides:n,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p},k=a.BV.runKernel(i.mh,y,v);return g?(0,c.X)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},36013:(e,t,n)=>{"use strict";n.d(t,{p:()=>c});var a=n(50196),i=n(29121),r=n(20569),s=n(2582),o=n(2668),l=n(4968);const c=(0,o.op)({conv2DBackpropFilter_:function(e,t,n,o,c,u="NHWC",d){let p=e;3===e.rank&&(p=(0,l.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let h=t;3===h.rank&&(h=(0,l.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),r.hu(4===p.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${p.shape}.`)),r.hu(4===h.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${h.shape}.`)),r.hu(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const m="NHWC"===u?p.shape[3]:p.shape[1],f="NHWC"===u?h.shape[3]:h.shape[1];r.hu(m===n[2],(()=>`Error in conv2dDerFilter: depth of input ${m}) must match input depth in filter (${n[2]}.`)),r.hu(f===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${f}) must match output depth for filter (${n[3]}).`)),s.m("conv2dDerFilter",c,d);const g={x:p,dy:h},b={strides:o,pad:c,dataFormat:u,dimRoundingMode:d,filterShape:n};return a.BV.runKernel(i.wU,g,b)}})},39832:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var a=n(50196),i=n(29121),r=n(20569),s=n(2582),o=n(2668),l=n(4968);const c=(0,o.op)({conv2DBackpropInput_:function(e,t,n,o,c,u="NHWC",d){r.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let p=e,h=t,m=!1;3===t.rank&&(m=!0,h=(0,l.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),p=[1,e[0],e[1],e[2]]),r.hu(4===p.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${p.length}.`)),r.hu(4===h.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${h.rank}`)),r.hu(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const f="NHWC"===u?p[3]:p[1],g="NHWC"===u?h.shape[3]:h.shape[1];r.hu(f===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${f}) must match input depth for filter ${n.shape[2]}.`)),r.hu(g===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${n.shape[3]}.`)),s.m("conv2dDerInput",c,d);const b={dy:h,filter:n},y={strides:o,pad:c,dataFormat:u,dimRoundingMode:d,inputShape:p},v=a.BV.runKernel(i.wm,b,y);return m?(0,l.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},71405:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});var a=n(43740),i=n(39832);const r=(0,n(2668).op)({conv2dTranspose_:function(e,t,n,r,s,o){const l=(0,a._1)(e,"x","conv2dTranspose"),c=(0,a._1)(t,"filter","conv2dTranspose");return(0,i._)(n,l,c,r,s,"NHWC",o)}})},70473:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({conv3d_:function(e,t,n,l,u="NDHWC",d=[1,1,1]){const p=(0,r._1)(e,"x","conv3d"),h=(0,r._1)(t,"filter","conv3d");let m=p,f=!1;4===p.rank&&(f=!0,m=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),s.hu(5===m.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${m.rank}.`)),s.hu(5===h.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${h.rank}.`)),s.hu(m.shape[4]===h.shape[3],(()=>`Error in conv3d: depth of input (${m.shape[4]}) must match input depth for filter ${h.shape[3]}.`)),s.hu((0,o.jT)(n,d),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`)),s.hu("NDHWC"===u,(()=>`Error in conv3d: got dataFormat of ${u} but only NDHWC is currently supported.`));const g={x:m,filter:h},b={strides:n,pad:l,dataFormat:u,dilations:d},y=a.BV.runKernel(i.x1,g,b);return f?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},97594:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var a=n(50196),i=n(29121),r=n(20569),s=n(2668),o=n(4968);const l=(0,s.op)({conv3DBackpropInput_:function(e,t,n,s,l){r.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let c=e,u=t,d=!1;4===t.rank&&(d=!0,u=(0,o.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);const p=c[4],h=u.shape[4];r.hu(5===c.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${c.length}.`)),r.hu(5===u.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${u.rank}`)),r.hu(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),r.hu(p===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${p}) must match input depth for filter ${n.shape[3]}.`)),r.hu(h===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${h}) must match output depth for filter ${n.shape[4]}.`));const m={dy:u,filter:n},f={pad:l,strides:s,inputShape:c},g=a.BV.runKernel(i.ik,m,f);return d?(0,o.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},2582:(e,t,n)=>{"use strict";n.d(t,{I0:()=>m,Ix:()=>o,Rf:()=>i,Xw:()=>r,aO:()=>c,jT:()=>f,jw:()=>l,m:()=>b,pl:()=>s,sl:()=>g});var a=n(20569);function i(e,t,n,a,i="NHWC",r){return o(e,[...t,e[3]],n,r,a,null,null,g(i))}function r(e,t,n,a,i,r,s="channelsLast"){const[l,c]=u(t);let d;if("channelsLast"===s)d=[l,c,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);d=[l,c,e[1],e[1]]}return o(e,d,n,a,i,r,!1,s)}function s(e,t,n,a,i,r,s="NDHWC"){const[o,c,u]=d(t);let p,h;if("NDHWC"===s)h="channelsLast",p=[o,c,u,e[4],e[4]];else{if("NCDHW"!==s)throw new Error(`Unknown dataFormat ${s}`);h="channelsFirst",p=[o,c,u,e[1],e[1]]}return l(e,p,n,a,i,!1,h,r)}function o(e,t,n,a,i,r,s=!1,o="channelsLast"){let[l,d,m,f]=[-1,-1,-1,-1];if("channelsLast"===o)[l,d,m,f]=e;else{if("channelsFirst"!==o)throw new Error(`Unknown dataFormat ${o}`);[l,f,d,m]=e}const[g,b,,y]=t,[v,k]=u(n),[x,w]=u(a),S=p(g,x),C=p(b,w),{padInfo:T,outHeight:_,outWidth:I}=function(e,t,n,a,i,r,s,o,l){let u,d,p;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const i=function(e,t,n,a,i){null==a&&(a=c(e,t,n));const r=e[0],s=e[1],o=h((r-t+2*a)/n+1,i),l=h((s-t+2*a)/n+1,i);return[o,l]}([t,n],r,a,e,o);d=i[0],p=i[1]}else if("same"===e){d=Math.ceil(t/a),p=Math.ceil(n/i);const e=Math.max(0,(d-1)*a+r-t),o=Math.max(0,(p-1)*i+s-n),l=Math.floor(e/2),c=e-l,h=Math.floor(o/2);u={top:l,bottom:c,left:h,right:o-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-r+1)/a),p=Math.ceil((n-s+1)/i);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const c="channelsLast"===l?e[1][0]:e[2][0],m="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],g="channelsLast"===l?e[2][1]:e[3][1];u={top:c,bottom:m,left:f,right:g,type:0===c&&0===m&&0===f&&0===g?"VALID":"EXPLICIT"},d=h((t-r+c+m)/a+1,o),p=h((n-s+f+g)/i+1,o)}}return{padInfo:u,outHeight:d,outWidth:p}}(i,d,m,v,k,S,C,r,o),A=s?y*f:y;let N;return"channelsFirst"===o?N=[l,A,_,I]:"channelsLast"===o&&(N=[l,_,I,A]),{batchSize:l,dataFormat:o,inHeight:d,inWidth:m,inChannels:f,outHeight:_,outWidth:I,outChannels:A,padInfo:T,strideHeight:v,strideWidth:k,filterHeight:g,filterWidth:b,effectiveFilterHeight:S,effectiveFilterWidth:C,dilationHeight:x,dilationWidth:w,inShape:e,outShape:N,filterShape:t}}function l(e,t,n,a,i,r=!1,s="channelsLast",o){let[l,u,m,f,g]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,u,m,f,g]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,g,u,m,f]=e}const[b,y,v,,k]=t,[x,w,S]=d(n),[C,T,_]=d(a),I=p(b,C),A=p(y,T),N=p(v,_),{padInfo:E,outDepth:R,outHeight:M,outWidth:D}=function(e,t,n,a,i,r,s,o,l,u,d){let p,m,f,g;if("number"==typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const r=function(e,t,n,a,i,r){null==i&&(i=c(e,t,a));const s=e[0],o=e[1],l=e[2],u=h((s-t+2*i)/a+1,r),d=h((o-t+2*i)/a+1,r),p=h((l-t+2*i)/a+1,r);return[u,d,p,n]}([t,n,a,1],o,1,i,e,d);m=r[0],f=r[1],g=r[2]}else if("same"===e){m=Math.ceil(t/i),f=Math.ceil(n/r),g=Math.ceil(a/s);const e=(m-1)*i+o-t,c=(f-1)*r+l-n,d=(g-1)*s+u-a,h=Math.floor(e/2),b=e-h,y=Math.floor(c/2),v=c-y,k=Math.floor(d/2);p={top:y,bottom:v,left:k,right:d-k,front:h,back:b,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},m=Math.ceil((t-o+1)/i),f=Math.ceil((n-l+1)/r),g=Math.ceil((a-u+1)/s)}return{padInfo:p,outDepth:m,outHeight:f,outWidth:g}}(i,u,m,f,x,w,S,I,A,N,o),$=r?k*g:k;let B;return"channelsFirst"===s?B=[l,$,R,M,D]:"channelsLast"===s&&(B=[l,R,M,D,$]),{batchSize:l,dataFormat:s,inDepth:u,inHeight:m,inWidth:f,inChannels:g,outDepth:R,outHeight:M,outWidth:D,outChannels:$,padInfo:E,strideDepth:x,strideHeight:w,strideWidth:S,filterDepth:b,filterHeight:y,filterWidth:v,effectiveFilterDepth:I,effectiveFilterHeight:A,effectiveFilterWidth:N,dilationDepth:C,dilationHeight:T,dilationWidth:_,inShape:e,outShape:B,filterShape:t}}function c(e,t,n,a=1){const i=p(t,a);return Math.floor((e[0]*(n-1)-n+i)/2)}function u(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function d(e){return"number"==typeof e?[e,e,e]:e}function p(e,t){return t<=1?e:e+(e-1)*(t-1)}function h(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function m(e){const[t,n,a]=u(e);return 1===t&&1===n&&1===a}function f(e,t){return m(e)||m(t)}function g(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function b(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)a.hu(a.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{a.hu(a.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}},70173:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({cos_:function(e){const t={x:(0,r._1)(e,"x","cos","float32")};return a.BV.runKernel(i.mc,t)}})},2699:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({cosh_:function(e){const t={x:(0,r._1)(e,"x","cosh","float32")};return a.BV.runKernel(i.TR,t)}})},9640:(e,t,n)=>{"use strict";n.d(t,{$:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({cumprod_:function(e,t=0,n=!1,s=!1){const o={x:(0,r._1)(e,"x","cumprod")},l={axis:t,exclusive:n,reverse:s};return a.BV.runKernel(i.By,o,l)}})},37405:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({cumsum_:function(e,t=0,n=!1,s=!1){const o={x:(0,r._1)(e,"x","cumsum")},l={axis:t,exclusive:n,reverse:s};return a.BV.runKernel(i.iH,o,l)}})},75746:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({denseBincount_:function(e,t,n,o=!1){const l=(0,r._1)(e,"x","denseBincount"),c=(0,r._1)(t,"weights","denseBincount");s.hu("int32"===l.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${l.dtype}`)),s.hu(l.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${l.rank}.`)),s.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),s.hu(c.size===l.size||0===c.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${l.shape}, weights shape: ${c.shape}.`));const u={x:l,weights:c},d={size:n,binaryOutput:o};return a.BV.runKernel(i.QR,u,d)}})},89112:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({depthToSpace_:function(e,t,n="NHWC"){const o=(0,r._1)(e,"x","depthToSpace","float32"),l="NHWC"===n?o.shape[1]:o.shape[2],c="NHWC"===n?o.shape[2]:o.shape[3],u="NHWC"===n?o.shape[3]:o.shape[1];s.hu(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),s.hu(l*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${l} and ${t}  for depthToSpace with input shape\n    ${o.shape}`)),s.hu(c*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${c} and ${t} for depthToSpace with input shape\n        ${o.shape}`)),s.hu(u%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${u} for depthToSpace with input shape ${o.shape}`));const d={x:o},p={blockSize:t,dataFormat:n};return a.BV.runKernel(i.T0,d,p)}})},64718:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({depthwiseConv2d_:function(e,t,n,l,u="NHWC",d=[1,1],p){const h=(0,r._1)(e,"x","depthwiseConv2d","float32"),m=(0,r._1)(t,"filter","depthwiseConv2d","float32");let f=h,g=!1;3===h.rank&&(g=!0,f=(0,c.X)(h,[1,h.shape[0],h.shape[1],h.shape[2]])),s.hu(4===f.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${f.rank}.`)),s.hu(4===m.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${m.rank}.`)),s.hu(f.shape[3]===m.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${f.shape[3]}) must match the inChannels dimension in filter ${m.shape[2]}.`)),o.m("depthwiseConv2d",l,p);const b={x:f,filter:m},y={strides:n,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p},v=a.BV.runKernel(i.ci,b,y);return g?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},88098:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var a=n(50196),i=n(29121),r=n(2668),s=n(4968);const o=(0,r.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,o,l=[1,1],c){let u=e;3===e.rank&&(u=(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let d=t;3===d.rank&&(d=(0,s.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const p={x:u,dy:d},h={strides:r,pad:o,dimRoundingMode:c,dilations:l,filterShape:n};return a.BV.runKernel(i.sL,p,h)}})},54375:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var a=n(50196),i=n(29121),r=n(2668),s=n(4968);const o=(0,r.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,o,l=[1,1],c){let u=t,d=!1;3===t.rank&&(d=!0,u=(0,s.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const p={dy:u,filter:n},h={strides:r,pad:o,dimRoundingMode:c,dilations:l,inputShape:e},m=a.BV.runKernel(i.y7,p,h);return d?(0,s.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},70557:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2668),l=n(4968);const c=(0,o.op)({dilation2d_:function(e,t,n,o,c=[1,1],u="NHWC"){const d=(0,r._1)(e,"x","dilation2d"),p=(0,r._1)(t,"filter","dilation2d");s.hu(3===d.rank||4===d.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${d.rank}.`)),s.hu(3===p.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${p.rank}.`)),s.hu("NHWC"===u,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${u}`));let h=d,m=!1;3===d.rank&&(h=(0,l.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),m=!0);const f={x:h,filter:p},g={strides:n,pad:o,dilations:c},b=a.BV.runKernel(i.p4,f,g);return m?(0,l.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},41274:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(9165);const l=(0,n(2668).op)({div_:function(e,t){let n=(0,s._1)(e,"a","div"),l=(0,s._1)(t,"b","div");if([n,l]=(0,r.makeTypesMatch)(n,l),"int32"===n.dtype&&"int32"===l.dtype)return(0,o.q)(n,l);const c={a:n,b:l};return a.BV.runKernel(i.oH,c,{})}})},49322:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var a=n(80747),i=n(43740),r=n(41274),s=n(26477),o=n(2668),l=n(95912),c=n(6577);const u=(0,o.op)({divNoNan_:function(e,t){let n=(0,i._1)(e,"a","div"),o=(0,i._1)(t,"b","div");[n,o]=(0,a.makeTypesMatch)(n,o);const u=(0,r.h)(n,o),d=(0,c.P)(u),p=(0,s.D)(o,d);return(0,l.a)(p,d,u)}})},30548:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var a=n(43740),i=n(20569),r=n(28687),s=n(2668),o=n(4968);const l=(0,s.op)({dot_:function(e,t){const n=(0,a._1)(e,"t1","dot"),s=(0,a._1)(t,"t2","dot");i.hu(!(1!==n.rank&&2!==n.rank||1!==s.rank&&2!==s.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${s.rank}.`));const l=1===n.rank?n.size:n.shape[1],c=1===s.rank?s.size:s.shape[0];if(i.hu(l===c,(()=>`Error in dot: inner dimensions of inputs must match, but got ${l} and ${c}.`)),1===n.rank&&1===s.rank){const e=(0,o.X)(n,[1,-1]),t=(0,o.X)(s,[-1,1]),a=(0,r.O)(e,t);return(0,o.X)(a,[])}if(1===n.rank&&2===s.rank){const e=(0,o.X)(n,[1,-1]),t=(0,o.X)(s,[s.shape[0],s.shape[1]]),a=(0,r.O)(e,t);return(0,o.X)(a,[a.size])}if(2===n.rank&&1===s.rank){const e=(0,o.X)(s,[-1,1]),t=(0,r.O)(n,e);return(0,o.X)(t,[t.size])}{const e=(0,o.X)(s,[s.shape[0],s.shape[1]]);return(0,r.O)(n,e)}}})},94653:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({einsum_:function(e,...t){const n=t.map(((e,t)=>(0,r._1)(e,`tensors${t}`,"einsum"))),s={equation:e};return a.BV.runKernel(i.$g,n,s)}})},83233:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({elu_:function(e){const t={x:(0,r._1)(e,"x","elu","float32")};return a.BV.runKernel(i.SX,t)}})},26477:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({equal_:function(e,t){let n=(0,s._1)(e,"a","equal","string_or_numeric"),l=(0,s._1)(t,"b","equal","string_or_numeric");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i.hd,c)}})},34650:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(62271);const l=(0,n(2668).op)({erf_:function(e){let t=(0,r._1)(e,"x","erf");s.hu("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=(0,o.p)(t,"float32"));const n={x:t};return a.BV.runKernel(i.Om,n)}})},31954:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var a=n(3561);const i=(0,n(2668).op)({euclideanNorm_:function(e,t=null,n=!1){return(0,a.K)(e,"euclidean",t,n)}})},44842:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({exp_:function(e){const t={x:(0,r._1)(e,"x","exp")};return a.BV.runKernel(i.NE,t)}})},81300:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({expandDims_:function(e,t=0){const n=(0,r._1)(e,"x","expandDims","string_or_numeric");s.hu(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const o={input:n},l={dim:t};return a.BV.runKernel(i.YF,o,l)}})},53426:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({expm1_:function(e){const t={x:(0,r._1)(e,"x","expm1")};return a.BV.runKernel(i.Y0,t)}})},14006:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var a=n(50196),i=n(29121);function r(e,t,n){const r={shape:e,value:t,dtype:n};return a.BV.runKernel(i.de,{},r)}},26943:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({floor_:function(e){const t={x:(0,r._1)(e,"x","floor","float32")};return a.BV.runKernel(i.OR,t)}})},9165:(e,t,n)=>{"use strict";n.d(t,{q:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({floorDiv_:function(e,t){let n=(0,s._1)(e,"a","floorDiv"),o=(0,s._1)(t,"b","floorDiv");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.je,l)}})},43854:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2d:()=>y,depthwiseConv2d:()=>w,matMul:()=>C});var a=n(50196),i=n(30633),r=n(29121),s=n(80747),o=n(43740),l=n(20569),c=n(56407),u=n(72200),d=n(64794),p=n(36013),h=n(39832),m=n(2582),f=n(19323),g=n(2668),b=n(4968);const y=(0,g.op)({fusedConv2d_:function({x:e,filter:t,strides:n,pad:g,dataFormat:y="NHWC",dilations:v=[1,1],dimRoundingMode:k,bias:x,activation:w="linear",preluActivationWeights:S,leakyreluAlpha:C}){if(w=w||"linear",!1===(0,f.uy)(a.BV.state.gradientDepth,w)){l.hu("NHWC"===y,(()=>`Error in fused conv2d: got dataFormat of ${y} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let a=(0,d.T)(e,t,n,g,y,v,k);return null!=x&&(a=(0,c.I)(a,x)),(0,f.QH)(a,w,S,C)}const T=(0,o._1)(e,"x","conv2d","float32"),_=(0,o._1)(t,"filter","conv2d","float32");let I=T,A=!1;3===T.rank&&(A=!0,I=(0,b.X)(T,[1,T.shape[0],T.shape[1],T.shape[2]])),l.hu(4===I.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${I.rank}.`)),l.hu(4===_.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${_.rank}.`)),m.m("fused conv2d",g,k);const N="NHWC"===y?I.shape[3]:I.shape[1];l.hu(_.shape[2]===N,(()=>`Error in conv2d: depth of input (${N}) must match input depth for filter ${_.shape[2]}.`)),l.hu(m.jT(n,v),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${v}'`));const E=m.Ix(I.shape,_.shape,n,v,g,k);let R,M;if(null!=x&&(R=(0,o._1)(x,"bias","fused conv2d"),[R]=(0,s.makeTypesMatch)(R,T),"NHWC"===y?u.assertAndGetBroadcastShape(E.outShape,R.shape):(l.hu(R.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${R.shape.length}.`)),l.hu(0===R.shape.length||R.shape[0]===E.outChannels||1===R.shape[0],(()=>`Error in fused conv2d: bias shape (${R.shape}) is not compatible with the number of output channels (${E.outChannels})`)))),null!=S){const e=S.shape;if(l.hu(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)l.hu(1===e[0]||e[0]===E.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${E.outChannels}).`));else if(3===e.length)try{u.assertAndGetBroadcastShape(e,E.outShape)}catch(t){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${E.outShape}).`;throw Error(n)}M=(0,o._1)(S,"prelu weights","fused conv2d")}const D=(e,t)=>{l.hu("NHWC"===y,(()=>`Error in gradient of fused conv2D: got dataFormat of ${y} but only NHWC is currently supported.`));const[a,i,r,s]=t,o=(0,f.Fr)(e,r,w);l.hu(m.I0(v),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${v}'`));const c=[(0,h._)(i.shape,o,a,n,g),(0,p.p)(i,o,a.shape,n,g)];if(null!=s){const e=(0,f.pf)(s,o);c.push(e)}return c},$={x:I,filter:_,bias:R,preluActivationWeights:M},B={strides:n,pad:g,dataFormat:y,dilations:v,dimRoundingMode:k,activation:w,leakyreluAlpha:C};if(null==x){const e=(0,i.cb)(((e,t,n)=>{let i=a.BV.runKernel(r._V,$,B);return n([t,e,i]),A&&(i=(0,b.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:D}}));return e(I,_)}{const e=(0,i.cb)(((e,t,n,i)=>{let s=a.BV.runKernel(r._V,$,B);return i([t,e,s,n]),A&&(s=(0,b.X)(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:D}}));return e(I,_,R)}}});var v=n(64718),k=n(88098),x=n(54375);const w=(0,g.op)({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:d,dataFormat:p="NHWC",dilations:h=[1,1],dimRoundingMode:g,bias:y,activation:w="linear",preluActivationWeights:S,leakyreluAlpha:C}){if(!1===(0,f.uy)(a.BV.state.gradientDepth,w)){let a=(0,v.B)(e,t,n,d,p,h,g);return null!=y&&(a=(0,c.I)(a,y)),(0,f.QH)(a,w,S,C)}const T=(0,o._1)(e,"x","depthwiseConv2d","float32"),_=(0,o._1)(t,"filter","depthwiseConv2d","float32");let I=T,A=!1;3===T.rank&&(A=!0,I=(0,b.X)(T,[1,T.shape[0],T.shape[1],T.shape[2]])),l.hu(4===I.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${I.rank}.`)),l.hu(4===_.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${_.rank}.`)),l.hu(I.shape[3]===_.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${I.shape[3]}) must match the inChannels dimension in filter ${_.shape[2]}.`)),null==h&&(h=[1,1]),l.hu(m.jT(n,h),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${h}'`)),m.m("fused depthwiseConv2d",d,g);const N=m.Ix(I.shape,_.shape,n,h,d,g,!0);let E,R;null!=y&&(E=(0,o._1)(y,"bias","fused conv2d"),[E]=(0,s.makeTypesMatch)(E,T),u.assertAndGetBroadcastShape(N.outShape,E.shape)),null!=S&&(R=(0,o._1)(S,"prelu weights","fused depthwiseConv2d"));const M=(e,t)=>{l.hu(m.I0(h),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${h}'`));const[a,i,r,s]=t,o=(0,f.Fr)(e,r,w),c=(0,x.v)(i.shape,o,a,n,d,h,g),u=(0,k.z)(i,o,a.shape,n,d,h,g);if(null!=s){return[c,u,(0,f.pf)(E,o)]}return[c,u]},D={x:I,filter:_,bias:E,preluActivationWeights:R},$={strides:n,pad:d,dataFormat:p,dilations:h,dimRoundingMode:g,activation:w,leakyreluAlpha:C};if(null==y){const e=(0,i.cb)(((e,t,n)=>{let i=a.BV.runKernel(r.lu,D,$);return n([t,e,i]),A&&(i=(0,b.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:M}}));return e(I,_)}{const e=(0,i.cb)(((e,t,n,i)=>{let s=a.BV.runKernel(r.lu,D,$);return i([t,e,s,n]),A&&(s=(0,b.X)(s,[s.shape[1],s.shape[2],s.shape[3]])),{value:s,gradFunc:M}}));return e(I,_,E)}}});var S=n(28687);const C=(0,g.op)({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:d=!1,bias:p,activation:h="linear",preluActivationWeights:m,leakyreluAlpha:g}){if(!1===(0,f.uy)(a.BV.state.gradientDepth,h)){let a=(0,S.O)(e,t,n,d);return null!=p&&(a=(0,c.I)(a,p)),(0,f.QH)(a,h,m,g)}let y=(0,o._1)(e,"a","fused matMul"),v=(0,o._1)(t,"b","fused matMul");[y,v]=(0,s.makeTypesMatch)(y,v);const k=n?y.shape[y.rank-2]:y.shape[y.rank-1],x=d?v.shape[v.rank-1]:v.shape[v.rank-2],w=n?y.shape[y.rank-1]:y.shape[y.rank-2],C=d?v.shape[v.rank-2]:v.shape[v.rank-1],T=y.shape.slice(0,-2),_=v.shape.slice(0,-2),I=l.NA(T),A=l.NA(_);l.hu(k===x,(()=>`Error in fused matMul: inner shapes (${k}) and (${x}) of Tensors with shapes ${y.shape} and ${v.shape} and transposeA=${n} and transposeB=${d} must match.`));const N=u.assertAndGetBroadcastShape(y.shape.slice(0,-2),v.shape.slice(0,-2)).concat([w,C]),E=n?(0,b.X)(y,[I,k,w]):(0,b.X)(y,[I,w,k]),R=d?(0,b.X)(v,[A,C,x]):(0,b.X)(v,[A,x,C]);let M,D;null!=p&&(M=(0,o._1)(p,"bias","fused matMul"),[M]=(0,s.makeTypesMatch)(M,y),u.assertAndGetBroadcastShape(N,M.shape)),null!=m&&(D=(0,o._1)(m,"prelu weights","fused matMul"));const $=(e,t)=>{const[a,i,r,s]=t,o=(0,f.Fr)((0,b.X)(e,r.shape),r,h);let l,c;if(n||d?!n&&d?(l=(0,S.O)(o,i,!1,!1),c=(0,S.O)(o,a,!0,!1)):n&&!d?(l=(0,S.O)(i,o,!1,!0),c=(0,S.O)(a,o,!1,!1)):(l=(0,S.O)(i,o,!0,!0),c=(0,S.O)(o,a,!0,!0)):(l=(0,S.O)(o,i,!1,!0),c=(0,S.O)(a,o,!0,!1)),null!=p){return[l,c,(0,f.pf)(s,o)]}return[l,c]},B={a:E,b:R,bias:M,preluActivationWeights:D},L={transposeA:n,transposeB:d,activation:h,leakyreluAlpha:g};if(null==p){const e=(0,i.cb)(((e,t,n)=>{const i=a.BV.runKernel(r.us,B,L);return n([e,t,i]),{value:(0,b.X)(i,N),gradFunc:$}}));return e(E,R)}{const e=(0,i.cb)(((e,t,n,i)=>{const s=a.BV.runKernel(r.us,B,L);return i([e,t,s,n]),{value:(0,b.X)(s,N),gradFunc:$}}));return e(E,R,M)}}})},19323:(e,t,n)=>{"use strict";n.d(t,{Fr:()=>m,QH:()=>g,pf:()=>f,uy:()=>b});var a=n(72200),i=n(83233),r=n(99133),s=n(24841),o=n(98151),l=n(7409),c=n(83582),u=n(4968),d=n(30625),p=n(71901),h=n(15475);function m(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,s.d)(e,(0,p.N)(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function f(e,t){let n=t;const i=a.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,h.S)(n,i)),(0,u.X)(n,e.shape)}function g(e,t,n,a){if("linear"===t)return e;if("relu"===t)return(0,l.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,o.A)(e,n);if("leakyrelu"===t)return(0,r.h)(e,a);if("sigmoid"===t)return(0,d.X)(e);throw new Error(`Unknown fused activation ${t}.`)}const b=(e,t)=>!(e>0)||"linear"===t},24926:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({gather_:function(e,t,n=0,s=0){const o={x:(0,r._1)(e,"x","gather"),indices:(0,r._1)(t,"indices","gather","int32")},l={axis:n,batchDims:s};return a.BV.runKernel(i.qi,o,l)}})},87494:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({gatherND_:function(e,t){const n=(0,r._1)(t,"indices","gatherND","int32"),s={params:(0,r._1)(e,"x","gatherND","string_or_numeric"),indices:n};return a.BV.runKernel(i.q1,s)}})},20636:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({greater_:function(e,t){let n=(0,s._1)(e,"a","greater","string_or_numeric"),l=(0,s._1)(t,"b","greater","string_or_numeric");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i.iZ,c)}})},17630:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({greaterEqual_:function(e,t){let n=(0,s._1)(e,"a","greaterEqual","string_or_numeric"),l=(0,s._1)(t,"b","greaterEqual","string_or_numeric");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i.Ac,c)}})},64386:(e,t,n)=>{"use strict";n.d(t,{a:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({imag_:function(e){const t={input:(0,r._1)(e,"input","imag")};return a.BV.runKernel(i.J_,t)}})},13305:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2668),l=n(4968);const c=(0,o.op)({resizeBilinear_:function(e,t,n=!1,o=!1){const c=(0,r._1)(e,"images","resizeBilinear");s.hu(3===c.rank||4===c.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${c.rank}.`)),s.hu(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),s.hu(!1===o||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let u=c,d=!1;3===c.rank&&(d=!0,u=(0,l.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));const[]=t,p={images:u},h={alignCorners:n,halfPixelCenters:o,size:t},m=a.BV.runKernel(i._Y,p,h);return d?(0,l.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},95098:(e,t,n)=>{"use strict";n.d(t,{j:()=>c});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2668),l=n(4968);const c=(0,o.op)({resizeNearestNeighbor_:function(e,t,n=!1,o=!1){const c=(0,r._1)(e,"images","resizeNearestNeighbor");s.hu(3===c.rank||4===c.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${c.rank}.`)),s.hu(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),s.hu("float32"===c.dtype||"int32"===c.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),s.hu(!1===o||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let u=c,d=!1;3===c.rank&&(d=!0,u=(0,l.X)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));const[]=t,p={images:u},h={alignCorners:n,halfPixelCenters:o,size:t},m=a.BV.runKernel(i.dp,p,h);return d?(0,l.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},13963:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({isFinite_:function(e){const t={x:(0,r._1)(e,"x","isFinite")};return a.BV.runKernel(i.av,t)}})},4365:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({isInf_:function(e){const t={x:(0,r._1)(e,"x","isInf")};return a.BV.runKernel(i.iW,t)}})},96230:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({isNaN_:function(e){const t={x:(0,r._1)(e,"x","isNaN")};return a.BV.runKernel(i.r7,t)}})},99133:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({leakyRelu_:function(e,t=.2){const n={x:(0,r._1)(e,"x","leakyRelu")},s={alpha:t};return a.BV.runKernel(i.J$,n,s)}})},86573:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({less_:function(e,t){let n=(0,s._1)(e,"a","less","string_or_numeric"),l=(0,s._1)(t,"b","less","string_or_numeric");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i.vt,c)}})},50624:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({lessEqual_:function(e,t){let n=(0,s._1)(e,"a","lessEqual","string_or_numeric"),l=(0,s._1)(t,"b","lessEqual","string_or_numeric");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i.CA,c)}})},14135:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var a=n(50196),i=n(29121);function r(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:e,stop:t,num:n};return a.BV.runKernel(i.e7,{},r)}},79648:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2668),l=n(4968);const c=(0,o.op)({localResponseNormalization_:function(e,t=5,n=1,o=1,c=.5){const u=(0,r._1)(e,"x","localResponseNormalization");s.hu(4===u.rank||3===u.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${u.rank}.`)),s.hu(s.GN(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let d=u,p=!1;3===u.rank&&(p=!0,d=(0,l.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));const h={x:d},m={depthRadius:t,bias:n,alpha:o,beta:c},f=a.BV.runKernel(i.eZ,h,m);return p?(0,l.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}})},82597:(e,t,n)=>{"use strict";n.d(t,{c:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({log_:function(e){const t={x:(0,r._1)(e,"x","log","float32")};return a.BV.runKernel(i.Zb,t)}})},17474:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({log1p_:function(e){const t={x:(0,r._1)(e,"x","log1p")};return a.BV.runKernel(i.kU,t)}})},13888:(e,t,n)=>{"use strict";n.d(t,{e:()=>u});var a=n(30633),i=n(43740),r=n(24841),s=n(17370),o=n(2668),l=n(30625),c=n(3694);const u=(0,o.op)({logSigmoid_:function(e){const t=(0,i._1)(e,"x","logSigmoid"),n=(0,a.cb)((e=>({value:(0,s.W)((0,c.W)((0,s.W)(e))),gradFunc:t=>(0,r.d)(t,(0,l.X)((0,s.W)(e)))})));return n(t)}})},31510:(e,t,n)=>{"use strict";n.d(t,{C:()=>h});var a=n(30633),i=n(43740),r=n(62271),s=n(44842),o=n(82597),l=n(83307),c=n(24841),u=n(2668),d=n(70827),p=n(15475);const h=(0,u.op)({logSoftmax_:function(e,t=-1){const n=(0,i._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const u=(0,a.cb)(((e,n)=>{const a=(0,l.F)(e,t,!0),i=(0,d.l)(e,a),u=(0,d.l)((0,r.p)(i,"float32"),(0,o.c)((0,p.S)((0,s.Q)(i),t,!0)));n([u]);return{value:u,gradFunc:(e,n)=>{const[a]=n,i=(0,s.Q)(a);return(0,d.l)(e,(0,c.d)((0,p.S)(e,t,!0),i))}}}));return u(n)}})},11391:(e,t,n)=>{"use strict";n.d(t,{l:()=>m});var a=n(43740),i=n(20569),r=n(56407),s=n(83591),o=n(44842),l=n(82597),c=n(83307),u=n(2668),d=n(4968),p=n(70827),h=n(15475);const m=(0,u.op)({logSumExp_:function(e,t=null,n=!1){const u=(0,a._1)(e,"x","logSumExp"),m=(0,i.EC)(t,u.shape),f=(0,c.F)(u,m,!0),g=(0,p.l)(u,f),b=(0,o.Q)(g),y=(0,h.S)(b,m),v=(0,l.c)(y),k=(0,r.I)((0,d.X)(f,v.shape),v);if(n){const e=(0,s.rv)(k.shape,m);return(0,d.X)(k,e)}return k}})},2856:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(72200);const o=(0,n(2668).op)({logicalAnd_:function(e,t){const n=(0,r._1)(e,"a","logicalAnd","bool"),o=(0,r._1)(t,"b","logicalAnd","bool");(0,s.assertAndGetBroadcastShape)(n.shape,o.shape);const l={a:n,b:o};return a.BV.runKernel(i.PY,l)}})},38651:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({logicalNot_:function(e){const t={x:(0,r._1)(e,"x","logicalNot","bool")};return a.BV.runKernel(i.Vf,t)}})},15750:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(72200);const o=(0,n(2668).op)({logicalOr_:function(e,t){const n=(0,r._1)(e,"a","logicalOr","bool"),o=(0,r._1)(t,"b","logicalOr","bool");(0,s.assertAndGetBroadcastShape)(n.shape,o.shape);const l={a:n,b:o};return a.BV.runKernel(i.MZ,l)}})},10596:(e,t,n)=>{"use strict";n.d(t,{e:()=>l});var a=n(43740),i=n(72200),r=n(2856),s=n(38651),o=n(15750);const l=(0,n(2668).op)({logicalXor_:function(e,t){const n=(0,a._1)(e,"a","logicalXor","bool"),l=(0,a._1)(t,"b","logicalXor","bool");return(0,i.assertAndGetBroadcastShape)(n.shape,l.shape),(0,r.H)((0,o.K)(e,t),(0,s.h)((0,r.H)(e,t)))}})},49876:(e,t,n)=>{"use strict";var a;n.d(t,{I:()=>a}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(a||(a={}))},94608:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var a=n(43336);function i(e,t){return(0,a.z)(e,t,"left")}},28687:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({matMul_:function(e,t,n=!1,o=!1){let l=(0,s._1)(e,"a","matMul"),c=(0,s._1)(t,"b","matMul");[l,c]=(0,r.makeTypesMatch)(l,c);const u={a:l,b:c},d={transposeA:n,transposeB:o};return a.BV.runKernel(i.XL,u,d)}})},83307:(e,t,n)=>{"use strict";n.d(t,{F:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({max_:function(e,t=null,n=!1){const s={x:(0,r._1)(e,"x","max")},o={reductionIndices:t,keepDims:n};return a.BV.runKernel(i.Yo,s,o)}})},21174:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({maxPool_:function(e,t,n,l,u){const d=(0,r._1)(e,"x","maxPool");let p=d,h=!1;3===d.rank&&(h=!0,p=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),s.hu(4===p.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${p.rank}.`)),s.hu(o.jT(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),o.m("maxPool",l,u);const m={x:p},f={filterSize:t,strides:n,pad:l,dimRoundingMode:u},g=a.BV.runKernel(i.mT,m,f);return h?(0,c.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},25020:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({maxPool3d_:function(e,t=[1,1,1],n,l,u,d="NDHWC"){const p=(0,r._1)(e,"x","maxPool3d");let h=p,m=!1;4===p.rank&&(m=!0,h=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),s.hu(5===h.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${h.rank}.`)),s.hu("NDHWC"===d,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${d}`)),(0,o.m)("maxPool3d",l,u);const f={x:h},g={filterSize:t,strides:n,pad:l,dimRoundingMode:u,dataFormat:d},b=a.BV.runKernel(i.OA,f,g);return m?(0,c.X)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}})},96877:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({maxPoolWithArgmax_:function(e,t,n,s,o=!1){const l={x:(0,r._1)(e,"x","maxPoolWithArgmax")},c={filterSize:t,strides:n,pad:s,includeBatchInIndex:o},u=a.BV.runKernel(i.vF,l,c);return{result:u[0],indexes:u[1]}}})},80632:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200),l=n(62271);const c=(0,n(2668).op)({maximum_:function(e,t){let n=(0,s._1)(e,"a","maximum"),c=(0,s._1)(t,"b","maximum");[n,c]=(0,r.makeTypesMatch)(n,c),"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),c=(0,l.p)(c,"int32")),(0,o.assertAndGetBroadcastShape)(n.shape,c.shape);const u={a:n,b:c};return a.BV.runKernel(i.BM,u)}})},75130:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({mean_:function(e,t=null,n=!1){const s={x:(0,r._1)(e,"x","mean")},o={axis:t,keepDims:n};return a.BV.runKernel(i.q2,s,o)}})},25735:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({min_:function(e,t=null,n=!1){const s={x:(0,r._1)(e,"x","min")},o={axis:t,keepDims:n};return a.BV.runKernel(i.c1,s,o)}})},24513:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200),l=n(62271);const c=(0,n(2668).op)({minimum_:function(e,t){let n=(0,s._1)(e,"a","minimum"),c=(0,s._1)(t,"b","minimum");[n,c]=(0,r.makeTypesMatch)(n,c),"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),c=(0,l.p)(c,"int32")),(0,o.assertAndGetBroadcastShape)(n.shape,c.shape);const u={a:n,b:c};return a.BV.runKernel(i.q8,u)}})},71483:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({mirrorPad_:function(e,t,n){s.hu("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const o=(0,r._1)(e,"x","mirrorPad");if(0===o.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");s.hu(t.length===o.rank,(()=>`Padding doesn't match input. Must be ${o.rank}. Got ${t.length}.`));const l="reflect"===n?1:0;for(let e=0;e<o.rank;e++)s.hu(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),s.hu(t[e][0]>=0&&t[e][0]<=o.shape[e]-l&&t[e][1]>=0&&t[e][1]<=o.shape[e]-l,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${o.shape[e]-l} or less than 0 for input of shape ${o.shape}`));const c={paddings:t,mode:n},u={x:o};return a.BV.runKernel(i.jQ,u,c)}})},85228:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({mod_:function(e,t){let n=(0,s._1)(e,"a","mod"),o=(0,s._1)(t,"b","mod");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.Vb,l)}})},24841:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({mul_:function(e,t){let n=(0,s._1)(e,"a","mul"),o=(0,s._1)(t,"b","mul");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.wY,l)}})},90686:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var a=n(50196),i=n(29121),r=n(43740),s=n(2668),o=n(4968);const l=(0,s.op)({multinomial_:function(e,t,n,s=!1){const l=(0,r._1)(e,"logits","multinomial"),c=l.size,u=l.rank;if(c<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${c}.`);if(u>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${u}`);n=n||Math.random();const d={logits:1===u?(0,o.X)(l,[1,-1]):l},p={numSamples:t,seed:n,normalized:s},h=a.BV.runKernel(i.NZ,d,p);return 1===u?(0,o.X)(h,[h.size]):h}})},17370:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({neg_:function(e){const t={x:(0,r._1)(e,"x","neg")};return a.BV.runKernel(i.ku,t)}})},3561:(e,t,n)=>{"use strict";n.d(t,{K:()=>b});var a=n(43740),i=n(20569),r=n(96235),s=n(83591),o=n(83307),l=n(25735),c=n(2668),u=n(33453),d=n(4968),p=n(99494),h=n(13261),m=n(50248),f=n(15475);function g(e,t,n=null){if(0===e.rank)return(0,r.W)(e);if(1!==e.rank&&null===n)return g((0,d.X)(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,f.S)((0,r.W)(e),n);if(t===1/0)return(0,o.F)((0,r.W)(e),n);if(t===-1/0)return(0,l.V)((0,r.W)(e),n);if("euclidean"===t||2===t)return(0,h._)((0,f.S)((0,u.s)((0,r.W)(e),(0,p.i)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,o.F)((0,f.S)((0,r.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,o.F)((0,f.S)((0,r.W)(e),n[1]),n[0]);if(t===-1/0)return(0,l.V)((0,f.S)((0,r.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,h._)((0,f.S)((0,m.h)(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const b=(0,c.op)({norm_:function(e,t="euclidean",n=null,r=!1){const o=g(e=(0,a._1)(e,"x","norm"),t,n);let l=o.shape;if(r){const t=(0,i.EC)(n,e.shape);l=s.rv(o.shape,t)}return(0,d.X)(o,l)}})},16500:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({notEqual_:function(e,t){let n=(0,s._1)(e,"a","notEqual","string_or_numeric"),l=(0,s._1)(t,"b","notEqual","string_or_numeric");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i.yQ,c)}})},76708:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({oneHot_:function(e,t,n=1,s=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const o={indices:(0,r._1)(e,"indices","oneHot","int32")},l={depth:t,onValue:n,offValue:s};return a.BV.runKernel(i.we,o,l)}})},44917:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var a=n(50196),i=n(20569),r=n(61661),s=n(59640);function o(e,t="float32"){if("complex64"===t){const t=o(e,"float32"),n=(0,s.l)(e,"float32");return(0,r.P)(t,n)}const n=(0,i.p8)((0,i.NA)(e),t);return a.BV.makeTensor(n,e,t)}},7846:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({onesLike_:function(e){const t={x:(0,r._1)(e,"x","onesLike")};return a.BV.runKernel(i.qW,t)}})},2668:(e,t,n)=>{"use strict";n.d(t,{op:()=>s,z:()=>r});var a=n(50196),i=n(20569);const r="__op";function s(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const s=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=r;const o=(...e)=>{a.BV.startScope(n);try{const t=s(...e);return(0,i.tI)(t)&&console.error("Cannot return a Promise inside of tidy."),a.BV.endScope(t),t}catch(e){throw a.BV.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}},81238:(e,t,n)=>{"use strict";n.d(t,{zvA:()=>S.z,WnP:()=>a.W,Khb:()=>i.K,__u:()=>r._,IHx:()=>s.I,QBD:()=>o.Q,$6P:()=>l.$,YjB:()=>c.Y,NqF:()=>u.N,vHJ:()=>d.v,ZRM:()=>p.Z,VfV:()=>h.V,z4N:()=>m.z,fvJ:()=>f.f,C80:()=>g.C,wS1:()=>b.w,uR5:()=>y.u,zEQ:()=>I,tgs:()=>N.t,Dxk:()=>R,JY5:()=>M,p3b:()=>D,E4h:()=>A.E,yE8:()=>$.y,anm:()=>jn,XsQ:()=>B.X,UFq:()=>L.U,f3b:()=>F.f,pju:()=>O.p,mDi:()=>j.m,iUl:()=>z.i,d9v:()=>P.d,PYB:()=>W.P,zoF:()=>k.z,gME:()=>G,Izb:()=>V,MNy:()=>U,ZaL:()=>H,PAt:()=>q.P,Tek:()=>K.T,bc:()=>J.b,pdZ:()=>X.p,$QV:()=>Z,mCk:()=>Q.m,f9Y:()=>ee.f,mew:()=>Xn,$Gn:()=>te.$,zbp:()=>ne.z,ppE:()=>ae.p,nTT:()=>ie.n,B10:()=>re.B,Ka3:()=>le,WmZ:()=>ce.W,hiC:()=>ue.h,NTj:()=>de.N,AKD:()=>pe.A,rvX:()=>Kn,WYO:()=>he.W,pyx:()=>me.p,GRh:()=>Jn,DgJ:()=>fe.D,qNN:()=>ge.q,d2q:()=>be.d,Qqt:()=>ye.Q,dt4:()=>ve.d,t$B:()=>ke.t,iyy:()=>Se,kp_:()=>on.k,hlL:()=>Ce.h,GWj:()=>Te.G,qPi:()=>_e.q,imm:()=>Zn,Iqj:()=>Ie.I,dbB:()=>qn.d,pjt:()=>Ae.p,brS:()=>Ne.b,Sxn:()=>ln.S,asL:()=>Ee.a,BHj:()=>Va,V3u:()=>Yn,wx0:()=>cn.w,xVT:()=>Re.x,UWc:()=>Me.U,i2d:()=>De.i,hi7:()=>$e.h,d9m:()=>Be.d,zN1:()=>Le.z,$r2:()=>Ua,SX3:()=>Fe.S,G9k:()=>Oe.G,cM7:()=>je.c,Krr:()=>ze.K,e_t:()=>Pe.e,CmS:()=>We.C,l_t:()=>Ge.l,HvI:()=>Ve.H,hJK:()=>Ue.h,K5V:()=>He.K,egP:()=>qe.e,MB5:()=>Ha,eab:()=>Ke.e,OI3:()=>x.O,Fp7:()=>Je.F,_sB:()=>Xe._,YQQ:()=>Ye.Y,Ip$:()=>Ze.I,gWQ:()=>Qe.g,J69:()=>et.J,ry_:()=>at,VV$:()=>it.V,LTh:()=>rt.L,VdP:()=>st.V,wQq:()=>ot.w,Gi7:()=>dt,p_:()=>Gn,dC7:()=>w.d,rq4:()=>pt,SJ_:()=>ht.S,W76:()=>mt.W,KOy:()=>Pn.K,Quu:()=>ft.Q,lfX:()=>gt.l,iUs:()=>tt.i,JpU:()=>bt.J,op:()=>S.op,N2O:()=>yt,vku:()=>vt.v,pNR:()=>kt,koy:()=>xt,t1L:()=>wt,lGY:()=>St,d_R:()=>Ct.d,sQ3:()=>Tt.s,AL3:()=>_t.A,S0v:()=>It.S,WVs:()=>At.W,TN_:()=>Nt,wzB:()=>Rt,nGf:()=>Mt,LGj:()=>Dt.L,w6H:()=>$t.w,kwC:()=>Bt.k,M25:()=>Lt.M,UYe:()=>Ft.U,btT:()=>Ot.b,XLQ:()=>xe.X,GYS:()=>jt.G,SDf:()=>zt,diP:()=>Pt,sx7:()=>Wt,mG2:()=>Gt,QEs:()=>un.Q,NMM:()=>Vt.N,bp0:()=>Ut.b,iD$:()=>Ht.i,snQ:()=>Vn.s,zcT:()=>Un.z,U8D:()=>qt.U,U_I:()=>Kt.U,ODp:()=>Jt.O,XD2:()=>C.X,Xxe:()=>Xt.X,tdS:()=>Ga,O$l:()=>Yt.O,R_K:()=>Zt.R,tPi:()=>T.t,jZU:()=>Qt,SmN:()=>en,CnO:()=>tn,p0P:()=>nn,XAC:()=>an.X,Wvh:()=>rn.W,fBT:()=>sn.f,rVs:()=>qa,ers:()=>Hn.e,uN7:()=>Wa,Vl2:()=>dn.V,_b3:()=>pn._,h62:()=>ct.h,$i:()=>hn.$,L9e:()=>mn.L,knu:()=>fn.k,Nbs:()=>gn.N,NXj:()=>bn.N,Z_8:()=>Ka,luU:()=>ut.l,Smz:()=>yn.S,ORZ:()=>vn.O,AEp:()=>_.A,XeE:()=>kn.X,RRF:()=>xn.R,odF:()=>Sn,wOQ:()=>Cn.w,yXz:()=>Tn,Bfx:()=>_n,xZs:()=>In,Gg6:()=>we.G,hg7:()=>An.h,p4s:()=>zn.p,Xu6:()=>Nn.X,Two:()=>En.T,pUJ:()=>Rn.p,HHK:()=>Mn.H,GaM:()=>Dn.G,VD$:()=>$n,arb:()=>Bn.a,itS:()=>Ln.i,lls:()=>Fn.l,P84:()=>On.P});var a=n(96235),i=n(17839),r=n(91470),s=n(56407),o=n(13135),l=n(90781),c=n(92998),u=n(40047),d=n(27394),p=n(72421),h=n(21891),m=n(77037),f=n(29812),g=n(80369),b=n(15176),y=n(61749),v=n(43740),k=n(46884),x=n(28687),w=n(24841),S=n(2668),C=n(30625),T=n(22676),_=n(21869);const I=(0,S.op)({basicLSTMCell_:function(e,t,n,a,i,r){const o=(0,v._1)(e,"forgetBias","basicLSTMCell"),l=(0,v._1)(t,"lstmKernel","basicLSTMCell"),c=(0,v._1)(n,"lstmBias","basicLSTMCell"),u=(0,v._1)(a,"data","basicLSTMCell"),d=(0,v._1)(i,"c","basicLSTMCell"),p=(0,v._1)(r,"h","basicLSTMCell"),h=(0,k.z)([u,p],1),m=(0,x.O)(h,l),f=(0,s.I)(m,c),g=f.shape[0],b=f.shape[1]/4,y=[g,b],S=(0,T.t)(f,[0,0],y),I=(0,T.t)(f,[0,b],y),A=(0,T.t)(f,[0,2*b],y),N=(0,T.t)(f,[0,3*b],y),E=(0,s.I)((0,w.d)((0,C.X)(S),(0,_.A)(I)),(0,w.d)(d,(0,C.X)((0,s.I)(o,A))));return[E,(0,w.d)((0,_.A)(E),(0,C.X)(N))]}});var A=n(28441),N=n(40094),E=n(20569);const R=(0,S.op)({batchNorm2d_:function(e,t,n,a,i,r){const s=(0,v._1)(e,"x","batchNorm"),o=(0,v._1)(t,"mean","batchNorm"),l=(0,v._1)(n,"variance","batchNorm");let c,u;return null!=i&&(c=(0,v._1)(i,"scale","batchNorm")),null!=a&&(u=(0,v._1)(a,"offset","batchNorm")),E.hu(2===s.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${s.rank}.`)),E.hu(2===o.rank||1===o.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${o.rank}.`)),E.hu(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=c&&E.hu(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=u&&E.hu(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`)),(0,N.t)(s,o,l,u,c,r)}});const M=(0,S.op)({batchNorm3d_:function(e,t,n,a,i,r){const s=(0,v._1)(e,"x","batchNorm"),o=(0,v._1)(t,"mean","batchNorm"),l=(0,v._1)(n,"variance","batchNorm");let c,u;return null!=i&&(c=(0,v._1)(i,"scale","batchNorm")),null!=a&&(u=(0,v._1)(a,"offset","batchNorm")),E.hu(3===s.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${s.rank}.`)),E.hu(3===o.rank||1===o.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${o.rank}.`)),E.hu(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=c&&E.hu(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=u&&E.hu(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`)),(0,N.t)(s,o,l,u,c,r)}});const D=(0,S.op)({batchNorm4d_:function(e,t,n,a,i,r){const s=(0,v._1)(e,"x","batchNorm"),o=(0,v._1)(t,"mean","batchNorm"),l=(0,v._1)(n,"variance","batchNorm");let c,u;return null!=i&&(c=(0,v._1)(i,"scale","batchNorm")),null!=a&&(u=(0,v._1)(a,"offset","batchNorm")),E.hu(4===s.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${s.rank}.`)),E.hu(4===o.rank||1===o.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${o.rank}.`)),E.hu(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=c&&E.hu(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=u&&E.hu(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`)),(0,N.t)(s,o,l,u,c,r)}});var $=n(93865),B=n(88194),L=n(68247),F=n(72657),O=n(62271),j=n(6825),z=n(42279),P=n(8723),W=n(61661);const G=(0,S.op)({concat1d_:function(e){return(0,k.z)(e,0)}});const V=(0,S.op)({concat2d_:function(e,t){return(0,k.z)(e,t)}});const U=(0,S.op)({concat3d_:function(e,t){return(0,k.z)(e,t)}});const H=(0,S.op)({concat4d_:function(e,t){return(0,k.z)(e,t)}});var q=n(11355),K=n(64794),J=n(71405),X=n(70473),Y=n(97594);const Z=(0,S.op)({conv3dTranspose_:function(e,t,n,a,i){const r=(0,v._1)(e,"x","conv3dTranspose"),s=(0,v._1)(t,"filter","conv3dTranspose");return(0,Y._)(n,r,s,a,i)}});var Q=n(70173),ee=n(2699),te=n(9640),ne=n(37405),ae=n(75746),ie=n(89112),re=n(64718),se=n(50196),oe=n(29121);const le=(0,S.op)({diag_:function(e){const t={x:(0,v._1)(e,"x","diag")};return se.BV.runKernel(oe.$w,t)}});var ce=n(70557),ue=n(41274),de=n(49322),pe=n(30548),he=n(94653),me=n(83233),fe=n(26477),ge=n(34650),be=n(31954),ye=n(44842),ve=n(81300),ke=n(53426),xe=n(4968),we=n(47501);const Se=(0,S.op)({eye_:function(e,t,n,a="float32"){null==t&&(t=e);const i=(0,F.f)([e,t],a),r=e<=t?e:t;for(let e=0;e<r;++e)i.set(1,e,e);const s=(0,xe.X)(i.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return(0,we.G)((0,ve.d)(s,0),[n[0],1,1]);if(2===n.length)return(0,we.G)((0,ve.d)((0,ve.d)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,we.G)((0,ve.d)((0,ve.d)((0,ve.d)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});var Ce=n(14006),Te=n(26943),_e=n(9165),Ie=n(24926),Ae=n(20636),Ne=n(17630),Ee=n(64386),Re=n(13963),Me=n(4365),De=n(96230),$e=n(99133),Be=n(86573),Le=n(50624),Fe=n(14135),Oe=n(79648),je=n(82597),ze=n(17474),Pe=n(13888),We=n(31510),Ge=n(11391),Ve=n(2856),Ue=n(38651),He=n(15750),qe=n(10596),Ke=n(94608),Je=n(83307),Xe=n(21174),Ye=n(25020),Ze=n(96877),Qe=n(80632),et=n(75130),tt=n(44917),nt=n(40974);function at(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let a=(0,v._1)(e,"x","meshgrid",e instanceof nt.es?e.dtype:"float32");if(void 0===t)return[a];let i=(0,v._1)(t,"y","meshgrid",t instanceof nt.es?t.dtype:"float32");const r=(0,E.NA)(a.shape),s=(0,E.NA)(i.shape);return"xy"===n?(a=(0,xe.X)(a,[1,-1]),i=(0,xe.X)(i,[-1,1]),[(0,x.O)((0,tt.i)([s,1],a.dtype),a),(0,x.O)(i,(0,tt.i)([1,r],i.dtype))]):(a=(0,xe.X)(a,[-1,1]),i=(0,xe.X)(i,[1,-1]),[(0,x.O)(a,(0,tt.i)([1,s],a.dtype)),(0,x.O)((0,tt.i)([r,1],i.dtype),i)])}var it=n(25735),rt=n(24513),st=n(71483),ot=n(85228),lt=n(83591),ct=n(50248),ut=n(70827);const dt=(0,S.op)({moments_:function(e,t=null,n=!1){e=(0,v._1)(e,"x","moments");const a=(0,E.EC)(t,e.shape),i=(0,et.J)(e,a,n);let r=i.shape;n||(r=(0,lt.rv)(i.shape,a));const s=(0,ct.h)((0,ut.l)((0,O.p)(e,"float32"),(0,xe.X)(i,r)));return{mean:i,variance:(0,et.J)(s,a,n)}}});const pt=(0,S.op)({multiRNNCell_:function(e,t,n,a){const i=(0,v._1)(t,"data","multiRNNCell"),r=(0,v.sI)(n,"c","multiRNNCell"),s=(0,v.sI)(a,"h","multiRNNCell");let o=i;const l=[];for(let t=0;t<e.length;t++){const n=e[t](o,r[t],s[t]);l.push(n[0]),l.push(n[1]),o=n[1]}const c=[],u=[];for(let e=0;e<l.length;e+=2)c.push(l[e]),u.push(l[e+1]);return[c,u]}});var ht=n(90686),mt=n(17370),ft=n(16500),gt=n(76708),bt=n(7846);const yt=(0,S.op)({outerProduct_:function(e,t){const n=(0,v._1)(e,"v1","outerProduct"),a=(0,v._1)(t,"v2","outerProduct");E.hu(1===n.rank&&1===a.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${a.rank}.`));const i=(0,xe.X)(n,[-1,1]),r=(0,xe.X)(a,[1,-1]);return(0,x.O)(i,r)}});var vt=n(39682);const kt=(0,S.op)({pad1d_:function(e,t,n=0){return(0,E.hu)(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),(0,vt.v)(e,[t],n)}});const xt=(0,S.op)({pad2d_:function(e,t,n=0){return(0,E.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,vt.v)(e,t,n)}});const wt=(0,S.op)({pad3d_:function(e,t,n=0){return(0,E.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,vt.v)(e,t,n)}});const St=(0,S.op)({pad4d_:function(e,t,n=0){return(0,E.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,vt.v)(e,t,n)}});var Ct=n(85860),Tt=n(33453),_t=n(98151),It=n(29798),At=n(49451);const Nt=(0,S.op)({rand_:function(e,t,n){const a=(0,E.NA)(e);let i=null;if(null==n||"float32"===n)i=new Float32Array(a);else if("int32"===n)i=new Int32Array(a);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);i=new Uint8Array(a)}for(let e=0;e<a;e++)i[e]=t();return se.BV.makeTensor(i,e,n)}});var Et=n(56845);const Rt=(0,S.op)({randomGamma_:function(e,t,n=1,a="float32",i){if(null==n&&(n=1),null==a&&(a="float32"),"float32"!==a&&"int32"!==a)throw new Error(`Unsupported data type ${a}`);const r=new Et.T9(t,n,a,i),s=(0,F.f)(e,a);for(let e=0;e<s.values.length;e++)s.values[e]=r.nextValue();return s.toTensor()}});const Mt=(0,S.op)({randomNormal_:function(e,t=0,n=1,a,i){if(null!=a&&"bool"===a)throw new Error(`Unsupported data type ${a}`);const r=new Et.Yi(t,n,a,!1,i),s=(0,F.f)(e,a);for(let e=0;e<s.values.length;e++)s.values[e]=r.nextValue();return s.toTensor()}});var Dt=n(75002),$t=n(47245),Bt=n(60766),Lt=n(19036),Ft=n(7409),Ot=n(83582),jt=n(57486);const zt=(0,S.op)({reverse1d_:function(e){const t=(0,v._1)(e,"x","reverse");return E.hu(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),(0,jt.G)(t,0)}});const Pt=(0,S.op)({reverse2d_:function(e,t){const n=(0,v._1)(e,"x","reverse");return E.hu(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),(0,jt.G)(n,t)}});const Wt=(0,S.op)({reverse3d_:function(e,t){const n=(0,v._1)(e,"x","reverse");return E.hu(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),(0,jt.G)(n,t)}});const Gt=(0,S.op)({reverse4d_:function(e,t){const n=(0,v._1)(e,"x","reverse");return E.hu(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),(0,jt.G)(n,t)}});var Vt=n(97809),Ut=n(32634),Ht=n(99494),qt=n(55503),Kt=n(68678),Jt=n(36567),Xt=n(34434),Yt=n(99331),Zt=n(83254);const Qt=(0,S.op)({slice1d_:function(e,t,n){const a=(0,v._1)(e,"x","slice1d");return E.hu(1===a.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,[t],[n])}});const en=(0,S.op)({slice2d_:function(e,t,n){const a=(0,v._1)(e,"x","slice2d");return E.hu(2===a.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,t,n)}});const tn=(0,S.op)({slice3d_:function(e,t,n){const a=(0,v._1)(e,"x","slice3d");return E.hu(3===a.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,t,n)}});const nn=(0,S.op)({slice4d_:function(e,t,n){const a=(0,v._1)(e,"x","slice4d");return E.hu(4===a.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${a.rank} tensor`)),(0,T.t)(a,t,n)}});var an=n(80682),rn=n(3694),sn=n(27918),on=n(7020),ln=n(88447),cn=n(84415),un=n(13710),dn=n(28644),pn=n(13261),hn=n(15265),mn=n(79590),fn=n(82991),gn=n(71901),bn=n(55158),yn=n(15475),vn=n(61173),kn=n(10701),xn=n(46092),wn=n(57852);function Sn(e,t,n){if((0,E.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const a=(0,v.C)(e,n);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,wn.H)(e,t,a,n)}var Cn=n(99906);function Tn(e,t,n){if((0,E.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const a=(0,v.C)(e,n);if(4!==a.length&&1!==a.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,wn.H)(e,t,a,n)}function _n(e,t,n){if((0,E.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const a=(0,v.C)(e,n);if(5!==a.length&&1!==a.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,wn.H)(e,t,a,n)}function In(e,t,n){if((0,E.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const a=(0,v.C)(e,n);if(6!==a.length&&1!==a.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||a,(0,wn.H)(e,t,a,n)}var An=n(43243),Nn=n(43596),En=n(49608),Rn=n(98749),Mn=n(24136),Dn=n(64978);function $n(e,t=!0,n,a){return se.BV.makeVariable(e,t,n,a)}var Bn=n(95912),Ln=n(66380),Fn=n(59640),On=n(6577);const jn=async function(e,t,n){const a=(0,v._1)(e,"tensor","boolMask"),i=(0,v._1)(t,"mask","boolMask","bool"),r=null==n?0:n,s=i.rank,o=a.shape;E.hu(s>0,(()=>"mask cannot be scalar")),E.k5(o.slice(r,r+s),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let e=r;e<r+s;e++)l*=o[e];const c=o.slice(0,r).concat([l],o.slice(r+s)),u=(0,xe.X)(a,c),d=(0,xe.X)(i,[-1]),p=await(0,Ln.i)(d),h=(0,mn.L)(p,[1]),m=(0,Ie.I)(u,h,r);return e!==a&&a.dispose(),t!==i&&i.dispose(),h.dispose(),u.dispose(),d.dispose(),p.dispose(),m};var zn=n(89065),Pn=n(3561),Wn=n(80747);const Gn=(0,S.op)({movingAverage_:function(e,t,n,a,i=!0){const r=(0,v._1)(e,"v","movingAverage"),o=(0,v._1)(t,"x","movingAverage"),l=(0,v._1)(n,"decay","movingAverage");(0,Wn.assertTypesMatch)(r,o),E.hu(E.cO(r.shape,o.shape),(()=>"Shape mismatch in v and x"));const c=(0,Ht.i)(1),u=(0,ut.l)(c,l);let d=(0,w.d)((0,ut.l)(o,r),u);if(i){E.hu(null!=a,(()=>"When using zeroDebias: true, step is required."));const e=(0,v._1)(a,"step","movingAverage");d=(0,ue.h)(d,(0,ut.l)(c,(0,Tt.s)(l,e)))}return(0,s.I)(r,d)}});var Vn=n(63100),Un=n(43336),Hn=n(69040),qn=n(87494);const Kn=(0,S.op)({dropout_:function(e,t,n,a){const i=(0,v._1)(e,"x","dropout");if(E.hu("float32"===i.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`)),E.hu(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof nt.es?i.clone():i;const r=function(e,t){if(null==t)return e.shape.slice();if(E.cO(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let a=0;a<e.shape.length;a++)null==t[a]&&null!=e.shape[a]?n.push(e.shape[a]):n.push(t[a]);return n}return t}(i,n),o=1-t,l=(0,ue.h)((0,Te.G)((0,s.I)((0,Dt.L)(r,0,1,"float32",a),o)),o);return(0,w.d)(i,l)}});function Jn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Xn(e,t,n){const a=1-e%2,i=new Float32Array(e);for(let r=0;r<e;++r){const s=2*Math.PI*r/(e+a-1);i[r]=t-n*Math.cos(s)}return(0,xn.R)(i,"float32")}const Yn=async function(e,t,n=1){const a=(0,v._1)(e,"predictions","inTopK"),i=(0,v._1)(t,"targets","inTopK");(0,E.hu)(a.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${a.rank}`)),(0,E.hu)(a.rank-1===i.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${a.rank} and targets rank ${i.rank}`)),(0,E.k5)(a.shape.slice(0,a.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const r=a.shape[a.shape.length-1];(0,E.hu)(n>0&&n<=r,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${r}), but got ${n}`));const s=await a.data(),o=await i.data(),[l,c]=[s.length/r,r],u=(0,E.WP)("bool",l);for(let e=0;e<l;e++){const t=e*c,a=s.subarray(t,t+c),i=[];for(let e=0;e<a.length;e++)i.push({value:a[e],index:e});i.sort(((e,t)=>t.value-e.value)),u[e]=0;for(let t=0;t<n;t++)if(i[t].index===o[e]){u[e]=1;break}}return e!==a&&a.dispose(),t!==i&&i.dispose(),(0,kn.X)(u,i.shape,"bool")};var Zn=n(43854);const Qn=(0,S.op)({hammingWindow_:function(e){return Xn(e,.54,.46)}});const ea=(0,S.op)({hannWindow_:function(e){return Xn(e,.5,.5)}});const ta=(0,S.op)({frame_:function(e,t,n,a=!1,i=0){let r=0;const s=[];for(;r+t<=e.size;)s.push((0,T.t)(e,r,t)),r+=n;if(a)for(;r<e.size;){const a=r+t-e.size,o=(0,k.z)([(0,T.t)(e,r,t-a),(0,Ce.h)([a],i)]);s.push(o),r+=n}return 0===s.length?Sn([],[0,t]):(0,xe.X)((0,k.z)(s),[s.length,t])}});const na=(0,S.op)({stft_:function(e,t,n,a,i=ea){null==a&&(a=Jn(t));const r=ta(e,t,n),s=(0,w.d)(r,i(t));return(0,un.Q)(s,a)}});const aa=(0,S.op)({cropAndResize_:function(e,t,n,a,i="bilinear",r=0){const s=(0,v._1)(e,"image","cropAndResize"),o=(0,v._1)(t,"boxes","cropAndResize","float32"),l=(0,v._1)(n,"boxInd","cropAndResize","int32"),c=o.shape[0];E.hu(4===s.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${s.rank}.`)),E.hu(2===o.rank&&4===o.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${o.shape}.`)),E.hu(1===l.rank&&l.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${o.shape}.`)),E.hu(2===a.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${a.length}.`)),E.hu(a[0]>=1&&a[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${a}`)),E.hu("bilinear"===i||"nearest"===i,(()=>`method must be bilinear or nearest, but was ${i}`));const u={image:s,boxes:o,boxInd:l},d={method:i,extrapolationValue:r,cropSize:a};return se.BV.runKernel(oe.Vc,u,d)}});const ia=(0,S.op)({flipLeftRight_:function(e){const t=(0,v._1)(e,"image","flipLeftRight","float32");E.hu(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return se.BV.runKernel(oe.Uy,n,{})}});const ra=(0,S.op)({grayscaleToRGB_:function(e){const t=(0,v._1)(e,"image","grayscaleToRGB"),n=t.rank-1,a=t.shape[n];E.hu(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),E.hu(1===a,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${a}.`));const i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,(0,we.G)(t,i)}});const sa=(0,S.op)({rotateWithOffset_:function(e,t,n=0,a=.5){const i=(0,v._1)(e,"image","rotateWithOffset","float32");E.hu(4===i.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`));const r={image:i},s={radians:t,fillValue:n,center:a};return se.BV.runKernel(oe.b9,r,s)}});function oa(e,t,n,a,i,r){null==a&&(a=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==r&&(r=0);const s=e.shape[0];return n=Math.min(n,s),E.hu(0<=a&&a<=1,(()=>`iouThreshold must be in [0, 1], but was '${a}'`)),E.hu(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),E.hu(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),E.hu(1===t.rank,(()=>"scores must be a 1D tensor")),E.hu(t.shape[0]===s,(()=>`scores has incompatible shape with boxes. Expected ${s}, but was ${t.shape[0]}`)),E.hu(0<=r&&r<=1,(()=>`softNmsSigma must be in [0, 1], but was '${r}'`)),{maxOutputSize:n,iouThreshold:a,scoreThreshold:i,softNmsSigma:r}}const la=(0,S.op)({nonMaxSuppression_:function(e,t,n,a=.5,i=Number.NEGATIVE_INFINITY){const r=(0,v._1)(e,"boxes","nonMaxSuppression","float32"),s=(0,v._1)(t,"scores","nonMaxSuppression","float32"),o=oa(r,s,n,a,i),l={maxOutputSize:n=o.maxOutputSize,iouThreshold:a=o.iouThreshold,scoreThreshold:i=o.scoreThreshold};return se.BV.runKernel(oe.uv,{boxes:r,scores:s},l)}});var ca=n(68329);const ua=async function(e,t,n,a=.5,i=Number.NEGATIVE_INFINITY){const r=(0,v._1)(e,"boxes","nonMaxSuppressionAsync"),s=(0,v._1)(t,"scores","nonMaxSuppressionAsync"),o=oa(r,s,n,a,i);n=o.maxOutputSize,a=o.iouThreshold,i=o.scoreThreshold;const l=await Promise.all([r.data(),s.data()]),c=l[0],u=l[1],{selectedIndices:d}=(0,ca.GP)(c,u,n,a,i);return r!==e&&r.dispose(),s!==t&&s.dispose(),(0,xn.R)(d,"int32")};const da=(0,S.op)({nonMaxSuppressionWithScore_:function(e,t,n,a=.5,i=Number.NEGATIVE_INFINITY,r=0){const s=(0,v._1)(e,"boxes","nonMaxSuppression"),o=(0,v._1)(t,"scores","nonMaxSuppression"),l=oa(s,o,n,a,i,r),c={boxes:s,scores:o},u={maxOutputSize:n=l.maxOutputSize,iouThreshold:a=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:r=l.softNmsSigma},d=se.BV.runKernel(oe.W0,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const pa=async function(e,t,n,a=.5,i=Number.NEGATIVE_INFINITY,r=0){const s=(0,v._1)(e,"boxes","nonMaxSuppressionAsync"),o=(0,v._1)(t,"scores","nonMaxSuppressionAsync"),l=oa(s,o,n,a,i,r);n=l.maxOutputSize,a=l.iouThreshold,i=l.scoreThreshold,r=l.softNmsSigma;const c=await Promise.all([s.data(),o.data()]),u=c[0],d=c[1],{selectedIndices:p,selectedScores:h}=(0,ca.pA)(u,d,n,a,i,r);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:(0,xn.R)(p,"int32"),selectedScores:(0,xn.R)(h)}};const ha=(0,S.op)({nonMaxSuppressionPadded_:function(e,t,n,a=.5,i=Number.NEGATIVE_INFINITY,r=!1){const s=(0,v._1)(e,"boxes","nonMaxSuppression"),o=(0,v._1)(t,"scores","nonMaxSuppression"),l=oa(s,o,n,a,i,null),c={boxes:s,scores:o},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:r},d=se.BV.runKernel(oe.cy,c,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const ma=async function(e,t,n,a=.5,i=Number.NEGATIVE_INFINITY,r=!1){const s=(0,v._1)(e,"boxes","nonMaxSuppressionAsync"),o=(0,v._1)(t,"scores","nonMaxSuppressionAsync"),l=oa(s,o,n,a,i,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([s.data(),o.data()]),{selectedIndices:m,validOutputs:f}=(0,ca.qP)(p,h,c,u,d,r);return s!==e&&s.dispose(),o!==t&&o.dispose(),{selectedIndices:(0,xn.R)(m,"int32"),validOutputs:(0,Ht.i)(f,"int32")}};var fa=n(13305),ga=n(95098);const ba=(0,S.op)({threshold_:function(e,t="binary",n=!1,a=.5){const i=(0,v._1)(e,"image","threshold"),r=i.shape[0]*i.shape[1];let o,l,c,u,d=(0,w.d)((0,xn.R)([a]),255);if(E.hu(3===i.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`)),E.hu(3===i.shape[2]||1===i.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`)),E.hu("int32"===i.dtype||"float32"===i.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`)),E.hu("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===i.shape[2]){[o,l,c]=(0,dn.V)(i,[1,1,1],-1);const e=(0,w.d)(o,.2989),t=(0,w.d)(l,.587),n=(0,w.d)(c,.114);u=(0,s.I)((0,s.I)(e,t),n)}else u=e;if("otsu"===t){d=function(e,t){let n,a,i,r,o,l,c=(0,xn.R)([-1]),u=(0,xn.R)([0]),d=(0,xn.R)([0]);for(let p=0;p<e.size-1;p++){n=(0,T.t)(e,0,p+1),a=(0,T.t)(e,p+1),o=(0,ue.h)((0,yn.S)(n),t),l=(0,ue.h)((0,yn.S)(a),t);const h=(0,yn.S)((0,w.d)(n,(0,$t.w)(0,n.size)));i=(0,ue.h)(h,(0,yn.S)(n));const m=(0,Ce.h)(a.shape,n.size),f=(0,s.I)((0,$t.w)(0,a.size),m),g=(0,w.d)(a,f);r=(0,ue.h)((0,yn.S)(g),(0,yn.S)(a));const b=(0,ut.l)(i,r),y=(0,ut.l)(i,r),v=(0,w.d)(o,l);d=(0,w.d)((0,w.d)(v,b),y);const k=(0,Ae.p)(d,u);u=(0,Bn.a)(k,d,u),c=(0,Bn.a)(k,(0,xn.R)([p]),c)}return c}((0,$.y)((0,O.p)((0,Vt.N)(u),"int32"),(0,kn.X)([]),256),r)}const p=n?(0,Le.z)(u,d):(0,Ae.p)(u,d);return(0,O.p)((0,w.d)(p,255),"int32")}});const ya=(0,S.op)({transform_:function(e,t,n="nearest",a="constant",i=0,r){const s=(0,v._1)(e,"image","transform","float32"),o=(0,v._1)(t,"transforms","transform","float32");E.hu(4===s.rank,(()=>`Error in transform: image must be rank 4,but got rank ${s.rank}.`)),E.hu(2===o.rank&&(o.shape[0]===s.shape[0]||1===o.shape[0])&&8===o.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),E.hu(null==r||2===r.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${r}.`));const l={image:s,transforms:o},c={interpolation:n,fillMode:a,fillValue:i,outputShape:r};return se.BV.runKernel(oe.wx,l,c)}});const va=(0,S.op)({bandPart_:function(e,t,n){(0,E.hu)(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),(0,E.hu)(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const a=(0,v._1)(e,"a","bandPart");(0,E.hu)(a.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${a.rank}.`));const i=a.shape,[r,s]=a.shape.slice(-2);if(!(t<=r))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${r}).`);if(!(n<=s))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${s}).`);t<0&&(t=r),n<0&&(n=s);const o=(0,xe.X)((0,$t.w)(0,r,1,"int32"),[-1,1]),l=(0,$t.w)(0,s,1,"int32"),c=(0,ut.l)(o,l),u=(0,Ve.H)((0,Le.z)(c,(0,Ht.i)(+t,"int32")),(0,Ne.b)(c,(0,Ht.i)(-n,"int32"))),d=(0,Fn.l)([r,s],a.dtype);return(0,xe.X)((0,fn.k)((0,Mn.H)((0,xe.X)(a,[-1,r,s])).map((e=>(0,Bn.a)(u,e,d)))),i)}});const ka=(0,S.op)({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,(0,E.hu)(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)(0,E.hu)(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=(0,dn.V)(e,e.shape[0],0).map((e=>(0,mn.L)(e,[0])));(0,E.hu)(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],a=e;for(let t=0;t<e.length;++t)n.push(se.BV.tidy((()=>{let e=a[t];if(t>0)for(let a=0;a<t;++a){const t=(0,w.d)((0,yn.S)((0,w.d)(n[a],e)),n[a]);e=(0,ut.l)(e,t)}return(0,ue.h)(e,(0,Pn.K)(e,"euclidean"))})));return t?(0,fn.k)(n,0):n}});var xa=n(4368);function wa(e,t=!1){return se.BV.tidy((()=>{(0,E.hu)(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],a=e.shape[1];let i=Se(n),r=(0,P.d)(e);const s=Sn([[1]],[1,1]);let o=(0,P.d)(s);const l=n>=a?a:n;for(let e=0;e<l;++e){const t=r,l=o,c=i;[o,r,i]=se.BV.tidy((()=>{const t=(0,T.t)(r,[e,e],[n-e,1]),l=(0,Pn.K)(t),c=(0,T.t)(r,[e,e],[1,1]),u=(0,Bn.a)((0,Ae.p)(c,0),Sn([[-1]]),Sn([[1]])),d=(0,ut.l)(c,(0,w.d)(u,l)),p=(0,ue.h)(t,d);o=1===p.shape[0]?(0,P.d)(s):(0,k.z)([s,(0,T.t)(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=(0,mt.W)((0,ue.h)((0,x.O)(u,d),l)),m=(0,T.t)(r,[e,0],[n-e,a]),f=(0,w.d)(h,o),g=(0,zn.p)(o);if(0===e)r=(0,ut.l)(m,(0,x.O)(f,(0,x.O)(g,m)));else{const t=(0,ut.l)(m,(0,x.O)(f,(0,x.O)(g,m)));r=(0,k.z)([(0,T.t)(r,[0,0],[e,a]),t],0)}const b=(0,zn.p)(f),y=(0,T.t)(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,ut.l)(y,(0,x.O)((0,x.O)(y,o),b));else{const t=(0,ut.l)(y,(0,x.O)((0,x.O)(y,o),b));i=(0,k.z)([(0,T.t)(i,[0,0],[n,e]),t],1)}return[o,r,i]})),(0,xa.B9)([t,l,c])}return!t&&n>a&&(i=(0,T.t)(i,[0,0],[n,a]),r=(0,T.t)(r,[0,0],[a,a])),[i,r]}))}const Sa=(0,S.op)({qr_:function(e,t=!1){if((0,E.hu)(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return wa(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),a=(0,Mn.H)((0,xe.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],r=[];a.forEach((e=>{const[n,a]=wa(e,t);i.push(n),r.push(a)}));return[(0,xe.X)((0,fn.k)(i,0),e.shape),(0,xe.X)((0,fn.k)(r,0),e.shape)]}}});var Ca=n(49876);const Ta=(0,S.op)({computeWeightedLoss_:function(e,t,n=Ca.I.SUM_BY_NONZERO_WEIGHTS){const a=(0,v._1)(e,"losses","computeWeightedLoss");let i=null;null!=t&&(i=(0,v._1)(t,"weights","computeWeightedLoss"));const r=null==i?a:(0,w.d)(a,i);if(n===Ca.I.NONE)return r;if(n===Ca.I.SUM)return(0,yn.S)(r);if(n===Ca.I.MEAN){if(null==i)return(0,et.J)(r);{const e=a.size/i.size,t=(0,ue.h)((0,yn.S)(r),(0,yn.S)(i));return e>1?(0,ue.h)(t,(0,Ht.i)(e)):t}}if(n===Ca.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,ue.h)((0,yn.S)(r),(0,Ht.i)(a.size));{const e=(0,w.d)(i,(0,tt.i)(a.shape)),t=(0,O.p)((0,yn.S)((0,ft.Q)(e,(0,Ht.i)(0))),"float32");return(0,ue.h)((0,yn.S)(r),t)}}throw Error(`Unknown reduction: ${n}`)}});const _a=(0,S.op)({absoluteDifference_:function(e,t,n,i=Ca.I.SUM_BY_NONZERO_WEIGHTS){const r=(0,v._1)(e,"labels","absoluteDifference"),s=(0,v._1)(t,"predictions","absoluteDifference");let o=null;null!=n&&(o=(0,v._1)(n,"weights","absoluteDifference")),(0,E.k5)(r.shape,s.shape,"Error in absoluteDifference: ");const l=(0,a.W)((0,ut.l)(r,s));return Ta(l,o,i)}});const Ia=(0,S.op)({cosineDistance_:function(e,t,n,a,i=Ca.I.SUM_BY_NONZERO_WEIGHTS){const r=(0,v._1)(e,"labels","cosineDistance"),s=(0,v._1)(t,"predictions","cosineDistance");let o=null;null!=a&&(o=(0,v._1)(a,"weights","cosineDistance")),(0,E.k5)(r.shape,s.shape,"Error in cosineDistance: ");const l=(0,Ht.i)(1),c=(0,ut.l)(l,(0,yn.S)((0,w.d)(r,s),n,!0));return Ta(c,o,i)}});const Aa=(0,S.op)({hingeLoss_:function(e,t,n,a=Ca.I.SUM_BY_NONZERO_WEIGHTS){let i=(0,v._1)(e,"labels","hingeLoss");const r=(0,v._1)(t,"predictions","hingeLoss");let s=null;null!=n&&(s=(0,v._1)(n,"weights","hingeLoss")),(0,E.k5)(i.shape,r.shape,"Error in hingeLoss: ");const o=(0,Ht.i)(1);i=(0,ut.l)((0,w.d)((0,Ht.i)(2),i),o);const l=(0,Ft.U)((0,ut.l)(o,(0,w.d)(i,r)));return Ta(l,s,a)}});const Na=(0,S.op)({huberLoss_:function(e,t,n,i=1,r=Ca.I.SUM_BY_NONZERO_WEIGHTS){const o=(0,v._1)(e,"labels","huberLoss"),l=(0,v._1)(t,"predictions","huberLoss");let c=null;null!=n&&(c=(0,v._1)(n,"weights","huberLoss")),(0,E.k5)(o.shape,l.shape,"Error in huberLoss: ");const u=(0,Ht.i)(i),d=(0,a.W)((0,ut.l)(l,o)),p=(0,rt.L)(d,u),h=(0,ut.l)(d,p),m=(0,s.I)((0,w.d)((0,Ht.i)(.5),(0,ct.h)(p)),(0,w.d)(u,h));return Ta(m,c,r)}});const Ea=(0,S.op)({logLoss_:function(e,t,n,a=1e-7,i=Ca.I.SUM_BY_NONZERO_WEIGHTS){const r=(0,v._1)(e,"labels","logLoss"),o=(0,v._1)(t,"predictions","logLoss");let l=null;null!=n&&(l=(0,v._1)(n,"weights","logLoss")),(0,E.k5)(r.shape,o.shape,"Error in logLoss: ");const c=(0,Ht.i)(1),u=(0,Ht.i)(a),d=(0,mt.W)((0,w.d)(r,(0,je.c)((0,s.I)(o,u)))),p=(0,w.d)((0,ut.l)(c,r),(0,je.c)((0,s.I)((0,ut.l)(c,o),u))),h=(0,ut.l)(d,p);return Ta(h,l,i)}});const Ra=(0,S.op)({meanSquaredError_:function(e,t,n,a=Ca.I.SUM_BY_NONZERO_WEIGHTS){const i=(0,v._1)(e,"labels","meanSquaredError"),r=(0,v._1)(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=(0,v._1)(n,"weights","meanSquaredError")),(0,E.k5)(i.shape,r.shape,"Error in meanSquaredError: ");const o=(0,hn.$)(i,r);return Ta(o,s,a)}});const Ma=(0,S.op)({sigmoidCrossEntropy_:function(e,t,n,i=0,r=Ca.I.SUM_BY_NONZERO_WEIGHTS){let o=(0,v._1)(e,"multiClassLabels","sigmoidCrossEntropy");const l=(0,v._1)(t,"logits","sigmoidCrossEntropy");let c=null;if(null!=n&&(c=(0,v._1)(n,"weights","sigmoidCrossEntropy")),(0,E.k5)(o.shape,l.shape,"Error in sigmoidCrossEntropy: "),i>0){const e=(0,Ht.i)(i),t=(0,Ht.i)(1),n=(0,Ht.i)(.5);o=(0,s.I)((0,w.d)(o,(0,ut.l)(t,e)),(0,w.d)(n,e))}const u=function(e,t){const n=(0,v._1)(e,"labels","sigmoidCrossEntropyWithLogits"),i=(0,v._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,E.k5)(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=(0,Ft.U)(i),o=(0,w.d)(i,n),l=(0,ze.K)((0,ye.Q)((0,mt.W)((0,a.W)(i))));return(0,s.I)((0,ut.l)(r,o),l)}(o,l);return Ta(u,c,r)}});var Da=n(30633);const $a=(0,S.op)({softmaxCrossEntropy_:function(e,t,n,a=0,i=Ca.I.SUM_BY_NONZERO_WEIGHTS){let r=(0,v._1)(e,"onehotLabels","softmaxCrossEntropy");const o=(0,v._1)(t,"logits","softmaxCrossEntropy");let l=null;if(null!=n&&(l=(0,v._1)(n,"weights","softmaxCrossEntropy")),(0,E.k5)(r.shape,o.shape,"Error in softmaxCrossEntropy: "),a>0){const e=(0,Ht.i)(a),t=(0,Ht.i)(1),n=(0,Ht.i)(r.shape[1]);r=(0,s.I)((0,w.d)(r,(0,ut.l)(t,e)),(0,ue.h)(e,n))}const c=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const a=(0,Da.cb)(((e,t,a)=>{const i=(0,Ge.l)(t,[n],!0),r=(0,ut.l)((0,O.p)(t,"float32"),i);a([e,r]);const s=(0,mt.W)((0,w.d)(r,e));return{value:(0,yn.S)(s,[n]),gradFunc:(e,t)=>{const[a,i]=t,r=(0,lt.rv)(e.shape,[n]);return[(0,w.d)((0,xe.X)(e,r),(0,ut.l)((0,O.p)(a,"float32"),(0,ye.Q)(i))),(0,w.d)((0,xe.X)(e,r),(0,ut.l)((0,ye.Q)(i),(0,O.p)(a,"float32")))]}}}));return a(e,t)}(r,o);return Ta(c,l,i)}});const Ba=(0,S.op)({sparseFillEmptyRows_:function(e,t,n,a){const i=(0,v._1)(e,"indices","sparseFillEmptyRows","int32"),r=(0,v._1)(t,"values","sparseFillEmptyRows"),s=(0,v._1)(n,"denseShape","sparseFillEmptyRows","int32"),o=(0,v._1)(a,"defaultValue","sparseFillEmptyRows",r.dtype);if(2!==i.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==r.rank)throw new Error(`Values should be Tensor1D but received shape ${r.shape}`);if(1!==s.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${s.shape}`);if(0!==o.rank)throw new Error(`Default value should be a scalar but received shape ${o.shape}`);const l={indices:i,values:r,denseShape:s,defaultValue:o},c=se.BV.runKernel(oe.O3,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const La=(0,S.op)({sparseReshape_:function(e,t,n){const a=(0,v._1)(e,"inputIndices","sparseReshape","int32"),i=(0,v._1)(t,"inputShape","sparseReshape","int32"),r=(0,v._1)(n,"newShape","sparseReshape","int32");if(2!==a.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==i.rank)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(1!==r.rank)throw new Error(`New shape should be Tensor1D but received shape ${r.shape}`);const s={inputIndices:a,inputShape:i,newShape:r},o=se.BV.runKernel(oe.nh,s);return{outputIndices:o[0],outputShape:o[1]}}});const Fa=(0,S.op)({sparseSegmentMean_:function(e,t,n){const a=(0,v._1)(e,"data","sparseSegmentMean"),i=(0,v._1)(t,"indices","sparseSegmentMean","int32"),r=(0,v._1)(n,"segmentIds","sparseSegmentMean","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${i.shape}`);if(1!==r.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${r.shape}`);const s={data:a,indices:i,segmentIds:r};return se.BV.runKernel(oe.YW,s)}});const Oa=(0,S.op)({sparseSegmentSum_:function(e,t,n){const a=(0,v._1)(e,"data","sparseSegmentSum"),i=(0,v._1)(t,"indices","sparseSegmentSum","int32"),r=(0,v._1)(n,"segmentIds","sparseSegmentSum","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${i.shape}`);if(1!==r.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${r.shape}`);const s={data:a,indices:i,segmentIds:r};return se.BV.runKernel(oe.Zj,s)}});const ja=(0,S.op)({stringNGrams_:function(e,t,n,a,i,r,s,o){const l=(0,v._1)(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=(0,v._1)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:a,leftPad:i,rightPad:r,padWidth:s,preserveShortSequences:o},d={data:l,dataSplits:c},p=se.BV.runKernel(oe._J,d,u);return{nGrams:p[0],nGramsSplits:p[1]}}});const za=(0,S.op)({stringSplit_:function(e,t,n=!0){const a=(0,v._1)(e,"input","stringSplit","string"),i=(0,v._1)(t,"delimiter","stringSplit","string");if(1!==a.rank)throw new Error(`Input should be Tensor1D but received shape ${a.shape}`);if(0!==i.rank)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const r={skipEmpty:n},s={input:a,delimiter:i},o=se.BV.runKernel(oe.s1,s,r);return{indices:o[0],values:o[1],shape:o[2]}}});const Pa=(0,S.op)({stringToHashBucketFast_:function(e,t){const n=(0,v._1)(e,"input","stringToHashBucketFast","string"),a={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return se.BV.runKernel(oe.Xk,i,a)}}),Wa={fft:on.k,ifft:ln.S,rfft:un.Q,irfft:cn.w},Ga={hammingWindow:Qn,hannWindow:ea,frame:ta,stft:na},Va={flipLeftRight:ia,grayscaleToRGB:ra,resizeNearestNeighbor:ga.j,resizeBilinear:fa.I,rotateWithOffset:sa,cropAndResize:aa,nonMaxSuppression:la,nonMaxSuppressionAsync:ua,nonMaxSuppressionWithScore:da,nonMaxSuppressionWithScoreAsync:pa,nonMaxSuppressionPadded:ha,nonMaxSuppressionPaddedAsync:ma,threshold:ba,transform:ya},Ua={bandPart:va,gramSchmidt:ka,qr:Sa},Ha={absoluteDifference:_a,computeWeightedLoss:Ta,cosineDistance:Ia,hingeLoss:Aa,huberLoss:Na,logLoss:Ea,meanSquaredError:Ra,sigmoidCrossEntropy:Ma,softmaxCrossEntropy:$a},qa={sparseFillEmptyRows:Ba,sparseReshape:La,sparseSegmentMean:Fa,sparseSegmentSum:Oa},Ka={stringNGrams:ja,stringSplit:za,stringToHashBucketFast:Pa}},39682:(e,t,n)=>{"use strict";n.d(t,{v:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({pad_:function(e,t,n=0){const s=(0,r._1)(e,"x","pad");if(0===s.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:t,constantValue:n},l={x:s};return a.BV.runKernel(i.ly,l,o)}})},85860:(e,t,n)=>{"use strict";n.d(t,{d:()=>p});var a=n(43740),i=n(20569),r=n(15176),s=n(28441),o=n(2582),l=n(21174),c=n(2668),u=n(4968),d=n(27918);const p=(0,c.op)({pool_:function(e,t,n,c,p,h,m){null==p&&(p=[1,1]),null==h&&(h=1),0===c&&(c="valid");const f=(0,a._1)(e,"x","maxPool");let g=f,b=!1;3===f.rank&&(b=!0,g=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),i.hu(o.jT(h,p),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${h} and dilations '${p}'`));const y=o.Xw(g.shape,t,h,p,c),v=[y.dilationHeight,y.dilationWidth];let k;k="same"===c?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),a=n.map((e=>Math.floor(e/2))),i=n.map(((e,t)=>e-a[t]));return n.map(((e,t)=>[a[t],i[t]]))}([y.filterHeight,y.filterWidth],v):[[0,0],[0,0]];const x=1===v[0]&&1===v[1],[w,S]=function(e,t,n){const a=n.map((e=>e[0])),i=n.map((e=>e[1])),r=e.concat(a,i),s=t.map(((e,t)=>(e-r[t]%e)%e)),o=i.map(((e,t)=>e+s[t])),l=t.map(((e,t)=>[a[t],o[t]])),c=t.map(((e,t)=>[0,s[t]]));return[l,c]}([y.inHeight,y.inWidth],v,k),C=x?c:"valid",T=x?g:(0,d.f)(g,v,w),_=("avg"===n?()=>(0,r.w)(T,t,h,C,m):()=>(0,l._)(T,t,h,C,m))(),I=x?_:(0,s.E)(_,v,S);return b?(0,u.X)(I,[I.shape[1],I.shape[2],I.shape[3]]):I}})},33453:(e,t,n)=>{"use strict";n.d(t,{s:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({pow_:function(e,t){let n=(0,s._1)(e,"base","pow"),o=(0,s._1)(t,"exp","pow");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.pe,l)}})},98151:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({prelu_:function(e,t){const n={x:(0,r._1)(e,"x","prelu"),alpha:(0,r._1)(t,"alpha","prelu")};return a.BV.runKernel(i.o0,n)}})},29798:(e,t,n)=>{"use strict";function a(e,t=!1){console.log(e.toString(t))}n.d(t,{S:()=>a})},49451:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(62271);const o=(0,n(2668).op)({prod_:function(e,t=null,n=!1){let o=(0,r._1)(e,"x","prod");"bool"===o.dtype&&(o=(0,s.p)(o,"int32"));const l={x:o},c={axis:t,keepDims:n};return a.BV.runKernel(i.Dl,l,c)}})},56845:(e,t,n)=>{"use strict";n.d(t,{T9:()=>r,Yi:()=>i,wv:()=>s});var a=n(36377);class i{constructor(e,t,n,i,r){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const s=r||Math.random();this.random=a.alea(s.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let a,i,r;do{a=2*this.random()-1,i=2*this.random()-1,r=a*a+i*i}while(r>=1||0===r);const s=Math.sqrt(-2*Math.log(r)/r);e=this.mean+this.stdDev*a*s,t=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class r{constructor(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;const s=r||Math.random();this.randu=a.alea(s.toString()),this.randn=new i(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,a,i,r;for(;;){do{a=this.randn.nextValue(),r=1+this.c*a}while(r<=0);if(r*=r*r,e=a*a,t=1-.331*e*e,n=.5*e+this.d*(1-r+Math.log(r)),i=this.randu(),i<t||Math.log(i)<n)break}return r=1/this.beta*this.d*r,this.alpha<1&&(r*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(r)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class s{constructor(e=0,t=1,n,i){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==i&&(i=Math.random()),"number"==typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=a.alea(i)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}},75002:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var a=n(72657),i=n(2668),r=n(56845);const s=(0,i.op)({randomUniform_:function(e,t=0,n=1,i="float32",s){const o=(0,a.f)(e,i),l=new r.wv(t,n,null,s);for(let e=0;e<o.values.length;e++)o.values[e]=l.nextValue();return o.toTensor()}})},47245:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});var a=n(50196),i=n(29121);function r(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const s={start:e,stop:t,step:n,dtype:r};return a.BV.runKernel(i.e6,{},s)}},60766:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({real_:function(e){const t={input:(0,r._1)(e,"input","real")};return a.BV.runKernel(i.xJ,t)}})},19036:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({reciprocal_:function(e){const t={x:(0,r._1)(e,"x","reciprocal")};return a.BV.runKernel(i.$H,t)}})},7409:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({relu_:function(e){const t={x:(0,r._1)(e,"x","relu")};return a.BV.runKernel(i.qk,t)}})},83582:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({relu6_:function(e){const t={x:(0,r._1)(e,"x","relu6")};return a.BV.runKernel(i.Sb,t)}})},4968:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({reshape_:function(e,t){const n={x:(0,r._1)(e,"x","reshape","string_or_numeric")},s={shape:t};return a.BV.runKernel(i.HZ,n,s)}})},57486:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({reverse_:function(e,t){const n={x:(0,r._1)(e,"x","reverse")},s={dims:t};return a.BV.runKernel(i.mK,n,s)}})},97809:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({round_:function(e){const t={x:(0,r._1)(e,"x","round")};return a.BV.runKernel(i.e0,t)}})},32634:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({rsqrt_:function(e){const t={x:(0,r._1)(e,"x","rsqrt","float32")};return a.BV.runKernel(i.bV,t)}})},99494:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var a=n(20569),i=n(57852);function r(e,t){if(((0,a.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,a.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},63100:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var a=n(50196),i=n(29121),r=n(43740),s=n(2668),o=n(33028);const l=(0,s.op)({scatterND_:function(e,t,n){const s=(0,r._1)(e,"indices","scatterND","int32"),l=(0,r._1)(t,"updates","scatterND");o.validateInput(l,s,n);const c={indices:s,updates:l},u={shape:n};return a.BV.runKernel(i.xQ,c,u)}})},33028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateShapes:()=>s,validateInput:()=>r,validateUpdateShape:()=>i});var a=n(20569);function i(e,t,n){const a=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,r=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${a}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(r+` update.rank < ${i}. `);if(e.length<a+(n.rank-i))throw new Error(r+` Output shape length < ${a+(n.rank-i)}`);if(n.rank!==i+e.length-a)throw new Error(r+" update.rank != "+(i+e.length-a));for(let e=0;e<i;++e)if(n.shape[e]!==t.shape[e])throw new Error(r+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-i;++t)if(n.shape[t+i]!==e[t+a])throw new Error(r+` updates.shape[${t+i}] (${n.shape[t+i]}) != shape[${t+i}] (${e[t+i]})`)}function r(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}i(n,t,e)}function s(e,t,n){const i=t.shape.length,r=i>1?t.shape[i-1]:1,s=n.length;let o=1;for(let e=r;e<s;++e)o*=n[e];const l=r<1?1:r;return{sliceRank:r,numUpdates:(0,a.NA)(t.shape)/l,sliceSize:o,strides:[...(0,a.e3)(n.slice(0,r)),1],outputSize:(0,a.NA)(n)}}},43336:(e,t,n)=>{"use strict";n.d(t,{z:()=>u});var a=n(50196),i=n(29121),r=n(43740),s=n(20569),o=n(2668),l=n(4968);const c=2147483648;const u=(0,o.op)({searchSorted_:function(e,t,n="left"){const o=(0,r._1)(e,"sortedSequence","searchSorted"),u=(0,r._1)(t,"values","searchSorted"),d=o.shape[o.shape.length-1],p=u.shape[u.shape.length-1],h=(0,l.X)(o,[-1,d]),m=(0,l.X)(u,[-1,p]);if(h.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(h.shape[0]!==m.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,s.NA)(m.shape)>=c)throw new Error("values tensor size must less than 2147483648");if(h.shape[1]>=c)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${h.shape[1]}`);const f={sortedSequence:h,values:m},g={side:n};return a.BV.runKernel(i.nr,f,g)}})},55503:(e,t,n)=>{"use strict";n.d(t,{U:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({selu_:function(e){const t={x:(0,r._1)(e,"x","selu")};return a.BV.runKernel(i.oF,t)}})},43179:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,y:()=>a});const a=1.7580993408473768,i=1.0507009873554805},68678:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var a=n(43740),i=n(20569),r=n(64794),s=n(64718),o=n(2668),l=n(4968);const c=(0,o.op)({separableConv2d_:function(e,t,n,o,c,u=[1,1],d="NHWC"){const p=(0,a._1)(e,"x","separableConv2d"),h=(0,a._1)(t,"depthwiseFilter","separableConv2d"),m=(0,a._1)(n,"pointwiseFilter","separableConv2d");let f=p,g=!1;if(3===p.rank&&(g=!0,f=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),"NCHW"===d)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");i.hu(4===f.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${f.rank}.`)),i.hu(4===h.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${h.rank}.`)),i.hu(4===m.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${h.rank}.`)),i.hu(1===m.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${m.shape[0]}.`)),i.hu(1===m.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${m.shape[1]}.`));const b=h.shape[2],y=h.shape[3];i.hu(m.shape[2]===b*y,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${b*y}, but got ${m.shape[2]}.`));const v=(0,s.B)(f,h,o,c,d,u),k=(0,r.T)(v,m,1,"valid",d);return g?(0,l.X)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},36567:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var a=n(40974),i=n(43740),r=n(20569);const s=async function(e,t){const n=(0,i._1)(e,"x","setdiff1d"),s=(0,i._1)(t,"y","setdiff1d");r.hu(n.dtype===s.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${s.dtype}).`)),r.hu(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),r.hu(1===s.rank,(()=>`y should be 1D tensor, but got y (${s.shape}).`));const o=await n.data(),l=await s.data(),c=new Set(l);let u=0;for(let e=0;e<o.length;e++)c.has(o[e])||u++;const d=new a.YD([u],n.dtype),p=new a.YD([u],"int32");for(let e=0,t=0;e<o.length;e++)c.has(o[e])||(d.values[t]=o[e],p.values[t]=e,t++);return[d.toTensor(),p.toTensor()]}},30625:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({sigmoid_:function(e){const t={x:(0,r._1)(e,"x","sigmoid","float32")};return a.BV.runKernel(i.a5,t)}})},34434:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({sign_:function(e){const t={x:(0,r._1)(e,"x","sign")};return a.BV.runKernel(i.i5,t)}})},99331:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({sin_:function(e){const t={x:(0,r._1)(e,"x","sin","float32")};return a.BV.runKernel(i.RQ,t)}})},83254:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({sinh_:function(e){const t={x:(0,r._1)(e,"x","sinh")};return a.BV.runKernel(i.w3,t)}})},22676:(e,t,n)=>{"use strict";n.d(t,{t:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({slice_:function(e,t,n){const s=(0,r._1)(e,"x","slice","string_or_numeric");if(0===s.rank)throw new Error("Slicing scalar is not possible");const o={x:s},l={begin:t,size:n};return a.BV.runKernel(i.p2,o,l)}})},37650:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertParamsValid:()=>i,computeFlatOffset:()=>b,computeOutShape:()=>s,getNormalizedAxes:()=>u,isSliceContinous:()=>g,maskToAxes:()=>r,parseSliceParams:()=>y,sliceInfo:()=>v,startForAxis:()=>m,startIndicesWithElidedDims:()=>d,stopForAxis:()=>f,stopIndicesWithElidedDims:()=>p,stridesForAxis:()=>h,stridesWithElidedDims:()=>o});var a=n(20569);function i(e,t,n){const i=e.shape.length;a.hu(i===t.length,(()=>`Error in slice${i}D: Length of begin ${t} must match the rank of the array (${i}).`)),a.hu(i===n.length,(()=>`Error in slice${i}D: Length of size ${n} must match the rank of the array (${i}).`));for(let r=0;r<i;++r)a.hu(t[r]+n[r]<=e.shape[r],(()=>`Error in slice${i}D: begin[${r}] + size[${r}] (${t[r]+n[r]}) would overflow input.shape[${r}] (${e.shape[r]})`))}function r(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function s(e,t,n){const a=[];for(let i=0;i<e.length;i++)a[i]=Math.ceil((t[i]-e[i])/n[i]);return a}function o(e,t,n,a){const i=[...e];for(let e=i.length;e<a.length;e++)i.push(1);for(let e=0;e<n;e++)0===e?i[t]=1:(i.splice(t,0,1),i.pop());return i}function l(e,t,n){return n<=e?n:n-(t-1)}function c(e,t){const n=[];for(let a=0;a<e;a++)n.push(t+a);return n}function u(e,t,n,a,i,r,s,l,c){const u=e.length;let g=new Array(u),b=new Array(u),y=new Array(u);if(t.length&&n>0){const c=t[0],u=n+1;g=d(s,c,u,a,e),b=p(l,c,u,i,e),y=o(r,c,u,e)}else for(let t=0;t<u;t++)g[t]=m(s,a,r,e,t,c),b[t]=f(l,i,r,e,t,c),y[t]=h(r,t,c);return{begin:g,end:b,strides:y}}function d(e,t,n,a,i){const r=[...i],s=c(n,t);for(let i=0;i<r.length;i++)if(s.indexOf(i)>-1)r[i]=0;else{const s=l(t,n,i);let o=a[s];e&1<<s&&(o=0),r[i]=o}return r}function p(e,t,n,i,r){const s=[...r],o=c(n,t);for(let a=0;a<s.length;a++)if(o.indexOf(a)>-1)s[a]=Number.MAX_SAFE_INTEGER;else{const r=l(t,n,a);let o=i[r];e&1<<r&&(o=Number.MAX_SAFE_INTEGER),s[a]=o}for(let e=0;e<s.length;e++){const t=r[e];s[e]<0&&(s[e]+=t),s[e]=a.uZ(0,s[e],r[e])}return s}function h(e,t,n){let a=e[t];return(n&1<<t||null==a)&&(a=1),a}function m(e,t,n,i,r,s){let o=t[r];const l=n[r]||1;(e&1<<r||s&1<<r||null==o)&&(o=l>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const c=i[r];return o<0&&(o+=c),o=a.uZ(0,o,c-1),o}function f(e,t,n,i,r,s){let o=t[r];const l=n[r]||1;(e&1<<r||s&1<<r||null==o)&&(o=l>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const c=i[r];return o<0&&(o+=c),o=l>0?a.uZ(0,o,c):a.uZ(-1,o,c-1),o}function g(e,t,n){let a=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){a=e;break}for(let i=a+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function b(e,t){let n=e.length>0?e[e.length-1]:1;for(let a=0;a<e.length-1;a++)n+=e[a]*t[a];return n}function y(e,t,n){let i;const r=e.shape.length;let s;return i="number"==typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),i.forEach((e=>{a.hu(-1!==e,(()=>"slice() does not support negative begin indexing."))})),s=null==n?new Array(r).fill(-1):"number"==typeof n?[n,...new Array(r-1).fill(-1)]:n.length<r?n.concat(new Array(r-n.length).fill(-1)):n,s=s.map(((t,n)=>t>=0?t:(a.hu(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-i[n]))),[i,s]}function v(e,t,n,a,i,r,s,o,l){let c;if(null==a?(c=new Array(t.length),c.fill(1)):c=a,null!=s&&0!=(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:r,ellipsisMask:s,newAxisMask:o,shrinkAxisMask:l};for(let e=0;e<d.dims;e++)u&&0!=(1<<e&o)&&d.numAddAxisAfterEllipsis++,1<<e&s&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let a=0;a<e.dims;a++)if(1<<a&e.ellipsisMask){const i=Math.min(t.dims-(e.dims-a)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=a}else if(1<<a&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[a]),null!=e.end&&(t.end[n]=e.end[a]),t.strides[n]=e.strides[a],e.beginMask&1<<a&&(t.beginMask|=1<<n),e.endMask&1<<a&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<a?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(a)),t.inputShapeGatherIndicesSparse[n]=a,n++}}(d,p);let h=!0,m=!0,f=!0;const g=[],b=[];for(let t=0;t<e.length;++t){if(0===p.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(p.shrinkAxisMask&1<<t),a=e[t];if(-1===a){g.push(n?1:-1);continue}const i=[p.beginMask&1<<t,p.endMask&1<<t],r=[p.strides[t]>0?0:-1,p.strides[t]>0?a:a-1];if(n&&p.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");f=f&&1===p.strides[t];const s=!!(p.beginMask&1<<t&&p.endMask&1<<t);if(p.beginValid&&p.endValid){if(n){const e=p.begin[t]<0?a+p.begin[t]:p.begin[t];if(p.begin[t]=e,p.end[t]=p.begin[t]+1,e<0||e>=a)throw Error(`slice index ${p.begin[t]} of dimension ${t} out of bounds.`)}else p.begin[t]=k(p.begin[t],0,p.strides[t],a,i,r),p.end[t]=k(p.end[t],1,p.strides[t],a,i,r);const e=1===p.strides[t]&&0===p.begin[t]&&p.end[t]===a;h=h&&e,m=m&&(0===t&&1===p.strides[t]||e)}else h=h&&1===p.strides[t]&&s,m=m&&(0===t&&1===p.strides[t]||s);let o,l=!1;if(p.beginValid&&p.endValid?(o=p.end[t]-p.begin[t],l=!0):n?(o=1,l=!0):s&&a>=0&&(o=p.strides[t]<0?-a:a,l=!0),l){let e;e=0===o||o<0!=p.strides[t]<0?0:Math.trunc(o/p.strides[t])+(o%p.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<p.finalShapeGatherIndices.length;++e){const t=p.finalShapeGatherIndices[e];t>=0?b.push(g[t]):-2===t&&b.push(1)}return{finalShapeSparse:b.filter(((e,t)=>-2!==p.finalShapeGatherIndices[t])),finalShape:b,isIdentity:h,sliceDim0:m,isSimpleSlice:f,begin:p.begin,end:p.end,strides:p.strides}}function k(e,t,n,a,i,r){if(i[t])return n>0?r[t]:r[t+1&1];{const t=e<0?a+e:e;return t<r[0]?r[0]:t>r[1]?r[1]:t}}},80682:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({softmax_:function(e,t=-1){const n=(0,r._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const s={logits:n},o={dim:t};return a.BV.runKernel(i.Gc,s,o)}})},3694:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({softplus_:function(e){const t={x:(0,r._1)(e,"x","softplus")};return a.BV.runKernel(i.MR,t)}})},27918:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({spaceToBatchND_:function(e,t,n){const o=(0,r._1)(e,"x","spaceToBatchND");s.hu(o.rank>=1+t.length,(()=>`input rank ${o.rank} should be > than [blockShape] ${t.length}`)),s.hu(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),s.hu(o.shape.reduce(((e,a,i)=>i>0&&i<=t.length?e&&(a+n[i-1][0]+n[i-1][1])%t[i-1]==0:e),!0),(()=>`input spatial dimensions ${o.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const l={x:o},c={blockShape:t,paddings:n};return a.BV.runKernel(i.TQ,l,c)}})},69040:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var a=n(50196),i=n(29121);var r=n(43740);const s=(0,n(2668).op)({sparseToDense_:function(e,t,n,s=0){const o=(0,r._1)(e,"sparseIndices","sparseToDense","int32"),l=(0,r._1)(t,"sparseValues","sparseToDense","string_or_numeric"),c=(0,r._1)(s,"defaultValue","sparseToDense",l.dtype);!function(e,t,n,a){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const i=e.rank>0?e.shape[0]:1,r=e.rank>1?e.shape[1]:1;if(n.length!==r)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${r}.`);const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==i))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${i}]`);if(t.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,l,n,c);const u={sparseIndices:o,sparseValues:l,defaultValue:c},d={outputShape:n};return a.BV.runKernel(i.D2,u,d)}})},7020:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var a=n(50196),i=n(29121),r=n(20569);const s=(0,n(2668).op)({fft_:function(e){(0,r.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return a.BV.runKernel(i.vw,t)}})},88447:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var a=n(50196),i=n(29121),r=n(20569);const s=(0,n(2668).op)({ifft_:function(e){(0,r.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return a.BV.runKernel(i.Qg,t)}})},84415:(e,t,n)=>{"use strict";n.d(t,{w:()=>m});var a=n(61661),i=n(46884),r=n(64386),s=n(24841),o=n(2668),l=n(60766),c=n(4968),u=n(57486),d=n(99494),p=n(22676),h=n(88447);const m=(0,o.op)({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let o;if(t<=2){const a=(0,c.X)(e,[n,t]);o=(0,h.S)(a)}else{const m=[n,2*(t-1)],f=(0,c.X)((0,l.k)(e),[n,t]),g=(0,c.X)((0,r.a)(e),[n,t]),b=(0,u.G)((0,p.t)(f,[0,1],[n,t-2]),1),y=(0,s.d)((0,u.G)((0,p.t)(g,[0,1],[n,t-2]),1),(0,d.i)(-1)),v=(0,i.z)([f,b],1),k=(0,i.z)([g,y],1),x=(0,c.X)((0,a.P)(v,k),[m[0],m[1]]);o=(0,h.S)(x)}if(o=(0,l.k)(o),3===e.rank&&0!==e.shape[0]){const t=o,n=e.shape[0];o=(0,c.X)(o,[n,o.shape[0]/n,o.shape[1]]),t.dispose()}return o}})},13710:(e,t,n)=>{"use strict";n.d(t,{Q:()=>f});var a=n(20569),i=n(61661),r=n(46884),s=n(64386),o=n(2668),l=n(60766),c=n(4968),u=n(22676),d=n(28644),p=n(59640),h=n(6577),m=n(7020);const f=(0,o.op)({rfft_:function(e,t){(0,a.hu)("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const o=e.size/n;let f;if(null!=t&&t<n){const a=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,f=(0,u.t)(e,a,i),n=t}else if(null!=t&&t>n){const a=e.shape.map((e=>e));a[e.shape.length-1]=t-n,f=(0,r.z)([e,(0,p.l)(a)],e.shape.length-1),n=t}else f=e;const g=(0,h.P)(f),b=(0,c.X)((0,i.P)(f,g),[o,n]),y=(0,m.k)(b),v=Math.floor(n/2)+1,k=(0,l.k)(y),x=(0,s.a)(y),w=(0,d.V)(k,[v,n-v],k.shape.length-1),S=(0,d.V)(x,[v,n-v],x.shape.length-1),C=f.shape.slice();return C[f.shape.length-1]=v,(0,c.X)((0,i.P)(w[0],S[0]),C)}})},28644:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({split_:function(e,t,n=0){const s={x:(0,r._1)(e,"x","split")},o={numOrSizeSplits:t,axis:n};return a.BV.runKernel(i.L8,s,o)}})},13261:(e,t,n)=>{"use strict";n.d(t,{_:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({sqrt_:function(e){const t={x:(0,r._1)(e,"x","sqrt","float32")};return a.BV.runKernel(i.FK,t)}})},50248:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var a=n(50196),i=n(43740);const r=(0,n(2668).op)({square_:function(e){const t=(0,i._1)(e,"x","square");return a.BV.runKernel("Square",{x:t},{})}})},15265:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var a=n(50196),i=n(29121),r=n(80747),s=n(43740),o=n(72200);const l=(0,n(2668).op)({squaredDifference_:function(e,t){let n=(0,s._1)(e,"a","squaredDifference"),l=(0,s._1)(t,"b","squaredDifference");[n,l]=(0,r.makeTypesMatch)(n,l),(0,o.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return a.BV.runKernel(i._t,c,{})}})},79590:(e,t,n)=>{"use strict";n.d(t,{L:()=>o});var a=n(43740),i=n(20569),r=n(2668),s=n(4968);const o=(0,r.op)({squeeze_:function(e,t){const n=(0,a._1)(e,"x","squeeze");return(0,s.X)(n,(0,i.bp)(n.shape,t).newShape)}})},82991:(e,t,n)=>{"use strict";n.d(t,{k:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({stack_:function(e,t=0){const n=(0,r.sI)(e,"tensors","stack","string_or_numeric");s.hu(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&s.hu(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const o=n,l={axis:t};return a.BV.runKernel(i.Qi,o,l)}})},71901:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({step_:function(e,t=0){const n={x:(0,r._1)(e,"x","step")},s={alpha:t};return a.BV.runKernel(i.h8,n,s)}})},55158:(e,t,n)=>{"use strict";n.d(t,{N:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({stridedSlice_:function(e,t,n,s,o=0,l=0,c=0,u=0,d=0){const p={x:(0,r._1)(e,"x","stridedSlice","string_or_numeric")},h={begin:t,end:n,strides:s,beginMask:o,endMask:l,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:d};return a.BV.runKernel(i.m2,p,h)}})},70827:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var a=n(50196),i=n(29121),r=n(80747),s=n(43740);const o=(0,n(2668).op)({sub_:function(e,t){let n=(0,s._1)(e,"a","sub"),o=(0,s._1)(t,"b","sub");[n,o]=(0,r.makeTypesMatch)(n,o);const l={a:n,b:o};return a.BV.runKernel(i.Tr,l)}})},15475:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(62271);const o=(0,n(2668).op)({sum_:function(e,t=null,n=!1){let o=(0,r._1)(e,"x","sum");"bool"===o.dtype&&(o=(0,s.p)(o,"int32"));const l={x:o},c={axis:t,keepDims:n};return a.BV.runKernel(i.GB,l,c)}})},61173:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({tan_:function(e){const t={x:(0,r._1)(e,"x","tan","float32")};return a.BV.runKernel(i.sE,t)}})},21869:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({tanh_:function(e){const t={x:(0,r._1)(e,"x","tanh","float32")};return a.BV.runKernel(i.MI,t)}})},10701:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var a=n(43740),i=n(57852);function r(e,t,n){const r=(0,a.C)(e,n);return(0,i.H)(e,t,r,n)}},46092:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var a=n(43740),i=n(20569),r=n(57852);function s(e,t){(0,i.Cq)(e);const n=(0,a.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,r.H)(e,null,n,t)}},99906:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var a=n(43740),i=n(20569),r=n(57852);function s(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const s=(0,a.C)(e,n);if(3!==s.length&&1!==s.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===s.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,r.H)(e,t,s,n)}},57852:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var a=n(50196),i=n(20569),r=n(23418);function s(e,t,n,s){if(null==s&&(s=(0,i.D2)(e)),"complex64"===s)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);const e=(0,i.NA)(t),a=(0,i.NA)(n);(0,i.hu)(e===a,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${a}`));for(let e=0;e<n.length;++e){const a=n[e],r=e!==n.length-1||a!==(0,i.NA)(t.slice(e));(0,i.hu)(n[e]===t[e]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==s?(0,r.toTypedArray)(e,s):(0,i.xH)(e,[],!0),a.BV.makeTensor(e,t,s)}},47501:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({tile_:function(e,t){const n=(0,r._1)(e,"x","tile","string_or_numeric");s.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const o={x:n},l={reps:t};return a.BV.runKernel(i.n9,o,l)}})},43243:(e,t,n)=>{"use strict";n.d(t,{h:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({topk_:function(e,t=1,n=!0){const s=(0,r._1)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=s.shape[s.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${t}`);const l={x:s},c={k:t,sorted:n},[u,d]=a.BV.runKernel(i.cW,l,c);return{values:u,indices:d}}})},89065:(e,t,n)=>{"use strict";n.d(t,{p:()=>h});var a=n(50196),i=n(4368),r=n(29121),s=n(43740),o=n(20569),l=n(61661),c=n(64386),u=n(17370),d=n(2668),p=n(60766);const h=(0,d.op)({transpose_:function(e,t,n){const d=(0,s._1)(e,"x","transpose");if(null==t&&(t=d.shape.map(((e,t)=>t)).reverse()),o.hu(d.rank===t.length,(()=>`Error in transpose: rank of input ${d.rank} must match length of perm ${t}.`)),t.forEach((e=>{o.hu(e>=0&&e<d.rank,(()=>"All entries in 'perm' must be between 0 and "+(d.rank-1)+` but got ${t}`))})),d.rank<=1)return d.clone();const h={x:d},m={perm:t};return"complex64"===d.dtype?(0,i.lu)((()=>{let e=(0,p.k)(d),t=(0,c.a)(d);return e=a.BV.runKernel(r.G3,{x:e},m),t=a.BV.runKernel(r.G3,{x:t},m),n&&(t=(0,u.W)(t)),(0,l.P)(e,t)})):a.BV.runKernel(r.G3,h,m)}})},43596:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var a=n(72657),i=n(2668),r=n(56845);const s=(0,i.op)({truncatedNormal_:function(e,t=0,n=1,i,s){if(null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");const o=new r.Yi(t,n,i,!0,s),l=(0,a.f)(e,i);for(let e=0;e<l.values.length;e++)l.values[e]=o.nextValue();return l.toTensor()}})},49608:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({unique_:function(e,t=0){const n=(0,r._1)(e,"x","unique","string_or_numeric");(0,s.hu)(n.rank>0,(()=>"The input tensor must be at least 1D"));const o={x:n},l={axis:t},[c,u]=a.BV.runKernel(i.kp,o,l);return{values:c,indices:u}}})},98749:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({unsortedSegmentSum_:function(e,t,n){const o=(0,r._1)(e,"x","unsortedSegmentSum"),l=(0,r._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,s.hu)((0,s.GN)(n),(()=>"numSegments must be of dtype int"));const c={x:o,segmentIds:l},u={numSegments:n};return a.BV.runKernel(i.Qv,c,u)}})},24136:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var a=n(50196),i=n(29121),r=n(43740),s=n(20569);const o=(0,n(2668).op)({unstack_:function(e,t=0){const n=(0,r._1)(e,"x","unstack","string_or_numeric");s.hu(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const o={value:n},l={axis:t};return a.BV.runKernel(i.To,o,l)}})},64978:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});var a=n(43336);function i(e,t){return(0,a.z)(e,t,"right")}},95912:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var a=n(50196),i=n(29121),r=n(43740),s=n(68247),o=n(72200);const l=(0,n(2668).op)({where_:function(e,t,n){const l=(0,r._1)(t,"a","where"),c=(0,r._1)(n,"b","where"),u=(0,r._1)(e,"condition","where","bool"),d=(0,o.assertAndGetBroadcastShape)((0,o.assertAndGetBroadcastShape)(u.shape,l.shape),c.shape),p={condition:(0,s.U)(u,d),t:(0,s.U)(l,d),e:(0,s.U)(c,d)};return a.BV.runKernel(i.Ph,p)}})},66380:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var a=n(48333),i=n(43740);const r=async function(e){const t=(0,i._1)(e,"condition","whereAsync","bool"),n=await t.data(),r=(0,a.Z)(t.shape,n);return e!==t&&t.dispose(),r}},59640:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var a=n(50196),i=n(20569),r=n(61661);function s(e,t="float32"){if("complex64"===t){const t=s(e,"float32"),n=s(e,"float32");return(0,r.P)(t,n)}const n=(0,i.wT)((0,i.NA)(e),t);return a.BV.makeTensor(n,e,t)}},6577:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var a=n(50196),i=n(29121),r=n(43740);const s=(0,n(2668).op)({zerosLike_:function(e){const t={x:(0,r._1)(e,"x","zerosLike")};return a.BV.runKernel(i.Ru,t)}})},40974:(e,t,n)=>{"use strict";n.d(t,{es:()=>y,YD:()=>d,_w:()=>k,t3:()=>v,FZ:()=>b,Vp:()=>g,Vi:()=>f});var a=n(55938),i=n(20569);function r(e,t,n,a){const r=(0,i.e3)(t),o=function(e,t,n,a){const r=(0,i.NA)(t),o=a[a.length-1],l=new Array(o).fill(0),u=t.length,d="complex64"===n?c(e):e;if(u>1)for(let e=0;e<r/o;e++){const t=e*o;for(let e=0;e<o;e++)l[e]=Math.max(l[e],s(d[t+e],0,n).length)}return l}(e,t,n,r),u=t.length,d=l(e,t,n,r,o),p=["Tensor"];return a&&(p.push(`  dtype: ${n}`),p.push(`  rank: ${u}`),p.push(`  shape: [${t}]`),p.push("  values:")),p.push(d.map((e=>"    "+e)).join("\n")),p.join("\n")}function s(e,t,n){let a;return a=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:(0,i.HD)(e)?`'${e}'`:"bool"===n?o(e):parseFloat(e.toFixed(7)).toString(),(0,i.oj)(a,t)}function o(e){return 0===e?"false":"true"}function l(e,t,n,a,i,r=!0){const u="complex64"===n?2:1,d=t[0],p=t.length;if(0===p){if("complex64"===n){return[s(c(e)[0],0,n)]}return"bool"===n?[o(e[0])]:[e[0].toString()]}if(1===p){if(d>20){const t=3*u;let a=Array.from(e.slice(0,t)),r=Array.from(e.slice((d-3)*u,d*u));return"complex64"===n&&(a=c(a),r=c(r)),["["+a.map(((e,t)=>s(e,i[t],n))).join(", ")+", ..., "+r.map(((e,t)=>s(e,i[d-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?c(e):Array.from(e)).map(((e,t)=>s(e,i[t],n))).join(", ")+"]"]}const h=t.slice(1),m=a.slice(1),f=a[0]*u,g=[];if(d>20){for(let t=0;t<3;t++){const a=t*f,r=a+f;g.push(...l(e.slice(a,r),h,n,m,i,!1))}g.push("...");for(let t=d-3;t<d;t++){const a=t*f,r=a+f;g.push(...l(e.slice(a,r),h,n,m,i,t===d-1))}}else for(let t=0;t<d;t++){const a=t*f,r=a+f;g.push(...l(e.slice(a,r),h,n,m,i,t===d-1))}const b=2===p?",":"";g[0]="["+g[0]+b;for(let e=1;e<g.length-1;e++)g[e]=" "+g[e]+b;let y=",\n";for(let e=2;e<p;e++)y+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(r?"":y),g}function c(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var u=n(23418);class d{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=i.NA(e),null!=n){const e=n.length;i.hu(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||i.rQ(t,this.size),this.strides=(0,i.e3)(e)}set(e,...t){0===t.length&&(t=[0]),i.hu(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return p().makeTensor(this.values,this.shape,this.dtype)}}let p=null,h=null,m=null;function f(e){p=e}function g(e){h=e}function b(e){m=e}class y{constructor(e,t,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=i.NA(e),this.strides=(0,i.e3)(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return h.buffer(this.shape,this.dtype,e)}bufferSync(){return h.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return(0,i.GX)(this.shape,e,"complex64"===this.dtype)}arraySync(){return(0,i.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=p().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>u.decodeString(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),p().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=p().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>u.decodeString(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await p().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(p().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return h.print(this,e)}clone(){return this.throwIfDisposed(),h.clone(this)}toString(e=!1){return r(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),h.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),p().makeVariable(this,e,t,n)}}function v(){return(0,a.R)("Tensor",(()=>y))}Object.defineProperty(y,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),v();class k extends y{constructor(e,t,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!i.cO(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);p().disposeTensor(this),this.dataId=e.dataId,p().incRef(this,null)}dispose(){p().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(k,Symbol.hasInstance,{value:e=>e instanceof y&&null!=e.assign&&e.assign instanceof Function})},80747:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertTypesMatch:()=>o,getTensorsInContainer:()=>c,isTensorInList:()=>l,makeTypesMatch:()=>s});var a=n(40974),i=n(71221),r=n(20569);function s(e,t){if(e.dtype===t.dtype)return[e,t];const n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function o(e,t){(0,r.hu)(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}function l(e,t){return t.some((t=>t.id===e.id))}function c(e){const t=[];return u(e,t,new Set),t}function u(e,t,n){if(null==e)return;if(e instanceof a.es)return void t.push(e);if(i=e,!Array.isArray(i)&&"object"!=typeof i)return;var i;const r=e;for(const e in r){const a=r[e];n.has(a)||(n.add(a),u(a,t,n))}}},43740:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,_1:()=>d,sI:()=>p});var a=n(50196),i=n(22885),r=n(40974),s=n(20569),o=n(23418);function l(e,t){let n=e;if((0,s.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const a=[];for(;Array.isArray(n)||(0,s.fU)(n)&&"string"!==t;)a.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,a,[]),a}function c(e,t,n){if(n=n||[],!Array.isArray(e)&&!(0,s.fU)(e))return void(0,s.hu)(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));(0,s.hu)(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),(0,s.hu)(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const a=t.slice(1);for(let t=0;t<e.length;++t)c(e[t],a,n.concat(t))}function u(e,t,n,a){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${a}' must be ${e} tensor, but got ${t} tensor`)}}function d(e,t,n,i="numeric"){if(e instanceof r.es)return u(i,e.dtype,t,n),e;let c=(0,s.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(i)>=0&&(c=i),u(i,c,t,n),null==e||!(0,s.fU)(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const a=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${a}'`)}const d=l(e,c);(0,s.fU)(e)||Array.isArray(e)||(e=[e]);const p="string"!==c?(0,o.toTypedArray)(e,c):(0,s.xH)(e,[],!0);return a.BV.makeTensor(p,d,c)}function p(e,t,n,a="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,i)=>d(e,`${t}[${i}]`,n,a)))}},71221:(e,t,n)=>{"use strict";var a,i,r,s,o;n.d(t,{x8:()=>c,yw:()=>a,z4:()=>u}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(r||(r={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(s||(s={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(o||(o={}));const l={float32:s,int32:i,bool:r,complex64:o};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return l[e][t]}function u(e){return c(e,"int32")}},23418:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arraysEqual:()=>i.cO,assert:()=>i.hu,assertNonNegativeIntegerDimensions:()=>i.Mu,assertNonNull:()=>i.Cq,assertShapesMatch:()=>i.k5,bytesFromStringArray:()=>i.Ub,bytesPerElement:()=>i.bT,checkConversionForErrors:()=>i.D5,clamp:()=>i.uZ,computeStrides:()=>i.e3,createScalarValue:()=>v,createShuffledIndices:()=>i.U$,decodeString:()=>C,distSquared:()=>i.E7,encodeString:()=>S,fetch:()=>w,fingerPrint64:()=>y,flatten:()=>i.xH,getArrayFromDType:()=>i.rQ,getTypedArrayFromDType:()=>i.WP,hasEncodingLoss:()=>i.QB,hexToLong:()=>o,indexToLoc:()=>i.NE,inferDtype:()=>i.D2,inferFromImplicitShape:()=>i.JZ,isBoolean:()=>i.jn,isFunction:()=>i.mf,isInt:()=>i.GN,isNumber:()=>i.hj,isPromise:()=>i.tI,isScalarShape:()=>i.N9,isString:()=>i.HD,isTypedArray:()=>i.fU,isValidDtype:()=>i.LP,locToIndex:()=>i.qy,makeOnesTypedArray:()=>i.p8,makeZerosNestedTypedArray:()=>i.l6,makeZerosTypedArray:()=>i.wT,nearestDivisor:()=>i.jP,nearestLargerEven:()=>i.nY,now:()=>x,parseAxisParam:()=>i.EC,randUniform:()=>i.bj,repeatedTry:()=>i.WD,rightPad:()=>i.oj,shuffle:()=>i.TV,shuffleCombo:()=>i.d7,sizeFromShape:()=>i.NA,sizeToSquarishShape:()=>i.YP,squeezeShape:()=>i.bp,sum:()=>i.Sm,swap:()=>i.LF,tanh:()=>i.AE,toNestedArray:()=>i.GX,toTypedArray:()=>k});var a=n(22885),i=n(20569),r=n(43720);const s=n.n(r)()||r;function o(e){return s.fromString(e,!0,16)}const l=o("c3a5c85c97cb3127"),c=o("b492b66fbe98f273"),u=o("9ae16a3b2f90404f");function d(e){return e.xor(e.shru(47))}function p(e,t,n){const a=e.slice(t,t+n);return s.fromBytes(Array.from(a),!0,!0)}function h(e,t){return p(e,t,8)}function m(e,t){return p(e,t,4)}function f(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t,n=o("9ddfea08eb382d69")){let a=e.xor(t).mul(n);a=a.xor(a.shru(47));let i=t.xor(a).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function b(e,t,n,a){return function(e,t,n,a,i,r){i=i.add(e),r=f(r.add(i).add(a),21);const s=i;return i=(i=i.add(t)).add(n),r=r.add(f(i,44)),[i.add(a),r.add(s)]}(h(e,t),h(e,t+8),h(e,t+16),h(e,t+24),n,a)}function y(e,t=e.length){const n=s.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=u.add(2*t),a=h(e,0).add(u),i=h(e,t-8);return g(f(i,37).mul(n).add(a),f(a,25).add(i).mul(n),n)}if(t>=4){const n=u.add(2*t);return g(m(e,0).shl(3).add(t),m(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),a=t+(e[t-1]<<2);return d(u.mul(n).xor(l.mul(a))).mul(u)}return u}(e,t):function(e,t=e.length){const n=u.add(2*t),a=h(e,0).mul(c),i=h(e,8),r=h(e,t-8).mul(n),s=h(e,t-16).mul(u);return g(f(a.add(i),43).add(f(r,30)).add(s),a.add(f(i.add(u),18)).add(r),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=u.add(2*t),a=h(e,0).mul(u),i=h(e,8),r=h(e,t-8).mul(n),s=h(e,t-16).mul(u),o=f(a.add(i),43).add(f(r,30)).add(s),l=g(o,a.add(f(i.add(u),18)).add(r),n),c=h(e,16).mul(n),d=h(e,24),p=o.add(h(e,t-32)).mul(n),m=l.add(h(e,t-24)).mul(n);return g(f(c.add(d),43).add(f(p,30)).add(m),c.add(f(d.add(a),18)).add(p),n)}(e,t);let a=n,i=n.mul(c).add(113),r=d(i.mul(u).add(113)).mul(u),o=[s.UZERO,s.UZERO],p=[s.UZERO,s.UZERO];a=a.mul(u).add(h(e,0));let y=0;const v=64*(t-1>>6),k=v+(t-1&63)-63;do{a=f(a.add(i).add(o[0]).add(h(e,y+8)),37).mul(c),i=f(i.add(o[1]).add(h(e,y+48)),42).mul(c),a=a.xor(p[1]),i=i.add(o[0]).add(h(e,y+40)),r=f(r.add(p[0]),33).mul(c),o=b(e,y,o[1].mul(c),a.add(p[0])),p=b(e,y+32,r.add(p[1]),i.add(h(e,y+16))),[r,a]=[a,r],y+=64}while(y!==v);const x=c.add(r.and(255).shl(1));return y=k,p[0]=p[0].add(t-1&63),o[0]=o[0].add(p[0]),p[0]=p[0].add(o[0]),a=f(a.add(i).add(o[0]).add(h(e,y+8)),37).mul(x),i=f(i.add(o[1]).add(h(e,y+48)),42).mul(x),a=a.xor(p[1].mul(9)),i=i.add(o[0].mul(9).add(h(e,y+40))),r=f(r.add(p[0]),33).mul(x),o=b(e,y,o[1].mul(x),a.add(p[0])),p=b(e,y+32,r.add(p[1]),i.add(h(e,y+16))),[r,a]=[a,r],g(g(o[0],p[0],x).add(d(i).mul(l)).add(r),g(o[1],p[1],x).add(a),x)}function v(e,t){return"string"===t?S(e):k([e],t)}function k(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,a.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function x(){return(0,a.OB)().platform.now()}function w(e,t){return(0,a.OB)().platform.fetch(e,t)}function S(e,t="utf-8"){return t=t||"utf-8",(0,a.OB)().platform.encode(e,t)}function C(e,t="utf-8"){return t=t||"utf-8",(0,a.OB)().platform.decode(e,t)}},20569:(e,t,n)=>{"use strict";function a(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,o(e,t,n)}function i(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,a=0;for(;n>0;)a=Math.random()*n|0,n--,o(e,n,a),o(t,n,a)}function r(e,t,n){return Math.max(e,Math.min(t,n))}function s(e){return e%2==0?e:e+1}function o(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function l(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){const n=Math.random();return t*n+(1-n)*e}function u(e,t){let n=0;for(let a=0;a<e.length;a++){const i=Number(e[a])-Number(t[a]);n+=i*i}return n}function d(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function p(e,t,n=""){d(b(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function h(e){d(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function m(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||M(e)&&!n)for(let a=0;a<e.length;++a)m(e[a],t,n);else t.push(e);return t}function f(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function g(e){return 0===e.length}function b(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1==0}function v(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function k(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function x(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return a(t),t}function w(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function S(e,t=(e=>0),n){return new Promise(((a,i)=>{let r=0;const s=()=>{if(e())return void a();r++;const o=t(r);null!=n&&r>=n?i():setTimeout(s,o)};s()}))}function C(e,t){let n=1,a=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==a)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${a} and dim ${t}`);a=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===a){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const i=e.slice();return i[a]=t/n,i}function T(e,t){const n=t.length;return d((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),d(e.every((e=>y(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function _(e,t){const n=[],a=[],i=null!=t&&Array.isArray(t)&&0===t.length,r=null==t||i?null:T(t,e).sort();let s=0;for(let t=0;t<e.length;++t){if(null!=r){if(r[s]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==r[s]||r[s]>t)&&1===e[t]&&(n.push(e[t]),a.push(t)),r[s]<=t&&s++}1!==e[t]&&(n.push(e[t]),a.push(t))}return{newShape:n,keptDims:a}}function I(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function A(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function N(e,t){for(let n=0;n<e.length;n++){const a=e[n];if(isNaN(a)||!isFinite(a))throw Error(`A tensor of type ${t} being uploaded contains ${a}.`)}}function E(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function R(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function M(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function D(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function $(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function B(e){return"string"==typeof e||e instanceof String}function L(e){return"boolean"==typeof e}function F(e){return"number"==typeof e}function O(e){return Array.isArray(e)?O(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":F(e)?"float32":B(e)?"string":L(e)?"bool":"float32"}function j(e){return!!(e&&e.constructor&&e.call&&e.apply)}function z(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function P(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}function W(e,t,n,a=!1){const i=new Array;if(1===t.length){const r=t[0]*(a?2:1);for(let t=0;t<r;t++)i[t]=n[e+t]}else{const r=t[0],s=t.slice(1),o=s.reduce(((e,t)=>e*t))*(a?2:1);for(let t=0;t<r;t++)i[t]=W(e+t*o,s,n,a)}return i}function G(e,t,n=!1){if(0===e.length)return t[0];const a=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===a)return[];if(a!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return W(0,e,t,n)}function V(e,t){const n=U(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function U(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function H(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return G(e,new Float32Array(n));if("int32"===t)return G(e,new Int32Array(n));if("bool"===t)return G(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function q(e){e.forEach((t=>{d(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];let a=e[e.length-1];for(let t=0;t<e.length-1;++t)a+=n[t]*e[t];return a}function J(e,t,n){if(0===t)return[];if(1===t)return[e];const a=new Array(t);for(let t=0;t<a.length-1;++t)a[t]=Math.floor(e/n[t]),e-=a[t]*n[t];return a[a.length-1]=e,a}function X(e){return e&&e.then&&"function"==typeof e.then}n.d(t,{AE:()=>v,Cq:()=>h,D2:()=>O,D5:()=>N,E7:()=>u,EC:()=>T,GN:()=>y,GX:()=>G,HD:()=>B,JZ:()=>C,LF:()=>o,LP:()=>E,Mu:()=>q,N9:()=>g,NA:()=>f,NE:()=>J,QB:()=>R,Sm:()=>l,TV:()=>a,U$:()=>x,Ub:()=>$,WD:()=>S,WP:()=>I,YP:()=>k,bT:()=>D,bj:()=>c,bp:()=>_,cO:()=>b,d7:()=>i,e3:()=>P,fU:()=>M,hj:()=>F,hu:()=>d,jP:()=>z,jn:()=>L,k5:()=>p,l6:()=>H,mf:()=>j,nY:()=>s,oj:()=>w,p8:()=>V,qy:()=>K,rQ:()=>A,tI:()=>X,uZ:()=>r,wT:()=>U,xH:()=>m})},73446:(e,t,n)=>{"use strict";n.d(t,{N_N:()=>i.getBackend});var a={};n.r(a),n.d(a,{addImpl:()=>ju,bincountImpl:()=>Rd,bincountReduceImpl:()=>Md,ceilImpl:()=>Bd,concatImpl:()=>Pd,equalImpl:()=>Cp,expImpl:()=>Bp,expm1Impl:()=>zp,floorImpl:()=>ah,gatherNdImpl:()=>dh,gatherV2Impl:()=>hh,greaterEqualImpl:()=>yh,greaterImpl:()=>fh,lessEqualImpl:()=>Rh,lessImpl:()=>Ah,linSpaceImpl:()=>$h,logImpl:()=>Lh,maxImpl:()=>Yh,maximumImpl:()=>em,minimumImpl:()=>um,multiplyImpl:()=>gp,negImpl:()=>km,notEqualImpl:()=>Am,prodImpl:()=>Pm,rangeImpl:()=>Gm,rsqrtImpl:()=>tf,scatterImpl:()=>rf,sigmoidImpl:()=>_u,simpleAbsImpl:()=>Ku,sliceImpl:()=>Id,sparseFillEmptyRowsImpl:()=>Tf,sparseReshapeImpl:()=>If,sparseSegmentReductionImpl:()=>Nf,sqrtImpl:()=>$f,squaredDifferenceImpl:()=>Of,stridedSliceImpl:()=>Gf,stringNGramsImpl:()=>Hf,stringSplitImpl:()=>Jf,stringToHashBucketFastImpl:()=>Yf,subImpl:()=>Hp,tileImpl:()=>ag,topKImpl:()=>og,transposeImpl:()=>td,uniqueImpl:()=>mg});var i=n(30645),r=n(29121),s=n(62271),o=n(24841),l=n(71901);const c={kernelName:r.SY,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,(0,l.N)((0,s.p)(n,"float32"),-1))}}};var u=n(41274),d=n(17370),p=n(99494),h=n(13261),m=n(50248),f=n(70827);const g={kernelName:r.VG,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,m.h)((0,s.p)(n,"float32")),a=(0,h._)((0,f.l)((0,p.i)(1),t));return(0,d.W)((0,u.h)(e,a))}}}},b={kernelName:r.Sp,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,h._)((0,f.l)((0,m.h)((0,s.p)(n,"float32")),1));return(0,u.h)(e,t)}}}};var y=n(72200),v=n(4968),k=n(15475);const x={kernelName:r.mm,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=y.assertAndGetBroadcastShape(n.shape,a.shape);return{a:()=>{let t=e;const a=y.getReductionAxes(n.shape,i);return a.length>0&&(t=(0,k.S)(t,a)),(0,v.X)(t,n.shape)},b:()=>{let t=e;const n=y.getReductionAxes(a.shape,i);return n.length>0&&(t=(0,k.S)(t,n)),(0,v.X)(t,a.shape)}}}},w={kernelName:r.Xz,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,a)=>{n[a]=()=>e.clone()})),n}};var S=n(6577);const C={kernelName:r.sJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,S.P)(n)}}},T={kernelName:r.aJ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,S.P)(n)}}},_={kernelName:r.M2,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,h._)((0,f.l)((0,p.i)(1),(0,m.h)((0,s.p)(n,"float32")))))}}};var I=n(56407);const A={kernelName:r.qw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,h._)((0,I.I)((0,p.i)(1),(0,m.h)((0,s.p)(n,"float32"))));return(0,u.h)(e,t)}}}},N={kernelName:r.QC,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=(0,y.assertAndGetBroadcastShape)(n.shape,a.shape);return{a:()=>{const t=(0,I.I)((0,m.h)(n),(0,m.h)(a));let r=(0,o.d)(e,(0,u.h)(a,t));const s=(0,y.getReductionAxes)(n.shape,i);return s.length>0&&(r=(0,k.S)(r,s)),(0,v.X)(r,n.shape)},b:()=>{const t=(0,I.I)((0,m.h)(n),(0,m.h)(a));let r=(0,d.W)((0,o.d)(e,(0,u.h)(n,t)));const s=(0,y.getReductionAxes)(a.shape,i);return s.length>0&&(r=(0,k.S)(r,s)),(0,v.X)(r,a.shape)}}}},E={kernelName:r.jM,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,I.I)((0,m.h)((0,s.p)(n,"float32")),1))}}},R={kernelName:r.Oy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,f.l)((0,p.i)(1),(0,m.h)((0,s.p)(n,"float32"))))}}};var M=n(50196),D=n(43740),$=n(20569),B=n(2582),L=n(2668);const F=(0,L.op)({avgPool3dGrad_:function(e,t,n,a,i,s){const o=(0,D._1)(e,"dy","avgPool3dGrad"),l=(0,D._1)(t,"input","avgPool3dGrad");let c=o,u=l,d=!1;4===l.rank&&(d=!0,c=(0,v.X)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),u=(0,v.X)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),$.hu(5===c.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`)),$.hu(5===u.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`)),(0,B.m)("avgPool3dGrad",i,s);const p={dy:c,input:u},h={filterSize:n,strides:a,pad:i,dimRoundingMode:s},m=M.BV.runKernel(r.IM,p,h);return d?(0,v.X)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),O={kernelName:r._k,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{filterSize:i,strides:r,pad:s,dimRoundingMode:o}=n;return{x:()=>F(e,a,i,r,s,o)}}};const j=(0,L.op)({avgPoolGrad_:function(e,t,n,a,i){const s=(0,D._1)(e,"dy","avgPoolGrad"),o=(0,D._1)(t,"input","avgPoolGrad");$.hu(o.rank===s.rank,(()=>`Rank of input (${o.rank}) does not match rank of dy (${s.rank})`));let l=o,c=s,u=!1;3===o.rank&&(u=!0,l=(0,v.X)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),c=(0,v.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),$.hu(4===c.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${c.rank}.`)),$.hu(4===l.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${l.rank}.`));const d={dy:c,input:l},p={filterSize:n,strides:a,pad:i},h=M.BV.runKernel(r.RO,d,p);return u?(0,v.X)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),z={kernelName:r.Jh,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{filterSize:i,strides:r,pad:s}=n;return{x:()=>j(e,a,i,r,s)}}};var P=n(28687);const W={kernelName:r.XL,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[a,i]=t,{transposeA:r,transposeB:s}=n;return r||s?!r&&s?{a:()=>(0,P.O)(e,i,!1,!1),b:()=>(0,P.O)(e,a,!0,!1)}:r&&!s?{a:()=>(0,P.O)(i,e,!1,!0),b:()=>(0,P.O)(a,e,!1,!1)}:{a:()=>(0,P.O)(i,e,!0,!0),b:()=>(0,P.O)(e,a,!0,!0)}:{a:()=>(0,P.O)(e,i,!1,!0),b:()=>(0,P.O)(a,e,!0,!1)}}};var G=n(27918);const V={kernelName:r.zw,gradFunc:(e,t,n)=>{const{blockShape:a,crops:i}=n;return{x:()=>(0,G.f)(e,a,i)}}},U={kernelName:r.Ly,gradFunc:(e,t,n)=>{const a=n,i=a.inputShape,r=a.shape,s=Array.from(r);for(let e=i.length-1;e>=0;e--)if(i[e]===r[e])s[e]=1;else if(1!==i[e])throw new Error(`broadcastTo(): [${i}] cannot be broadcast to [${r}].`);const o=[];for(let e=0;e<s.length;e++)s[e]>1&&o.push(e);return{x:()=>(0,k.S)(e,o,!0)}}},H={kernelName:r.RF,gradFunc:e=>({x:()=>e.clone()})},q={kernelName:r.gJ,gradFunc:e=>({x:()=>(0,S.P)(e)})};var K=n(17630),J=n(50624),X=n(2856),Y=n(95912);const Z={kernelName:r.xn,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{clipValueMin:i,clipValueMax:r}=n;return{x:()=>(0,Y.a)((0,X.H)((0,K.b)(a,i),(0,J.z)(a,r)),e,(0,S.P)(e))}}},Q={kernelName:r.yj,inputsToSave:["x"],gradFunc:c.gradFunc};var ee=n(28644);const te={kernelName:r.Eh,saveAllInputs:!0,gradFunc:(e,t,n)=>{const a=t.map((e=>e.shape)),{axis:i}=n,r=(0,$.EC)(i,t[0].shape)[0],s=a.map((e=>e[r]));return(0,ee.V)(e,s,r).map((e=>()=>e))}};var ne=n(36013),ae=n(39832);const ie={kernelName:r.mh,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,i]=t,{dilations:r,strides:s,pad:o,dataFormat:l}=n;return $.hu(B.I0(r),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`)),{x:()=>(0,ae._)(a.shape,e,i,s,o,l),filter:()=>(0,ne.p)(a,e,i.shape,s,o,l)}}};var re=n(64794);const se={kernelName:r.wm,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[a,i]=t,{strides:r,pad:s,dataFormat:o,dimRoundingMode:l}=n;return{dy:()=>(0,re.T)(e,i,r,s,o,1,l),filter:()=>(0,ne.p)(e,a,i.shape,r,s,o,l)}}};const oe=(0,L.op)({conv3DBackpropFilter_:function(e,t,n,a,i){let s=e;4===e.rank&&(s=(0,v.X)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let o=t;4===o.rank&&(o=(0,v.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),$.hu(5===s.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${s.shape}.`)),$.hu(5===o.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`)),$.hu(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),$.hu(s.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${s.shape[4]}) must match input depth in filter (${n[3]}.`)),$.hu(o.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`));const l={x:s,dy:o},c={strides:a,pad:i,filterShape:n};return M.BV.runKernel(r.o2,l,c)}});var le=n(97594);const ce={kernelName:r.x1,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:a,strides:i,pad:r}=n;$.hu((0,B.I0)(a),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${a}'`));const[s,o]=t;return{x:()=>(0,le._)(s.shape,e,o,i,r),filter:()=>oe(s,e,o.shape,i,r)}}};var ue=n(99331);const de={kernelName:r.mc,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,d.W)((0,ue.O)((0,s.p)(n,"float32"))),e)}}};var pe=n(83254);const he={kernelName:r.TR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,pe.R)((0,s.p)(n,"float32")),e)}}};var me=n(83591),fe=n(37405),ge=n(89065);const be={kernelName:r.iH,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:i,exclusive:r,reverse:s}=n;return{x:()=>{const t=(0,me.Q3)([i],a.rank);let n=(0,fe.z)(e,i,r,!s);return null!=t&&(n=(0,ge.p)(n,t)),n}}}};var ye=n(88098),ve=n(54375);const ke={kernelName:r.ci,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:a,strides:i,pad:r,dimRoundingMode:s}=n,o=null==a?[1,1]:a;$.hu(B.I0(o),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${o}'`));const[l,c]=t;return $.hu(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),$.hu(4===c.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`)),$.hu(l.shape[3]===c.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`)),$.hu(B.jT(i,o),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${i} and dilations '${o}'.`)),B.m("depthwiseConv2d",r,s),{x:()=>(0,ve.v)(l.shape,e,c,i,r,o,s),filter:()=>(0,ye.z)(l,e,c.shape,i,r,o,s)}}},xe={kernelName:r.p4,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,i]=t,s={x:a,filter:i,dy:e},o={x:a,filter:i,dy:e};return{x:()=>M.BV.runKernel(r.ek,s,n),filter:()=>M.BV.runKernel(r.Vn,o,n)}}},we={kernelName:r.SX,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,a={dy:e,y:n};return{x:()=>M.BV.runKernel(r.HE,a)}}};var Se=n(44842);const Ce={kernelName:r.Om,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,a=(0,o.d)((0,Se.Q)((0,d.W)((0,m.h)(n))),2/Math.sqrt(Math.PI));return{x:()=>(0,o.d)(e,a)}}},Te={kernelName:r.NE,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,n)}}},_e={kernelName:r.YF,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>(0,v.X)(e,n.shape)}}},Ie={kernelName:r.Y0,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,(0,Se.Q)(n))}}},Ae={kernelName:r.OR,gradFunc:e=>({x:()=>(0,S.P)(e)})},Ne={kernelName:r.je,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=(0,y.assertAndGetBroadcastShape)(n.shape,a.shape);return{a:()=>{const t=(0,u.h)(e,(0,s.p)(a,"float32")),r=(0,y.getReductionAxes)(n.shape,i);return r.length>0?(0,v.X)((0,k.S)(t,r),n.shape):t},b:()=>{let t=(0,o.d)(e,(0,s.p)(n,"float32"));const r=(0,y.getReductionAxes)(a.shape,i);r.length>0&&(t=(0,v.X)((0,k.S)(t,r),a.shape));const l=(0,m.h)(a);return(0,d.W)((0,u.h)(t,(0,s.p)(l,"float32")))}}}};var Ee=n(32634),Re=n(47501);const Me={kernelName:r.sH,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:a}=n,[i,r,s,l]=t,c=null==l?(0,p.i)(1):l,u=(0,y.getReductionAxes)(r.shape,i.shape),d=[];if(1===r.rank){for(let e=0;e<i.shape.length-1;++e)d.push(i.shape[e]);d.push(1)}const h=(0,f.l)(i,r),m=(0,o.d)(e,c),g=(0,Ee.b)((0,I.I)(s,(0,p.i)(a))),b=(0,o.d)((0,o.d)((0,o.d)(g,g),g),(0,p.i)(-.5));return{x:()=>1===r.rank?(0,v.X)((0,o.d)((0,o.d)(e,(0,Re.G)((0,v.X)(g,[1,1,1,r.shape[0]]),d)),c),i.shape):(0,v.X)((0,o.d)((0,o.d)(e,g),c),i.shape),mean:()=>{let e=(0,o.d)((0,o.d)(g,(0,p.i)(-1)),m);return 1===r.rank&&(e=(0,k.S)(e,u)),(0,v.X)(e,r.shape)},variance:()=>{let e=(0,o.d)((0,o.d)(b,h),m);return 1===r.rank&&(e=(0,k.S)(e,u)),(0,v.X)(e,r.shape)},scale:()=>{const t=(0,o.d)(h,g);let n=(0,o.d)(e,t);return 1===r.rank&&(n=(0,k.S)(n,u)),(0,v.X)(n,r.shape)},offset:()=>{let t=e;return 1===r.rank&&(t=(0,k.S)(t,u)),(0,v.X)(t,r.shape)}}}};var De=n(98749);const $e={kernelName:r.qi,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[a,i]=t,{axis:r}=n,s=(0,$.EC)(r,a.shape)[0];return{x:()=>{const t=a.shape,n=i.size,o=t.slice(0,s),l=o.length,c=t.slice(r,t.length).slice(1),u=c.length,d=Be(0,l),p=Be(l+1,l+1+u),h=Le([o,[n],c]),m=(0,v.X)(e,h),f=(0,v.X)(i,[n]),g=Le([[l],d,p]),b=(0,ge.p)(m,g);let y=(0,De.p)(b,f,a.shape[s]);const k=(0,me.LJ)(g);return y=(0,ge.p)(y,k),y},indices:()=>i}}};function Be(e,t){const n=[];for(let a=e;a<t;++a)n.push(a);return n}function Le(e){const t=[];for(let n=0;n<e.length;++n)for(let a=0;a<e[n].length;++a)t.push(e[n][a]);return t}const Fe={kernelName:r.Ac,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>(0,S.P)(n),b:()=>(0,S.P)(a)}}},Oe={kernelName:r.iJ,gradFunc:e=>({x:()=>(0,s.p)(e,"float32")})},je={kernelName:r.av,gradFunc:e=>({x:()=>(0,S.P)(e)})},ze={kernelName:r.iW,gradFunc:e=>({x:()=>(0,S.P)(e)})},Pe={kernelName:r.r7,gradFunc:e=>({x:()=>(0,S.P)(e)})};var We=n(20636);const Ge={kernelName:r.J$,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{alpha:i}=n,r=(0,We.p)(a,0);return{x:()=>(0,Y.a)(r,e,(0,o.d)(e,i))}}},Ve={kernelName:r.kU,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,I.I)(n,1))}}},Ue={kernelName:r.Zb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,s.p)(n,"float32"))}}},He={kernelName:r.qC,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a]=t,{axis:i}=n;return{logits:()=>{const t=(0,Se.Q)(a);return(0,f.l)(e,(0,o.d)((0,k.S)(e,i,!0),t))}}}};const qe=(0,L.op)({localResponseNormalizationBackprop_:function(e,t,n,a=5,i=1,s=1,o=.5){const l={x:e,y:t,dy:n},c={depthRadius:a,bias:i,alpha:s,beta:o};return M.BV.runKernel(r.Hh,l,c)}}),Ke={kernelName:r.eZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,i]=t,{depthRadius:r,bias:s,alpha:o,beta:l}=n;return{x:()=>qe(a,i,e,r,s,o,l)}}};var Je=n(26477);function Xe(e,t,n,a){return t.rank<n.rank&&(t=(0,v.X)(t,me.rv(t.shape,a))),e.rank<n.rank&&(e=(0,v.X)(e,me.rv(e.shape,a))),{x:()=>(0,o.d)(e,(0,s.p)((0,Je.D)(n,t),e.dtype))}}const Ye={kernelName:r.Yo,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const a=n,{reductionIndices:i}=a,r=t[0],s=Xe(e,t[1],r,$.EC(i,r.shape));return{x:()=>s.x()}}};var Ze=n(86573);const Qe={kernelName:r.BM,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>(0,o.d)(e,(0,s.p)((0,K.b)(n,a),"float32")),b:()=>(0,o.d)(e,(0,s.p)((0,Ze.d)(n,a),"float32"))}}};const et=(0,L.op)({maxPool3dGrad_:function(e,t,n,a,i,s,o){const l=(0,D._1)(e,"dy","maxPool3dGrad"),c=(0,D._1)(t,"input","maxPool3dGrad"),u=(0,D._1)(n,"output","maxPool3dGrad");let d=l,p=c,h=u,m=!1;4===c.rank&&(m=!0,d=(0,v.X)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),p=(0,v.X)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]]),h=(0,v.X)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),$.hu(5===d.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${d.rank}.`)),$.hu(5===p.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${p.rank}.`)),$.hu(5===h.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${h.rank}.`)),(0,B.m)("maxPool3dGrad",s,o);const f={dy:d,input:p,output:h},g={filterSize:a,strides:i,pad:s,dimRoundingMode:o},b=M.BV.runKernel(r.OU,f,g);return m?(0,v.X)(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}}),tt={kernelName:r.OA,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,i]=t,{filterSize:r,strides:s,pad:o,dimRoundingMode:l}=n;return{x:()=>et(e,a,i,r,s,o,l)}}};const nt=(0,L.op)({maxPoolGrad_:function(e,t,n,a,i,s,o){const l=(0,D._1)(e,"dy","maxPoolGrad"),c=(0,D._1)(t,"input","maxPoolGrad"),u=(0,D._1)(n,"output","maxPoolGrad");$.hu(c.rank===l.rank,(()=>`Rank of input (${c.rank}) does not match rank of dy (${l.rank})`)),$.hu(4===l.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),$.hu(4===c.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${c.rank}.`)),B.m("maxPoolGrad",s,o);const d={dy:l,input:c,output:u},p={filterSize:a,strides:i,pad:s,dimRoundingMode:o};return M.BV.runKernel(r.OV,d,p)}}),at={kernelName:r.mT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,i]=t,{filterSize:r,strides:s,pad:o}=n;return{x:()=>nt(e,a,i,r,s,o)}}};var it=n(44917);const rt={kernelName:r.q2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:i}=n,r=$.EC(i,a.shape),s=(0,me.kz)(a.shape,r)[1],l=$.NA(s);return{x:()=>{const t=a.shape.slice();r.forEach((e=>{t[e]=1}));const n=(0,v.X)(e,t);return(0,u.h)((0,o.d)(n,(0,it.i)(a.shape,"float32")),l)}}}},st={kernelName:r.c1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const a=n,{axis:i}=a,[r,s]=t,o=Xe(e,s,r,$.EC(i,r.shape));return{x:()=>o.x()}}},ot={kernelName:r.q8,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>(0,o.d)(e,(0,s.p)((0,J.z)(n,a),"float32")),b:()=>(0,o.d)(e,(0,s.p)((0,We.p)(n,a),"float32"))}}};var lt=n(22676);const ct={kernelName:r.jQ,inputsToSave:["x"],gradFunc:(e,t,n)=>{const a=t[0],{paddings:i}=n,r=i.map((e=>e[0]));return{x:()=>(0,lt.t)(e,r,a.shape)}}};var ut=n(26943);const dt={kernelName:r.Vb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=(0,y.assertAndGetBroadcastShape)(n.shape,a.shape);return{a:()=>{const t=(0,y.getReductionAxes)(n.shape,i);return t.length>0?(0,v.X)((0,k.S)(e,t),n.shape):e},b:()=>{const t=(0,o.d)(e,(0,d.W)((0,ut.G)((0,u.h)(n,a)))),r=(0,y.getReductionAxes)(a.shape,i);return r.length>0?(0,v.X)((0,k.S)(t,r),a.shape):t}}}},pt={kernelName:r.wY,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=(0,y.assertAndGetBroadcastShape)(n.shape,a.shape);return{a:()=>{const t=(0,o.d)(e,(0,s.p)(a,"float32")),r=(0,y.getReductionAxes)(n.shape,i);return r.length>0?(0,v.X)((0,k.S)(t,r),n.shape):t},b:()=>{const t=(0,o.d)(e,(0,s.p)(n,"float32")),r=(0,y.getReductionAxes)(a.shape,i);return r.length>0?(0,v.X)((0,k.S)(t,r),a.shape):t}}}},ht={kernelName:r.ku,gradFunc:e=>({x:()=>(0,d.W)(e)})};var mt=n(59640);const ft={kernelName:r.we,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>(0,mt.l)(n.shape,"float32")}}},gt={kernelName:r.qW,gradFunc:e=>({x:()=>(0,S.P)(e)})};var bt=n(24136);const yt={kernelName:r.Qi,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:a}=n;return(0,bt.H)(e,a).map((e=>()=>e))}},vt={kernelName:r.ly,inputsToSave:["x"],gradFunc:(e,t,n)=>{const a=t[0],{paddings:i}=n,r=i.map((e=>e[0]));return{x:()=>(0,lt.t)(e,r,a.shape)}}};var kt=n(82597),xt=n(33453);const wt={kernelName:r.pe,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,a,i]=t,r=n,l=a,c=y.assertAndGetBroadcastShape(r.shape,l.shape);return{a:()=>{const t=(0,s.p)(l,"float32");let n=(0,o.d)(e,(0,o.d)(t,(0,xt.s)(r,(0,f.l)(t,(0,p.i)(1)))));const a=y.getReductionAxes(r.shape,c);return a.length>0&&(n=(0,k.S)(n,a)),(0,v.X)(n,r.shape)},b:()=>{const t=(0,We.p)(r,0),n=(0,Y.a)(t,(0,kt.c)(r),(0,S.P)(r));let a=(0,o.d)(e,(0,o.d)(i,n));const s=y.getReductionAxes(l.shape,c);return s.length>0&&(a=(0,k.S)(a,s)),(0,v.X)(a,l.shape)}}}},St={kernelName:r.o0,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,a]=t,i=(0,We.p)(n,0);return{x:()=>(0,Y.a)(i,e,(0,o.d)(e,a)),alpha:()=>{let t=(0,Y.a)(i,(0,S.P)(e),(0,o.d)(e,n));const r=(0,y.getReductionAxes)(a.shape,e.shape);return r.length>0&&(t=(0,k.S)(t,r)),(0,v.X)(t,a.shape)}}}};var Ct=n(9640);function Tt(e,t,n){const a=e.shape.length,i=a-n.length,r=me.Q3(n,a);let s=e;null!=r&&(s=(0,ge.p)(e,r));const l=s.shape.slice(),c=l.splice(a-n.length,n.length).reduce(((e,t)=>e*t),1);l.push(c);let u=function(e,t,n){const a=e.shape.slice();a[n]=1;const i=(0,v.X)(t,a),r=(0,Ct.$)(e,n,!0,!1),s=(0,Ct.$)(e,n,!0,!0),l=(0,o.d)(r,s);return(0,o.d)(i,l)}(s.reshape(l),t,i);if(u=u.reshape(s.shape),null!=r){const e=me.LJ(r);u=(0,ge.p)(u,e)}return u}const _t={kernelName:r.Dl,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:i}=n;let r=[];return r=null==i?a.shape.map(((e,t)=>t)):"number"==typeof i?[i]:i,{x:()=>Tt(a,e,r)}}},It={kernelName:r.oH,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=y.assertAndGetBroadcastShape(n.shape,a.shape);return{a:()=>{const t=(0,u.h)(e,(0,s.p)(a,"float32")),r=y.getReductionAxes(n.shape,i);return r.length>0?(0,v.X)((0,k.S)(t,r),n.shape):t},b:()=>{let t=(0,o.d)(e,(0,s.p)(n,"float32"));const r=y.getReductionAxes(a.shape,i);r.length>0&&(t=(0,v.X)((0,k.S)(t,r),a.shape));const l=(0,m.h)(a);return(0,d.W)((0,u.h)(t,(0,s.p)(l,"float32")))}}}},At={kernelName:r.$H,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,d.W)((0,m.h)(n)))}}},Nt={kernelName:r.Sb,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,a=(0,o.d)((0,J.z)(n,6),(0,l.N)(n));return{x:()=>(0,o.d)(e,(0,s.p)(a,"float32"))}}},Et={kernelName:r.qk,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,(0,s.p)((0,l.N)(n),"float32"))}}},Rt={kernelName:r.HZ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,v.X)(e,n.shape)}}},Mt={kernelName:r._Y,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,i={dy:e,images:a};return{images:()=>M.BV.runKernel(r.zb,i,n)}}},Dt={kernelName:r.dp,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,i={dy:e,images:a};return{images:()=>M.BV.runKernel(r.Hm,i,n)}}};var $t=n(57486);const Bt={kernelName:r.mK,gradFunc:(e,t,n)=>{const{dims:a}=n,i=(0,$.EC)(a,e.shape);return{x:()=>(0,$t.G)(e,i)}}},Lt={kernelName:r.e0,gradFunc:e=>({x:()=>(0,S.P)(e)})},Ft={kernelName:r.bV,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,d.W)((0,u.h)(e,(0,o.d)((0,xt.s)(n,1.5),2)))}}};var Ot=n(38651);const jt={kernelName:r.Ph,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>(0,s.p)((0,S.P)(n),"float32"),t:()=>(0,o.d)(e,(0,s.p)(n,e.dtype)),e:()=>(0,o.d)(e,(0,s.p)((0,Ot.h)(n),e.dtype))}}};var zt=n(43179);const Pt={kernelName:r.oF,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=(0,We.p)(n,(0,p.i)(0)),a=(0,p.i)(zt.y),i=(0,p.i)(zt.$),r=(0,o.d)(e,i),l=(0,o.d)((0,o.d)(e,a),(0,Se.Q)((0,s.p)(n,"float32")));return(0,Y.a)(t,r,l)}}}},Wt={kernelName:r.a5,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,(0,o.d)(n,(0,f.l)((0,p.i)(1),n)))}}},Gt={kernelName:r.i5,gradFunc:e=>({x:()=>(0,S.P)(e)})};var Vt=n(70173);const Ut={kernelName:r.RQ,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,Vt.m)((0,s.p)(n,"float32")),e)}}};var Ht=n(2699);const qt={kernelName:r.w3,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,Ht.f)((0,s.p)(n,"float32")),e)}}};var Kt=n(39682),Jt=n(37650);const Xt={kernelName:r.p2,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{begin:i,size:r}=n,s=a.shape,[o,l]=(0,Jt.parseSliceParams)(a,i,r),c=[];for(let t=0;t<e.rank;t++)c.push([o[t],s[t]-o[t]-l[t]]);return{x:()=>(0,Kt.v)(e,c)}}},Yt={kernelName:r.Gc,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a]=t,{dim:i}=n,r=(0,o.d)(e,a);return{logits:()=>(0,f.l)(r,(0,o.d)((0,k.S)(r,[i],true),a))}}};var Zt=n(30625);const Qt={kernelName:r.MR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,(0,Zt.X)(n))}}};var en=n(28441);const tn={kernelName:r.TQ,gradFunc:(e,t,n)=>{const{blockShape:a,paddings:i}=n;return{x:()=>(0,en.E)(e,a,i)}}};var nn=n(46884);const an={kernelName:r.L8,gradFunc:(e,t,n)=>{const{axis:a}=n;return{x:()=>(0,nn.z)(e,a)}}},rn={kernelName:r.FK,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,o.d)((0,h._)((0,s.p)(n,"float32")),2))}}},sn={kernelName:r.bK,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)(e,(0,o.d)((0,s.p)(n,"float32"),2))}}},on={kernelName:r._t,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=(0,p.i)(2);return{a:()=>(0,o.d)(e,(0,o.d)(i,(0,f.l)(n,a))),b:()=>(0,o.d)(e,(0,o.d)(i,(0,f.l)(a,n)))}}},ln={kernelName:r.h8,gradFunc:e=>({x:()=>(0,S.P)(e)})},cn={kernelName:r.Tr,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,i=y.assertAndGetBroadcastShape(n.shape,a.shape);return{a:()=>{let t=e;const a=y.getReductionAxes(n.shape,i);return a.length>0&&(t=(0,k.S)(t,a)),(0,v.X)(t,n.shape)},b:()=>{let t=e;const n=y.getReductionAxes(a.shape,i);return n.length>0&&(t=(0,k.S)(t,n)),(0,v.X)((0,d.W)(t),a.shape)}}}},un={kernelName:r.GB,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,i=a.shape.slice(),{axis:r}=n;(0,$.EC)(r,a.shape).forEach((e=>{i[e]=1}));const s=(0,v.X)(e,i),l=(0,o.d)(s,(0,it.i)(a.shape,"float32"));return{x:()=>l}}},dn={kernelName:r.sE,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,u.h)(e,(0,m.h)((0,Vt.m)(n)))}}},pn={kernelName:r.MI,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>(0,o.d)((0,f.l)((0,p.i)(1),(0,m.h)(n)),e)}}},hn={kernelName:r.n9,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{reps:i}=n;return{x:()=>{let t=(0,S.P)(a);if(1===a.rank)for(let n=0;n<i[0];++n)t=(0,I.I)(t,(0,lt.t)(e,[n*a.shape[0]],[a.shape[0]]));else if(2===a.rank)for(let n=0;n<i[0];++n)for(let r=0;r<i[1];++r)t=(0,I.I)(t,(0,lt.t)(e,[n*a.shape[0],r*a.shape[1]],[a.shape[0],a.shape[1]]));else if(3===a.rank)for(let n=0;n<i[0];++n)for(let r=0;r<i[1];++r)for(let s=0;s<i[2];++s)t=(0,I.I)(t,(0,lt.t)(e,[n*a.shape[0],r*a.shape[1],s*a.shape[2]],[a.shape[0],a.shape[1],a.shape[2]]));else{if(4!==a.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${a.rank} tensors yet.`);for(let n=0;n<i[0];++n)for(let r=0;r<i[1];++r)for(let s=0;s<i[2];++s)for(let o=0;o<i[3];++o)t=(0,I.I)(t,(0,lt.t)(e,[n*a.shape[0],r*a.shape[1],s*a.shape[2],o*a.shape[3]],[a.shape[0],a.shape[1],a.shape[2],a.shape[3]]))}return t}}}},mn={kernelName:r.G3,gradFunc:(e,t,n)=>{const a=n,{perm:i}=a,r=me.LJ(i);return{x:()=>(0,ge.p)(e,r)}}};var fn=n(82991);const gn={kernelName:r.To,gradFunc:(e,t,n)=>{const a=n,{axis:i}=a;return{value:()=>(0,fn.k)(e,i)}}};var bn=n(81300),yn=n(24926),vn=n(80632);const kn={kernelName:r.Qv,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=(0,vn.g)(t,(0,S.P)(t)),a=(0,yn.I)(e,n);let i=(0,K.b)(t,(0,p.i)(0,"int32"));const r=a.rank-i.rank;for(let e=0;e<r;++e)i=(0,bn.d)(i,e+1);i=(0,X.H)(i,(0,it.i)(a.shape,"bool"));const s=(0,S.P)(a);return(0,Y.a)(i,a,s)}(e,n)}}};const xn={kernelName:r.Ru,gradFunc:e=>({x:()=>(0,S.P)(e)})};var wn=n(26151);const Sn=[c,g,b,x,w,C,T,_,A,N,E,R,O,z,W,V,U,H,q,Z,Q,te,se,ie,ce,de,he,be,ke,xe,It,we,Ce,Te,_e,Ie,Ne,Ae,Me,$e,Fe,Oe,je,ze,Pe,Ge,Ve,Ue,He,Ke,Ye,Ye,Qe,tt,at,rt,st,ot,ct,dt,pt,ht,ft,gt,yt,vt,vt,wt,St,_t,At,Nt,Et,Rt,Mt,Dt,Bt,Lt,Ft,jt,Pt,Wt,Gt,Ut,qt,Xt,Yt,Qt,tn,tn,an,an,rn,on,sn,ln,cn,un,dn,pn,hn,mn,gn,kn,xn];for(const e of Sn)(0,wn.Li)(e);var Cn=n(96235),Tn=n(40974);(0,Tn.t3)().prototype.abs=function(){return this.throwIfDisposed(),(0,Cn.W)(this)};var _n=n(17839);(0,Tn.t3)().prototype.acos=function(){return this.throwIfDisposed(),(0,_n.K)(this)};var In=n(91470);(0,Tn.t3)().prototype.acosh=function(){return this.throwIfDisposed(),(0,In._)(this)},(0,Tn.t3)().prototype.add=function(e){return this.throwIfDisposed(),(0,I.I)(this,e)};var An=n(90781);(0,Tn.t3)().prototype.all=function(e,t){return this.throwIfDisposed(),(0,An.$)(this,e,t)};var Nn=n(92998);(0,Tn.t3)().prototype.any=function(e,t){return this.throwIfDisposed(),(0,Nn.Y)(this,e,t)};var En=n(40047);(0,Tn.t3)().prototype.argMax=function(e){return this.throwIfDisposed(),(0,En.N)(this,e)};var Rn=n(27394);(0,Tn.t3)().prototype.argMin=function(e){return this.throwIfDisposed(),(0,Rn.v)(this,e)},(0,Tn.t3)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,$.hu)(1===this.size,(()=>"The array must have only 1 element.")),(0,v.X)(this,[])},(0,Tn.t3)().prototype.asType=function(e){return this.throwIfDisposed(),(0,s.p)(this,e)},(0,Tn.t3)().prototype.as1D=function(){return this.throwIfDisposed(),(0,v.X)(this,[this.size])},(0,Tn.t3)().prototype.as2D=function(e,t){return this.throwIfDisposed(),(0,v.X)(this,[e,t])},(0,Tn.t3)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),(0,v.X)(this,[e,t,n])},(0,Tn.t3)().prototype.as4D=function(e,t,n,a){return this.throwIfDisposed(),(0,v.X)(this,[e,t,n,a])},(0,Tn.t3)().prototype.as5D=function(e,t,n,a,i){return this.throwIfDisposed(),(0,v.X)(this,[e,t,n,a,i])};var Mn=n(72421);(0,Tn.t3)().prototype.asin=function(){return this.throwIfDisposed(),(0,Mn.Z)(this)};var Dn=n(21891);(0,Tn.t3)().prototype.asinh=function(){return this.throwIfDisposed(),(0,Dn.V)(this)};var $n=n(77037);(0,Tn.t3)().prototype.atan=function(){return this.throwIfDisposed(),(0,$n.z)(this)};var Bn=n(29812);(0,Tn.t3)().prototype.atan2=function(e){return this.throwIfDisposed(),(0,Bn.f)(this,e)};var Ln=n(80369);(0,Tn.t3)().prototype.atanh=function(){return this.throwIfDisposed(),(0,Ln.C)(this)};var Fn=n(15176);(0,Tn.t3)().prototype.avgPool=function(e,t,n,a){return this.throwIfDisposed(),(0,Fn.w)(this,e,t,n,a)},(0,Tn.t3)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),(0,en.E)(this,e,t)};var On=n(40094);(0,Tn.t3)().prototype.batchNorm=function(e,t,n,a,i){return this.throwIfDisposed(),(0,On.t)(this,e,t,n,a,i)};var jn=n(68247);(0,Tn.t3)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),(0,jn.U)(this,e)},(0,Tn.t3)().prototype.cast=function(e){return this.throwIfDisposed(),(0,s.p)(this,e)};var zn=n(6825);(0,Tn.t3)().prototype.ceil=function(){return this.throwIfDisposed(),(0,zn.m)(this)};var Pn=n(42279);(0,Tn.t3)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),(0,Pn.i)(this,e,t)},(0,Tn.t3)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Tn.es&&(e=[e]),(0,nn.z)([this,...e],t)};var Wn=n(11355);(0,Tn.t3)().prototype.conv1d=function(e,t,n,a,i,r){return this.throwIfDisposed(),(0,Wn.P)(this,e,t,n,a,i,r)};var Gn=n(71405);(0,Tn.t3)().prototype.conv2dTranspose=function(e,t,n,a,i){return this.throwIfDisposed(),(0,Gn.b)(this,e,t,n,a,i)},(0,Tn.t3)().prototype.conv2d=function(e,t,n,a,i,r){return this.throwIfDisposed(),(0,re.T)(this,e,t,n,a,i,r)},(0,Tn.t3)().prototype.cos=function(){return this.throwIfDisposed(),(0,Vt.m)(this)},(0,Tn.t3)().prototype.cosh=function(){return this.throwIfDisposed(),(0,Ht.f)(this)},(0,Tn.t3)().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),(0,Ct.$)(this,e,t,n)},(0,Tn.t3)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),(0,fe.z)(this,e,t,n)};var Vn=n(89112);(0,Tn.t3)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),(0,Vn.n)(this,e,t)};var Un=n(64718);(0,Tn.t3)().prototype.depthwiseConv2d=function(e,t,n,a,i,r){return this.throwIfDisposed(),(0,Un.B)(this,e,t,n,a,i,r)};var Hn=n(70557);(0,Tn.t3)().prototype.dilation2d=function(e,t,n,a,i){return this.throwIfDisposed(),(0,Hn.W)(this,e,t,n,a,i)};var qn=n(49322);(0,Tn.t3)().prototype.divNoNan=function(e){return this.throwIfDisposed(),(0,qn.N)(this,e)},(0,Tn.t3)().prototype.div=function(e){return this.throwIfDisposed(),(0,u.h)(this,e)};var Kn=n(30548);(0,Tn.t3)().prototype.dot=function(e){return this.throwIfDisposed(),(0,Kn.A)(this,e)};var Jn=n(83233);(0,Tn.t3)().prototype.elu=function(){return this.throwIfDisposed(),(0,Jn.p)(this)},(0,Tn.t3)().prototype.equal=function(e){return this.throwIfDisposed(),(0,Je.D)(this,e)};var Xn=n(34650);(0,Tn.t3)().prototype.erf=function(){return this.throwIfDisposed(),(0,Xn.q)(this)};var Yn=n(31954);(0,Tn.t3)().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),(0,Yn.d)(this,e,t)},(0,Tn.t3)().prototype.exp=function(){return this.throwIfDisposed(),(0,Se.Q)(this)},(0,Tn.t3)().prototype.expandDims=function(e){return this.throwIfDisposed(),(0,bn.d)(this,e)};var Zn=n(53426);(0,Tn.t3)().prototype.expm1=function(){return this.throwIfDisposed(),(0,Zn.t)(this)};var Qn=n(7020);(0,Tn.t3)().prototype.fft=function(){return this.throwIfDisposed(),(0,Qn.k)(this)},(0,Tn.t3)().prototype.flatten=function(){return this.throwIfDisposed(),(0,v.X)(this,[this.size])},(0,Tn.t3)().prototype.floor=function(){return this.throwIfDisposed(),(0,ut.G)(this)};var ea=n(9165);(0,Tn.t3)().prototype.floorDiv=function(e){return this.throwIfDisposed(),(0,ea.q)(this,e)},(0,Tn.t3)().prototype.gather=function(e,t){return this.throwIfDisposed(),(0,yn.I)(this,e,t)},(0,Tn.t3)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),(0,K.b)(this,e)},(0,Tn.t3)().prototype.greater=function(e){return this.throwIfDisposed(),(0,We.p)(this,e)};var ta=n(88447);(0,Tn.t3)().prototype.ifft=function(){return this.throwIfDisposed(),(0,ta.S)(this)};var na=n(84415);(0,Tn.t3)().prototype.irfft=function(){return this.throwIfDisposed(),(0,na.w)(this)};var aa=n(13963);(0,Tn.t3)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,aa.x)(this)};var ia=n(4365);(0,Tn.t3)().prototype.isInf=function(){return this.throwIfDisposed(),(0,ia.U)(this)};var ra=n(96230);(0,Tn.t3)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,ra.i)(this)};var sa=n(99133);(0,Tn.t3)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),(0,sa.h)(this,e)},(0,Tn.t3)().prototype.lessEqual=function(e){return this.throwIfDisposed(),(0,J.z)(this,e)},(0,Tn.t3)().prototype.less=function(e){return this.throwIfDisposed(),(0,Ze.d)(this,e)};var oa=n(79648);(0,Tn.t3)().prototype.localResponseNormalization=function(e,t,n,a){return this.throwIfDisposed(),(0,oa.G)(this,e,t,n,a)};var la=n(13888);(0,Tn.t3)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,la.e)(this)};var ca=n(31510);(0,Tn.t3)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),(0,ca.C)(this,e)};var ua=n(11391);(0,Tn.t3)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),(0,ua.l)(this,e,t)},(0,Tn.t3)().prototype.log=function(){return this.throwIfDisposed(),(0,kt.c)(this)};var da=n(17474);(0,Tn.t3)().prototype.log1p=function(){return this.throwIfDisposed(),(0,da.K)(this)},(0,Tn.t3)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),(0,X.H)(this,e)},(0,Tn.t3)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,Ot.h)(this)};var pa=n(15750);(0,Tn.t3)().prototype.logicalOr=function(e){return this.throwIfDisposed(),(0,pa.K)(this,e)};var ha=n(10596);(0,Tn.t3)().prototype.logicalXor=function(e){return this.throwIfDisposed(),(0,ha.e)(this,e)},(0,Tn.t3)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),(0,P.O)(this,e,t,n)};var ma=n(21174);(0,Tn.t3)().prototype.maxPool=function(e,t,n,a){return this.throwIfDisposed(),(0,ma._)(this,e,t,n,a)};var fa=n(83307);(0,Tn.t3)().prototype.max=function(e,t){return this.throwIfDisposed(),(0,fa.F)(this,e,t)},(0,Tn.t3)().prototype.maximum=function(e){return this.throwIfDisposed(),(0,vn.g)(this,e)};var ga=n(75130);(0,Tn.t3)().prototype.mean=function(e,t){return this.throwIfDisposed(),(0,ga.J)(this,e,t)};var ba=n(25735);(0,Tn.t3)().prototype.min=function(e,t){return this.throwIfDisposed(),(0,ba.V)(this,e,t)};var ya=n(24513);(0,Tn.t3)().prototype.minimum=function(e){return this.throwIfDisposed(),(0,ya.L)(this,e)};var va=n(71483);(0,Tn.t3)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),(0,va.V)(this,e,t)};var ka=n(85228);(0,Tn.t3)().prototype.mod=function(e){return this.throwIfDisposed(),(0,ka.w)(this,e)},(0,Tn.t3)().prototype.mul=function(e){return this.throwIfDisposed(),(0,o.d)(this,e)},(0,Tn.t3)().prototype.neg=function(){return this.throwIfDisposed(),(0,d.W)(this)};var xa=n(3561);(0,Tn.t3)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),(0,xa.K)(this,e,t,n)};var wa=n(16500);(0,Tn.t3)().prototype.notEqual=function(e){return this.throwIfDisposed(),(0,wa.Q)(this,e)};var Sa=n(76708);(0,Tn.t3)().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),(0,Sa.l)(this,e,t,n)};var Ca=n(7846);(0,Tn.t3)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,Ca.J)(this)},(0,Tn.t3)().prototype.pad=function(e,t){return this.throwIfDisposed(),(0,Kt.v)(this,e,t)};var Ta=n(85860);(0,Tn.t3)().prototype.pool=function(e,t,n,a,i,r){return this.throwIfDisposed(),(0,Ta.d)(this,e,t,n,a,i,r)},(0,Tn.t3)().prototype.pow=function(e){return this.throwIfDisposed(),(0,xt.s)(this,e)};var _a=n(98151);(0,Tn.t3)().prototype.prelu=function(e){return this.throwIfDisposed(),(0,_a.A)(this,e)};var Ia=n(49451);(0,Tn.t3)().prototype.prod=function(e,t){return this.throwIfDisposed(),(0,Ia.W)(this,e,t)};var Aa=n(19036);(0,Tn.t3)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,Aa.M)(this)};var Na=n(7409);(0,Tn.t3)().prototype.relu=function(){return this.throwIfDisposed(),(0,Na.U)(this)};var Ea=n(83582);(0,Tn.t3)().prototype.relu6=function(){return this.throwIfDisposed(),(0,Ea.b)(this)},(0,Tn.t3)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),(0,v.X)(this,e.shape)},(0,Tn.t3)().prototype.reshape=function(e){return this.throwIfDisposed(),(0,v.X)(this,e)};var Ra=n(13305);(0,Tn.t3)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),(0,Ra.I)(this,e,t,n)};var Ma=n(95098);(0,Tn.t3)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),(0,Ma.j)(this,e,t,n)},(0,Tn.t3)().prototype.reverse=function(e){return this.throwIfDisposed(),(0,$t.G)(this,e)};var Da=n(13710);(0,Tn.t3)().prototype.rfft=function(){return this.throwIfDisposed(),(0,Da.Q)(this)};var $a=n(97809);(0,Tn.t3)().prototype.round=function(){return this.throwIfDisposed(),(0,$a.N)(this)},(0,Tn.t3)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,Ee.b)(this)};var Ba=n(55503);(0,Tn.t3)().prototype.selu=function(){return this.throwIfDisposed(),(0,Ba.U)(this)};var La=n(68678);(0,Tn.t3)().prototype.separableConv2d=function(e,t,n,a,i,r){return this.throwIfDisposed(),(0,La.U)(this,e,t,n,a,i,r)},(0,Tn.t3)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,Zt.X)(this)};var Fa=n(34434);(0,Tn.t3)().prototype.sign=function(){return this.throwIfDisposed(),(0,Fa.X)(this)},(0,Tn.t3)().prototype.sin=function(){return this.throwIfDisposed(),(0,ue.O)(this)},(0,Tn.t3)().prototype.sinh=function(){return this.throwIfDisposed(),(0,pe.R)(this)},(0,Tn.t3)().prototype.slice=function(e,t){return this.throwIfDisposed(),(0,lt.t)(this,e,t)};var Oa=n(80682);(0,Tn.t3)().prototype.softmax=function(e){return this.throwIfDisposed(),(0,Oa.X)(this,e)};var ja=n(3694);(0,Tn.t3)().prototype.softplus=function(){return this.throwIfDisposed(),(0,ja.W)(this)},(0,Tn.t3)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),(0,G.f)(this,e,t)},(0,Tn.t3)().prototype.split=function(e,t){return this.throwIfDisposed(),(0,ee.V)(this,e,t)},(0,Tn.t3)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,h._)(this)},(0,Tn.t3)().prototype.square=function(){return this.throwIfDisposed(),(0,m.h)(this)};var za=n(15265);(0,Tn.t3)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),(0,za.$)(this,e)};var Pa=n(79590);(0,Tn.t3)().prototype.squeeze=function(e){return this.throwIfDisposed(),(0,Pa.L)(this,e)},(0,Tn.t3)().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof Tn.es?[this,e]:[this,...e];return(0,fn.k)(n,t)},(0,Tn.t3)().prototype.step=function(e){return this.throwIfDisposed(),(0,l.N)(this,e)};var Wa=n(55158);(0,Tn.t3)().prototype.stridedSlice=function(e,t,n,a,i,r,s,o){return this.throwIfDisposed(),(0,Wa.N)(this,e,t,n,a,i,r,s,o)},(0,Tn.t3)().prototype.sub=function(e){return this.throwIfDisposed(),(0,f.l)(this,e)},(0,Tn.t3)().prototype.sum=function(e,t){return this.throwIfDisposed(),(0,k.S)(this,e,t)};var Ga=n(61173);(0,Tn.t3)().prototype.tan=function(){return this.throwIfDisposed(),(0,Ga.O)(this)};var Va=n(21869);(0,Tn.t3)().prototype.tanh=function(){return this.throwIfDisposed(),(0,Va.A)(this)},(0,Tn.t3)().prototype.tile=function(e){return this.throwIfDisposed(),(0,Re.G)(this,e)},(0,Tn.t3)().prototype.toBool=function(){return this.throwIfDisposed(),(0,s.p)(this,"bool")},(0,Tn.t3)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,s.p)(this,"float32")},(0,Tn.t3)().prototype.toInt=function(){return this.throwIfDisposed(),(0,s.p)(this,"int32")};var Ua=n(43243);(0,Tn.t3)().prototype.topk=function(e,t){return this.throwIfDisposed(),(0,Ua.h)(this,e,t)},(0,Tn.t3)().prototype.transpose=function(e){return this.throwIfDisposed(),(0,ge.p)(this,e)};var Ha=n(49608);(0,Tn.t3)().prototype.unique=function(e){return this.throwIfDisposed(),(0,Ha.T)(this,e)},(0,Tn.t3)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),(0,De.p)(this,e,t)},(0,Tn.t3)().prototype.unstack=function(e){return this.throwIfDisposed(),(0,bt.H)(this,e)},(0,Tn.t3)().prototype.where=function(e,t){return this.throwIfDisposed(),(0,Y.a)(e,this,t)},(0,Tn.t3)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,S.P)(this)};class qa extends Error{constructor(e){super(e),Object.setPrototypeOf(this,qa.prototype)}}class Ka extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ka.prototype)}}class Ja extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ja.prototype)}}class Xa extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Xa.prototype)}}class Ya extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ya.prototype)}}Error;class Za{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function Qa(e,t){if(Array.isArray(e)){let n=[];for(let a=0;a<t;a++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function ei(e,t){if(!e)throw new Ya(t)}function ti(e,t){let n=0;for(const a of e)a===t&&n++;return n}function ni(e){return 1===e.length?e[0]:e}function ai(e){return Array.isArray(e)?e:[e]}function ii(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function ri(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let si={};function oi(e){if(null==e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function li(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((e=>li(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?li(t):e[n]=t.value)}}}function ci(e,t={},n={},a="object",i=!1){if("string"==typeof e){const i=e;let r;if(i in n)r=n[i];else if(i in si)r=si[i];else if(r=t[i],null==r)throw new Ja(`Unknown ${a}: ${e}. This may be due to one of the following reasons:\n1. The ${a} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${a} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return r}{const r=e;if(null==r.className||null==r.config)throw new Ja(`${a}: Improper config format: ${JSON.stringify(r)}.\n'className' and 'config' must set.`);const s=r.className;let o,l;if(s in n?[o,l]=n[s]:s in si?[o,l]=si.className:s in t&&([o,l]=t[s]),null==o)throw new Ja(`Unknown ${a}: ${s}. This may be due to one of the following reasons:\n1. The ${a} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${a} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const t of Object.keys(si))e[t]=si[t];for(const t of Object.keys(n))e[t]=n[t];r.config.customObjects=e;const t=Object.assign({},si);for(const e of Object.keys(n))si[e]=n[e];li(r.config);const a=l(o,r.config,n,i);return si=Object.assign({},t),a}{const e=Object.assign({},si);for(const e of Object.keys(n))si[e]=n[e];const t=new o(r.config);return si=Object.assign({},e),t}}}function ui(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function di(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function pi(e){if(null==e)throw new Ja(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function hi(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Ja(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function mi(e,t,n=0,a=1/0){return ei(n>=0),ei(a>=n),Array.isArray(e)&&e.length>=n&&e.length<=a&&e.every((e=>typeof e===t))}function fi(e,t){Array.isArray(e)?(i.util.assert(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>fi(e,`element ${n+1} of ${t}`)))):i.util.assert(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${gi(e)}.`))}function gi(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>gi(e))).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function bi(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let yi=0;function vi(){return yi++}const ki={};function xi(e=""){return e in ki||(ki[e]=0),ki[e]+=1,e+ki[e].toString()}const wi=["channelsFirst","channelsLast"],Si=["nearest","bilinear"],Ci=["valid","same","causal"],Ti=["max","avg"],_i=["sum","mul","concat","ave"],Ii=new Map;function Ai(e){hi(wi,"DataFormat",e)}function Ni(e){hi(Ci,"PaddingMode",e)}function Ei(e){hi(Ti,"PoolMode",e)}const Ri=[];function Mi(e,t){Ri.push(e);try{const e=t();return Ri.pop(),e}catch(e){throw Ri.pop(),e}}function Di(e){if(!Li(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===Ri.length?"":Ri.join("/")+"/")+e}function $i(e){if(!Li(e))throw new Error("Not a valid tensor name: '"+e+"'");Ii.has(e)||Ii.set(e,0);const t=Ii.get(e);if(Ii.set(e,Ii.get(e)+1),t>0){const n=`${e}_${t}`;return Ii.set(n,1),n}return e}const Bi=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function Li(e){return!!e.match(Bi)}function Fi(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let a=1;for(let i=t;i<n;++i)a*=e[i];return a}function Oi(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const a=e[n];a<t&&(t=a)}return t}function ji(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const a=e[n];a>t&&(t=a)}return t}function zi(e,t){if(t<e)throw new Ja(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let a=e;a<t;++a)n.push(a);return n}let Pi;function Wi(){return null==Pi&&(Pi=(0,i.backend)().epsilon()),Pi}function Gi(e,t){return i.cast(e,t)}function Vi(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),i.reshape(e,n)}function Ui(e,t,n){return(0,i.tidy)((()=>{switch(e.rank){case 1:return i.slice1d(e,t,n);case 2:return i.slice2d(e,[t,0],[n,e.shape[1]]);case 3:return i.slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return i.slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return i.slice(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return i.slice(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Ja(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Hi(e,t,n){return(0,i.tidy)((()=>{switch(e.rank){case 1:return i.slice1d(e,t,n);case 2:return i.slice2d(e,[0,t],[e.shape[0],n]);case 3:return i.slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return i.slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Ja(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function qi(e,t,n,a){return(0,i.tidy)((()=>{switch(e.rank){case 1:return i.slice1d(e,t,n);case 2:switch(a){case 1:return Ui(e,t,n);case 2:return Hi(e,t,n);default:throw new Ja(`The axis is not within the rank of the tensor ${a}`)}case 3:switch(a){case 1:return Ui(e,t,n);case 2:return i.slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Hi(e,t,n);default:throw new Ja(`The axis is not within the rank of the tensor ${a}`)}case 4:switch(a){case 1:return Ui(e,t,n);case 2:return i.slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return i.slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Hi(e,t,n);default:throw new Ja(`The axis is not within the rank of the tensor ${a}`)}default:throw new Ja(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Ki(e,t=-1){let n;return t<0&&(n=e[0].rank,t=0!==n?n:0),t===e[0].rank&&(t=-1),i.concat(e,t)}function Ji(e,t){switch(e.rank){case 1:return i.concat1d([e,t]);case 2:return i.concat2d([e,t],0);case 3:return i.concat3d([e,t],0);case 4:return i.concat4d([e,t],0);default:throw new Ja(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function Xi(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Ja(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return i.tile(e,t)}function Yi(e,t=0,n=1,a,r){return i.randomNormal(e,t,n,a,r)}function Zi(e,t,n,a){if(e.rank<2||t.rank<2)throw new Xa(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Xa(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`)}if(2===e.rank&&2===t.rank){const r=!1,s=!1;return i.fused.matMul({a:e,b:t,transposeA:r,transposeB:s,bias:a?tr(e.rank,a,"channelsLast"):null,activation:n})}{const r=e.shape.slice(),s=r.pop();e=i.reshape(e,[-1,s]);const o=t.shape.slice(),l=o.pop(),c=o.pop(),u=[...o,l],d=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=i.reshape(i.transpose(t,d),[c,-1]);const p=[...r,...u],h=!1,m=!1;return i.reshape(i.fused.matMul({a:e,b:t,transposeA:h,transposeB:m,bias:a?tr(e.rank,a,"channelsLast"):null,activation:n}),p)}}function Qi(e,t,n){return(0,i.tidy)((()=>(t=Array.isArray(t)?(0,i.tensor1d)(t,"int32"):i.cast(t,"int32"),i.gather(e,t,n))))}function er(e){return i.mul(e,e)}function tr(e,t,n){const a=t.shape;if(1!==t.rank&&t.rank!==e)throw new Ja(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===a.length?i.reshape(t,[1,a[0],1,1,1]):i.reshape(t,[1,a[3],a[0],a[1],a[2]]);if("channelsLast"===n)return 1===a.length?i.reshape(t,[1,1,1,1,a[0]]):i.reshape(t,[1].concat(a))}else if(4===e){if("channelsFirst"===n)return 1===a.length?i.reshape(t,[1,a[0],1,1]):i.reshape(t,[1,a[2],a[0],a[1]]);if("channelsLast"===n)return 1===a.length?i.reshape(t,[1,1,1,a[0]]):i.reshape(t,[1].concat(a))}else if(3===e){if("channelsFirst"===n)return 1===a.length?i.reshape(t,[1,a[0],1]):i.reshape(t,[1,a[1],a[0]]);if("channelsLast"===n)return 1===a.length?i.reshape(t,[1,1,a[0]]):i.reshape(t,[1].concat(a))}else if(e<3)return t;throw new Ja(`Unsupported input rank by biasAdd: ${t.rank}`)}function nr(e,t,n){return(0,i.tidy)((()=>(null==n&&(n="channelsLast"),Ai(n),i.add(e,tr(e.rank,t,n)))))}function ar(e,t,n,a){return(0,i.tidy)((()=>i.dropout(e,t,n,a)))}function ir(e,t,n=!1){return n?e():t()}const rr=["fanIn","fanOut","fanAvg"],sr=["normal","uniform","truncatedNormal"];class or extends i.serialization.Serializable{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class lr extends or{apply(e,t){return(0,i.zeros)(e,t)}}lr.className="Zeros",i.serialization.registerClass(lr);class cr extends or{apply(e,t){return(0,i.ones)(e,t)}}cr.className="Ones",i.serialization.registerClass(cr);class ur extends or{constructor(e){if(super(),"object"!=typeof e)throw new Ja(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new Ja(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return(0,i.tidy)((()=>(0,i.mul)((0,i.scalar)(this.value),(0,i.ones)(e,t))))}getConfig(){return{value:this.value}}}ur.className="Constant",i.serialization.registerClass(ur);class dr extends or{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return(0,i.randomUniform)(e,this.minval,this.maxval,t)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}dr.className="RandomUniform",i.serialization.registerClass(dr);class pr extends or{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xa(`randomNormal does not support dType ${t}.`);return Yi(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}pr.className="RandomNormal",i.serialization.registerClass(pr);class hr extends or{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xa(`truncatedNormal does not support dType ${t}.`);return(0,i.truncatedNormal)(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}hr.className="TruncatedNormal",i.serialization.registerClass(hr);class mr extends or{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return(0,i.tidy)((()=>{if(2!==e.length||e[0]!==e[1])throw new Ja("Identity matrix initializer can only be used for 2D square matrices.");return(0,i.mul)(this.gain,(0,i.eye)(e[0]))}))}getConfig(){return{gain:this.gain}}}mr.className="Identity",i.serialization.registerClass(mr);class fr extends or{constructor(e){if(super(),e.scale<0)throw new Ja(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,hi(rr,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){hi(sr,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e,t="channelsLast"){let n,a;if(Ai(t),2===e.length)n=e[0],a=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=Fi(e,2);n=e[1]*t,a=e[0]*t}else if("channelsLast"===t){const t=Fi(e,0,e.length-2);n=e[e.length-2]*t,a=e[e.length-1]*t}}else{const t=Fi(e);n=Math.sqrt(t),a=Math.sqrt(t)}return[n,a]}(e),a=n[0],r=n[1];let s=this.scale;if("fanIn"===this.mode?s/=Math.max(1,a):"fanOut"===this.mode?s/=Math.max(1,r):s/=Math.max(1,(a+r)/2),"normal"===this.distribution){const n=Math.sqrt(s);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Xa(`${this.getClassName()} does not support dType ${t}.`);return(0,i.truncatedNormal)(e,0,n,t,this.seed)}{const n=Math.sqrt(3*s);return(0,i.randomUniform)(e,-n,n,t)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}fr.className="VarianceScaling",i.serialization.registerClass(fr);class gr extends fr{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return fr.className}}gr.className="GlorotUniform",i.serialization.registerClass(gr);class br extends fr{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return fr.className}}br.className="GlorotNormal",i.serialization.registerClass(br);class yr extends fr{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return fr.className}}yr.className="HeNormal",i.serialization.registerClass(yr);class vr extends fr{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return fr.className}}vr.className="HeUniform",i.serialization.registerClass(vr);class kr extends fr{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return fr.className}}kr.className="LeCunNormal",i.serialization.registerClass(kr);class xr extends fr{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return fr.className}}xr.className="LeCunNormal",i.serialization.registerClass(xr);class wr extends or{constructor(e){if(super(),this.DEFAULT_GAIN=1,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed,null!=this.seed)throw new Xa("Random seed is not implemented for Orthogonal Initializer yet.")}apply(e,t){return(0,i.tidy)((()=>{if(e.length<2)throw new Xa("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);const t=Yi(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32");let n=i.linalg.gramSchmidt(t);return e[0]>e[1]&&(n=(0,i.transpose)(n)),(0,i.mul)(this.gain,n)}))}getConfig(){return{gain:this.gain,seed:this.seed}}}wr.className="Orthogonal",i.serialization.registerClass(wr);const Sr={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Cr(e,t={}){return ci(e,i.serialization.SerializationMap.getMap().classNameMap,t,"initializer")}function Tr(e){return oi(e)}function _r(e){if("string"==typeof e){const t=e in Sr?Sr[e]:e;if("GlorotNormal"===t)return new br;if("GlorotUniform"===t)return new gr;if("HeNormal"===t)return new yr;if("HeUniform"===t)return new vr;if("LeCunNormal"===t)return new kr;if("LeCunUniform"===t)return new xr;{const e={};return e.className=t,e.config={},Cr(e)}}return e instanceof or?e:Cr(e)}function Ir(e){return Array.isArray(e)&&Array.isArray(e[0])}function Ar(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Nr(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new Ja(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function Er(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new Ja(`Expected exactly 1 Shape; got ${e.length}`)}return e}function Rr(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const Mr="Variable";class Dr{constructor(e,t="float32",n="Variable",a=!0,r=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=vi(),n=null==n?Mr:n,this.originalName=Di(n),this.name=$i(this.originalName),this.trainable_=a,this.constraint=r,this.val=i.variable(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function $r(e){return e.map((e=>e.read()))}function Br(e){e.forEach((e=>{e[0].write(e[1])}))}class Lr{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class Fr{constructor(e,t,n,a,i,r,s){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=vi(),null!=r&&(this.originalName=Di(r),this.name=$i(this.originalName)),this.rank=t.length}}let Or=0;class jr{constructor(e,t){this.callArgs=t,this.id=Or++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const t of e.inboundLayers)null!=t&&t.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let zr=0;class Pr extends i.serialization.Serializable{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=zr++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=ii(e)+"_"+xi(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new Ka(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new Ja(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return ni(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return ni(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new qa(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new qa(`Layer ${this.name} is not connected, no input to return.`);return ni(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new qa(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new qa(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return ni(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){if(e=ai(e),null==this.inputSpec||0===this.inputSpec.length)return;const t=ai(this.inputSpec);if(e.length!==t.length)throw new Ja(`Layer ${this.name} expects ${t.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(let n=0;n<e.length;n++){const a=e[n],i=t[n];if(null==i)continue;const r=a.rank;if(null!=i.ndim&&r!==i.ndim)throw new Ja(`Input ${n} is incompatible with layer ${this.name}: expected ndim=${i.ndim}, found ndim=${r}`);if(null!=i.maxNDim&&r>i.maxNDim)throw new Ja(`Input ${n} is incompatible with layer ${this.name}: expected max_ndim=${i.maxNDim}, found ndim=${r}`);if(null!=i.minNDim&&r<i.minNDim)throw new Ja(`Input ${n} is incompatible with layer ${this.name}: expected min_ndim=${i.minNDim}, found ndim=${r}.`);if(null!=i.dtype&&a.dtype!==i.dtype)throw new Ja(`Input ${n} is incompatible with layer ${this.name} : expected dtype=${i.dtype}, found dtype=${a.dtype}.`);if(i.axes){const e=a.shape;for(const t in i.axes){const a=Number(t),r=i.axes[t],s=a>=0?e[a]:e[e.length+a];if(null!=r&&-1===[r,null].indexOf(s))throw new Ja(`Input ${n} is incompatible with layer ${this.name}: expected axis ${a} of input shape to have value ${r} but got shape ${e}.`)}}if(null!=i.shape)for(let e=0;e<i.shape.length;++e){const t=i.shape[e],r=a.shape[e];if(null!=t&&null!=r&&t!==r)throw new Ja(`Input ${n} is incompatible with layer ${this.name}: expected shape=${i.shape}, found shape=${a.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=ai(e);let a=!0;for(const e of n)if(!(e instanceof Fr)){a=!1;break}let i=!0;for(const e of n)if(e instanceof Fr){i=!1;break}if(a===i)throw new Ja("Arguments to apply() must be all SymbolicTensors or all Tensors");return Mi(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of ai(e))t.push(n.shape);this.build(ni(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&i&&(this._refCount=1)}if(this.assertInputCompatibility(e),i){let a=this.call(e,t);const i=ai(a),r=[];for(let e of i)-1!==n.indexOf(e)&&(e=e.clone()),r.push(e);if(a=ni(r),null!=this.activityRegularizer)throw new Xa("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}{const n=function(e){e=ai(e);const t=[];for(const n of e)t.push(n.shape);return ni(t)}(e),a=this.computeOutputShape(n);let i;const r="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),i=null!=a&&a.length>0&&Array.isArray(a[0])?a.map(((n,a)=>new Fr(r,n,this,ai(e),t,this.name,a))):new Fr(r,a,this,ai(e),t,this.name),this.addInboundNode(e,i,null,null,n,a,t),this._refCount++,null!=this.activityRegularizer)throw new Xa("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return i}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach(((n,a)=>{null!=n&&null!=e[a]&&e[a]!==n&&(t=!0)})),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new qa(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new qa(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new Ka(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return Rr(this.weights)}build(e){this.built=!0}getWeights(e=!1){return $r(e?this.trainableWeights:this.weights)}setWeights(e){(0,i.tidy)((()=>{const t=this.weights;if(t.length!==e.length)throw new Ja(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],a=$r(t);for(let r=0;r<a.length;++r){const s=a[r],o=t[r],l=e[r];if(!i.util.arraysEqual(s.shape,l.shape))throw new Ja(`Layer weight shape ${s.shape} not compatible with provided weight shape ${l.shape}`);n.push([o,l])}Br(n)}))}addWeight(e,t,n,a,i,r,s,o){if(-1!==this._addedWeightNames.indexOf(e))throw new Ja(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(a=null!=o?o():_r("zeros"));const l=a.apply(t,n),c=new Dr(l,n,e,r,s);return l.dispose(),null!=i&&this.addLoss((()=>i.apply(c.read()))),null==r&&(r=!0),r?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=ai(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}addInboundNode(e,t,n,a,i,r,s=null){const o=ai(e);t=ai(t),n=ai(n),a=ai(a),i=Ar(i),r=Ar(r);const l=[],c=[],u=[];for(const e of o)l.push(e.sourceLayer),c.push(e.nodeIndex),u.push(e.tensorIndex);new jr({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:u,inputTensors:o,outputTensors:t,inputMasks:n,outputMasks:a,inputShapes:i,outputShapes:r},s);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function Wr(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const a=Wr(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of a)-1===t.indexOf(e)&&t.push(e)}return t}}}class Gr extends Pr{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:xi("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Ja("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new Ja("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Ja("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const a=new Fr(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new jr({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new Ja(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}Gr.className="InputLayer",i.serialization.registerClass(Gr);class Vr{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof Vr)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new Ja(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return(0,i.cast)(t,e.dtype)}catch(n){throw new Ja(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof Fr){if(null==this.id2Value[e.id])throw new Ja(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new Ja(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof Fr){if(null==this.id2Value[e.id])throw new Ja(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new Ja(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&(0,i.dispose)(this.id2Mask)}}const Ur=new Za,Hr=new Za;function qr(e,t,n,a){const r=null!=n&&n.training,s=Array.isArray(e),o=s?e:[e],l=o.map((e=>e.name)),c=[],u=t.names();for(const e of l)-1!==u.indexOf(e)?c.push(t.getValue(e)):c.push(null);null!=a&&(a.maxNumTensors=-1/0,a.minNumTensors=1/0);const d=l.join(",")+"|"+t.names().sort().join(",");let p,h=Ur.get(d);if(null==h){const e=function(e,t){i.util.assert(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],a={};if(1===e.length){const i=Jr(e[0],t);n=i.sorted,a=i.recipientMap}else{const i=new Set;for(const r of e){const{sorted:e,recipientMap:s}=Jr(r,t);for(const t of e)i.has(t.name)||(n.push(t),i.add(t.name));for(const e in s)null==a[e]&&(a[e]=new Set),s[e].forEach((t=>a[e].add(t)))}}return{sorted:n,recipientCounts:Kr(a)}}(o,t);h=e.sorted,p=e.recipientCounts,Ur.put(d,h),Hr.put(d,p)}p={},r||Object.assign(p,Hr.get(d));const m=new Vr(t);for(let e=0;e<h.length;++e){if(null!=a){const e=(0,i.memory)().numTensors;e>a.maxNumTensors&&(a.maxNumTensors=e),e<a.minNumTensors&&(a.minNumTensors=e)}const s=h[e],o=s.sourceLayer;if(o instanceof Gr)continue;const u=[],d=[],f=[];let g=!1;for(const e of s.inputs){const n=m.getValue(e),a=m.getMask(e);u.push(n),d.push(a),null!=a&&(g=!0),r||(p[e.name]--,0!==p[e.name]||t.hasKey(e)||-1!==l.indexOf(e.name)||n.isDisposed||!0===e.sourceLayer.stateful||f.push(n))}g&&((n=n||{}).mask=d[0]);const b=ai(o.apply(u,n));let y=null;o.supportsMasking&&(y=o.computeMask(u,d));const v=Xr(s),k=Array.isArray(v)?v:[v];for(let e=0;e<k.length;++e){m.hasKey(k[e])||m.add(k[e],b[e],Array.isArray(y)?y[0]:y);const t=l.indexOf(k[e].name);-1!==t&&(c[t]=b[e])}r||(0,i.dispose)(f)}return m.disposeMasks(),s?c:c[0]}function Kr(e){const t={};for(const n in e)t[n]=e[n].size;return t}function Jr(e,t){const n=new Set,a=[],i={};for(const e of t.names())n.add(e);const r=[],s=[];for(r.push(e);r.length>0;){const e=r[r.length-1];if(n.has(e.name)){r.pop();continue}const t=s[s.length-1]===r.length-1;if(0===e.inputs.length||t)r.pop(),a.push(e),n.add(e.name),t&&s.pop();else{s.push(r.length-1);for(const t of e.inputs)null==i[t.name]&&(i[t.name]=new Set),i[t.name].add(e.name),n.has(t.name)||r.push(t)}}return{sorted:a,recipientMap:i}}function Xr(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const a of e.sourceLayer.inboundNodes[t].outputTensors)if(a.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function Yr(e,t){return(0,i.tidy)((()=>i.sqrt(i.sum(i.mul(e,e),t,!0))))}(0,i.env)().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=Ur&&Ur.setMaxEntries(e),null!=Hr&&Hr.setMaxEntries(e)}));class Zr extends i.serialization.Serializable{getConfig(){return{}}}class Qr extends Zr{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return(0,i.tidy)((()=>{const t=Yr(e,this.axis),n=i.clipByValue(t,0,this.maxValue);return i.mul(e,i.div(n,i.add(Wi(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}Qr.className="MaxNorm",i.serialization.registerClass(Qr);class es extends Zr{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return(0,i.tidy)((()=>i.div(e,i.add(Wi(),Yr(e,this.axis)))))}getConfig(){return{axis:this.axis}}}es.className="UnitNorm",i.serialization.registerClass(es);class ts extends Zr{apply(e){return i.relu(e)}}ts.className="NonNeg",i.serialization.registerClass(ts);class ns extends Zr{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return(0,i.tidy)((()=>{const t=Yr(e,this.axis),n=i.add(i.mul(this.rate,i.clipByValue(t,this.minValue,this.maxValue)),i.mul(1-this.rate,t));return i.mul(e,i.div(n,i.add(Wi(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}ns.className="MinMaxNorm",i.serialization.registerClass(ns);const as={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function is(e){return oi(e)}function rs(e,t={}){return ci(e,i.serialization.SerializationMap.getMap().classNameMap,t,"constraint")}function ss(e){if(null==e)return null;if("string"==typeof e){return rs({className:e in as?as[e]:e,config:{}})}return e instanceof Zr?e:rs(e)}async function os(e){if(null==e)return;const t=[],n=[],a=[];for(const i in e){const r=e[i];if("number"!=typeof r){const e=r;t.push(e.data()),n.push(i),a.push(e)}}if(t.length>0){const r=await Promise.all(t);for(let t=0;t<r.length;++t)e[n[t]]=r[t][0];(0,i.dispose)(a)}}function ls(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}var cs;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(cs||(cs={}));class us{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class ds{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class ps extends us{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const e in t){const a=t[e];if("number"==typeof a)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+a*n;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;const r=(0,i.tidy)((()=>(0,i.add)(this.totals[e],(0,i.mul)(a,n))));this.totals[e]=r,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:(0,i.tidy)((()=>{const n=(0,i.mul)((0,i.div)(1,this.seen),this.totals[e]);t[e]=n,this.totals[e].dispose(),(0,i.keep)(t[e])})))}}class hs extends us{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const e in t)null==this.history[e]&&(this.history[e]=[]),this.history[e].push(t[e])}async syncData(){const e=[],t=[],n=[];for(const a in this.history){const i=this.history[a];for(let r=0;r<i.length;++r)if("number"!=typeof i[r]){const s=i[r];e.push(s.data()),t.push(a),n.push(r)}}const a=await Promise.all(e);for(let e=0;e<a.length;++e){this.history[t[e]][n[e]].dispose(),this.history[t[e]][n[e]]=a[e][0]}}}class ms extends us{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||i.nextFrame,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");i.util.isNumber(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let a,r=null!=n?n():i.util.now();return(...s)=>{const o=null!=n?n():i.util.now();return o-r<t||(r=o,a=e(...s)),a}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const a=[];null!=this.yield&&(await os(n),a.push(this.yield(e,t,n))),a.push(this.nextFrameFunc()),await Promise.all(a)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await os(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await os(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await os(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await os(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):i.util.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await os(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await os(e),await this.trainEnd(e))}}function fs(e,t){if(null==e&&(e={}),e instanceof us)return[e];if(Array.isArray(e)&&e[0]instanceof us)return e;return ai(e).map((e=>new ms(e,t)))}class gs{constructor(){}static registerCallbackConstructor(e,t){i.util.assert(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),gs.checkForDuplicate(t),null==gs.constructors[e]&&(gs.constructors[e]=[]),gs.constructors[e].push(t)}static checkForDuplicate(e){for(const t in gs.constructors){gs.constructors[+t].forEach((t=>{if(t===e)throw new Ja("Duplicate callback constructor.")}))}}static clear(){gs.constructors={}}static createCallbacks(e){const t=[];for(const n in gs.constructors){const a=+n;e>=a&&t.push(...gs.constructors[a])}return t.map((e=>new e))}}function bs(e,t,n,a,i,r,s,o,l){const c=new hs,u=[new ps,...gs.createCallbacks(t)];null!=e&&u.push(...e),u.push(c);const d=new ds(u);return d.setParams({epochs:n,initialEpoch:a,samples:i,steps:r,batchSize:s,verbose:t,doValidation:o,metrics:l}),{callbackList:d,history:c}}function ys(e,t={},n=!1){return ci(e,i.serialization.SerializationMap.getMap().classNameMap,t,"layer",n)}function vs(e,t){return(0,i.tidy)((()=>{"float32"!==e.dtype&&(e=i.cast(e,"float32"));const n=i.sum(er(e),t,!0),a=i.fill(n.shape,Wi()),r=i.sqrt(i.maximum(n,a));return i.div(e,r)}))}function ks(e,t){return(0,i.tidy)((()=>i.mean(er(i.sub(t,e)),-1)))}function xs(e,t){return(0,i.tidy)((()=>i.mean(i.abs(i.sub(t,e)),-1)))}function ws(e,t){return(0,i.tidy)((()=>{const n=i.sub(e,t),a=i.clipByValue(i.abs(e),Wi(),Number.MAX_VALUE),r=i.abs(i.div(n,a));return i.mul(100,i.mean(r,-1))}))}function Ss(e,t){return(0,i.tidy)((()=>{const n=i.clipByValue(t,Wi(),Number.MAX_VALUE),a=i.log(i.add(1,n)),r=i.clipByValue(e,Wi(),Number.MAX_VALUE),s=i.log(i.add(1,r));return i.mean(er(i.sub(a,s)),-1)}))}function Cs(e,t,n=!1){return(0,i.tidy)((()=>{if(n)t=i.softmax(t);else{const e=i.sum(t,t.shape.length-1,!0);t=i.div(t,e)}return t=i.clipByValue(t,Wi(),1-Wi()),i.neg(i.sum(i.mul(i.cast(e,"float32"),i.log(t)),t.shape.length-1))}))}function Ts(e,t,n=!1){return(0,i.tidy)((()=>{const a=i.cast(i.floor(function(e){const t=[Fi(e.shape)];return i.reshape(e,t)}(e)),"int32"),r=(t=i.clipByValue(t,Wi(),1-Wi())).shape;return Cs(i.reshape(i.oneHot(a,r[r.length-1]),r),t,n)}))}function _s(e,t){return(0,i.tidy)((()=>{let n;return n=i.clipByValue(t,Wi(),1-Wi()),n=i.log(i.div(n,i.sub(1,n))),i.mean(function(e,t){if(!i.util.arraysEqual(e.shape,t.shape))throw new Ja(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return(0,i.tidy)((()=>{const n=i.relu(t),a=i.neg(i.abs(t));return i.add(i.sub(n,i.mul(t,e)),i.log1p(i.exp(a)))}))}(e,n),-1)}))}function Is(e,t){return(0,i.tidy)((()=>{const n=i.clipByValue(e,Wi(),1),a=i.clipByValue(t,Wi(),1);return i.sum(i.mul(e,i.log(i.div(n,a))),-1)}))}function As(e,t){return(0,i.tidy)((()=>{const n=vs(e,-1),a=vs(t,-1),r=i.mul(n,a);return i.neg(i.sum(r,-1))}))}gs.constructors={};const Ns={meanSquaredError:ks,meanAbsoluteError:xs,meanAbsolutePercentageError:ws,meanSquaredLogarithmicError:Ss,squaredHinge:function(e,t){return(0,i.tidy)((()=>{const n=i.maximum(0,i.sub(1,i.mul(e,t)));return i.mean(er(n),-1)}))},hinge:function(e,t){return(0,i.tidy)((()=>{const n=i.maximum(0,i.sub(1,i.mul(e,t)));return i.mean(n,-1)}))},categoricalHinge:function(e,t){return(0,i.tidy)((()=>{const n=i.sum(i.mul(e,t),-1),a=i.max(i.mul(i.sub(1,e),t),-1);return i.maximum(0,i.add(1,i.sub(a,n)))}))},logcosh:function(e,t){return(0,i.tidy)((()=>{const n=Math.log(2),a=i.sub(t,e),r=i.sub(i.add(a,i.softplus(i.mul(-2,a))),n);return i.mean(r,-1)}))},categoricalCrossentropy:Cs,sparseCategoricalCrossentropy:Ts,binaryCrossentropy:_s,kullbackLeiblerDivergence:Is,poisson:function(e,t){return(0,i.tidy)((()=>{const n=i.log(i.add(Wi(),t));return i.mean(i.sub(t,i.mul(e,n)),-1)}))},cosineProximity:As};function Es(e){if("string"==typeof e){if(e in Ns)return Ns[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Ja(t)}return e}function Rs(e,t){return(0,i.tidy)((()=>{const n=i.mul(.5,i.onesLike(t)),a=Gi(i.greater(t,n),e.dtype);return i.mean(i.equal(e,a),-1)}))}function Ms(e,t){return(0,i.tidy)((()=>Gi(i.equal(i.argMax(e,-1),i.argMax(t,-1)),"float32")))}function Ds(e,t){return(0,i.tidy)((()=>i.cast(i.sum(i.logicalAnd(i.equal(e,1),i.equal(t,1))),"float32")))}function $s(e,t){return _s(e,t)}function Bs(e,t){return e.rank===t.rank&&(e=i.squeeze(e,[e.rank-1])),(t=i.argMax(t,-1)).dtype!==e.dtype&&(t=i.cast(t,e.dtype)),i.cast(i.equal(e,t),"float32")}const Ls=Cs,Fs=Ts,Os={binaryAccuracy:Rs,categoricalAccuracy:Ms,precision:function(e,t){return(0,i.tidy)((()=>{const n=Ds(e,t),a=function(e,t){return(0,i.tidy)((()=>i.cast(i.sum(i.logicalAnd(i.equal(e,0),i.equal(t,1))),"float32")))}(e,t),r=i.add(n,a);return i.cast(i.where(i.greater(r,0),i.div(n,r),0),"float32")}))},categoricalCrossentropy:Ls,sparseCategoricalCrossentropy:Fs,mse:ks,MSE:ks,mae:xs,MAE:xs,mape:ws,MAPE:ws,cosine:As};function js(e){if("string"==typeof e&&e in Os)return Os[e];if("string"!=typeof e&&null!=e)return e;throw new Ja(`Unknown metric ${e}`)}function zs(e){if(ei(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(Ns))if(Ns[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(Os))if(Os[n]===e){t=n;break}return void 0!==t?t:e.name}}const Ps=1048576;function Ws(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Gs(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>Ps&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function Gs(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!Gs(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!Gs(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function Vs(e,t,n,a=console.log){const i=function(e){let t=!0;const n=[],a=[];for(const t in e.nodesByDepth)n.push(e.nodesByDepth[t]);for(const e of n){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}a.push(...e)}if(t)for(const n of e.layers){let e=!1;for(const i of n.inboundNodes)if(-1!==a.indexOf(i)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),r=["Layer (type)","Input Shape","Output shape","Param #"];let s;if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!i){r.push("Receives inputs"),s=[];for(const t in e.nodesByDepth)s.push(...e.nodesByDepth[t])}a("_".repeat(t)),Us(r,n,a),a("=".repeat(t));const o=e.layers;for(let e=0;e<o.length;++e)i?Hs(o[e],n,a):qs(o[e],n,s,a),a((e===o.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?Rr(e.collectedTrainableWeights):Rr(e.trainableWeights);return t}(e),c=Rr(e.nonTrainableWeights);a(`Total params: ${l+c}`),a(`Trainable params: ${l}`),a(`Non-trainable params: ${c}`),a("_".repeat(t))}function Us(e,t,n=console.log){let a="";for(let n=0;n<e.length;++n)n>0&&(a=a.slice(0,a.length-1)+" "),a+=e[n],a=a.slice(0,t[n]),a+=" ".repeat(t[n]-a.length);n(a)}function Hs(e,t,n){let a,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(e){a="multiple"}Us([`${e.name} (${e.getClassName()})`,i,a,e.countParams().toString()],t,n)}function qs(e,t,n,a){let i,r;try{r=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){r="multiple"}try{i=JSON.stringify(e.outputShape)}catch(e){i="multiple"}const s=[];for(const t of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(t)))for(let e=0;e<t.inboundLayers.length;++e){const n=t.inboundLayers[e].name,a=t.nodeIndices[e],i=t.tensorIndices[e];s.push(`${n}[${a}][${i}]`)}const o=e.name,l=e.getClassName(),c=0===s.length?"":s[0];Us([`${o} (${l})`,r,i,e.countParams().toString(),c],t,a);for(let e=1;e<s.length;++e)Us(["","","","",s[e]],t,a)}function Ks(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function Js(e,t){if(null===e)return null;if("string"==typeof e)return ri(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],a=e.length;for(let i=0;i<a;++i){const a=e[i];Ks(t,i,a)?n.push(a):n.push(Js(a,t))}return n}{const t={};for(const n of Object.keys(e)){const a=e[n];if("name"===n&&"string"==typeof a)t[n]=a;else{const e=ri(n);t[e]=Js(a,e)}}return t}}function Xs(e,t){if(null==e)return null;if("string"==typeof e)return ii(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],a=e.length;for(let i=0;i<a;++i){const a=e[i];Ks(t,i,a)?n.push(a):n.push(Xs(a,t))}return n}{const t={};for(const n of Object.keys(e)){const a=e[n],i=ii(n);t[i]="name"!==n&&"className"!==n||"string"!=typeof a?Xs(a,n):a}return t}}class Ys extends Pr{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=xi(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],di(this.inputs).length!==this.inputs.length)throw new Ja(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);di(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map((e=>e.name))}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const e of this.outputs){const t=e.sourceLayer,n=e.nodeIndex,a=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(a)}for(const e of this.inputs){const t=e.sourceLayer,n=e.nodeIndex,a=e.tensorIndex;ei(0===n,"input layer has >1 nodes"),ei(0===a,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(a)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){const n=this.inputLayers[t];if(!(n instanceof Gr))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${t} (0-based) originates from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},a={},i={},r={},s=[],o=(e,t,n,a,i,l)=>{null!=a&&null!=i&&null!=l||(a=e.sourceLayer,i=e.nodeIndex,l=e.tensorIndex);const c=a.inboundNodes[i];if(-1!==n.indexOf(c))throw new Ka(`The tensor ${e.name} at layer "${a.name}" is part of a cycle.`);if(-1!==t.indexOf(c))return;this.containerNodes.add(Ys.nodeKey(a,i)),a.id in r||(r[a.id]=Object.keys(r).length),-1===n.indexOf(c)&&n.push(c);const u=c.inboundLayers.length;for(let e=0;e<u;e++){const a=c.inputTensors[e],i=c.inboundLayers[e],r=c.nodeIndices[e],s=c.tensorIndices[e];o(a,t,n,i,r,s)}for(t.push(c);n.indexOf(c)>=0;)n.splice(n.indexOf(c),1);s.push(c)},l=[],c=[];for(const e of this.outputs)o(e,l,c);const u=s.slice().reverse();for(const e of u){n[e.id]=e,e.id in t||(t[e.id]=0);let r=t[e.id];const s=null==a[e.outboundLayer.id]?0:a[e.outboundLayer.id];r=Math.max(r,s),a[e.outboundLayer.id]=r,i[e.outboundLayer.id]=e.outboundLayer,t[e.id]=r;for(let a=0;a<e.inboundLayers.length;a++){const i=e.inboundLayers[a],s=e.nodeIndices[a],o=i.inboundNodes[s],l=null==t[o.id]?0:t[o.id];t[o.id]=Math.max(r+1,l),n[o.id]=o}}const d={};for(const e in t){const a=t[e];a in d||(d[a]=[]),d[a].push(n[e])}const p={};for(const e in a){const t=a[e];t in p||(p[t]=[]),p[t].push(i[e])}let h=Object.keys(p).map((e=>parseInt(e,10))).sort(ui);this.layers=[];for(const e of h){const t=p[e];t.sort(((e,t)=>{const n=r[e.id],a=r[t.id];return n<a?-1:n>a?1:0}));for(const e of t)e instanceof Ys&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=p,h=Object.keys(d).map((e=>parseInt(e,10))).sort(ui);const m=this.inputs.slice(),f=[];for(const e of h)for(const t of d[e]){const e=t.outboundLayer;if(null!=e){for(const n of t.inputTensors)if(-1===m.indexOf(n))throw new Ka(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${e.name}". The following previous layers were accessed without issue: ${f}`);for(const e of t.outputTensors)m.push(e);f.push(e.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const e of g){const t=g.filter((t=>t===e)).length;if(1!==t)throw new Ka(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new jr({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new Ja("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let a=0;for(const e of this.layers)for(const t of e.weights){if(null!=n[t.originalName])throw new Ja(`Duplicate weight name: ${t.originalName}`);n[t.originalName]=t,a++}const i=[];for(const a in e){let r=a;if(null==n[a]){const e=a.split("/");r=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[r])i.push([n[r],e[a]]);else if(t)throw new Ja(`Provided weight data has no target variable: ${a}`);delete n[r]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new Ja(`${e.length} of ${a} weights are not set: ${e}`)}Br(i)}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers 3.18.0",t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=Xs(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return(0,i.tidy)((()=>{e=ai(e);const n=new Vr;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return qr(this.outputs,n,t)}))}computeMask(e,t){return(0,i.tidy)((()=>{let n;return e=ai(e),n=null==t?Qa(null,e.length):ai(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=Ar(e);if(t.length!==this.inputLayers.length)throw new Ja(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let e=0;e<t.length;e++){const a=this.inputLayers[e],i=t[e];n[a.name+"_0_0"]=i}const a=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(ui);if(a.length>1)for(const e of a){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(t.id))continue;const a=[];for(let t=0;t<e.inboundLayers.length;t++){const i=e.inboundLayers[t],r=e.nodeIndices[t],s=e.tensorIndices[t],o=n[`${i.name}_${r}_${s}`];a.push(o)}const i=Ar(t.computeOutputShape(ni(a))),r=t.inboundNodes.indexOf(e);for(let e=0;e<i.length;e++){n[`${t.name}_${r}_${e}`]=i[e]}}}const i=[],r=[];for(let e=0;e<this.outputLayers.length;e++){const t=this.outputLayers[e],n=this.outputLayersNodeIndices[e],a=this.outputLayersTensorIndices[e],i=`${t.name}_${n}_${a}`;r.push(i)}for(let e=0;e<r.length;e++){const t=r[e];ei(t in n),i.push(n[t])}return ni(i)}runInternalGraph(e,t){null==t&&(t=Qa(null,e.length));const n={};for(let a=0;a<this.inputs.length;++a){const i=this.inputs[a],r=e[a],s=t[a];n[i.id]=[r,s]}const a=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(ui);for(const e of a){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer,a=e.inputTensors,i=e.outputTensors,r=new Array;for(const e of a)e.id in n&&r.push(n[e.id]);if(r.length===a.length){let a,s,o,l,c={};if(null!=e.callArgs&&(c=e.callArgs),1===r.length){const[e,n]=r[0];null==c.mask&&(c.mask=n),o=ai(t.call(e,c)),l=ai(t.computeMask(e,n)),a=[e],s=[n]}else a=r.map((e=>e[0])),s=r.map((e=>e[1])),null==c.mask&&(c.mask=s),o=ai(t.call(a,c)),l=ai(t.computeMask(a,s));if(t.activityRegularizer)throw new Xa("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<i.length;++e){const t=i[e],a=o[e],r=l[e];n[t.id]=[a,r]}}}}const i=[],r=[],s=[];for(const e of this.outputs){ei(e.id in n,`Could not compute output ${e.name} : ${e.id}`);const[t,a]=n[e.id];s.push(t.shape),i.push(t),r.push(a)}return[i,r,s]}buildNodeConversionMap(e){const t={};let n;for(const e of this.layers){n=e instanceof Ys?1:0;for(let a=0;a<e.inboundNodes.length;a++){const i=Ys.nodeKey(e,a);this.containerNodes.has(i)&&(t[i]=n,n+=1)}}return t}getLayer(e,t){if(null!=t){if(this.layers.length<=t)throw new Ja(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}if(null==e)throw new Ja("Provide either a layer name or layer index");for(const t of this.layers)if(t.name===e)return t;throw new Ja(`No such layer: ${e}`)}calculateLosses(){return(0,i.tidy)((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const a=Ys.nodeKey(t,n);this.containerNodes.has(a)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const e of this.layers){const a=e.getClassName(),i=e.getConfig(),r=[];for(let n=0;n<e.inboundNodes.length;n++){const a=e.inboundNodes[n],i=Ys.nodeKey(e,n);let s={};if(this.containerNodes.has(i)){if(a.callArgs)try{JSON.stringify(a.callArgs),s=a.callArgs}catch(t){console.warn(`Layer ${e.name} was passed non-serializable keyword arguments: ${a.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),s={}}if(a.inboundLayers.length>0){const e=[];for(let n=0;n<a.inboundLayers.length;n++){const i=a.inboundLayers[n],r=a.nodeIndices[n],o=a.tensorIndices[n];let l=t[Ys.nodeKey(i,r)];null==l&&(l=0),e.push([i.name,l,o,s])}r.push(e)}}}const s={};s.name=e.name,s.className=a,s.config=i,s.inboundNodes=r,n.push(s)}e.layers=n;const a=[];for(let e=0;e<this.inputLayers.length;e++){const n=this.inputLayers[e],i=this.inputLayersNodeIndices[e],r=Ys.nodeKey(n,i);if(!this.containerNodes.has(r))continue;let s=t[r];null==s&&(s=0);const o=this.inputLayersTensorIndices[e];a.push([n.name,s,o])}e.inputLayers=a;const i=[];for(let e=0;e<this.outputLayers.length;e++){const n=this.outputLayers[e],a=this.outputLayersNodeIndices[e],r=Ys.nodeKey(n,a);if(!this.containerNodes.has(r))continue;let s=t[r];null==s&&(s=0);const o=this.outputLayersTensorIndices[e];i.push([n.name,s,o])}return e.outputLayers=i,e}static fromConfig(e,t,n={},a=!1){const i={},r={};function s(e,t){e.name in r?r[e.name].push(t):r[e.name]=[t]}function o(e,t){const n=[];let a;for(const r of t){const o=r[0],l=r[1],c=r[2];if(a=null==r[3]?{}:r[3],!(o in i))return void s(e,t);const u=i[o];if(u.inboundNodes.length<=l)return void s(e,t);const d=u.inboundNodes[l];n.push(d.outputTensors[c])}n.length>0&&e.apply(ni(n),a)}function l(e){const n=e.name,r=ys(e,null!=t.customObjects?t.customObjects:{});r.setFastWeightInitDuringBuild(a),i[n]=r;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new Ja(`Corrupted configuration, expected array for nodeData: ${e}`);s(r,e)}))}const c=t.name,u=t.layers;for(const e of u)l(e);for(;!pi(r);)for(const e of u){const t=i[e.name];if(t.name in r){const e=r[t.name];delete r[t.name];for(const n of e)o(t,n)}}const d=[],p=[],h=t.inputLayers;for(const e of h){const t=e[0],n=e[1],a=e[2];ei(t in i);const r=i[t].inboundNodes[n].outputTensors;d.push(r[a])}const m=t.outputLayers;for(const e of m){const t=e[0],n=e[1],a=e[2];ei(t in i);const r=i[t].inboundNodes[n].outputTensors;p.push(r[a])}return new e({inputs:d,outputs:p,name:c})}get stateful(){if(this._stateful)throw new Ja("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){(0,i.tidy)((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function Zs(e,t,n){const a=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===a)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==a)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${a} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${a}) outputs, so ${n} must be either an array with ${a} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function Qs(e,t){return Zs(e,t,"classWeight")}async function eo(e,t,n,a){if(null!=t||null!=a)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=(0,i.tidy)((()=>{if(1===e.shape.length)return(0,i.clone)(e);if(2===e.shape.length){if(e.shape[1]>1){const t=1;return(0,i.argMax)(e,t)}if(1===e.shape[1])return(0,i.reshape)(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),a=Array.from(await t.data());(0,i.dispose)(t);const r=[];return a.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);r.push(n[e])})),(0,i.tensor1d)(r,"float32")}return null}function to(e,t){return(0,i.mul)(e,t)}function no(e,t){let n,a;const r=t;n=r.xs,a=r.ys,i.util.assert(null!=n&&null!=a,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const s=ao("input",e.inputNames,n),o=ao("output",e.outputNames,a),l=s[0].shape[0];i.util.assert(s.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${s.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),i.util.assert(o.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let t=0;t<s.length;t++)i.util.assert(s[t].shape[0]===l,(()=>`Batch size mismatch: input ${e.inputNames[t]} has ${s[t].shape[0]}; expected  ${l} based on input ${e.inputNames[0]}.`));for(let t=0;t<o.length;t++)i.util.assert(o[t].shape[0]===l,(()=>`Batch size mismatch: output ${e.outputNames[t]} has ${o[t].shape[0]}; expected  ${l} based on input ${e.inputNames[0]}.`));return{xs:s,ys:o}}function ao(e,t,n){if(n instanceof i.Tensor)return[n];if(Array.isArray(n))return i.util.assert(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const a=[];for(const i of t){if(null==n[i])throw new Ja(`The feature data generated by the dataset lacks the required ${e} key '${i}'.`);a.push(n[i])}return a}}async function io(e,t,n){const a=null!=n.batchesPerEpoch;if(i.util.assert(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),i.util.assert(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),i.util.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),i.util.assert(!a||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),i.util.assert(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const r=null!=n.validationData;let s,o;if(r)if(ro(n.validationData))i.util.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new Xa("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);s=e.xs,o=e.ys}const l=e.makeTrainFunction(),c=e.getDedupedMetricsNames();let u;u=r?c.slice().concat(c.map((e=>"val_"+e))):c.slice();const d=fs(n.callbacks,n.yieldEvery),p=null==n.verbose?1:n.verbose,{callbackList:h,history:m}=bs(d,p,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,r,u);h.setModel(e),e.history=m,await h.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,g=await t.iterator();for(;f<n.epochs;){const u={};await h.onEpochBegin(f);let d=0,p=0;for(a||(g=await t.iterator());!a||d<n.batchesPerEpoch;){const t=await g.next();if(a&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${d} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:a,ys:r}=no(e,t.value),s={};s.batch=p,s.size=a[0].shape[0],await h.onBatchBegin(p,s);const o=[];if(null!=n.classWeight){const t=Qs(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)o.push(await eo(r[e],null,t[e]))}const u=a.concat(r).concat(o),m=l(u);i.dispose(u);for(let e=0;e<c.length;++e){const t=c[e],n=m[e];s[t]=n,i.keep(n)}await h.onBatchEnd(p,s),ls(s),p++,d++}if(a?d>=n.batchesPerEpoch:t.done){if(r){let t;t=ro(n.validationData)?ai(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):ai(e.evaluate(s,o,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await h.onEpochEnd(f,u),f++,e.stopTraining_)break}return await h.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function ro(e){return"function"==typeof e.iterator}function so(e){i.util.assert(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function oo(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>Ui(e,t,n-t))):Ui(e,t,n-t)}function lo(e,t){return i.tidy((()=>null==e?null:Array.isArray(e)?e.map((e=>lo(e,t))):Qi(e,"int32"===t.dtype?t:i.cast(t,"int32"))))}function co(e,t){const n=[];let a=0,i=null;for(;a<e;)i=a+t,i>=e&&(i=e),n.push([a,i]),a=i;return n}async function uo(e,t,n,a={}){if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let r,s,o,l,c,u,d,p,h;e.isTraining=!0;try{const m=null==a.batchSize?32:a.batchSize;so(m);const f=!1,g=await e.standardizeUserData(t,n,a.sampleWeight,a.classWeight,f,m);r=g[0],s=g[1],h=g[2];let b,y=!1;if(null!=a.validationData&&a.validationData.length>0){if(y=!0,2!==a.validationData.length)throw 3===a.validationData.length?new Xa("validationData including sample weights is not supported yet."):new Ja(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${a.validationData} is invalid.`);c=a.validationData[0],u=a.validationData[1];const t=!0,n=await e.standardizeUserData(c,u,null,null,t,m);d=n[0],p=n[1],b=d.concat(p)}else if(null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1){y=!0;const e=Math.floor(r[0].shape[0]*(1-a.validationSplit)),t=r[0].shape[0];d=oo(r,e,t),o=r,r=oo(r,0,e),p=oo(s,e,t),l=s,s=oo(s,0,e),b=d.concat(p)}else null!=a.validationSteps&&(y=!0);const v=r.concat(s).concat(h);e.checkTrainableWeightsConsistency();const k=e.makeTrainFunction(),x=e.getDedupedMetricsNames();let w,S;y?(e.makeTestFunction(),w=e.testFunction,S=x.slice().concat(x.map((e=>"val_"+e)))):(w=null,b=[],S=x.slice());const C=fs(a.callbacks,a.yieldEvery),T=await async function(e,t,n,a,r,s,o,l,c,u,d,p,h,m,f){null==r&&(r=32),null==s&&(s=1),null==d&&(d=!0),null==h&&(h=0);let g=!1;if(null!=c&&null!=u&&(g=!0),null!=f&&(g=!0,null==m))throw new Ja("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const b=e.checkNumSamples(n,r,m,"steps_per_epoch");let y;null!=b&&(y=zi(0,b)),null==o&&(o=1);const{callbackList:v,history:k}=bs(l,o,s,h,b,m,r,g,p);v.setModel(e),e.history=k,await v.onTrainBegin(),e.stopTraining_=!1;for(let o=h;o<s;++o){await v.onEpochBegin(o);const s={};if(null!=m)throw new Xa("stepsPerEpoch mode is not implemented yet.");{if("batch"===d)throw new Xa("batch shuffling is not implemneted yet");d&&i.util.shuffle(y);const o=(0,i.tensor1d)(y),l=co(b,r);for(let d=0;d<l.length;++d){const p={};if(await v.onBatchBegin(d,p),i.tidy((()=>{const h=l[d][0],m=l[d][1],f=Ui(o,h,m-h);p.batch=d,p.size=m-h;const b=lo(n,f),y=t(b);for(let e=0;e<a.length;++e){const t=a[e],n=y[e];p[t]=n,i.keep(n)}if(d===l.length-1&&g){const t=e.testLoop(c,u,r);for(let e=0;e<a.length;++e){const n=a[e],r=t[e];i.keep(r),s["val_"+n]=r}}})),await v.onBatchEnd(d,p),ls(p),e.stopTraining_)break}o.dispose()}if(await v.onEpochEnd(o,s),e.stopTraining_)break}return await v.onTrainEnd(),await e.history.syncData(),e.history}(e,k,v,x,m,a.epochs,a.verbose,C,w,b,a.shuffle,S,a.initialEpoch,null,null);return T}finally{e.isTraining=!1,ho(r,t),ho(s,n),ho(o,t),ho(l,n),ho(d,c),ho(p,u),null!=h&&i.dispose(h)}}function po(e){const t=[];e instanceof i.Tensor&&(e=[e]);for(let n=0;n<e.length;++n){const a=e[n];if(1===a.rank)t.push(Vi(a,1));else{if(0===a.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(a)}}return t}function ho(e,t){if(null==e)return;const n=[];if(t instanceof i.Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const e in t){const a=t[e];n.push(a.id)}const a=[];if(e instanceof i.Tensor)-1===n.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&a.push(e)}));else if(null!=e)for(const t in e){const i=e[t];-1===n.indexOf(i.id)&&a.push(i)}a.forEach((e=>{e.isDisposed||e.dispose()}))}function mo(e){return Array.isArray(e)}function fo(e){return!function(e){return e instanceof i.Tensor}(e)&&!mo(e)}function go(e,t,n,a=!0,i=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(mo(e)&&e.length>0)t=!0;else if(fo(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new Ja(`Error when checking model ${i} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));let r;if(fo(e)){r=[];for(const n of t){if(null==e[n])throw new Ja(`No data provided for "${n}". Need data for each key in: ${t}`);r.push(e[n])}}else if(mo(e)){if(e.length!==t.length)throw new Ja(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);r=e}else{if(t.length>1)throw new Ja(`The model ${i} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);r=[e]}if(r=po(r),null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const s=r[e];if(s.shape.length!==n[e].length)throw new Ja(`Error when checking ${i}: expected ${t[e]} to have ${n[e].length} dimension(s). but got array with shape ${s.shape}`);for(let t=0;t<n[e].length;++t){if(0===t&&!a)continue;const r=s.shape[t],o=n[e][t];if(null!=o&&o>=0&&r!==o)throw new Ja(`${i} expected a batch of elements where each example has shape [${n[e].slice(1,n[e].length)}] (i.e.,tensor shape [*,${n[e].slice(1,n[e].length)}]) but the ${i} received an input with ${s.shape[0]} examples, each with shape [${s.shape.slice(1,s.shape.length)}] (tensor shape [${s.shape}])`)}}return r}function bo(e,t,n,a=!0,i=""){let r;if(Array.isArray(e)){if(e.length!==t.length)throw new Ja(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);r=e}else{if(t.length>1)throw new Ja(`The model expects ${t.length} ${i} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);r=[e]}if(null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const s=r[e];if(s.shape.length!==n[e].length)throw new Ja(`Error when checking ${i}: expected ${t[e]} to have ${n[e].length} dimension(s), but got array with shape ${JSON.stringify(s.shape)}`);for(let r=0;r<n[e].length;++r){if(0===r&&!a)continue;const o=s.shape[r],l=n[e][r];if(null!=l&&l!==o)throw new Ja(`Error when checking ${i}: expected ${t[e]} to have shape ${JSON.stringify(n[e])} but got array with shape ${JSON.stringify(s.shape)}.`)}}}class yo extends Ys{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new Ja("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Vs(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>i.train.adagrad(.01),Adadelta:()=>i.train.adadelta(1,.95,Wi()),Adam:()=>i.train.adam(.001,.9,.999,Wi()),Adamax:()=>i.train.adamax(.002,.9,.999,Wi(),0),RMSProp:()=>i.train.rmsprop(.001,.9,0,Wi()),SGD:()=>i.train.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Ja(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof i.Optimizer))throw new Ja("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Ja(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>Es(e)))}else{const n=Es(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new Ja(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${n} during training`),t.push(Es(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){const t=this.internalOutputShapes[e],n=this.outputNames[e];this.feedOutputNames.push(n),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Mi("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const a=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const a of t){let t=n.hasOwnProperty(a)?n[a]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),r=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};Mi("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,a,i;for(const s of t){if("string"==typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){const t=this.internalOutputShapes[e];let r;1===t[t.length-1]||this.lossFunctions[e]===_s?-1!==["accuracy","acc"].indexOf(s)?a=Rs:-1!==["crossentropy","ce"].indexOf(s)&&(a=$s):this.lossFunctions[e]===Ts?-1!==["accuracy","acc"].indexOf(s)?a=Bs:-1!==["crossentropy","ce"].indexOf(s)&&(a=Fs):-1!==["accuracy","acc"].indexOf(s)?a=Ms:-1!==["crossentropy","ce"].indexOf(s)&&(a=Ls),-1!==["accuracy","acc"].indexOf(s)?r="acc":-1!==["crossentropy","ce"].indexOf(s)&&(r="ce"),i=a,n=""+r}else{const e=js(s);i=e,n=""+zs(s)}let t;Mi(n,(()=>{t=i})),r(e,n,t)}})(a[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,n={}){const a=null==n.batchSize?32:n.batchSize;so(a);const i=this.standardizeUserDataXY(e,t,!0,a);try{const r=i[0].concat(i[1]);this.makeTestFunction();const s=this.testFunction;return ni(this.testLoop(s,r,a,n.verbose,n.steps))}finally{ho(i[0],e),ho(i[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const a=null!=(n=n||{}).batches,r=e.testFunction;let s=[];if(n.verbose>0)throw new Xa("Verbose mode is not implemented yet.");i.util.assert(!a||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const o="function"==typeof t.next?t:await t.iterator();let l=0,c=0;for(;!a||c<n.batches;){const t=await o.next();if(s=i.tidy((()=>{if(t.value){const{xs:n,ys:a}=no(e,t.value),o=n.concat(a),u=i.tidy((()=>r(o)));if(i.dispose(o),0===c)for(let e=0;e<u.length;++e)s.push((0,i.scalar)(0));const d=o[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=s[e];s[e]=i.tidy((()=>i.add(s[e],i.mul(d,t)))),c>0&&i.dispose(n)}i.dispose(u),l+=d,++c}return s})),t.done){a&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let e=0;e<s.length;++e){const t=s[e];s[e]=i.div(s[e],l),i.dispose(t)}return ni(s)}(this,e,t)}checkNumSamples(e,t,n,a="steps"){let i;if(null!=n){if(i=null,null!=t)throw new Ja(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new Ja(`Either the input data should have a defined shape, or ${a} shoud be specified.`);i=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return i}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new Ja("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),a=n?t:[t],r=this.retrieveSymbolicTensors(a),s=new Vr;if(e instanceof i.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Ja(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)s.add(this.inputs[t],e[t])}else for(const t of this.inputs){const n=e[t.name];if(null==n)throw new Ja(`No value is provided for the model's input ${t.name}`);s.add(t,n)}const o=qr(r,s);return n?o:o[0]}retrieveSymbolicTensors(e){const t=Qa(null,e.length);let n=e.length;for(const a of this.layers){const i=Array.isArray(a.output)?a.output:[a.output],r=i.map((e=>e.name));for(let a=0;a<e.length;++a){const s=r.indexOf(e[a]);if(-1!==s&&(t[a]=i[s],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,a)=>{null==t&&n.push(e[a])})),new Ja(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return i.tidy((()=>{const a=this.checkNumSamples(e);if(n)throw new Xa("Verbose predictLoop() is not implemented yet.");const r=co(a,t),s=this.outputs.map((e=>[]));for(let t=0;t<r.length;++t){i.tidy((()=>{const n=r[t][0],a=r[t][1],i=oo(e,n,a),s=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)s.push({key:this.inputs[e],value:i[e]});else s.push({key:this.inputs[0],value:i});const o=new Vr(s);return qr(this.outputs,o)})).forEach(((e,t)=>s[t].push(e)))}return ni(s.map((e=>i.concat(e,0))))}))}predict(e,t={}){const n=po(e);bo(n,this.inputNames,this.feedInputShapes,!1);try{const a=null==t.batchSize?32:t.batchSize;return so(a),this.predictLoop(n,a)}finally{ho(n,e)}}predictOnBatch(e){bo(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,a){if(null==this.optimizer_)throw new Ka("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const r=[];for(let e=0;e<this.feedOutputShapes.length;++e){const t=this.feedOutputShapes[e];this.feedLossFns[e]===Ts?r.push(t.slice(0,t.length-1).concat([1])):r.push(t)}if(function(e,t,n){const a=di(e.map((e=>e.shape[0])));a.sort();const r=di(t.map((e=>e.shape[0])));if(r.sort(),a.length>1)throw new Ja(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(r.length>1)throw new Ja(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(a.length>0&&r.length>0&&!i.util.arraysEqual(a,r))throw new Ja(`Input Tensors should have the same number of samples as target Tensors. Found ${a[0]} input sample(s) and ${r[0]} target sample(s).`)}(e=go(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=go(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){const a=[ks,_s,Cs];for(let i=0;i<e.length;++i){const r=e[i],s=t[i],o=n[i];if(null!=s){if(s===Cs&&1===r.shape[r.shape.length-1])throw new Ja(`You are passing a target array of shape ${r.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==a.indexOf(s)){const e=r.shape.slice(1),t=o.slice(1);for(let n=0;n<e.length;++n){const a=e[n],i=t[n];if(null!=i&&a!==i)throw new Ja(`A target Tensor with shape ${r.shape} was passed for an output of shape ${o}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=a&&a>0&&e[0].shape[0]%a!=0)throw new Ja(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${a}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,a,i=!0,r){const[s,o]=this.standardizeUserDataXY(e,t,i,r);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=a){const e=Qs(a,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await eo(o[t],null,e[t]))}return[s,o,l]}testLoop(e,t,n,a=0,r){return i.tidy((()=>{const s=this.checkNumSamples(t,n,r,"steps"),o=[];if(a>0)throw new Xa("Verbose mode is not implemented yet.");if(null!=r)throw new Xa("steps mode in testLoop() is not implemented yet");{const a=co(s,n),r=(0,i.tensor1d)(zi(0,s));for(let n=0;n<a.length;++n){const s=a[n][0],l=a[n][1],c=Ui(r,s,l-s),u=lo(t,c),d=e(u);if(0===n)for(let e=0;e<d.length;++e)o.push((0,i.scalar)(0));for(let e=0;e<d.length;++e){const t=d[e];o[e]=i.add(o[e],i.mul(l-s,t))}}for(let e=0;e<o.length;++e)o[e]=i.div(o[e],s)}return o}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const a=e[n];let i=a;if(ti(e,a)>1){i+=`_${ti(e.slice(0,n),a)}`}t.push(i)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),s=[],o=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const o=new Vr(e),l=qr(this.outputs,o,{training:!0});let c;for(let e=0;e<this.lossFunctions.length;++e){let n=(0,this.lossFunctions[e])(a[e],l[e]);null!=r[e]&&(n=to(n,r[e]));const s=i.mean(n);t.push(s),c=0===e?n:i.add(c,n)}for(let e=0;e<this.metricsTensors.length;++e){let n;if(this.outputs.length>1&&e<this.outputs.length)n=t[e];else{const t=this.metricsTensors[e][0],r=this.metricsTensors[e][1];n=i.mean(t(a[r],l[r]))}i.keep(n),s.push(n)}return c=i.mean(c),this.calculateLosses().forEach((e=>{c=i.add(c,e)})),c}),!0,o)].concat(s)}}makeTestFunction(){this.testFunction=e=>i.tidy((()=>{const t=[];let n;const a=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),s=[];for(let e=0;e<this.inputs.length;++e)s.push({key:this.inputs[e],value:a[e]});const o=new Vr(s),l=qr(this.outputs,o);for(let e=0;e<this.lossFunctions.length;++e){const a=this.lossFunctions[e],s=i.mean(a(r[e],l[e]));n=0===e?s:i.add(n,s),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],a=this.metricsTensors[e][1],s=i.mean(n(r[a],l[a]));t.push(s)}return t}))}async fit(e,t,n={}){return uo(this,e,t,n)}async fitDataset(e,t){return io(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),a=n[0],r=n[1],s=this.makeTrainFunction()(a.concat(r)),o=[];for(const e of s){const t=await e.data();o.push(t[0])}return i.dispose(s),ho(n[0],e),ho(n[1],t),ni(o)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,a=n?this.trainableWeights:this.weights,i=this.getWeights(n);for(let e=0;e<a.length;++e)n&&!a[e].trainable||t.push({name:a[e].originalName,tensor:i[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=i.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-i.memory().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=ii(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>ii(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const a of t){if("string"!=typeof n[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=ii(n[a])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[ii(zs(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>ii(zs(e))));{const e={};for(const t in this.metrics)e[t]=ii(zs(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=ys(Js(e.optimizer_config));let n,a;if("string"==typeof e.loss)n=ri(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>ri(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=ri(e.loss[t])}if(Array.isArray(e.metrics))a=e.metrics.map((e=>ri(e)));else if(null!=e.metrics){a={};for(const t in e.metrics)a[t]=ri(e.metrics[t])}this.compile({loss:n,metrics:a,optimizer:t})}async save(e,t){if("string"==typeof e){const t=i.io.getSaveHandlers(e);if(0===t.length)throw new Ja(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Ja(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Ja("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await i.io.encodeWeights(this.getNamedWeights(t)),a={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v3.18.0",convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){a.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:r}=await i.io.encodeWeights(await this.optimizer.getWeights(),e);n.specs.push(...r),n.data=i.io.concatenateArrayBuffers([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;Ws(this.userDefinedMetadata,this.name,e),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=n.data,a.weightSpecs=n.specs,e.save(a)}setUserDefinedMetadata(e){Ws(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}yo.className="Model",i.serialization.registerClass(yo);class vo extends yo{}vo.className="Functional",i.serialization.registerClass(vo);class ko extends yo{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:xi("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new Ja(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof ko||e instanceof yo;let n;if(t){if(n=e,1!==n.outputs.length)throw new Ja("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new Ja("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Ja("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Ja("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new Gr({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new Ja(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new Ja("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Wr(this.outputs[0])}this.inboundNodes=[],new jr({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Qa(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(Er(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new yo({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new Ka("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new Ka("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new Ka("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new Ka("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},a=!1){let r,s={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Ja("Legacy serialization format not supported yet.");r=t}else i.util.assert(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),r=t.layers,delete t.layers,s=t;const o=new e(s);if(!(o instanceof ko))throw new Xa(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(const e of r){const t=ys(e,void 0,a);a&&t.setFastWeightInitDuringBuild(!0),o.add(t)}return o}set stopTraining(e){if(null==this.model)throw new Ja("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new Ja("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}ko.className="Sequential",i.serialization.registerClass(ko);class xo extends i.serialization.Serializable{getConfig(){return{}}}class wo extends xo{apply(e,t=1){return function(e,t=1){if(1!==t)throw new Xa(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return i.elu(e)}(e,t)}}wo.className="elu",i.serialization.registerClass(wo);class So extends xo{apply(e){return i.selu(e)}}So.className="selu",i.serialization.registerClass(So);class Co extends xo{apply(e){return i.relu(e)}}Co.className="relu",i.serialization.registerClass(Co);class To extends xo{apply(e){return(0,i.tidy)((()=>i.minimum(6,i.relu(e))))}}To.className="relu6",i.serialization.registerClass(To);class _o extends xo{apply(e){return e}}_o.className="linear",i.serialization.registerClass(_o);class Io extends xo{apply(e){return i.sigmoid(e)}}Io.className="sigmoid",i.serialization.registerClass(Io);class Ao extends xo{apply(e){return function(e){return(0,i.tidy)((()=>{const t=i.add(.5,i.mul(.2,e));return i.clipByValue(t,0,1)}))}(e)}}Ao.className="hardSigmoid",i.serialization.registerClass(Ao);class No extends xo{apply(e){return i.softplus(e)}}No.className="softplus",i.serialization.registerClass(No);class Eo extends xo{apply(e){return function(e){return(0,i.tidy)((()=>i.div(e,i.add(i.abs(e),1))))}(e)}}Eo.className="softsign",i.serialization.registerClass(Eo);class Ro extends xo{apply(e){return i.tanh(e)}}Ro.className="tanh",i.serialization.registerClass(Ro);class Mo extends xo{apply(e,t=-1){return i.softmax(e,t)}}Mo.className="softmax",i.serialization.registerClass(Mo);class Do extends xo{apply(e,t=-1){return i.logSoftmax(e,t)}}Do.className="logSoftmax",i.serialization.registerClass(Do);class $o extends xo{apply(e,t=1){return(0,i.tidy)((()=>i.mul(i.sigmoid(i.mul(e,t)),e)))}}$o.className="swish",i.serialization.registerClass($o);class Bo extends xo{apply(e){return(0,i.tidy)((()=>i.mul(e,i.tanh(i.softplus(e)))))}}function Lo(e){return e.getClassName()}function Fo(e,t={}){return ci(e,i.serialization.SerializationMap.getMap().classNameMap,t,"activation")}function Oo(e){if(null==e){const e={className:"linear",config:{}};return Fo(e)}if("string"==typeof e){const t={};return t.className=e,t.config={},Fo(t)}return e instanceof xo?e:Fo(e)}function jo(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}Bo.className="mish",i.serialization.registerClass(Bo);class zo extends i.serialization.Serializable{}class Po extends zo{constructor(e){super(),jo(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return(0,i.tidy)((()=>{let t=(0,i.zeros)([1]);return this.hasL1&&(t=(0,i.add)(t,(0,i.sum)(i.mul(this.l1,(0,i.abs)(e))))),this.hasL2&&(t=(0,i.add)(t,(0,i.sum)(i.mul(this.l2,er(e))))),i.reshape(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}Po.className="L1L2",i.serialization.registerClass(Po);const Wo={l1l2:"L1L2"};function Go(e){return oi(e)}function Vo(e,t={}){return ci(e,i.serialization.SerializationMap.getMap().classNameMap,t,"regularizer")}function Uo(e){if(null==e)return null;if("string"==typeof e){return Vo({className:e in Wo?Wo[e]:e,config:{}})}return e instanceof zo?e:Vo(e)}class Ho extends Pr{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=Nr(e);let n=(0,i.relu)(e);return null!=this.maxValue&&(n=(0,i.clipByValue)(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}Ho.className="ReLU",i.serialization.registerClass(Ho);class qo extends Pr{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Nr(e);return(0,i.leakyRelu)(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}qo.className="LeakyReLU",i.serialization.registerClass(qo);class Ko extends Pr{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=_r(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Uo(e.alphaRegularizer),this.alphaConstraint=ss(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new Ja(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=Er(e)).slice(1);if(null!=this.sharedAxes)for(const e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)n[t]=e[t];this.inputSpec=[new Lr({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=Nr(e),(0,i.prelu)(e,this.alpha.read())}getConfig(){const e={alphaInitializer:Tr(this.alphaInitializer),alphaRegularizer:Go(this.alphaRegularizer),alphaConstraint:is(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}Ko.className="PReLU",i.serialization.registerClass(Ko);class Jo extends Pr{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new Xa(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=Nr(e);return(0,i.elu)(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}Jo.className="ELU",i.serialization.registerClass(Jo);class Xo extends Pr{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=Nr(e);return(0,i.mul)(n,(0,i.cast)((0,i.greater)(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}Xo.className="ThresholdedReLU",i.serialization.registerClass(Xo);class Yo extends Pr{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new Mo).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){const n=Nr(e);return this.softmax(n,this.axis)}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function Zo(e,t,n){if("number"==typeof e)return Qa(e,t);if(e.length!==t)throw new Ja(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let i=0;i<t;++i){const r=e[i];if((a=r)!==parseInt(a.toString(),10))throw new Ja(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${r}`)}return e;var a}function Qo(e,t,n,a,i=1){if(null==e)return e;let r;return r="same"===n?e:e-(t+(t-1)*(i-1))+1,Math.floor((r+a-1)/a)}function el(e,t,n,a){if(null==e)return null;if("valid"===a)e=e*t+ji([n-t,0]);else{if("same"!==a)throw new Ja(`Unsupport padding mode: ${a}.`);e*=t}return e}function tl(e,t){return(0,i.tidy)((()=>(Ai(t),"channelsFirst"===t?i.transpose(e,[0,2,3,1]):e)))}function nl(e,t){return(0,i.tidy)((()=>(Ai(t),"channelsFirst"===t?i.transpose(e,[0,2,3,4,1]):e)))}function al(e,t,n,a=1,r="valid",s,o=1){return(0,i.tidy)((()=>{if(null==s&&(s="channelsLast"),Ai(s),3!==e.shape.length)throw new Ja(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new Ja(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new Ja(`The bias for a conv1dWithBias operation should be 1, but is ${t.shape.length} instead`);if("channelsFirst"===s&&(e=i.transpose(e,[0,2,1])),"causal"===r)throw new Xa("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let l=i.conv1d(e,t,a,"same"===r?"same":"valid","NWC",o);return null!=n&&(l=nr(l,n)),l}))}function il(e,t,n,a=[1,1],r="valid",s,o,l=null){return(0,i.tidy)((()=>{if(null==s&&(s="channelsLast"),Ai(s),3!==e.rank&&4!==e.rank)throw new Ja(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new Ja(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let c=tl(e,s);if("causal"===r)throw new Xa("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return c=i.fused.conv2d({x:c,filter:t,strides:a,pad:"same"===r?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:l}),"channelsFirst"===s&&(c=i.transpose(c,[0,3,1,2])),c}))}function rl(e,t,n,a=[1,1,1],r="valid",s,o){return(0,i.tidy)((()=>{if(null==s&&(s="channelsLast"),Ai(s),4!==e.rank&&5!==e.rank)throw new Ja(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new Ja(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let l=nl(e,s);if("causal"===r)throw new Xa("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return l=i.conv3d(l,t,a,"same"===r?"same":"valid","NDHWC",o),null!=n&&(l=nr(l,n)),"channelsFirst"===s&&(l=i.transpose(l,[0,4,1,2,3])),l}))}Yo.className="Softmax",i.serialization.registerClass(Yo);class sl extends Pr{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",sl.verifyArgs(t),this.rank=e,fi(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new Xa(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=Zo(t.kernelSize,e,"kernelSize"),this.strides=Zo(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,Ni(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,Ai(this.dataFormat),this.activation=Oo(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=_r(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=ss(t.biasConstraint),this.biasRegularizer=Uo(t.biasRegularizer),this.activityRegularizer=Uo(t.activityRegularizer),this.dilationRate=Zo(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new Ja(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new Ja(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new Ja(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(ei("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!mi(e.kernelSize,"number",1,3))throw new Ja(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Lo(this.activation),useBias:this.useBias,biasInitializer:Tr(this.biasInitializer),biasRegularizer:Go(this.biasRegularizer),activityRegularizer:Go(this.activityRegularizer),biasConstraint:is(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class ol extends sl{constructor(e,t){super(e,t),this.kernel=null,ol.verifyArgs(t),this.filters=t.filters,fi(this.filters,"filters"),this.kernelInitializer=_r(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=ss(t.kernelConstraint),this.kernelRegularizer=Uo(t.kernelRegularizer)}build(e){e=Er(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Ja(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],a=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return(0,i.tidy)((()=>{let t;e=Nr(e);const n=null==this.bias?null:this.bias.read(),a=bi(this.activation.getClassName());if(null!=a&&2===this.rank)t=il(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(1===this.rank)t=al(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=il(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new Xa("convolutions greater than 3D are not implemented yet.");t=rl(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=Er(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<n.length;++e){const a=Qo(n[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(a)}let a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(t),a.push(this.filters)):(a.push(this.filters),a=a.concat(t)),a}getConfig(){const e={filters:this.filters,kernelInitializer:Tr(this.kernelInitializer),kernelRegularizer:Go(this.kernelRegularizer),kernelConstraint:is(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new Ja(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class ll extends ol{constructor(e){super(2,e),ll.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!mi(e.kernelSize,"number",1,2))throw new Ja(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}ll.className="Conv2D",i.serialization.registerClass(ll);class cl extends ol{constructor(e){super(3,e),cl.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Ja(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}cl.className="Conv3D",i.serialization.registerClass(cl);class ul extends ll{constructor(e){if(super(e),this.inputSpec=[new Lr({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new Ja(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=Er(e)).length)throw new Ja("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Ja("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Lr({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return i.tidy((()=>{let t=Nr(e);if(4!==t.shape.length)throw new Ja(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,a=n[0];let r,s;"channelsFirst"===this.dataFormat?(r=2,s=3):(r=1,s=2);const o=n[r],l=n[s],c=this.kernelSize[0],u=this.kernelSize[1],d=this.strides[0],p=this.strides[1],h=[a,el(o,d,c,this.padding),el(l,p,u,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=i.transpose(t,[0,2,3,1]));let m=i.conv2dTranspose(t,this.kernel.read(),h,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(m=i.transpose(m,[0,3,1,2])),null!=this.bias&&(m=nr(m,this.bias.read(),this.dataFormat)),null!=this.activation&&(m=this.activation.apply(m)),m}))}computeOutputShape(e){const t=(e=Er(e)).slice();let n,a,i;"channelsFirst"===this.dataFormat?(n=1,a=2,i=3):(n=3,a=1,i=2);const r=this.kernelSize[0],s=this.kernelSize[1],o=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[a]=el(t[a],o,r,this.padding),t[i]=el(t[i],l,s,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}ul.className="Conv2DTranspose",i.serialization.registerClass(ul);class dl extends cl{constructor(e){if(super(e),this.inputSpec=[new Lr({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new Ja(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=Er(e)).length)throw new Ja("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Ja("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Lr({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return i.tidy((()=>{let t=Nr(e);if(5!==t.shape.length)throw new Ja(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,a=n[0];let r,s,o;"channelsFirst"===this.dataFormat?(o=2,r=3,s=4):(o=1,r=2,s=3);const l=n[o],c=n[r],u=n[s],d=this.kernelSize[0],p=this.kernelSize[1],h=this.kernelSize[2],m=this.strides[0],f=this.strides[1],g=this.strides[2],b=[a,el(l,m,d,this.padding),el(c,f,p,this.padding),el(u,g,h,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=i.transpose(t,[0,2,3,4,1]));let y=i.conv3dTranspose(t,this.kernel.read(),b,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=i.transpose(y,[0,4,1,2,3])),null!==this.bias&&(y=nr(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=Er(e)).slice();let n,a,i,r;"channelsFirst"===this.dataFormat?(n=1,a=2,i=3,r=4):(n=4,a=1,i=2,r=3);const s=this.kernelSize[0],o=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],u=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[a]=el(t[a],c,s,this.padding),t[i]=el(t[i],u,o,this.padding),t[r]=el(t[r],d,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}dl.className="Conv3DTranspose",i.serialization.registerClass(dl);class pl extends ol{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new Ja("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new Ja("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new Ja(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=_r(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Uo(t.depthwiseRegularizer),this.depthwiseConstraint=ss(t.depthwiseConstraint),this.pointwiseInitializer=_r(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Uo(t.pointwiseRegularizer),this.pointwiseConstraint=ss(t.pointwiseConstraint)}build(e){if((e=Er(e)).length<this.rank+2)throw new Ja(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Ja(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],a=this.kernelSize.concat([n,this.depthMultiplier]),i=[];for(let e=0;e<this.rank;++e)i.push(1);i.push(n*this.depthMultiplier,this.filters);const r=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,r,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",i,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,r,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,r,this.biasConstraint):this.bias=null,this.inputSpec=[new Lr({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return(0,i.tidy)((()=>{let t;if(e=Nr(e),1===this.rank)throw new Xa("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=i.transpose(e,[0,2,3,1])),t=i.separableConv2d(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=nr(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=i.transpose(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Tr(this.depthwiseInitializer),e.pointwiseInitializer=Tr(this.pointwiseInitializer),e.depthwiseRegularizer=Go(this.depthwiseRegularizer),e.pointwiseRegularizer=Go(this.pointwiseRegularizer),e.depthwiseConstraint=is(this.depthwiseConstraint),e.pointwiseConstraint=is(this.pointwiseConstraint),e}}pl.className="SeparableConv";class hl extends pl{constructor(e){super(2,e)}}hl.className="SeparableConv2D",i.serialization.registerClass(hl);class ml extends ol{constructor(e){super(1,e),ml.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!mi(e.kernelSize,"number",1,1))throw new Ja(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}ml.className="Conv1D",i.serialization.registerClass(ml);class fl extends Pr{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return(0,i.tidy)((()=>{if(e=Nr(e),"channelsLast"===this.dataFormat){const t=qi(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return qi(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=qi(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return qi(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}fl.className="Cropping2D",i.serialization.registerClass(fl);class gl extends Pr{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ai(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,hi(Si,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return i.tidy((()=>{let t=Nr(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=i.transpose(t,[0,2,3,1]);const e=this.size[0]*n[2],a=this.size[1]*n[3],r="nearest"===this.interpolation?i.image.resizeNearestNeighbor(t,[e,a]):i.image.resizeBilinear(t,[e,a]);return i.transpose(r,[0,3,1,2])}{const e=this.size[0]*n[1],a=this.size[1]*n[2];return"nearest"===this.interpolation?i.image.resizeNearestNeighbor(t,[e,a]):i.image.resizeBilinear(t,[e,a])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}gl.className="UpSampling2D",i.serialization.registerClass(gl);class bl extends sl{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=_r(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=ss(e.depthwiseConstraint),this.depthwiseRegularizer=Uo(e.depthwiseRegularizer)}build(e){if((e=Er(e)).length<4)throw new Ja(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Ja(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],a=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return(0,i.tidy)((()=>{let t=function(e,t,n=[1,1],a="valid",r,s){return(0,i.tidy)((()=>{null==r&&(r="channelsLast"),Ai(r);let o=tl(e,r);if(4!==e.rank)throw new Ja(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new Ja(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return o=i.depthwiseConv2d(o,t,n,"same"===a?"same":"valid","NHWC",s),"channelsFirst"===r&&(o=i.transpose(o,[0,3,1,2])),o}))}(e=Nr(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=nr(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=Er(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,i=Qo(t,this.kernelSize[0],this.padding,this.strides[0]),r=Qo(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],a,i,r]:[e[0],i,r,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Tr(this.depthwiseInitializer),e.depthwiseRegularizer=Go(this.depthwiseRegularizer),e.depthwiseConstraint=is(this.depthwiseRegularizer),e}}function yl(e,t,n,a){if(Array.isArray(e)){if(null!=t||null!=n)throw new Ja("When inputs is an array, neither initialState or constants should be provided");null!=a&&(n=e.slice(e.length-a,e.length),e=e.slice(0,e.length-a)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function i(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=i(t),constants:n=i(n)}}function vl(e,t,n,a=!1,r,s,o=!1,l=!1){return i.tidy((()=>{const c=t.shape.length;if(c<3)throw new Ja(`Input should be at least 3D, but is ${c}D.`);const u=[1,0].concat(zi(2,c));if(t=i.transpose(t,u),null!=s)throw new Xa("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=r&&((r=i.cast(i.cast(r,"bool"),"float32")).rank===c-1&&(r=i.expandDims(r,-1)),r=i.transpose(r,u)),a&&(t=i.reverse(t,0),null!=r&&(r=i.reverse(r,0)));const d=[];let p,h=n;const m=t.shape[0],f=i.unstack(t);let g,b;null!=r&&(g=i.unstack(r));for(let t=0;t<m;++t){const n=f[t],a=i.tidy((()=>e(n,h)));if(null==r)p=a[0],h=a[1];else{const e=i.tidy((()=>{const e=g[t],n=i.sub(i.onesLike(e),e);return{output:i.add(i.mul(a[0],e),i.mul(h[0],n)),newStates:h.map(((t,r)=>i.add(i.mul(a[1][r],e),i.mul(t,n))))}}));p=e.output,h=e.newStates}l&&d.push(p)}if(l){const e=1;b=i.stack(d,e)}return[p,b,h]}))}bl.className="DepthwiseConv2D",i.serialization.registerClass(bl);class kl extends Pr{constructor(e){let t;if(super(e),null==e.cell)throw new Ja("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new Al({cells:e.cell}):e.cell,null==t.stateSize)throw new Ja("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new Lr({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return zi(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){Ir(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let a;if(a=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const a of t)n.push([e[0],a]);return[a].concat(n)}return a}computeMask(e,t){return i.tidy((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new Xa("Constants support is not implemented in RNN yet.");Ir(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Lr({shape:[t,null,...n]});const a=[e[0]].concat(e.slice(2));let r;if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!i.util.arraysEqual(this.stateSpec.map((e=>e.shape[e.shape.length-1])),r))throw new Ja(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=r.map((e=>new Lr({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e,t=!1){(0,i.tidy)((()=>{if(!this.stateful)throw new qa("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new Ja("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>i.zeros([n,e]))):this.states_=[i.zeros([n,this.cell.stateSize])];else if(null==e)i.dispose(this.states_),null!=this.keptStates&&(i.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>i.zeros([n,e]))):this.states_[0]=i.zeros([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Ja(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):i.dispose(this.states_);for(let t=0;t<this.states_.length;++t){const a=e[t],r=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,s=[n,r];if(!i.util.arraysEqual(a.shape,s))throw new Ja(`State ${t} is incompatible with layer ${this.name}: expected shape=${s}, received shape=${a.shape}`);this.states_[t]=a}}this.states_=this.states_.map((e=>i.keep(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});const i=yl(e,n,a,this.numConstants);e=i.inputs,n=i.initialState,a=i.constants;let r=[],s=[];if(null!=n){t.initialState=n,r=r.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new Lr({shape:e.shape}));s=s.concat(this.stateSpec)}null!=a&&(t.constants=a,r=r.concat(a),this.numConstants=a.length);if(r[0]instanceof Fr){const n=[e].concat(r),a=this.inputSpec.concat(s),i=this.inputSpec;this.inputSpec=a;const o=super.apply(n,t);return this.inputSpec=i,o}return super.apply(e,t)}call(e,t){return(0,i.tidy)((()=>{const n=null==t?null:t.mask,a=null==t?null:t.training;let i=null==t?null:t.initialState;e=Nr(e),null==i&&(i=this.stateful?this.states_:this.getInitialState(e));const r=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(i.length!==r)throw new Ja(`RNN Layer has ${r} state(s) but was passed ${i.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:a},o=vl(((e,t)=>{const n=this.cell.call([e].concat(t),s);return[n[0],n.slice(1)]}),e,i,this.goBackwards,n,null,this.unroll,this.returnSequences),l=o[0],c=o[1],u=o[2];this.stateful&&this.resetStates(u,a);const d=this.returnSequences?c:l;return this.returnState?[d].concat(u):d}))}getInitialState(e){return(0,i.tidy)((()=>{let t=i.zeros(e.shape);return t=i.sum(t,[1,2]),t=Vi(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?Xi(t,[1,e]):t)):this.cell.stateSize>1?[Xi(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===kl.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign({},n,e,t)}static fromConfig(e,t,n={}){const a=ys(t.cell,n);return new e(Object.assign(t,{cell:a}))}}kl.className="RNN",i.serialization.registerClass(kl);class xl extends Pr{}class wl extends xl{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,fi(this.units,"units"),this.activation=Oo(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=_r(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=_r(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=_r(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Uo(e.kernelRegularizer),this.recurrentRegularizer=Uo(e.recurrentRegularizer),this.biasRegularizer=Uo(e.biasRegularizer),this.kernelConstraint=ss(e.kernelConstraint),this.recurrentConstraint=ss(e.recurrentConstraint),this.biasConstraint=ss(e.biasConstraint),this.dropout=Oi([1,ji([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Oi([1,ji([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=Er(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return(0,i.tidy)((()=>{if(2!==e.length)throw new Ja(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const a=null!=t.training&&t.training;let r;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Nl({ones:()=>i.onesLike(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Nl({ones:()=>i.onesLike(n),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=this.recurrentDropoutMask;r=Zi(null!=s?i.mul(e,s):e,this.kernel.read()),null!=this.bias&&(r=nr(r,this.bias.read())),null!=o&&(n=i.mul(n,o));let l=i.add(r,Zi(n,this.recurrentKernel.read()));return null!=this.activation&&(l=this.activation.apply(l)),[l,l]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Lo(this.activation),useBias:this.useBias,kernelInitializer:Tr(this.kernelInitializer),recurrentInitializer:Tr(this.recurrentInitializer),biasInitializer:Tr(this.biasInitializer),kernelRegularizer:Go(this.kernelRegularizer),recurrentRegularizer:Go(this.recurrentRegularizer),biasRegularizer:Go(this.biasRegularizer),activityRegularizer:Go(this.activityRegularizer),kernelConstraint:is(this.kernelConstraint),recurrentConstraint:is(this.recurrentConstraint),biasConstraint:is(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}wl.className="SimpleRNNCell",i.serialization.registerClass(wl);class Sl extends kl{constructor(e){e.cell=new wl(e),super(e)}call(e,t){return(0,i.tidy)((()=>{null!=this.cell.dropoutMask&&(i.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}static fromConfig(e,t){return new e(t)}}Sl.className="SimpleRNN",i.serialization.registerClass(Sl);class Cl extends xl{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Ja("GRUCell does not support reset_after parameter set to true.");this.units=e.units,fi(this.units,"units"),this.activation=Oo(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Oo(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=_r(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=_r(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=_r(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Uo(e.kernelRegularizer),this.recurrentRegularizer=Uo(e.recurrentRegularizer),this.biasRegularizer=Uo(e.biasRegularizer),this.kernelConstraint=ss(e.kernelConstraint),this.recurrentConstraint=ss(e.recurrentConstraint),this.biasConstraint=ss(e.biasConstraint),this.dropout=Oi([1,ji([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Oi([1,ji([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=Er(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return(0,i.tidy)((()=>{if(2!==e.length)throw new Ja(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Nl({ones:()=>i.onesLike(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Nl({ones:()=>i.onesLike(a),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,s=this.recurrentDropoutMask;let o,l,c;0<this.dropout&&this.dropout<1&&(e=i.mul(e,r[0]));let u=Zi(e,this.kernel.read());this.useBias&&(u=nr(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=i.mul(a,s[0]));const d=this.recurrentKernel.read(),[p,h]=i.split(d,[2*this.units,this.units],d.rank-1),m=Zi(a,p),[f,g,b]=i.split(u,3,u.rank-1),[y,v]=i.split(m,2,m.rank-1);o=this.recurrentActivation.apply(i.add(f,y)),l=this.recurrentActivation.apply(i.add(g,v));const k=Zi(i.mul(l,a),h);c=this.activation.apply(i.add(b,k));const x=i.add(i.mul(o,a),i.mul(i.add(1,i.neg(o)),c));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Lo(this.activation),recurrentActivation:Lo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Tr(this.kernelInitializer),recurrentInitializer:Tr(this.recurrentInitializer),biasInitializer:Tr(this.biasInitializer),kernelRegularizer:Go(this.kernelRegularizer),recurrentRegularizer:Go(this.recurrentRegularizer),biasRegularizer:Go(this.biasRegularizer),activityRegularizer:Go(this.activityRegularizer),kernelConstraint:is(this.kernelConstraint),recurrentConstraint:is(this.recurrentConstraint),biasConstraint:is(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}Cl.className="GRUCell",i.serialization.registerClass(Cl);class Tl extends kl{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Cl(e),super(e)}call(e,t){return(0,i.tidy)((()=>{null!=this.cell.dropoutMask&&(i.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Tl.className="GRU",i.serialization.registerClass(Tl);class _l extends xl{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,fi(this.units,"units"),this.activation=Oo(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Oo(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=_r(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=_r(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=_r(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Uo(e.kernelRegularizer),this.recurrentRegularizer=Uo(e.recurrentRegularizer),this.biasRegularizer=Uo(e.biasRegularizer),this.kernelConstraint=ss(e.kernelConstraint),this.recurrentConstraint=ss(e.recurrentConstraint),this.biasConstraint=ss(e.biasConstraint),this.dropout=Oi([1,ji([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=Oi([1,ji([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=Er(e))[e.length-1];let a;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;a=new((t=class extends or{apply(t,a){const i=e.apply([n]),r=(new cr).apply([n]),s=e.apply([2*n]);return Ji(Ji(i,r),s)}}).className="CustomInit",t)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return(0,i.tidy)((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new Ja(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let a=e[1];const r=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Nl({ones:()=>i.onesLike(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Nl({ones:()=>i.onesLike(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,o=this.recurrentDropoutMask;let l,c,u,d;0<this.dropout&&this.dropout<1&&(e=i.mul(e,s[0]));let p=Zi(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=i.mul(a,o[0])),p=i.add(p,Zi(a,this.recurrentKernel.read())),this.useBias&&(p=nr(p,this.bias.read()));const[h,m,f,g]=i.split(p,4,p.rank-1);l=this.recurrentActivation.apply(h),c=this.recurrentActivation.apply(m),u=i.add(i.mul(c,r),i.mul(l,this.activation.apply(f))),d=this.recurrentActivation.apply(g);const b=i.mul(d,this.activation.apply(u));return[b,b,u]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Lo(this.activation),recurrentActivation:Lo(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Tr(this.kernelInitializer),recurrentInitializer:Tr(this.recurrentInitializer),biasInitializer:Tr(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Go(this.kernelRegularizer),recurrentRegularizer:Go(this.recurrentRegularizer),biasRegularizer:Go(this.biasRegularizer),activityRegularizer:Go(this.activityRegularizer),kernelConstraint:is(this.kernelConstraint),recurrentConstraint:is(this.recurrentConstraint),biasConstraint:is(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}_l.className="LSTMCell",i.serialization.registerClass(_l);class Il extends kl{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new _l(e),super(e)}call(e,t){return(0,i.tidy)((()=>{null!=this.cell.dropoutMask&&(i.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Il.className="LSTM",i.serialization.registerClass(Il);class Al extends xl{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return(0,i.tidy)((()=>{let n=e.slice(1);const a=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?a.push(n.splice(0,e.stateSize.length)):a.push(n.splice(0,1));a.reverse();const i=[];let r;for(let s=0;s<this.cells.length;++s){const o=this.cells[s];n=a[s],r=0===s?[e[0]].concat(n):[r[0]].concat(n),r=o.call(r,t),i.push(r.slice(1))}n=[];for(const e of i.slice().reverse())n.push(...e);return[r[0]].concat(n)}))}build(e){let t;Ir(e)&&(e=e[0]),this.cells.forEach(((n,a)=>{Mi(`RNNCell_${a}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign({},e,t)}static fromConfig(e,t,n={}){const a=[];for(const e of t.cells)a.push(ys(e,n));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return $r(e)}setWeights(e){const t=[];for(const n of this.cells){const a=n.weights.length,i=e.splice(a);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],i[e]])}Br(t)}}function Nl(e){const{ones:t,rate:n,training:a=!1,count:r=1,dropoutFunc:s}=e,o=()=>null!=s?s(t(),n):ar(t(),n),l=()=>ir(o,t,a);if(!r||r<=1)return i.keep(l().clone());return Array(r).fill(void 0).map(l).map((e=>i.keep(e.clone())))}Al.className="StackedRNNCells",i.serialization.registerClass(Al);var El=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(a=Object.getOwnPropertySymbols(e);i<a.length;i++)t.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]])}return n};class Rl extends kl{constructor(e){if(e.unroll)throw new Xa("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Xa("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new Lr({ndim:5})]}call(e,t){return i.tidy((()=>{if(null!=this.cell.dropoutMask&&(i.dispose(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(i.dispose(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new Ja("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return i.tidy((()=>{const{stateSize:t}=this.cell,n=e.shape,a=this.computeSingleOutputShape(n),r=[a[0],...a.slice(2)],s=i.zeros(r);return Array.isArray(t)?Array(t.length).fill(s):[s]}))}resetStates(e,t=!1){i.tidy((()=>{if(!this.stateful)throw new qa("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,a=this.computeSingleOutputShape(n),r=[a[0],...a.slice(2)];if(null==n[0])throw new Ja("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>i.zeros(r))):this.states_=[i.zeros(r)];else if(null==e)i.dispose(this.states_),null!=this.keptStates&&(i.dispose(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>i.zeros(r))):this.states_[0]=i.zeros(r);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new Ja(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):i.dispose(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],a=r;if(!i.util.arraysEqual(n.shape,a))throw new Ja(`State ${t} is incompatible with layer ${this.name}: expected shape=${a}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>i.keep(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:a,padding:i,strides:r,dilationRate:s}=this.cell,o="channelsFirst"===t,l=e[o?3:2],c=e[o?4:3],u=Qo(l,a[0],i,r[0],s[0]),d=Qo(c,a[1],i,r[1],s[1]);return[...e.slice(0,2),...o?[n,u,d]:[u,d,n]]}}Rl.className="ConvRNN2D";class Ml extends _l{constructor(e){const{filters:t,kernelSize:n,strides:a,padding:i,dataFormat:r,dilationRate:s}=e;super(Object.assign({},e,{units:t})),this.filters=t,fi(this.filters,"filters"),this.kernelSize=Zo(n,2,"kernelSize"),this.kernelSize.forEach((e=>fi(e,"kernelSize"))),this.strides=Zo(a||1,2,"strides"),this.strides.forEach((e=>fi(e,"strides"))),this.padding=i||"valid",Ni(this.padding),this.dataFormat=r||"channelsLast",Ai(this.dataFormat),this.dilationRate=Zo(s||1,2,"dilationRate"),this.dilationRate.forEach((e=>fi(e,"dilationRate")))}build(e){var t;e=Er(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Ja(`The channel dimension of the input should be defined. Found ${e[n]}`);const a=e[n],r=this.kernelSize.concat([a,4*this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const s=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",s,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,a=this.filters;e=new((t=class extends or{apply(e,t){return Ki([n.apply([a]),i.ones([a]),n.apply([2*a])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return i.tidy((()=>{if(3!==e.length)throw new Ja(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,a=e[0],r=e[1],s=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Nl({ones:()=>i.onesLike(a),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,l=(e,t,n)=>t&&t[n]?i.mul(t[n],e):e;let c=l(a,o,0),u=l(a,o,1),d=l(a,o,2),p=l(a,o,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Nl({ones:()=>i.onesLike(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const h=this.recurrentDropoutMask;let m=l(r,h,0),f=l(r,h,1),g=l(r,h,2),b=l(r,h,3);const[y,v,k,x]=i.split(this.kernel.read(),4,3),[w,S,C,T]=this.useBias?i.split(this.bias.read(),4):[null,null,null,null];c=this.inputConv(c,y,w,this.padding),u=this.inputConv(u,v,S,this.padding),d=this.inputConv(d,k,C,this.padding),p=this.inputConv(p,x,T,this.padding);const[_,I,A,N]=i.split(this.recurrentKernel.read(),4,3);m=this.recurrentConv(m,_),f=this.recurrentConv(f,I),g=this.recurrentConv(g,A),b=this.recurrentConv(b,N);const E=this.recurrentActivation.apply(i.add(c,m)),R=this.recurrentActivation.apply(i.add(u,f)),M=i.add(i.mul(R,s),i.mul(E,this.activation.apply(i.add(d,g)))),D=i.mul(this.recurrentActivation.apply(i.add(p,b)),this.activation.apply(M));return[D,D,M]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=El(e,["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},n,a)}inputConv(e,t,n,a){const r=i.conv2d(e,t,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?nr(r,n,this.dataFormat):r}recurrentConv(e,t){return i.conv2d(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}Ml.className="ConvLSTM2DCell",i.serialization.registerClass(Ml);class Dl extends Rl{constructor(e){const t=new Ml(e);super(Object.assign({},e,{cell:t}))}static fromConfig(e,t){return new e(t)}}Dl.className="ConvLSTM2D",i.serialization.registerClass(Dl);class $l extends Pr{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let e=0;e<this.noiseShape.length;++e)n.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return n}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,a=this.getNoiseShape(n);return ir((()=>ar(n,this.rate,a,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}$l.className="Dropout",i.serialization.registerClass($l);class Bl extends $l{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}Bl.className="SpatialDropout1D",i.serialization.registerClass(Bl);class Ll extends Pr{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,fi(this.units,"units"),this.activation=Oo(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=_r(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=_r(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=ss(e.kernelConstraint),this.biasConstraint=ss(e.biasConstraint),this.kernelRegularizer=Uo(e.kernelRegularizer),this.biasRegularizer=Uo(e.biasRegularizer),this.activityRegularizer=Uo(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=Er(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=Er(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e),a=bi(this.activation.getClassName());let i;return null!=a?i=Zi(n,this.kernel.read(),a,this.bias?this.bias.read():null):(i=Zi(n,this.kernel.read()),null!=this.bias&&(i=nr(i,this.bias.read())),null!=this.activation&&(i=this.activation.apply(i))),i}))}getConfig(){const e={units:this.units,activation:Lo(this.activation),useBias:this.useBias,kernelInitializer:Tr(this.kernelInitializer),biasInitializer:Tr(this.biasInitializer),kernelRegularizer:Go(this.kernelRegularizer),biasRegularizer:Go(this.biasRegularizer),activityRegularizer:Go(this.activityRegularizer),kernelConstraint:is(this.kernelConstraint),biasConstraint:is(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}Ll.className="Dense",i.serialization.registerClass(Ll);class Fl extends Pr{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=Er(e);for(const t of e.slice(1))if(null==t)throw new Ja(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Fi(e,1)]}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);let n=Nr(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=(0,i.transpose)(n,e)}return function(e){if(e.rank<=1)throw new Ja(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],Fi(e.shape,1)];return i.reshape(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}Fl.className="Flatten",i.serialization.registerClass(Fl);class Ol extends Pr{constructor(e){super(e),this.supportsMasking=!0,this.activation=Oo(e.activation)}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e);return this.activation.apply(n)}))}getConfig(){const e={activation:Lo(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}Ol.className="Activation",i.serialization.registerClass(Ol);class jl extends Pr{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return(0,i.tidy)((()=>{return e=Nr(e),t=e,n=this.n,(0,i.tidy)((()=>{if(2!==t.shape.length)throw new Ja(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return Xi(Vi(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}jl.className="RepeatVector",i.serialization.registerClass(jl);class zl extends Pr{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",a=t.slice();let i=1,r=null;for(let e=0;e<a.length;++e){const t=a[e];if(this.isUnknown(t)){if(null!==r)throw new Ja("Can only specifiy one unknown dimension.");r=e}else i*=t}const s=Fi(e);if(null!==r){if(0===i||s%i!=0)throw new Ja(n);a[r]=s/i}else if(s!==i)throw new Ja(n);return a}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e),a=n.shape,r=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return(0,i.reshape)(n,r)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}zl.className="Reshape",i.serialization.registerClass(zl);class Pl extends Pr{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=zi(1,e.dims.length+1);if(!i.util.arraysEqual(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new Lr({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=Er(e)).slice();return this.dims.forEach(((n,a)=>{t[a+1]=e[n]})),t}call(e,t){return(0,i.transpose)(Nr(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}Pl.className="Permute",i.serialization.registerClass(Pl);class Wl extends Pr{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=Nr(e);return(0,i.any)((0,i.notEqual)(n,this.maskValue),-1)}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e),a=(0,i.any)((0,i.notEqual)(n,this.maskValue),-1,!0);return(0,i.mul)(n,(0,i.cast)(a,n.dtype))}))}}Wl.className="Masking",i.serialization.registerClass(Wl);class Gl extends Pr{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(ai(e.inputLength))}this.inputDim=e.inputDim,fi(this.inputDim,"inputDim"),this.outputDim=e.outputDim,fi(this.outputDim,"outputDim"),this.embeddingsInitializer=_r(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Uo(e.embeddingsRegularizer),this.activityRegularizer=Uo(e.activityRegularizer),this.embeddingsConstraint=ss(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return(0,i.tidy)((()=>this.maskZero?(e=Nr(e),(0,i.notEqual)(e,(0,i.zerosLike)(e))):null))}computeOutputShape(e){if(e=Er(e),null==this.inputLength)return[...e,this.outputDim];const t=ai(this.inputLength);if(t.length!==e.length-1)throw new Ja(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let a=0;a<t.length;++a){const i=t[a],r=e[a+1];if(null!=i&&null!=r&&i!==r)throw new Ja(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==i&&(t[n]=r),n++}}return[e[0],...t,this.outputDim]}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);let n=Nr(e);"int32"!==n.dtype&&(n=Gi(n,"int32"));const a=Qi(this.embeddings.read(),(0,i.reshape)(n,[n.size]));return(0,i.reshape)(a,Er(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Tr(this.embeddingsInitializer),embeddingsRegularizer:Go(this.embeddingsRegularizer),activityRegularizer:Go(this.activityRegularizer),embeddingsConstraint:is(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}Gl.className="Embedding",i.serialization.registerClass(Gl);class Vl extends Pr{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new Xa}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let a=0;a<t.length;++a){const i=e[e.length-t.length+a],r=t[a];if(null==i||null==r||i<0||r<0)n.push(null);else if(1===i)n.push(r);else if(1===r)n.push(i);else{if(i!==r)throw new Ja("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(i)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[Er(e)]),e.length<2)throw new Ja(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const n of e)null!=n&&null!==n[0]&&t.push(n[0]);if(t=di(t),t.length>1)throw new Ja(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){const a=null==e[t]?null:e[t].slice(1);n=this.computeElementwiseOpOutputShape(n,a)}const a=e.map((e=>e.length));-1===e.indexOf(null)&&1===di(a).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return(0,i.tidy)((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const a=ji(n);for(let n of e){const e=n.rank;for(let t=0;t<a-e;++t)n=Vi(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const a of e){const e=a.rank;if(null==e){const e=a.shape,r=e[0],s=e.slice(1).concat([r]);let o=i.reshape(a,[r].concat(Fi(e.slice(1))));o=i.transpose(o,[1,0]),o=i.reshape(o,s),t.push(o),n=!0}else if(e>1){const r=zi(1,e).concat([0]);t.push(i.transpose(a,r)),n=!0}else t.push(a)}let a=this.mergeFunction(t);const r=a.rank;if(n)if(null==r){const e=a.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));a=i.reshape(i.transpose(i.reshape(a,[-1,t]),[1,0]),n)}else if(r>1){const e=[r-1].concat(zi(0,r-1));a=i.transpose(a,e)}return a}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let n=1;n<e.length;++n){const a=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,a)}let n=[];for(const t of e)null!=t&&null!==t[0]&&n.push(t[0]);return n=di(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return i.tidy((()=>{if(null==t)return null;if(!Array.isArray(t))throw new Ja("`mask` should be an Array");if(!Array.isArray(e))throw new Ja("`inputs` should be an Array");if(t.length!==e.length)throw new Ja(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:i.expandDims(e,0))))[0];for(let e=1;e<t.length-1;++e)n=i.logicalAnd(n,t[e]);return n}))}}class Ul extends Vl{constructor(e){super(e)}mergeFunction(e){return(0,i.tidy)((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=i.add(t,e[n]);return t}))}}Ul.className="Add",i.serialization.registerClass(Ul);class Hl extends Vl{constructor(e){super(e)}mergeFunction(e){return(0,i.tidy)((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=i.mul(t,e[n]);return t}))}}Hl.className="Multiply",i.serialization.registerClass(Hl);class ql extends Vl{constructor(e){super(e)}mergeFunction(e){return(0,i.tidy)((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=i.add(t,e[n]);return i.mul(1/e.length,t)}))}}ql.className="Average",i.serialization.registerClass(ql);class Kl extends Vl{constructor(e){super(e)}mergeFunction(e){return(0,i.tidy)((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=i.maximum(t,e[n]);return t}))}}Kl.className="Maximum",i.serialization.registerClass(Kl);class Jl extends Vl{constructor(e){super(e)}mergeFunction(e){return(0,i.tidy)((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=i.minimum(t,e[n]);return t}))}}Jl.className="Minimum",i.serialization.registerClass(Jl);class Xl extends Vl{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Ja("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const n of e)if(null!=n){t=!1;break}if(t)return;const n=[];for(let t=0;t<e.length;++t){const a=e[t].slice();a.splice(this.axis,1);let r=!1;for(const e of n)if(i.util.arraysEqual(e,a)){r=!0;break}r||n.push(a)}if(n.length>1)throw new Ja("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return(0,i.tidy)((()=>Ki(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Ja("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),a=this.axis<0?n.length+this.axis:this.axis;for(const e of t.slice(1)){if(null==n[a]||null==e[a]){n[a]=null;break}n[a]+=e[a]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new Ja("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Ja("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Ja(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return i.tidy((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const a=[];for(let n=0;n<e.length;++n)null==t[n]?a.push(i.cast(i.onesLike(e[n]),"bool")):t[n].rank<e[n].rank?a.push(i.expandDims(t[n],-1)):a.push(t[n]);const r=i.concat(a,this.axis);return i.all(r,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function Yl(e,t){for(;e<0;)e+=t;return e}Xl.className="Concatenate",i.serialization.registerClass(Xl);class Zl extends Vl{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){i.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Xa("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(t,n);if(t[a[0]]!==n[a[1]])throw new Ja(`Dimension incompatibility: ${t[a[0]]} !== ${n[a[1]]}`)}mergeFunction(e){if(2!==e.length)throw new Ja(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],a=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>Yl(t,e[n].shape.length))):[Yl(this.axes,n.shape.length),Yl(this.axes,a.shape.length)],this.normalize&&(n=vs(n,t[0]),a=vs(a,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Xa("batchDot is not implemented for tensors of 4D or higher rank yet");if(i.util.assert(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),i.util.assert(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Xa("batchDot is not implemented for complex64-type Tensors yet.");const a=e.shape.length,r=t.shape.length;null==n&&(n=[a-1,r-2]);const s=n;return i.tidy((()=>{let n,o;if(a>r){n=a-r;const e=[];for(let t=0;t<n;++t)e.push(1);t=i.reshape(t,t.shape.concat(e))}else if(r>a){n=r-a;const t=[];for(let e=0;e<n;++e)t.push(1);e=i.reshape(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=s[0]===s[1]?i.sum(i.mul(e,t),s[0]):i.sum(i.mul(i.transpose(e,[1,0]),t),s[1]);else{const n=s[0]!==e.shape.length-1,a=s[1]===t.shape.length-1;o=i.matMul(e,t,n,a)}if(n>0){let e;e=a>r?a+r-3:a-1;const t=[];for(let a=e;a<e+n;++a)t.push(a);o=i.squeeze(o,t)}return 1===o.shape.length&&(o=i.expandDims(o,1)),o}))}(n,a,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[Yl(this.axes,e.length),Yl(this.axes,t.length)],n}computeOutputShape(e){i.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Xa("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(t,n);t.splice(a[0],1),n.splice(a[1],1),n.splice(0,1);const r=t.concat(n);return 1===r.length&&r.push(1),r}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}Zl.className="Dot",i.serialization.registerClass(Zl);class Ql extends Pr{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e);return ir((()=>(0,i.add)(Yi(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}Ql.className="GaussianNoise",i.serialization.registerClass(Ql);class ec extends Pr{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t);const n=Nr(e);if(this.rate>0&&this.rate<1){return ir((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return(0,i.mul)(n,Yi(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}ec.className="GaussianDropout",i.serialization.registerClass(ec);class tc extends Pr{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||Nr(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return(0,i.tidy)((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),a=()=>{const t=Nr(e),a=-1.7580993408473766;let r=(0,i.greaterEqual)((0,i.randomUniform)(n),this.rate);r=Gi(r,"float32");const s=((1-this.rate)*(1+this.rate*a**2))**-.5,o=-s*a*this.rate,l=(0,i.add)((0,i.mul)(t,r),(0,i.mul)((0,i.add)(r,-1),a));return(0,i.add)((0,i.mul)(l,s),o)};return ir(a,(()=>Nr(e)),t.training||!1)}return e}))}}function nc(e,t,n,a,r,s=.001){let o;if(2===e.rank)o=i.batchNorm2d(e,t,n,a,r,s);else if(3===e.rank)o=i.batchNorm3d(e,t,n,a,r,s);else{if(4!==e.rank)throw new Xa(`batchNormalization is not implemented for array of rank ${e.rank} yet`);o=i.batchNorm4d(e,t,n,a,r,s)}return o}function ac(e,t,n,a,r=.001){return i.util.arraysEqual(a.slice().sort(),zi(0,e.rank-1))?function(e,t,n,a,r=.001){return(0,i.tidy)((()=>{const s=i.moments(e,a),o=s.mean,l=s.variance;return[nc(e,o,l,n,t,r),o,l]}))}(e,t,n,a,r):function(e,t,n,a,r=.001){return(0,i.tidy)((()=>{const s=i.moments(e,a),o=s.mean,l=s.variance,c=[];for(const t of zi(0,e.rank))-1!==a.indexOf(t)?c.push(1):c.push(e.shape[t]);const u=(0,i.reshape)(o,c),d=(0,i.reshape)(l,c),p=null==t?null:(0,i.reshape)(t,c),h=null==n?null:(0,i.reshape)(n,c);return[nc(e,u,d,h,p,r),o,l]}))}(e,t,n,a,r)}tc.className="AlphaDropout",i.serialization.registerClass(tc);class ic extends Pr{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=_r(e.betaInitializer||"zeros"),this.gammaInitializer=_r(e.gammaInitializer||"ones"),this.movingMeanInitializer=_r(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=_r(e.movingVarianceInitializer||"ones"),this.betaConstraint=ss(e.betaConstraint),this.gammaConstraint=ss(e.gammaConstraint),this.betaRegularizer=Uo(e.betaRegularizer),this.gammaRegularizer=Uo(e.gammaRegularizer)}build(e){e=Er(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Ja(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Lr({ndim:e.length,axes:{[t]:n}})];const a=[n];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return(0,i.tidy)((()=>{const n=null!=t.training&&t.training,a=Nr(e),r=a.shape,s=r.length,o=zi(0,s),l=this.axis>=0?this.axis:this.axis+s;o.splice(l,1);const c=Qa(1,s);c[l]=r[l];const u=o.slice();u.sort();const d=!i.util.arraysEqual(u,zi(0,s).slice(0,s-1));if(!n)return(()=>{if(d){const e=(0,i.reshape)(this.movingMean.read(),c),t=(0,i.reshape)(this.movingVariance.read(),c),n=this.center?(0,i.reshape)(this.beta.read(),c):null,r=this.scale?(0,i.reshape)(this.gamma.read(),c):null;return nc(a,e,t,n,r,this.epsilon)}return nc(a,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[p,h,m]=ac(a,this.gamma.read(),this.beta.read(),o,this.epsilon),f=(e,t,n)=>{i.tidy((()=>{const a=1-n,r=e.read(),s=i.mul(i.sub(r,t),a);e.write(i.sub(r,s))}))};return(()=>{f(this.movingMean,h,this.momentum),f(this.movingVariance,m,this.momentum)})(),p}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Tr(this.betaInitializer),gammaInitializer:Tr(this.gammaInitializer),movingMeanInitializer:Tr(this.movingMeanInitializer),movingVarianceInitializer:Tr(this.movingVarianceInitializer),betaRegularizer:Go(this.betaRegularizer),gammaRegularizer:Go(this.gammaRegularizer),betaConstraint:is(this.betaConstraint),gammaConstraint:is(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}ic.className="BatchNormalization",i.serialization.registerClass(ic);class rc extends Pr{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=_r(e.betaInitializer||"zeros"),this.gammaInitializer=_r(e.gammaInitializer||"ones"),this.betaRegularizer=Uo(e.betaRegularizer),this.gammaRegularizer=Uo(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=Er(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(const e of this.axis)if(e<0||e>=t)throw new Error(`Invalid axis: ${e}`);if(this.axis.length!==di(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t]));this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}call(e,t){const n=Nr(e),a=n.shape,r=a.length;return(0,i.tidy)((()=>{let{mean:e,variance:t}=(0,i.moments)(n,this.axis,!0);const s=Qa(1,r);for(const e of this.axis)s[e]=a[e];const o=e=>null!=e&&e.shape.length!==r?i.reshape(e,s):e;let l=this.scale?o(this.gamma.read()):null,c=this.center?o(this.beta.read()):null;const u=[],d=[];for(let e=0;e<r;++e)-1!==this.axis.indexOf(e)?(u.push(a[e]),d.push(1)):(u.push(1),d.push(a[e]));return e=i.tile(e,u),t=i.tile(t,u),null!=l&&(l=i.tile(l,d)),null!=c&&(c=i.tile(c,d)),nc(n,e,t,c,l,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Tr(this.betaInitializer),gammaInitializer:Tr(this.gammaInitializer),betaRegularizer:Go(this.betaRegularizer),gammaRegularizer:Go(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}rc.className="LayerNormalization",i.serialization.registerClass(rc);class sc extends Pr{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Ja(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Ja(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new Ja(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new Lr({ndim:4})]}computeOutputShape(e){let t,n;return e=Er(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return(0,i.tidy)((()=>{return t=Nr(e),n=this.padding,a=this.dataFormat,(0,i.tidy)((()=>{if(4!==t.rank)throw new Ja(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new Ja("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new Ja(`Unknown data format: ${a}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let e;return e="channelsFirst"===a?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],i.pad(t,e)}));var t,n,a}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function oc(e,t,n,a,r,s){return(0,i.tidy)((()=>{let o;Ai(r),Ei(s),Ni(a),null==n&&(n=[1,1]),null==a&&(a="valid"),null==r&&(r="channelsLast"),null==s&&(s="max"),e=tl(e,r);const l="same"===a?"same":"valid";return o="max"===s?i.maxPool(e,t,n,l):i.avgPool(e,t,n,l),"channelsFirst"===r&&(o=i.transpose(o,[0,3,1,2])),o}))}function lc(e,t,n,a,r,s){return(0,i.tidy)((()=>{let o;Ai(r),Ei(s),Ni(a),null==n&&(n=[1,1,1]),null==a&&(a="valid"),null==r&&(r="channelsLast"),null==s&&(s="max"),e=nl(e,r);const l="same"===a?"same":"valid";return o="max"===s?i.maxPool3d(e,t,n,l):i.avgPool3d(e,t,n,l),"channelsFirst"===r&&(o=i.transpose(o,[0,4,1,2,3])),o}))}sc.className="ZeroPadding2D",i.serialization.registerClass(sc);class cc extends Pr{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new Ja(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(fi(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new Ja(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}fi(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,Ni(this.padding),this.inputSpec=[new Lr({ndim:3})]}computeOutputShape(e){const t=Qo((e=Er(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return(0,i.tidy)((()=>{this.invokeCallHook(e,t),e=Vi(Nr(e),2);const n=this.poolingFunction(Nr(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return i.squeeze(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class uc extends cc{constructor(e){super(e)}poolingFunction(e,t,n,a,i){return Ai(i),Ni(a),oc(e,t,n,a,i,"max")}}uc.className="MaxPooling1D",i.serialization.registerClass(uc);class dc extends cc{constructor(e){super(e)}poolingFunction(e,t,n,a,i){return Ai(i),Ni(a),oc(e,t,n,a,i,"avg")}}dc.className="AveragePooling1D",i.serialization.registerClass(dc);class pc extends Pr{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Ja(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];fi(this.poolSize,"poolSize"),fi(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ai(this.dataFormat),Ni(this.padding),this.inputSpec=[new Lr({ndim:4})]}computeOutputShape(e){e=Er(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=Qo(t,this.poolSize[0],this.padding,this.strides[0]),n=Qo(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return(0,i.tidy)((()=>(this.invokeCallHook(e,t),this.poolingFunction(Nr(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class hc extends pc{constructor(e){super(e)}poolingFunction(e,t,n,a,i){return Ai(i),Ni(a),oc(e,t,n,a,i,"max")}}hc.className="MaxPooling2D",i.serialization.registerClass(hc);class mc extends pc{constructor(e){super(e)}poolingFunction(e,t,n,a,i){return Ai(i),Ni(a),oc(e,t,n,a,i,"avg")}}mc.className="AveragePooling2D",i.serialization.registerClass(mc);class fc extends Pr{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Ja(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];fi(this.poolSize,"poolSize"),fi(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ai(this.dataFormat),Ni(this.padding),this.inputSpec=[new Lr({ndim:5})]}computeOutputShape(e){e=Er(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[4]:e[3];return t=Qo(t,this.poolSize[0],this.padding,this.strides[0]),n=Qo(n,this.poolSize[1],this.padding,this.strides[1]),a=Qo(a,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,a]:[e[0],t,n,a,e[4]]}call(e,t){return(0,i.tidy)((()=>(this.invokeCallHook(e,t),this.poolingFunction(Nr(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class gc extends fc{constructor(e){super(e)}poolingFunction(e,t,n,a,i){return Ai(i),Ni(a),lc(e,t,n,a,i,"max")}}gc.className="MaxPooling3D",i.serialization.registerClass(gc);class bc extends fc{constructor(e){super(e)}poolingFunction(e,t,n,a,i){return Ai(i),Ni(a),lc(e,t,n,a,i,"avg")}}bc.className="AveragePooling3D",i.serialization.registerClass(bc);class yc extends Pr{constructor(e){super(e),this.inputSpec=[new Lr({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new Xa}}class vc extends yc{constructor(e){super(e||{})}call(e,t){return(0,i.tidy)((()=>{const t=Nr(e);return i.mean(t,1)}))}}vc.className="GlobalAveragePooling1D",i.serialization.registerClass(vc);class kc extends yc{constructor(e){super(e||{})}call(e,t){return(0,i.tidy)((()=>{const t=Nr(e);return i.max(t,1)}))}}kc.className="GlobalMaxPooling1D",i.serialization.registerClass(kc);class xc extends Pr{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ai(this.dataFormat),this.inputSpec=[new Lr({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new Xa}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class wc extends xc{call(e,t){return(0,i.tidy)((()=>{const t=Nr(e);return"channelsLast"===this.dataFormat?i.mean(t,[1,2]):i.mean(t,[2,3])}))}}wc.className="GlobalAveragePooling2D",i.serialization.registerClass(wc);class Sc extends xc{call(e,t){return(0,i.tidy)((()=>{const t=Nr(e);return"channelsLast"===this.dataFormat?i.max(t,[1,2]):i.max(t,[2,3])}))}}Sc.className="GlobalMaxPooling2D",i.serialization.registerClass(Sc);class Cc extends Pr{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const a=ys(t.layer,n);delete t.layer;const i={layer:a};return Object.assign(i,t),new e(i)}}class Tc extends Cc{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=Er(e)).length<3)throw new Ja(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=Er(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),a=e[1];return[n[0],a].concat(n.slice(1))}call(e,t){return(0,i.tidy)((()=>vl(((e,n)=>[Nr(this.layer.call(e,t)),[]]),e=Nr(e),[],!1,null,null,!1,!0)[1]))}}Tc.className="TimeDistributed",i.serialization.registerClass(Tc);class _c extends Cc{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=ys(n),t.goBackwards=!0!==t.goBackwards;const a={};var i;if(a.className=e.layer.getClassName(),a.config=t,this.backwardLayer=ys(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,i=this.mergeMode,hi(_i,"BidirectionalMergeMode",i),e.weights)throw new Xa("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,a,i=this.forwardLayer.computeOutputShape(e);return Array.isArray(i)&&Array.isArray(i[0])||(i=[i]),this.returnState?(a=i.slice(1),t=i[0]):t=i[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(a).concat(a.slice()):[t].concat(a).concat(a.slice()):ni(n)}apply(e,t){let n=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});const i=yl(e,n,a,this.numConstants);if(e=i.inputs,n=i.initialState,a=i.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==a)return super.apply(e,t);const r=[],s=[];if(null!=n){const e=n.length;if(e%2>0)throw new Ja("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,r.push(...n);const a=n.map((e=>new Lr({shape:e.shape})));this.forwardLayer.stateSpec=a.slice(0,e/2),this.backwardLayer.stateSpec=a.slice(e/2),s.push(...a)}if(null!=a)throw new Xa("Support for constants in Bidirectional layers is not implemented yet.");const o=r[0]instanceof Fr;for(const e of r)if(e instanceof Fr!==o)throw new Ja("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(o){const n=[e].concat(r),a=this.inputSpec.concat(s),i=this.inputSpec;this.inputSpec=a;const o=super.apply(n,t);return this.inputSpec=i,o}return super.apply(e,t)}call(e,t){return(0,i.tidy)((()=>{const n=t.initialState;let a,r,s,o;if(null==n)a=this.forwardLayer.call(e,t),r=this.backwardLayer.call(e,t);else{const i=n.slice(0,n.length/2),s=n.slice(n.length/2);a=this.forwardLayer.call(e,Object.assign(t,{initialState:i})),r=this.backwardLayer.call(e,Object.assign(t,{initialState:s}))}return this.returnState&&(Array.isArray(a)&&(s=a.slice(1).concat(r.slice(1))),a=a[0],r=r[0]),this.returnSequences&&(r=i.reverse(r,1)),"concat"===this.mergeMode?o=Ki([a,r]):"sum"===this.mergeMode?o=i.add(a,r):"ave"===this.mergeMode?o=i.mul(.5,i.add(a,r)):"mul"===this.mergeMode?o=i.mul(a,r):null==this.mergeMode&&(o=[a,r]),this.returnState?null==this.mergeMode?o.concat(s):[o].concat(s):o}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){Mi(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),Mi(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=ys(t.layer);if(delete t.layer,null!=t.numConstants)throw new Xa("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=t;return a.layer=n,new e(a)}}_c.className="Bidirectional",i.serialization.registerClass(_c);var Ic,Ac=n(70307),Nc=n(36377);function Ec(e,t,n=new Map,a=new Set){if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(a.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(i.recurse){if($c(e)){const i=Array.isArray(e)?[]:{};a.add(e);for(const r in e){const s=Ec(e[r],t,n,a);i[r]=s}return a.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,i.value),i.value}function Rc(e,t=Dc){return Mc(e,t)}function Mc(e,t,n=new Set){const a=e[0];if(n.has(a))throw new Error("Circular references are not supported.");const i=t(e);if(i.recurse&&null!==i.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(i.recurse){if($c(a)){const i=Array.isArray(a)?[]:{};n.add(a);for(const r in a){const a=Mc(e.map((e=>e[r])),t,n);i[r]=a}return n.delete(a),i}throw new Error(`Can't recurse into non-iterable type: ${a}`)}return i.value}function Dc(e){return null===e?null:$c(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function $c(e){let t=!1;if(i.env().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:a}=n(34977);t=e instanceof a}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof i.Tensor)&&!(e instanceof Promise)&&!t)}function Bc(e){return function(e,t){return Ec(e,t)}(e,Lc)}function Lc(e){return e instanceof i.Tensor?{value:e.clone(),recurse:!1}:$c(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class Fc{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class Oc extends Fc{constructor(){super(Oc.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let e=0;e<n;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function jc(e){return new Gc(e)}function zc(e,t){return new eu(e,t)}Oc.INITIAL_CAPACITY=32;class Pc{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new Xc(this,e)}filter(e){return new Kc(this,e)}map(e){return new Jc(this,e)}mapAsync(e){return new Yc(this,e)}serialMapAsync(e){return new Yc(this,e).serial()}flatmap(e){return new Qc(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e,t=!0){return new qc(this,e,t)}columnMajorBatch(e,t=!0,n=Dc){return this.rowMajorBatch(e,t).map((e=>Rc(e,n)))}concatenate(e,t){return new eu(new Wc([this,e]),t)}take(e){return e<0||null==e?this:new Hc(this,e)}skip(e){return e<0||null==e?this:new Uc(this,e)}prefetch(e){return new tu(this,e)}shuffle(e,t){return new nu(this,e,t)}serial(){return new Vc(this)}}class Wc extends Pc{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:Bc(e),done:!1}}}class Gc extends Pc{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class Vc extends Pc{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class Uc extends Pc{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;i.dispose(e.value)}return this.upstream.next()}}class Hc extends Pc{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class qc extends Pc{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class Kc extends Pc{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;i.dispose(e.value)}}}class Jc extends Pc{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=i.tensor_util.getTensorsInContainer(e.value),n=this.transform(e.value),a=i.tensor_util.getTensorsInContainer(n);for(const e of t)i.tensor_util.isTensorInList(e,a)||e.dispose();return{value:n,done:!1}}}class Xc extends Pc{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class Yc extends Pc{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=i.tensor_util.getTensorsInContainer(e.value),n=await this.transform(e.value),a=i.tensor_util.getTensorsInContainer(n);for(const e of t)i.tensor_util.isTensorInList(e,a)||e.dispose();return{value:n,done:!1}}}class Zc extends Pc{constructor(){super(),this.outputQueue=new Oc,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class Qc extends Zc{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=i.tensor_util.getTensorsInContainer(e.value),n=this.transform(e.value),a=i.tensor_util.getTensorsInContainer(n);this.outputQueue.pushAll(n);for(const e of t)i.tensor_util.isTensorInList(e,a)||e.dispose();return!0}}class eu extends Pc{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(Ic||(Ic={}));class tu extends Pc{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new Fc(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class nu extends tu{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=Nc.alea(n||i.util.now().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class au{constructor(){this.size=null}batch(e,t=!0){const n=this;let a;return i.util.assert(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),a=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),iu((async()=>(await n.iterator()).columnMajorBatch(e,t,ru)),a)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,iu((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,iu((async()=>(await t.iterator()).filter((t=>i.tidy((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return iu((async()=>(await t.iterator()).map((t=>i.tidy((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return iu((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return iu((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,iu((async()=>zc(jc((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,iu((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t,n=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const a=this,r=Nc.alea(t||i.util.now().toString());return iu((async()=>{let t=r.int32();return n&&(t+=r.int32()),(await a.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,iu((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function iu(e,t=null){return new class extends au{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function ru(e){if(null===e)return null;const t=e[0];if(null==(n=t)||null===(a=n)||"object"!=typeof a&&"function"!=typeof a||Array.isArray(n)||"object"==typeof n&&n instanceof i.Tensor||i.util.isTypedArray(n)){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof i.Tensor?i.stack(e):i.tensor(e)}(e),recurse:!1}}var n,a;return{value:null,recurse:!0}}au.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");n(48764).Buffer;function su(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&i.util.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}const ou=i.kernel_impls.whereImpl;class lu extends i.KernelBackend{constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new i.DataStorage(this,(0,i.engine)())}nextDataId(){return lu.nextDataId++}write(e,t,n){this.firstUse&&(this.firstUse=!1,(0,i.env)().get("IS_NODE")&&i.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:n,refCount:1}),a}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){const r=n.map((e=>i.util.encodeString(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return{dataId:a,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,a,i){this.data.set(e,{values:t,dtype:a,refCount:i})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){const e=this.readSync(n.real.dataId),t=this.readSync(n.imag.dataId);return i.backend_util.mergeRealAndImagArrays(e,t)}return this.data.get(e).values}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>i.util.decodeString(e)));return(0,i.buffer)(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,t)}makeOutput(e,t,n){return(0,i.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=i.util.now();e();return{kernelMs:i.util.now()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){su([e],"where");const t=this.readSync(e.dataId);return ou(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}lu.nextDataId=0;function cu(e,t,n){return({inputs:a,attrs:r,backend:s})=>{const{x:o}=a;if(su(o,e),"string"===o.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const l=s,c=l.data.get(o.dataId).values,u=i.util.sizeFromShape(o.shape),d=n||o.dtype,p=i.util.getArrayFromDType(d,u);for(let e=0;e<u;++e)p[e]=t(c[e],r);return l.makeTensorInfo(o.shape,d,p)}}function uu(e,t,n){return({inputs:a,attrs:i,backend:r})=>{const{x:s}=a;if(su(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const o=r,l=o.data.get(s.dataId).values,c=n||s.dtype,u=t(l,c,i);return o.makeTensorInfo(s.shape,c,u)}}(0,i.registerBackend)("cpu",(()=>new lu),1);const du=cu(i.Elu,(e=>e>=0?e:Math.exp(e)-1)),pu={kernelName:i.Elu,backendName:"cpu",kernelFunc:du};function hu(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const mu={kernelName:i.Identity,backendName:"cpu",kernelFunc:hu};function fu(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:s}=a;su([r],"leakyRelu");const o=i.util.sizeFromShape(r.shape),l=n.data.get(r.dataId).values,c=i.util.getTypedArrayFromDType("float32",o);for(let e=0;e<l.length;e++)c[e]=l[e]<0?s*l[e]:l[e];return n.makeTensorInfo(r.shape,"float32",c)}const gu={kernelName:i.LeakyRelu,backendName:"cpu",kernelFunc:fu};function bu(e){return(t,n,a,r,s)=>{const o=i.backend_util.assertAndGetBroadcastShape(t,n),l=o.length,c=i.util.computeStrides(o),u=i.util.sizeFromShape(o),d=i.util.getTypedArrayFromDType(s,u),p=t.length,h=n.length,m=i.util.computeStrides(t),f=i.util.computeStrides(n),g=i.backend_util.getBroadcastDims(t,o),b=i.backend_util.getBroadcastDims(n,o);if(g.length+b.length===0)for(let t=0;t<d.length;++t)d[t]=e(a[t%a.length],r[t%r.length]);else for(let t=0;t<d.length;++t){const n=i.util.indexToLoc(t,l,c),s=n.slice(-p);g.forEach((e=>s[e]=0));const o=i.util.locToIndex(s,p,m),u=n.slice(-h);b.forEach((e=>u[e]=0));const y=i.util.locToIndex(u,h,f);d[t]=e(a[o],r[y])}return[d,o]}}const yu=bu(((e,t)=>e<0?t*e:e));function vu(e){const{inputs:t,backend:n}=e,{x:a,alpha:i}=t;su([a,i],"prelu");const r=n.data.get(a.dataId).values,s=n.data.get(i.dataId).values,[o,l]=yu(a.shape,i.shape,r,s,"float32");return n.makeTensorInfo(l,"float32",o)}const ku={kernelName:i.Prelu,backendName:"cpu",kernelFunc:vu},xu=cu(i.Relu,(e=>Math.max(0,e))),wu={kernelName:i.Relu,backendName:"cpu",kernelFunc:xu},Su=cu(i.Relu6,(e=>Math.min(Math.max(0,e),6))),Cu={kernelName:i.Relu6,backendName:"cpu",kernelFunc:Su};function Tu(e){return(t,n,a)=>{const r=i.util.getTypedArrayFromDType(n,t.length);for(let n=0;n<t.length;++n)r[n]=e(t[n],a);return r}}const _u=Tu((e=>1/(1+Math.exp(-e)))),Iu=cu(i.Sigmoid,(e=>1/(1+Math.exp(-e)))),Au={kernelName:i.Sigmoid,backendName:"cpu",kernelFunc:Iu};function Nu(e,t,n,a,i){if("linear"===n)return hu({inputs:{x:t},backend:e});if("relu"===n)return xu({inputs:{x:t},backend:e});if("elu"===n)return du({inputs:{x:t},backend:e});if("relu6"===n)return Su({inputs:{x:t},backend:e});if("prelu"===n)return vu({inputs:{x:t,alpha:a},backend:e});if("leakyrelu"===n)return fu({inputs:{x:t},backend:e,attrs:{alpha:i}});if("sigmoid"===n)return Iu({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function Eu(e){const{inputs:t,backend:n}=e,{real:a,imag:i}=t,r=n.data.get(a.dataId).values,s=n.data.get(i.dataId).values,o=n.makeTensorInfo(a.shape,"complex64");return n.data.get(o.dataId).complexTensorInfos={real:n.makeTensorInfo(a.shape,"float32",r),imag:n.makeTensorInfo(i.shape,"float32",s)},o}const Ru={kernelName:i.Complex,backendName:"cpu",kernelFunc:Eu};function Mu(e,t,n="float32"){if("complex64"===n){return Eu({inputs:{real:Mu(e,t,"float32"),imag:Mu(e,t,"float32")},backend:e})}const a=i.util.makeZerosTypedArray(i.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,a)}function Du(e){const{inputs:t,backend:n}=e,{input:a}=t,i=n.data.get(a.dataId).complexTensorInfos.real,r=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,r)}const $u={kernelName:i.Real,backendName:"cpu",kernelFunc:Du};function Bu(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dtype:s}=a;if("complex64"===s){if("complex64"===r.dtype)return hu({inputs:{x:r},backend:n});const e=Mu(n,r.shape,r.dtype),t=Bu({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),a=Eu({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),a}if("complex64"===r.dtype){const e=Du({inputs:{input:r},backend:n}),t=Bu({inputs:{x:e},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(e),t}if(!i.util.hasEncodingLoss(r.dtype,s)){const e=hu({inputs:{x:r},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:s}}if("int32"===s){const e=n.data.get(r.dataId).values,t=Int32Array.from(e);return n.makeTensorInfo(r.shape,"int32",t)}if("bool"===s){const e=n.data.get(r.dataId).values,t=i.util.toTypedArray([0],r.dtype),[a,s]=bu(((e,t)=>e!==t?1:0))(r.shape,[],e,t,"bool");return n.makeTensorInfo(s,"bool",a)}throw new Error(`Error in Cast: failed to cast ${r.dtype} to ${s}`)}const Lu={kernelName:i.Cast,backendName:"cpu",kernelFunc:Bu};function Fu(e,t,n,a){return null==n?({inputs:n,backend:r})=>{const{a:s,b:o}=n,l=r;su([s,o],e);const c=l.data.get(s.dataId).values,u=l.data.get(o.dataId).values,d="string"===s.dtype?i.backend_util.fromUint8ToStringArray(c):c,p="string"===s.dtype?i.backend_util.fromUint8ToStringArray(u):u,h=a||s.dtype,[m,f]=t(s.shape,o.shape,d,p,h);return l.makeTensorInfo(f,h,m)}:({inputs:e,backend:i})=>{const{a:r,b:s}=e,o=i;if("complex64"===r.dtype||"complex64"===s.dtype){const e=Bu({inputs:{x:r},backend:o,attrs:{dtype:"complex64"}}),t=o.data.get(e.dataId),a=t.complexTensorInfos.real,i=t.complexTensorInfos.imag,l=o.data.get(a.dataId).values,c=o.data.get(i.dataId).values,u=Bu({inputs:{x:s},backend:o,attrs:{dtype:"complex64"}}),d=o.data.get(u.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,m=o.data.get(p.dataId).values,f=o.data.get(h.dataId).values,[g,b,y]=n(r.shape,s.shape,l,c,m,f),v=o.makeTensorInfo(y,"float32",g),k=o.makeTensorInfo(y,"float32",b),x=Eu({inputs:{real:v,imag:k},backend:o});return o.disposeIntermediateTensorInfo(e),o.disposeIntermediateTensorInfo(u),o.disposeIntermediateTensorInfo(v),o.disposeIntermediateTensorInfo(k),x}{const e=o.data.get(r.dataId).values,n=o.data.get(s.dataId).values,i=a||r.dtype,[l,c]=t(r.shape,s.shape,e,n,i);return o.makeTensorInfo(c,i,l)}}}function Ou(e){return(t,n,a,r,s,o)=>{const l=i.backend_util.assertAndGetBroadcastShape(t,n),c=i.util.sizeFromShape(l),u=l.length,d=i.util.computeStrides(l),p=i.util.getTypedArrayFromDType("float32",c),h=i.util.getTypedArrayFromDType("float32",c),m=i.backend_util.getBroadcastDims(t,l),f=i.backend_util.getBroadcastDims(n,l),g=i.backend_util.mergeRealAndImagArrays(a,r),b=i.backend_util.mergeRealAndImagArrays(s,o),y=t.length,v=i.util.computeStrides(t),k=n.length,x=i.util.computeStrides(n);if(m.length+f.length===0)for(let t=0;t<p.length;t++){const n=t%g.length,a=t%b.length,i=e(g[2*n],g[2*n+1],b[2*a],b[2*a+1]);p[t]=i.real,h[t]=i.imag}else for(let t=0;t<p.length;t++){const n=i.util.indexToLoc(t,u,d),a=n.slice(-y);m.forEach((e=>a[e]=0));const r=i.util.locToIndex(a,y,v),s=n.slice(-k);f.forEach((e=>s[e]=0));const o=i.util.locToIndex(s,k,x),l=e(g[2*r],g[2*r+1],b[2*o],b[2*o+1]);p[t]=l.real,h[t]=l.imag}return[p,h,l]}}const ju=bu(((e,t)=>e+t)),zu=Ou(((e,t,n,a)=>({real:e+n,imag:t+a}))),Pu=Fu(i.Add,ju,zu),Wu={kernelName:i.Add,backendName:"cpu",kernelFunc:Pu};function Gu(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:s}=a,o=i.util.sizeFromShape(r.shape),l=i.util.inferFromImplicitShape(s,o),c=i.util.sizeFromShape(l);i.util.assert(o===c,(()=>`The new shape (${l}) has ${c} elements and the old shape (${r.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(r.dataId);const u=n.data.get(r.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=l,t.shape=l}return{dataId:r.dataId,shape:l,dtype:r.dtype}}const Vu={kernelName:i.Reshape,backendName:"cpu",kernelFunc:Gu};function Uu(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:s}=t,{transposeA:o,transposeB:l}=a;su([r,s],"matMul");const c=r.shape.length,u=s.shape.length,d=o?r.shape[c-2]:r.shape[c-1],p=l?s.shape[u-1]:s.shape[u-2],h=o?r.shape[c-1]:r.shape[c-2],m=l?s.shape[u-2]:s.shape[u-1],f=r.shape.slice(0,-2),g=s.shape.slice(0,-2),b=i.util.sizeFromShape(f),y=i.util.sizeFromShape(g),v=i.broadcast_util.assertAndGetBroadcastShape(r.shape.slice(0,-2),s.shape.slice(0,-2)).concat([h,m]);i.util.assert(d===p,(()=>`Error in matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${r.shape} and ${s.shape} and transposeA=${o} and transposeB=${l} must match.`));const k=l?[y,m,p]:[y,p,m],x=Gu({inputs:{x:r},backend:n,attrs:{shape:o?[b,d,h]:[b,h,d]}}),w=Gu({inputs:{x:s},backend:n,attrs:{shape:k}}),S=o?x.shape[1]:x.shape[2],C=o?x.shape[2]:x.shape[1],T=l?w.shape[1]:w.shape[2],_=Math.max(b,y),I=n.data.get(x.dataId).values,A=n.data.get(w.dataId).values,N=i.util.computeStrides(x.shape),E=i.util.computeStrides(w.shape),[R,M,D]=o?[N[0],1,N[1]]:[N[0],N[1],1],[$,B,L]=l?[1,E[1],E[0]]:[E[1],1,E[0]],F=C*T,O=(0,i.buffer)([_,C,T],x.dtype),j=O.values,z=n.blockSize;for(let e=0;e<_;e++)for(let t=0;t<C;t+=z)for(let n=0;n<T;n+=z)for(let a=0;a<S;a+=z){const i=Math.min(t+z,C),r=Math.min(n+z,T),s=Math.min(a+z,S);for(let o=t;o<i;o++)for(let t=n;t<r;t++){let n=0;for(let i=a;i<s;i++){const a=Math.min(e,b-1)*R,r=Math.min(e,y-1)*L;n+=I[a+o*M+i*D]*A[i*$+t*B+r]}j[e*F+(o*T+t)]+=n}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(v,O.dtype,O.values)}const Hu={kernelName:i.BatchMatMul,backendName:"cpu",kernelFunc:Uu};const qu={kernelName:i._FusedMatMul,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:i,b:r,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=a;let p,h,m;const f=[];p=Uu({inputs:{a:i,b:r},attrs:{transposeA:l,transposeB:c},backend:n}),s&&(h=Pu({inputs:{a:p,b:s},backend:n}),f.push(p),p=h),u&&(m=Nu(n,p,u,o,d),f.push(p),p=m);for(const e of f)n.disposeIntermediateTensorInfo(e);return p}};function Ku(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const Ju={kernelName:i.Abs,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;su(t,"abs");let a=new Float32Array(i.util.sizeFromShape(t.shape));return a=Ku(n.data.get(t.dataId).values),n.makeOutput(a,t.shape,t.dtype)}},Xu=cu(i.Acos,(e=>Math.acos(e))),Yu={kernelName:i.Acos,backendName:"cpu",kernelFunc:Xu},Zu=cu(i.Acosh,(e=>Math.acosh(e))),Qu={kernelName:i.Acosh,backendName:"cpu",kernelFunc:Zu};const ed={kernelName:i.AddN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,a=t;su(t,"addN");const r=a.map((e=>n.data.get(e.dataId).values)),s=(0,i.buffer)(a[0].shape,a[0].dtype),o=s.values;for(let e=0;e<a.length;e++){const t=r[e];for(let e=0;e<o.length;e++)o[e]+=t[e]}return n.makeTensorInfo(s.shape,s.dtype,s.values)}};function td(e,t,n,a,r){const s=t.length,o=i.util.sizeFromShape(t),l=i.util.computeStrides(t),c=i.util.computeStrides(r),u=i.util.getTypedArrayFromDType(n,i.util.sizeFromShape(r));for(let t=0;t<o;++t){const n=i.util.indexToLoc(t,s,l),r=new Array(n.length);for(let e=0;e<r.length;e++)r[e]=n[a[e]];u[i.util.locToIndex(r,s,c)]=e[t]}return u}function nd(e){const{inputs:t,attrs:n,backend:a}=e,{x:i}=t,{perm:r}=n;su(i,"transpose");const s=i.shape.length,o=new Array(s);for(let e=0;e<o.length;e++)o[e]=i.shape[r[e]];const l=td(a.data.get(i.dataId).values,i.shape,i.dtype,r,o);return{dataId:a.write(l,o,i.dtype),shape:o,dtype:i.dtype}}const ad={kernelName:i.Transpose,backendName:"cpu",kernelFunc:nd};const id={kernelName:i.All,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a;su(r,"all");const l=i.util.parseAxisParam(s,r.shape);let c=l;const u=i.backend_util.getAxesPermutation(c,r.shape.length);let d=r;null!=u&&(d=nd({inputs:{x:r},backend:n,attrs:{perm:u}}),c=i.backend_util.getInnerMostAxes(c.length,r.shape.length)),i.backend_util.assertAxesAreInnerMostDims("all",c,d.shape.length);const[p,h]=i.backend_util.computeOutAndReduceShapes(d.shape,c),m=i.util.sizeFromShape(h),f=i.util.makeZerosTypedArray(i.util.sizeFromShape(p),d.dtype),g=n.data.get(d.dataId).values;for(let e=0;e<f.length;++e){const t=e*m;let n=g[t];for(let e=0;e<m;++e){const a=g[t+e];n=n&&a}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(d);const b=n.makeTensorInfo(p,d.dtype,f);if(o){const e=Gu({inputs:{x:b},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(p,l)}});return n.disposeIntermediateTensorInfo(b),e}return b}};const rd={kernelName:i.Any,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a;su(r,"any");const l=i.util.parseAxisParam(s,r.shape);let c=l;const u=i.backend_util.getAxesPermutation(c,r.shape.length);let d=r;null!=u&&(d=nd({inputs:{x:r},backend:n,attrs:{perm:u}}),c=i.backend_util.getInnerMostAxes(c.length,r.shape.length)),i.backend_util.assertAxesAreInnerMostDims("any",c,d.shape.length);const[p,h]=i.backend_util.computeOutAndReduceShapes(d.shape,c),m=i.util.sizeFromShape(h),f=i.util.makeZerosTypedArray(i.util.sizeFromShape(p),d.dtype),g=n.data.get(d.dataId).values;for(let e=0;e<f.length;++e){const t=e*m;let n=g[t];for(let e=0;e<m;++e){const a=g[t+e];n=n||a}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(d);const b=n.makeTensorInfo(p,d.dtype,f);if(o){const e=Gu({inputs:{x:b},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(p,l)}});return n.disposeIntermediateTensorInfo(b),e}return b}};const sd={kernelName:i.ArgMax,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s}=a;su(r,"argMax");let o=i.util.parseAxisParam(s,r.shape);const l=i.backend_util.getAxesPermutation(o,r.shape.length);let c=r;const u=[];null!=l&&(c=nd({inputs:{x:r},backend:n,attrs:{perm:l}}),u.push(c),o=i.backend_util.getInnerMostAxes(o.length,c.shape.length)),o=[o[0]],i.backend_util.assertAxesAreInnerMostDims("argMax",o,c.shape.length);const[d,p]=i.backend_util.computeOutAndReduceShapes(c.shape,o),h=i.util.sizeFromShape(d),m=i.util.makeZerosTypedArray(h,"int32"),f=i.util.sizeFromShape(p),g=n.data.get(c.dataId).values;for(let e=0;e<m.length;++e){const t=e*f;let n=g[t],a=0;for(let e=0;e<f;++e){const i=g[t+e];i>n&&(n=i,a=e)}m[e]=a}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(d,"int32",m)}};const od={kernelName:i.ArgMin,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s}=a;su(r,"argMin");let o=i.util.parseAxisParam(s,r.shape);const l=i.backend_util.getAxesPermutation(o,r.shape.length);let c=r;const u=[];null!=l&&(c=nd({inputs:{x:r},backend:n,attrs:{perm:l}}),u.push(c),o=i.backend_util.getInnerMostAxes(o.length,c.shape.length)),o=[o[0]],i.backend_util.assertAxesAreInnerMostDims("argMin",o,c.shape.length);const[d,p]=i.backend_util.computeOutAndReduceShapes(c.shape,o),h=i.util.sizeFromShape(d),m=i.util.makeZerosTypedArray(h,"int32"),f=i.util.sizeFromShape(p),g=n.data.get(c.dataId).values;for(let e=0;e<m.length;++e){const t=e*f;let n=g[t],a=0;for(let e=0;e<f;++e){const i=g[t+e];i<n&&(n=i,a=e)}m[e]=a}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(d,"int32",m)}},ld=cu(i.Asin,(e=>Math.asin(e))),cd={kernelName:i.Asin,backendName:"cpu",kernelFunc:ld},ud=cu(i.Asinh,(e=>Math.asinh(e))),dd={kernelName:i.Asinh,backendName:"cpu",kernelFunc:ud},pd=cu(i.Atan,(e=>Math.atan(e))),hd={kernelName:i.Atan,backendName:"cpu",kernelFunc:pd},md=bu(((e,t)=>Math.atan2(e,t))),fd=Fu(i.Atan2,md),gd={kernelName:i.Atan2,backendName:"cpu",kernelFunc:fd},bd=cu(i.Atanh,(e=>Math.atanh(e))),yd={kernelName:i.Atanh,backendName:"cpu",kernelFunc:bd};function vd(e,t,n,a,r,s){const o=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,u=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,f="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,g=(0,i.buffer)(r.outShape,n),b=g.values,y=r.outShape[1]*r.outShape[2]*r.outShape[3],v=r.outShape[2]*r.outShape[3],k=r.outShape[3];for(let t=0;t<r.batchSize;++t){const n=t*y,i=t*a[0];for(let t=0;t<r.inChannels;++t)for(let g=0;g<r.outHeight;++g){const y=g*o-h,x=Math.max(0,y),w=Math.min(r.inHeight,d+y),S=n+g*v;for(let n=0;n<r.outWidth;++n){const o=n*l-m,d=Math.max(0,o),h=Math.min(r.inWidth,p+o);let g=f,y=0,v=0;for(let n=x;n<w;n+=c){const r=i+n*a[1];for(let n=d;n<h;n+=u){const i=e[r+n*a[2]+t];"max"===s&&i>g?g=i:"avg"===s&&(y+=i,v++)}if(isNaN(g))break}b[S+n*k+t]="avg"===s?y/v:g}}}return g}function kd(e,t,n,a,r=!1,s=!1){const o=(0,i.buffer)(a.outShape,"int32"),l=a.strideHeight,c=a.strideWidth,u=a.dilationHeight,d=a.dilationWidth,p=a.effectiveFilterHeight,h=a.effectiveFilterWidth,m=a.padInfo.top,f=a.padInfo.left,g=(0,i.buffer)(t,n,e);for(let e=0;e<a.batchSize;++e)for(let t=0;t<a.inChannels;++t)for(let n=0;n<a.outHeight;++n){const i=n*l-m;let b=i;for(;b<0;)b+=u;const y=Math.min(a.inHeight,p+i);for(let l=0;l<a.outWidth;++l){const p=l*c-f;let m=p;for(;m<0;)m+=d;const v=Math.min(a.inWidth,h+p);let k=Number.NEGATIVE_INFINITY,x=-1;for(let n=b;n<y;n+=u){const o=n-i;for(let i=m;i<v;i+=d){const l=i-p,c=g.get(e,n,i,t);c>k&&(k=c,x=r?s?((e*a.inHeight+n)*a.inWidth+i)*a.inChannels+t:(n*a.inWidth+i)*a.inChannels+t:o*h+l)}}o.set(x,e,n,l,t)}}return o}function xd(e,t,n,a,r,s){const o=r.strideDepth,l=r.strideHeight,c=r.strideWidth,u=r.dilationDepth,d=r.dilationHeight,p=r.dilationWidth,h=r.effectiveFilterDepth,m=r.effectiveFilterHeight,f=r.effectiveFilterWidth,g=r.padInfo.front,b=r.padInfo.top,y=r.padInfo.left,v="max"===s?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,k=(0,i.buffer)(r.outShape,n),x=k.values,w=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],S=r.outShape[2]*r.outShape[3]*r.outShape[4],C=r.outShape[3]*r.outShape[4],T=r.outShape[4];for(let t=0;t<r.batchSize;++t){const n=t*w,i=t*a[0];for(let t=0;t<r.inChannels;++t)for(let k=0;k<r.outDepth;++k){const w=k*o-g;let _=w;for(;_<0;)_+=u;const I=Math.min(r.inDepth,h+w),A=n+k*S;for(let n=0;n<r.outHeight;++n){const o=n*l-b;let h=o;for(;h<0;)h+=d;const g=Math.min(r.inHeight,m+o),k=A+n*C;for(let n=0;n<r.outWidth;++n){const o=n*c-y;let l=o;for(;l<0;)l+=p;const m=Math.min(r.inWidth,f+o),b=k+n*T;let w=v,S=0,C=0;for(let n=_;n<I;n+=u){const r=i+n*a[1];for(let n=h;n<g;n+=d){const i=r+n*a[2];for(let n=l;n<m;n+=p){const r=e[i+n*a[3]+t];if("max"===s&&r>w?w=r:"avg"===s&&(S+=r,C++),isNaN(w))break}if(isNaN(w))break}if(isNaN(w))break}x[b+t]="avg"===s?S/C:w}}}}return k}const wd={kernelName:i.AvgPool,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;su(r,"avgPool");const{filterSize:s,strides:o,pad:l,dimRoundingMode:c}=a;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(o,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`));const u=i.backend_util.computePool2DInfo(r.shape,s,o,1,l,c);let d;if(1===u.filterWidth&&1===u.filterHeight&&i.util.arraysEqual(u.inShape,u.outShape))d=hu({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=i.util.computeStrides(r.shape),a=vd(e,r.shape,r.dtype,t,u,"avg");d=n.makeTensorInfo(u.outShape,r.dtype,a.values)}return d}};const Sd={kernelName:i.AvgPool3D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:c,dataFormat:u}=a;su(r,"avgPool3d");const d=i.backend_util.computePool3DInfo(r.shape,s,o,1,l,c,u),p=xd(n.data.get(r.dataId).values,r.shape,r.dtype,i.util.computeStrides(r.shape),d,"avg");return n.makeTensorInfo(p.shape,"float32",p.values)}};const Cd={kernelName:i.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s}=t,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=a;su([r,s],"avgPool3DGrad");const d=i.backend_util.computePool3DInfo(s.shape,o,l,1,c,u),p=d.strideDepth,h=d.strideHeight,m=d.strideWidth,f=d.filterDepth,g=d.filterHeight,b=d.filterWidth,y=d.dilationDepth,v=d.dilationHeight,k=d.dilationWidth,x=d.effectiveFilterDepth,w=d.effectiveFilterHeight,S=d.effectiveFilterWidth,C=x-1-d.padInfo.front,T=S-1-d.padInfo.left,_=w-1-d.padInfo.top,I=(0,i.buffer)(s.shape,"float32"),A=1/(f*g*b),N=n.bufferSync(r);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inDepth;++n)for(let a=0;a<d.inHeight;++a)for(let i=0;i<d.inWidth;++i){const r=n-C,s=a-_,o=i-T;let l=0;for(let n=0;n<x;n+=y){const a=(r+n)/p;if(!(a<0||a>=d.outDepth||Math.floor(a)!==a))for(let n=0;n<w;n+=v){const i=(s+n)/h;if(!(i<0||i>=d.outHeight||Math.floor(i)!==i))for(let n=0;n<S;n+=k){const r=(o+n)/m;if(r<0||r>=d.outWidth||Math.floor(r)!==r)continue;l+=N.get(e,a,i,r,t)}}}I.set(l*A,e,n,a,i,t)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}};const Td={kernelName:i.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s}=t,o=s;su([r,s],"avgPoolGrad");const{filterSize:l,strides:c,pad:u}=a,d=i.backend_util.computePool2DInfo(o.shape,l,c,1,u),p=d.strideHeight,h=d.strideWidth,m=d.filterHeight,f=d.filterWidth,g=d.dilationHeight,b=d.dilationWidth,y=d.effectiveFilterHeight,v=d.effectiveFilterWidth,k=v-1-d.padInfo.left,x=y-1-d.padInfo.top,w=(0,i.buffer)(o.shape,"float32"),S=1/(m*f),C=n.data.get(r.dataId).values,T=(0,i.buffer)(r.shape,"float32",C);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inHeight;++n)for(let a=0;a<d.inWidth;++a){const i=n-x,r=a-k;let s=0;for(let n=0;n<y;n+=g){const a=(i+n)/p;if(!(a<0||a>=d.outHeight||Math.floor(a)!==a))for(let n=0;n<v;n+=b){const i=(r+n)/h;if(i<0||i>=d.outWidth||Math.floor(i)!==i)continue;s+=T.get(e,a,i,t)}}w.set(s*S,e,n,a,t)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const _d={kernelName:i.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,scale:s,offset:o,mean:l,variance:c}=t;i.util.assert(l.shape.length===c.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),i.util.assert(null==o||l.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),i.util.assert(null==s||l.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),su([r,l,c,s,o],"batchNorm");let{varianceEpsilon:u}=a;null==u&&(u=.001);const d=n.data.get(r.dataId).values,p=n.data.get(l.dataId).values,h=n.data.get(c.dataId).values,m=s?n.data.get(s.dataId).values:new Float32Array([1]),f=o?n.data.get(o.dataId).values:new Float32Array([0]),g=new Float32Array(d.length),b=f.length,y=m.length,v=h.length,k=p.length;let x=0,w=0,S=0,C=0;for(let e=0;e<d.length;++e)g[e]=f[x++]+(d[e]-p[w++])*m[S++]/Math.sqrt(h[C++]+u),x>=b&&(x=0),w>=k&&(w=0),S>=y&&(S=0),C>=v&&(C=0);return n.makeTensorInfo(r.shape,r.dtype,g)}};function Id(e,t,n,a,r){const s=i.slice_util.isSliceContinous(a,t,n),o=i.util.sizeFromShape(n),l=i.util.computeStrides(a);if(s){const n=i.slice_util.computeFlatOffset(t,l);return"string"===r?e.slice(n,n+o):e.subarray(n,n+o)}const c="string"===r?i.backend_util.fromUint8ToStringArray(e):e,u=(0,i.buffer)(a,r,c),d=(0,i.buffer)(n,r);for(let e=0;e<d.size;++e){const n=d.indexToLoc(e),a=n.map(((e,n)=>e+t[n]));d.set(u.get(...a),...n)}return"string"===r?i.backend_util.fromStringArrayToUint8(d.values):d.values}function Ad(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:s,size:o}=a;su(r,"slice");const[l,c]=i.slice_util.parseSliceParams(r,s,o);i.slice_util.assertParamsValid(r,l,c);const u=Id(n.data.get(r.dataId).values,l,c,r.shape,r.dtype);return n.makeTensorInfo(c,r.dtype,u)}const Nd={kernelName:i.Slice,backendName:"cpu",kernelFunc:Ad};const Ed={kernelName:i.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:s,crops:o}=a;su([r],"batchToSpaceND");const l=s.reduce(((e,t)=>e*t)),c=i.backend_util.getReshaped(r.shape,s,l),u=i.backend_util.getPermuted(c.length,s.length),d=i.backend_util.getReshapedPermuted(r.shape,s,l),p=i.backend_util.getSliceBeginCoords(o,s.length),h=i.backend_util.getSliceSize(d,o,s.length),m=Gu({inputs:{x:r},backend:n,attrs:{shape:c}}),f=nd({inputs:{x:m},backend:n,attrs:{perm:u}}),g=Gu({inputs:{x:f},backend:n,attrs:{shape:d}}),b=Ad({inputs:{x:g},backend:n,attrs:{begin:p,size:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),b}};function Rd(e,t,n,a,r){const s=i.util.sizeFromShape(a),o=i.util.makeZerosTypedArray(r,n);for(let n=0;n<e.length;n++){const a=e[n];if(a<0)throw new Error("Input x must be non-negative!");a>=r||(o[a]+=s>0?t[n]:1)}return o}function Md(e,t,n,a=!1){const r=e.shape[0],s=e.shape[1],o=(0,i.buffer)([r,n],t.dtype);for(let i=0;i<r;i++)for(let r=0;r<s;r++){const s=e.get(i,r);if(s<0)throw new Error("Input x must be non-negative!");s>=n||(a?o.set(1,i,s):t.size>0?o.set(o.get(i,s)+t.get(i,r),i,s):o.set(o.get(i,s)+1,i,s))}return o}const Dd={kernelName:i.Bincount,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i,weights:r}=t,{size:s}=a,o=Rd(n.data.get(i.dataId).values,n.data.get(r.dataId).values,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,o)}};const $d={kernelName:i.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,s=n.data.get(a.dataId).values,o=n.data.get(r.dataId).values,l=i.backend_util.assertAndGetBroadcastShape(Array.from(s),Array.from(o));return n.makeTensorInfo([l.length],"int32",Int32Array.from(l))}},Bd=Tu((e=>Math.ceil(e))),Ld=uu(i.Ceil,Bd),Fd={kernelName:i.Ceil,backendName:"cpu",kernelFunc:Ld},Od=cu(i.ClipByValue,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),jd={kernelName:i.ClipByValue,backendName:"cpu",kernelFunc:Od},zd={kernelName:i.ComplexAbs,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,a=new Float32Array(i.util.sizeFromShape(t.shape)),r=n.data.get(t.dataId),s=r.complexTensorInfos.real,o=r.complexTensorInfos.imag,l=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values;for(let e=0;e<l.length;e++){const t=l[e],n=c[e];a[e]=Math.hypot(t,n)}return n.makeOutput(a,t.shape,"float32")}};function Pd(e,t,n,a){const r=i.util.getArrayFromDType(n,i.util.sizeFromShape(t));if(a&&"string"!==n){let t=0;e.forEach((e=>{const n=i.util.sizeFromShape(e.shape);r.set(e.vals,t),t+=n}))}else{let a=0;e.forEach((e=>{const s="string"===n?i.backend_util.fromUint8ToStringArray(e.vals):e.vals;let o=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+a;for(let t=0;t<e.shape[1];++t)r[i+t]=s[o++]}a+=e.shape[1]}))}return r}function Wd(e){const{inputs:t,backend:n}=e,{input:a}=t,i=n.data.get(a.dataId).complexTensorInfos.imag,r=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,r)}const Gd={kernelName:i.Imag,backendName:"cpu",kernelFunc:Wd};function Vd(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,s=i.util.parseAxisParam(r,t[0].shape)[0];let o=i.backend_util.computeOutShape(t.map((e=>e.shape)),s);if(0===i.util.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);const l=t.filter((e=>i.util.sizeFromShape(e.shape)>0));if(1===l.length)return hu({inputs:{x:l[0]},backend:n});const c=l.map((e=>e.shape));if(i.backend_util.assertParamsConsistent(c,s),"complex64"===l[0].dtype){const e=l.map((e=>Du({inputs:{input:e},backend:n}))),t=l.map((e=>Wd({inputs:{input:e},backend:n}))),a=Vd({inputs:e,backend:n,attrs:{axis:s}}),i=Vd({inputs:t,backend:n,attrs:{axis:s}}),r=Eu({inputs:{real:a,imag:i},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),r}const u=l.map((e=>{const t=i.util.sizeFromShape(e.shape.slice(s));return Gu({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),d=u.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));o=i.backend_util.computeOutShape(u.map((e=>e.shape)),1);const p=1===u[0].shape[0],h=Pd(d,o,t[0].dtype,p),m=i.backend_util.computeOutShape(l.map((e=>e.shape)),s),f=n.makeTensorInfo(m,t[0].dtype,h);return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}const Ud={kernelName:i.Concat,backendName:"cpu",kernelFunc:Vd};function Hd(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dataFormat:c,dilations:u,dimRoundingMode:d}=a;su([r,s],"conv2d");const p=i.backend_util.convertConv2DDataFormat(c),h=i.backend_util.computeConv2DInfo(r.shape,s.shape,o,u,l,d,!1,p),m=h.filterHeight,f=h.filterWidth,g=h.dilationHeight,b=h.dilationWidth,y=h.padInfo.left,v=h.padInfo.top,k="channelsLast"===h.dataFormat,x=new i.TensorBuffer(h.outShape,r.dtype),w=i.util.computeStrides(r.shape),S=i.util.computeStrides(s.shape),C=w[0],T=k?w[1]:w[2],_=k?w[2]:1,I=k?1:w[1],A=x.strides[0],N=k?x.strides[1]:x.strides[2],E=k?x.strides[2]:1,R=k?1:x.strides[1],M=n.data.get(r.dataId).values,D=n.data.get(s.dataId).values,$=x.values;for(let e=0;e<h.batchSize;++e){const t=e*C,n=e*A;for(let e=0;e<h.outHeight;++e){const a=n+e*N,i=e*h.strideHeight-v;for(let e=0;e<m;++e){const n=i+e*g;if(n<0||n>=h.inHeight)continue;const r=e*S[0],s=t+n*T;for(let e=0;e<h.outWidth;++e){const t=a+e*E,n=e*h.strideWidth-y;for(let e=0;e<f;++e){const a=n+e*b;if(a<0||a>=h.inWidth)continue;const i=s+a*_;let o=r+e*S[1];for(let e=0;e<h.inChannels;++e){const n=M[i+e*I];for(let e=0;e<h.outChannels;++e)$[t+e*R]+=n*D[o+e];o+=h.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,$)}const qd={kernelName:i.Conv2D,backendName:"cpu",kernelFunc:Hd};const Kd={kernelName:i.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:s}=t,{strides:o,pad:l,dataFormat:c,dimRoundingMode:u,filterShape:d}=a;su([r,s],"conv2dBackpropFilter");const p=i.backend_util.convertConv2DDataFormat(c),h=i.backend_util.computeConv2DInfo(r.shape,d,o,1,l,u,!1,p),{strideHeight:m,strideWidth:f,filterHeight:g,filterWidth:b}=h,y="channelsLast"===h.dataFormat,v=new i.TensorBuffer(h.filterShape,"float32"),k=h.padInfo.left,x=h.padInfo.top,w=n.data.get(r.dataId).values,S=n.data.get(s.dataId).values,C=new i.TensorBuffer(r.shape,r.dtype,w),T=new i.TensorBuffer(s.shape,s.dtype,S);for(let e=0;e<g;++e){const t=Math.max(0,Math.ceil((x-e)/m)),n=Math.min(h.outHeight,(h.inHeight+x-e)/m);for(let a=0;a<b;++a){const i=Math.max(0,Math.ceil((k-a)/f)),r=Math.min(h.outWidth,(h.inWidth+k-a)/f);for(let s=0;s<h.inChannels;++s)for(let o=0;o<h.outChannels;++o){let l=0;for(let c=0;c<h.batchSize;++c)for(let u=t;u<n;++u){const t=e+u*m-x;for(let e=i;e<r;++e){const n=a+e*f-k;l+=y?C.get(c,t,n,s)*T.get(c,u,e,o):C.get(c,s,t,n)*T.get(c,o,u,e)}}v.set(l,e,a,s,o)}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const Jd={kernelName:i.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:s}=t,{inputShape:o,strides:l,pad:c,dataFormat:u,dimRoundingMode:d}=a;su([r,s],"conv2dBackpropInput");const p=i.util.computeStrides(s.shape),h=i.util.computeStrides(r.shape);let m=i.backend_util.convertConv2DDataFormat(u);const f=i.backend_util.computeConv2DInfo(o,s.shape,l,1,c,d,!1,m),g=new i.TensorBuffer(f.inShape,"float32"),b=g.values,y=n.data.get(r.dataId).values,v=n.data.get(s.dataId).values,[k,x,w]=p,{batchSize:S,filterHeight:C,filterWidth:T,inChannels:_,inHeight:I,inWidth:A,outChannels:N,outHeight:E,outWidth:R,strideHeight:M,strideWidth:D}=f;m=f.dataFormat;const $=C-1-f.padInfo.top,B=T-1-f.padInfo.left,L="channelsLast"===m,F=g.strides[0],O=L?g.strides[1]:g.strides[2],j=L?g.strides[2]:1,z=L?1:g.strides[1],P=h[0],W=L?h[1]:h[2],G=L?h[2]:1,V=L?1:h[1];for(let e=0;e<S;++e)for(let t=0;t<_;++t)for(let n=0;n<I;++n){const a=n-$,i=Math.max(0,Math.ceil(a/M)),r=Math.min(E,(C+a)/M);for(let s=0;s<A;++s){const o=s-B,l=Math.max(0,Math.ceil(o/D)),c=Math.min(R,(T+o)/D);let u=0;for(let n=i;n<r;++n){const i=n*M-a;for(let a=l;a<c;++a){const r=P*e+W*n+G*a,s=k*(C-1-i)+x*(T-1-(a*D-o))+w*t;for(let e=0;e<N;++e){u+=y[r+V*e]*v[s+e]}}}b[F*e+O*n+j*s+z*t]=u}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const Xd={kernelName:i.Conv3D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dilations:c}=a;su([r,s],"conv3d");const u=i.backend_util.computeConv3DInfo(r.shape,s.shape,o,c,l),{filterDepth:d,filterHeight:p,filterWidth:h,dilationDepth:m,dilationHeight:f,dilationWidth:g,padInfo:b}=u,y=b.front,v=b.left,k=b.top,x=new i.TensorBuffer(u.outShape,r.dtype),w=n.data.get(r.dataId).values,S=n.data.get(s.dataId).values,C=x.values,T=i.util.computeStrides(r.shape),_=i.util.computeStrides(s.shape);for(let e=0;e<u.batchSize;++e){const t=e*T[0],n=e*x.strides[0];for(let e=0;e<u.outDepth;++e){const a=n+e*x.strides[1],i=e*u.strideDepth-y;for(let e=0;e<d;++e){const n=i+e*m;if(n<0||n>=u.inDepth)continue;const r=e*_[0],s=t+n*T[1];for(let e=0;e<u.outHeight;++e){const t=a+e*x.strides[2],n=e*u.strideHeight-k;for(let e=0;e<p;++e){const a=n+e*f;if(a<0||a>=u.inHeight)continue;const i=r+e*_[1],o=s+a*T[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,a=e*u.strideWidth-v;for(let e=0;e<h;++e){const t=a+e*g;if(t<0||t>=u.inWidth)continue;const r=i+e*_[2],s=o+t*u.inChannels;let l=r;for(let e=0;e<u.inChannels;++e){const t=w[s+e];for(let e=0;e<u.outChannels;++e)C[n+e]+=t*S[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const Yd={kernelName:i.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:s}=t,{strides:o,pad:l,filterShape:c}=a;su([r,s],"conv3dBackpropFilterV2");const u=i.util.computeStrides(r.shape),d=i.util.computeStrides(s.shape),p=i.backend_util.computeConv3DInfo(r.shape,c,o,1,l),h=p.strideDepth,m=p.strideHeight,f=p.strideWidth,g=p.filterDepth,b=p.filterHeight,y=p.filterWidth,v=new i.TensorBuffer(p.filterShape,"float32"),k=v.values,[x,w,S,C]=v.strides,T=n.data.get(s.dataId).values,[_,I,A,N]=d,E=n.data.get(r.dataId).values,[R,M,D,$]=u,B=p.padInfo.front,L=p.padInfo.left,F=p.padInfo.top;for(let e=0;e<g;++e){const t=Math.max(0,Math.ceil((B-e)/h)),n=Math.min(p.outDepth,(p.inDepth+B-e)/h),a=e*x;for(let i=0;i<b;++i){const r=Math.max(0,Math.ceil((F-i)/m)),s=Math.min(p.outHeight,(p.inHeight+F-i)/m),o=i*w+a;for(let a=0;a<y;++a){const l=Math.max(0,Math.ceil((L-a)/f)),c=Math.min(p.outWidth,(p.inWidth+L-a)/f),u=a*S+o;for(let o=0;o<p.inChannels;++o){const d=o*C+u;for(let u=0;u<p.outChannels;++u){let g=0;for(let d=0;d<p.batchSize;++d){const p=d*R,b=d*_;for(let d=t;d<n;++d){const t=(e+d*h-B)*M+p,n=d*I+b;for(let e=r;e<s;++e){const r=(i+e*m-F)*D+t,s=e*A+n;for(let e=l;e<c;++e){const t=e*N+s;g+=E[(a+e*f-L)*$+r+o]*T[t+u]}}}}k[d+u]=g}}}}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}};const Zd={kernelName:i.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:s}=t,{pad:o,strides:l,inputShape:c}=a;su([r],"conv3dBackpropInputV2");const u=i.util.computeStrides(r.shape),d=i.util.computeStrides(s.shape),p=i.backend_util.computeConv3DInfo(c,s.shape,l,1,o),h=new i.TensorBuffer(p.inShape,"float32"),m=h.values,[f,g,b,y]=h.strides,v=n.data.get(r.dataId).values,[k,x,w,S]=u,C=n.data.get(s.dataId).values,[T,_,I,A]=d,{batchSize:N,filterDepth:E,filterHeight:R,filterWidth:M,inChannels:D,inDepth:$,inHeight:B,inWidth:L,outChannels:F,outDepth:O,outHeight:j,outWidth:z,strideDepth:P,strideHeight:W,strideWidth:G}=p,V=E-1-p.padInfo.front,U=R-1-p.padInfo.top,H=M-1-p.padInfo.left;for(let e=0;e<N;++e)for(let t=0;t<D;++t)for(let n=0;n<$;++n){const a=n-V,i=Math.max(0,Math.ceil(a/P)),r=Math.min(O,(E+a)/P);for(let s=0;s<B;++s){const o=s-U,l=Math.max(0,Math.ceil(o/W)),c=Math.min(j,(R+o)/W);for(let u=0;u<L;++u){const d=u-H,p=Math.max(0,Math.ceil(d/G)),h=Math.min(z,(M+d)/G);let N=0;for(let n=i;n<r;++n){const i=n*P-a;for(let a=l;a<c;++a){const r=a*W-o;for(let s=p;s<h;++s){const o=k*e+x*n+w*a+S*s,l=T*(E-1-i)+_*(R-1-r)+I*(M-1-(s*G-d))+A*t;for(let e=0;e<F;++e){N+=v[o+e]*C[l+e]}}}}m[f*e+g*n+b*s+y*u+t]=N}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},Qd=cu(i.Cos,(e=>Math.cos(e))),ep={kernelName:i.Cos,backendName:"cpu",kernelFunc:Qd},tp=cu(i.Cosh,(e=>Math.cosh(e))),np={kernelName:i.Cosh,backendName:"cpu",kernelFunc:tp};const ap={kernelName:i.CropAndResize,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r,boxes:s,boxInd:o}=t,{cropSize:l,method:c,extrapolationValue:u}=a,[d,p,h,m]=r.shape,f=s.shape[0],[g,b]=l,y=(0,i.buffer)([f,g,b,m],"float32"),v=n.data.get(s.dataId).values,k=n.data.get(o.dataId).values,x=n.data.get(r.dataId).values,w=i.util.computeStrides(r.shape),S=i.util.computeStrides(y.shape);for(let e=0;e<f;e++){const t=4*e,n=v[t],a=v[t+1],i=v[t+2],r=v[t+3],s=k[e];if(s>=d)continue;const o=g>1?(i-n)*(p-1)/(g-1):0,l=b>1?(r-a)*(h-1)/(b-1):0;for(let t=0;t<g;t++){const d=g>1?n*(p-1)+t*o:.5*(n+i)*(p-1);if(d<0||d>p-1)for(let n=0;n<b;n++)for(let a=0;a<m;a++){const i=a+n*S[2]+t*S[1]+e*S[0];y.values[i]=u}else if("bilinear"===c){const n=Math.floor(d),i=Math.ceil(d),o=d-n;for(let c=0;c<b;c++){const d=b>1?a*(h-1)+c*l:.5*(a+r)*(h-1);if(d<0||d>h-1){for(let n=0;n<m;n++){const a=n+c*S[2]+t*S[1]+e*S[0];y.values[a]=u}continue}const p=Math.floor(d),f=Math.ceil(d),g=d-p;for(let a=0;a<m;a++){let r=a+p*w[2]+n*w[1]+s*w[0];const l=x[r];r=a+f*w[2]+n*w[1]+s*w[0];const u=x[r];r=a+p*w[2]+i*w[1]+s*w[0];const d=x[r];r=a+f*w[2]+i*w[1]+s*w[0];const h=l+(u-l)*g,m=d+(x[r]-d)*g;r=a+c*S[2]+t*S[1]+e*S[0],y.values[r]=h+(m-h)*o}}}else for(let n=0;n<b;++n){const i=b>1?a*(h-1)+n*l:.5*(a+r)*(h-1);if(i<0||i>h-1){for(let a=0;a<m;a++){const i=a+n*S[2]+t*S[1]+e*S[0];y.values[i]=u}continue}const o=Math.round(i),c=Math.round(d);for(let a=0;a<m;a++){const i=a+o*w[2]+c*w[1]+s*w[0],r=a+n*S[2]+t*S[1]+e*S[0];y.values[r]=x[i]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const ip={kernelName:i.Cumprod,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,exclusive:o,reverse:l}=a;su(r,"cumprod");const c=i.backend_util.getAxesPermutation([s],r.shape.length);let u=r;null!=c&&(u=nd({inputs:{x:r},backend:n,attrs:{perm:c}}));const d=i.backend_util.getInnerMostAxes(1,r.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);const p=(0,i.upcastType)(u.dtype,"int32"),h=i.util.makeOnesTypedArray(i.util.sizeFromShape(u.shape),p),m=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],g=l?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<m.length;e+=f)for(let t=0;t<f;t++){const n=g(e,t);if(0===t)h[n]=o?1:m[n];else{const a=g(e,t-1);h[n]=o?m[a]*h[a]:m[n]*h[a]}}const b=n.makeTensorInfo(u.shape,p,h);if(null!=c){const e=nd({inputs:{x:b},backend:n,attrs:{perm:i.backend_util.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(u),e}return b}};const rp={kernelName:i.Cumsum,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,exclusive:o,reverse:l}=a;su(r,"cumsum");const c=i.backend_util.getAxesPermutation([s],r.shape.length);let u=r;null!=c&&(u=nd({inputs:{x:r},backend:n,attrs:{perm:c}}));const d=i.backend_util.getInnerMostAxes(1,r.shape.length)[0];if(d!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${d}`);const p=(0,i.upcastType)(u.dtype,"int32"),h=i.util.makeZerosTypedArray(i.util.sizeFromShape(u.shape),p),m=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],g=l?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<m.length;e+=f)for(let t=0;t<f;t++){const n=g(e,t);if(0===t)h[n]=o?0:m[n];else{const a=g(e,t-1);h[n]=o?m[a]+h[a]:m[n]+h[a]}}const b=n.makeTensorInfo(u.shape,p,h);if(null!=c){const e=nd({inputs:{x:b},backend:n,attrs:{perm:i.backend_util.getUndoAxesPermutation(c)}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(u),e}return b}};const sp={kernelName:i.DenseBincount,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i,weights:r}=t,{size:s,binaryOutput:o}=a;if(1===i.shape.length){const e=Rd(n.data.get(i.dataId).values,n.data.get(r.dataId).values,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,e)}if(2===i.shape.length){const e=Md(n.bufferSync(i),n.bufferSync(r),s,o);return n.makeTensorInfo(e.shape,r.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${i.shape.length}.`)}};const op={kernelName:i.DepthToSpace,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockSize:s,dataFormat:o}=a;i.util.assert("NHWC"===o,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`));const l=r.shape[0],c=r.shape[1],u=r.shape[2],d=r.shape[3],p=c*s,h=u*s,m=d/(s*s),f=n.data.get(r.dataId).values,g=new Float32Array(l*p*h*m);let b=0;for(let e=0;e<l;++e)for(let t=0;t<p;++t){const n=Math.floor(t/s),a=t%s;for(let t=0;t<h;++t){const i=Math.floor(t/s),r=(a*s+t%s)*m;for(let t=0;t<m;++t){const a=t+r+d*(i+u*(n+c*e));g[b++]=f[a]}}}return n.makeTensorInfo([l,p,h,m],r.dtype,g)}};function lp(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dilations:c,dimRoundingMode:u}=a;su([r,s],"depthwiseConv2DNative");const d=i.util.computeStrides(r.shape),p=i.util.computeStrides(s.shape);let h=c;null==h&&(h=[1,1]),i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(o,h),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${h}'`));const m=i.backend_util.computeConv2DInfo(r.shape,s.shape,o,h,l,u,!0),{filterHeight:f,filterWidth:g,dilationHeight:b,dilationWidth:y,padInfo:v}=m,k=v.left,x=v.top,w=m.outChannels/m.inChannels,S=new i.TensorBuffer(m.outShape,r.dtype),C=n.data.get(r.dataId).values,T=n.data.get(s.dataId).values,_=S.values;for(let e=0;e<m.batchSize;++e){const t=e*d[0],n=e*S.strides[0];for(let e=0;e<m.outHeight;++e){const a=n+e*S.strides[1],i=e*m.strideHeight-x;for(let e=0;e<f;++e){const n=i+e*b;if(n<0||n>=m.inHeight)continue;const r=e*p[0],s=t+n*d[1];for(let e=0;e<m.outWidth;++e){const t=a+e*S.strides[2],n=e*m.strideWidth-k;for(let e=0;e<g;++e){const a=n+e*y;if(a<0||a>=m.inWidth)continue;const i=r+e*p[1],o=s+a*m.inChannels;let l=t,c=i;for(let e=0;e<m.inChannels;++e){const t=C[o+e];for(let e=0;e<w;++e)_[l+e]+=t*T[c+e];l+=w,c+=w}}}}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}const cp={kernelName:i.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:lp};const up={kernelName:i.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:s}=t,{strides:o,dilations:l,pad:c,dimRoundingMode:u,filterShape:d}=a;su([r,s],"depthwiseConv2dNativeBackpropFilter");const p=i.backend_util.computeConv2DInfo(r.shape,d,o,l,c,u,!0),{strideHeight:h,strideWidth:m,filterHeight:f,filterWidth:g}=p,b=new i.TensorBuffer(p.filterShape,"float32"),y=p.padInfo.left,v=p.padInfo.top,k=p.outChannels/p.inChannels,x=n.data.get(r.dataId).values,w=new i.TensorBuffer(r.shape,r.dtype,x),S=n.data.get(s.dataId).values,C=new i.TensorBuffer(s.shape,s.dtype,S);for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((v-e)/h)),n=Math.min(p.outHeight,(p.inHeight+v-e)/h);for(let a=0;a<g;++a){const i=Math.max(0,Math.ceil((y-a)/m)),r=Math.min(p.outWidth,(p.inWidth+y-a)/m);for(let s=0;s<p.outChannels;++s){const o=Math.trunc(s/k),l=s%k;let c=0;for(let l=0;l<p.batchSize;++l)for(let u=t;u<n;++u){const t=e+u*h-v;for(let e=i;e<r;++e){const n=a+e*m-y;c+=w.get(l,t,n,o)*C.get(l,u,e,s)}}b.set(c,e,a,o,l)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const dp={kernelName:i.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:s}=t,{strides:o,dilations:l,pad:c,dimRoundingMode:u,inputShape:d}=a;su([r,s],"depthwiseConv2DNativeBackpropInput");const p=i.util.computeStrides(r.shape),h=i.util.computeStrides(s.shape),m=i.backend_util.computeConv2DInfo(d,s.shape,o,l,c,u,!0),f=new i.TensorBuffer(m.inShape,"float32"),g=f.values,[b,y,v]=f.strides,k=n.data.get(r.dataId).values,[x,w,S]=p,C=n.data.get(s.dataId).values,[T,_,I]=h,{batchSize:A,filterHeight:N,filterWidth:E,inChannels:R,inHeight:M,inWidth:D,outChannels:$,outHeight:B,outWidth:L,strideHeight:F,strideWidth:O}=m,j=N-1-m.padInfo.top,z=E-1-m.padInfo.left,P=$/R;for(let e=0;e<A;++e)for(let t=0;t<R;++t)for(let n=0;n<M;++n){const a=n-j,i=Math.max(0,Math.ceil(a/F)),r=Math.min(B,(N+a)/F);for(let s=0;s<D;++s){const o=s-z,l=Math.max(0,Math.ceil(o/O)),c=Math.min(L,(E+o)/O);let u=0;for(let n=i;n<r;++n){const i=n*F-a;for(let a=l;a<c;++a){const r=x*e+w*n+S*a,s=T*(N-1-i)+_*(E-1-(a*O-o))+I*t;for(let e=0;e<P;++e){u+=k[r+(t*P+e)]*C[s+e]}}}g[b*e+y*n+v*s+t]=u}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const pp={kernelName:i.Diag,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=i.util.sizeFromShape(a.shape),s=n.data.get(a.dataId).values,o=(0,i.buffer)([r,r],a.dtype),l=o.values;for(let e=0;e<s.length;e++)l[e*r+e]=s[e];const c=[...a.shape,...a.shape];return n.makeTensorInfo(c,o.dtype,o.values)}},hp={kernelName:i.Dilation2D,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a,filter:r}=e,{strides:s,pad:o,dilations:l}=n,c=t,u=c.data.get(a.dataId).values,d=a.shape.length,p=c.data.get(r.dataId).values,h=r.shape.length,{batchSize:m,inHeight:f,inWidth:g,inChannels:b,outHeight:y,outWidth:v,padInfo:k,strideHeight:x,strideWidth:w,filterHeight:S,filterWidth:C,dilationHeight:T,dilationWidth:_,outShape:I}=i.backend_util.computeDilation2DInfo(a.shape,r.shape,s,o,"NHWC",l),A=i.util.sizeFromShape(I),N=I.length,E=i.util.getArrayFromDType(a.dtype,A);for(let e=0;e<m;++e)for(let t=0;t<y;++t){const n=t*x-k.top;for(let s=0;s<v;++s){const o=s*w-k.left;for(let l=0;l<b;++l){let c=Number.MIN_SAFE_INTEGER;for(let t=0;t<S;++t){const s=n+t*T;if(s>=0&&s<f)for(let n=0;n<C;++n){const m=o+n*_;if(m>=0&&m<g){const o=i.util.locToIndex([e,s,m,l],d,i.util.computeStrides(a.shape)),f=i.util.locToIndex([t,n,l],h,i.util.computeStrides(r.shape)),g=u[o]+p[f];g>c&&(c=g)}}}E[i.util.locToIndex([e,t,s,l],N,i.util.computeStrides(I))]=c}}}return{dataId:c.write(i.util.toTypedArray(E,a.dtype),I,a.dtype),shape:I,dtype:a.dtype}}},mp={kernelName:i.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a,filter:r,dy:s}=e,{strides:o,pad:l,dilations:c}=n,u=t,d=i.util.toNestedArray(a.shape,u.data.get(a.dataId).values),p=i.util.toNestedArray(r.shape,u.data.get(r.dataId).values),{batchSize:h,inHeight:m,inWidth:f,inChannels:g,outHeight:b,outWidth:y,padInfo:v,strideHeight:k,strideWidth:x,filterHeight:w,filterWidth:S,dilationHeight:C,dilationWidth:T,outShape:_}=i.backend_util.computeDilation2DInfo(a.shape,r.shape,o,l,"NHWC",c);i.util.assert(s.rank===_.length,(()=>`Error in ${i.Dilation2DBackpropFilter}, dy must have the same rank as output ${_.length}, but got ${s.rank}`));const I=i.util.toNestedArray(_,u.data.get(s.dataId).values),A=i.util.makeZerosNestedTypedArray(r.shape,r.dtype);for(let e=0;e<h;++e)for(let t=0;t<b;++t){const n=t*k-v.top;for(let a=0;a<y;++a){const i=a*x-v.left;for(let r=0;r<g;++r){let s=Number.MIN_SAFE_INTEGER,o=0,l=0;for(let t=0;t<w;++t){const a=n+t*C;if(a>=0&&a<m)for(let n=0;n<S;++n){const c=i+n*T;if(c>=0&&c<f){const i=d[e][a][c][r]+p[t][n][r];i>s&&(s=i,o=t,l=n)}}}A[o][l][r]+=I[e][t][a][r]}}}return{dataId:u.write(i.util.toTypedArray(A,a.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},fp={kernelName:i.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a,filter:r,dy:s}=e,{strides:o,pad:l,dilations:c}=n,u=t,d=i.util.toNestedArray(a.shape,u.data.get(a.dataId).values),p=i.util.toNestedArray(r.shape,u.data.get(r.dataId).values),{batchSize:h,inHeight:m,inWidth:f,inChannels:g,outHeight:b,outWidth:y,padInfo:v,strideHeight:k,strideWidth:x,filterHeight:w,filterWidth:S,dilationHeight:C,dilationWidth:T,outShape:_}=i.backend_util.computeDilation2DInfo(a.shape,r.shape,o,l,"NHWC",c);i.util.assert(s.rank===_.length,(()=>`Error in ${i.Dilation2DBackpropInput}, dy must have the same rank as output ${_.length}, but got ${s.rank}`));const I=i.util.toNestedArray(_,u.data.get(s.dataId).values),A=i.util.makeZerosNestedTypedArray(a.shape,a.dtype);for(let e=0;e<h;++e)for(let t=0;t<b;++t){const n=t*k-v.top;for(let a=0;a<y;++a){const i=a*x-v.left;for(let r=0;r<g;++r){let s=Number.MIN_SAFE_INTEGER,o=n<0?0:n,l=i<0?0:i;for(let t=0;t<w;++t){const a=n+t*C;if(a>=0&&a<m)for(let n=0;n<S;++n){const c=i+n*T;if(c>=0&&c<f){const i=d[e][a][c][r]+p[t][n][r];i>s&&(s=i,o=a,l=c)}}}A[e][o][l][r]+=I[e][t][a][r]}}}return{dataId:u.write(i.util.toTypedArray(A,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},gp=bu(((e,t)=>e*t)),bp=Ou(((e,t,n,a)=>({real:e*n-t*a,imag:e*a+t*n}))),yp=Fu(i.Multiply,gp,bp),vp={kernelName:i.Multiply,backendName:"cpu",kernelFunc:yp};function kp(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a;let l;su(r,"sum"),l="bool"===r.dtype?Bu({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):hu({inputs:{x:r},backend:n});const c=l.shape.length,u=i.util.parseAxisParam(s,l.shape),d=i.backend_util.getAxesPermutation(u,c);let p=u,h=l;null!=d&&(h=nd({inputs:{x:l},backend:n,attrs:{perm:d}}),p=i.backend_util.getInnerMostAxes(p.length,c)),i.backend_util.assertAxesAreInnerMostDims("sum",p,h.shape.length);const[m,f]=i.backend_util.computeOutAndReduceShapes(h.shape,p);let g=Mu(n,m,i.backend_util.upcastType(h.dtype,"int32"));const b=i.util.sizeFromShape(f),y=n.data.get(g.dataId).values,v=n.data.get(h.dataId).values;for(let e=0;e<y.length;++e){const t=e*b;let n=0;for(let e=0;e<b;++e)n+=v[t+e];y[e]=n}if(o){const e=g;g=Gu({inputs:{x:g},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(g.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(l),null!=d&&n.disposeIntermediateTensorInfo(h),g}const xp={kernelName:i.Sum,backendName:"cpu",kernelFunc:kp};const wp={kernelName:i.Einsum,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,s=t,{allDims:o,summedDims:l,idDims:c}=i.backend_util.decodeEinsumEquation(r,s.length);i.backend_util.checkEinsumDimSizes(o.length,c,s);const{path:u,steps:d}=i.backend_util.getEinsumComputePath(l,c),p=d.length;let h=null,m=o.length;const f=[];for(let e=0;e<p;++e){for(const t of d[e]){const{permutationIndices:e,expandDims:a}=i.backend_util.getEinsumPermutation(m,c[t]);let r;i.backend_util.isIdentityPermutation(e)?r=s[t]:(r=nd({inputs:{x:s[t]},backend:n,attrs:{perm:e}}),f.push(r));const o=r.shape.slice();for(let e=0;e<a.length;++e)o.splice(a[e],0,1);i.util.arraysEqual(r.shape,o)||(r=Gu({inputs:{x:r},backend:n,attrs:{shape:o}}),f.push(r)),null===h?h=r:(h=yp({inputs:{a:r,b:h},backend:n}),f.push(h))}e<p-1&&(u[e]>=0&&(h=kp({inputs:{x:h},backend:n,attrs:{axis:u[e]-(o.length-m),keepDims:!1}}),f.push(h)),m--)}for(const e of f)e!==h&&n.disposeIntermediateTensorInfo(e);return h}};const Sp={kernelName:i.EluGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:a,y:r}=t;su([a,r],"eluGrad");const s=new Float32Array(i.util.sizeFromShape(r.shape)),o=n.data.get(r.dataId).values,l=n.data.get(a.dataId).values;for(let e=0;e<o.length;++e){const t=o[e];s[e]=t>=1?l[e]:l[e]*(t+1)}return n.makeTensorInfo(r.shape,"float32",s)}},Cp=bu(((e,t)=>e===t?1:0)),Tp=Fu(i.Equal,Cp,null,"bool"),_p={kernelName:i.Equal,backendName:"cpu",kernelFunc:Tp},Ip=i.backend_util.ERF_P,Ap=i.backend_util.ERF_A1,Np=i.backend_util.ERF_A2,Ep=i.backend_util.ERF_A3,Rp=i.backend_util.ERF_A4,Mp=i.backend_util.ERF_A5,Dp=cu(i.Erf,(e=>{const t=Math.sign(e),n=Math.abs(e),a=1/(1+Ip*n);return t*(1-((((Mp*a+Rp)*a+Ep)*a+Np)*a+Ap)*a*Math.exp(-n*n))})),$p={kernelName:i.Erf,backendName:"cpu",kernelFunc:Dp},Bp=Tu((e=>Math.exp(e))),Lp=uu(i.Exp,Bp,"float32"),Fp={kernelName:i.Exp,backendName:"cpu",kernelFunc:Lp};function Op(e){const{inputs:t,backend:n,attrs:a}=e,{input:r}=t,{dim:s}=a,o=r.shape.length,l=r.shape.slice();let c=s;return s<0&&(i.util.assert(-(o+1)<=s,(()=>`Axis must be in the interval [${-(o+1)}, ${o}]`)),c=o+s+1),l.splice(c,0,1),Gu({inputs:{x:r},backend:n,attrs:{shape:l}})}const jp={kernelName:i.ExpandDims,backendName:"cpu",kernelFunc:Op},zp=Tu((e=>Math.expm1(e))),Pp=uu(i.Expm1,zp),Wp={kernelName:i.Expm1,backendName:"cpu",kernelFunc:Pp},Gp=bu(((e,t)=>e/t)),Vp=Fu(i.RealDiv,Gp),Up={kernelName:i.RealDiv,backendName:"cpu",kernelFunc:Vp},Hp=bu(((e,t)=>e-t)),qp=Ou(((e,t,n,a)=>({real:e-n,imag:t-a}))),Kp=Fu(i.Sub,Hp,qp),Jp={kernelName:i.Sub,backendName:"cpu",kernelFunc:Kp};function Xp(e,t,n){const a=e.shape,r=a[0],s=a[1],o=n.data.get(e.dataId),l=o.complexTensorInfos.real,c=o.complexTensorInfos.imag,u=[r,s],d=i.util.sizeFromShape(u),p=i.util.getTypedArrayFromDType("float32",d),h=i.util.getTypedArrayFromDType("float32",d);for(let e=0;e<r;e++){const a=Ad({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,s]}}),r=Ad({inputs:{x:c},backend:n,attrs:{begin:[e,0],size:[1,s]}}),o=Eu({inputs:{real:a,imag:r},backend:n}),{real:u,imag:d}=Yp(o,t,n),m=i.backend_util.mergeRealAndImagArrays(u,d);for(let t=0;t<s;t++){const n=i.backend_util.getComplexWithIndex(m,t);p[e*s+t]=n.real,h[e*s+t]=n.imag}n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o)}const m=n.makeTensorInfo(u,"float32",p),f=n.makeTensorInfo(u,"float32",h),g=Eu({inputs:{real:m,imag:f},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),g}function Yp(e,t,n){const a=i.util.sizeFromShape(e.shape),r=n.data.get(e.dataId),s=n.data.get(r.complexTensorInfos.real.dataId).values,o=n.data.get(r.complexTensorInfos.imag.dataId).values;if(0==((l=a)&l-1)){const r=Zp(s,o,a,t,n),l=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(l,"float32",r.real),t=n.makeTensorInfo(l,"float32",r.imag),s=n.makeTensorInfo([],"float32",i.util.createScalarValue(a,"float32")),o=hu({inputs:{x:s},backend:n}),c=Up.kernelFunc({inputs:{a:e,b:s},backend:n}),u=Up.kernelFunc({inputs:{a:t,b:o},backend:n}),d=n.data.get(c.dataId).values,p=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),{real:d,imag:p}}return r}{const e=function(e,t,n){const a=new Float32Array(2*t);for(let r=0;r<t;r++){let s=0,o=0;for(let a=0;a<t;a++){const l=i.backend_util.exponent(r*a,t,n),c=i.backend_util.getComplexWithIndex(e,a);s+=c.real*l.real-c.imag*l.imag,o+=c.real*l.imag+c.imag*l.real}n&&(s/=t,o/=t),i.backend_util.assignToTypedArray(a,s,o,r)}return a}(i.backend_util.mergeRealAndImagArrays(s,o),a,t);return i.backend_util.splitRealAndImagArrays(e)}var l}function Zp(e,t,n,a,r){if(1===n)return{real:e,imag:t};const s=i.backend_util.mergeRealAndImagArrays(e,t),o=n/2,l=i.backend_util.complexWithEvenIndex(s),c=l.real,u=l.imag,d=[c.length],p=r.makeTensorInfo(d,"float32",c),h=r.makeTensorInfo(d,"float32",u),m=Eu({inputs:{real:p,imag:h},backend:r}),f=i.backend_util.complexWithOddIndex(s),g=f.real,b=f.imag,y=[g.length],v=r.makeTensorInfo(y,"float32",g),k=r.makeTensorInfo(y,"float32",b),x=Eu({inputs:{real:v,imag:k},backend:r}),w=Zp(c,u,o,a,r),S=w.real,C=w.imag,T=[S.length],_=r.makeTensorInfo(T,"float32",S),I=r.makeTensorInfo(T,"float32",C),A=Eu({inputs:{real:_,imag:I},backend:r}),N=Zp(g,b,o,a,r),E=N.real,R=N.imag,M=[E.length],D=r.makeTensorInfo(M,"float32",E),$=r.makeTensorInfo(M,"float32",R),B=Eu({inputs:{real:D,imag:$},backend:r}),L=i.backend_util.exponents(n,a),F=[L.real.length],O=r.makeTensorInfo(F,"float32",L.real),j=r.makeTensorInfo(F,"float32",L.imag),z=Eu({inputs:{real:O,imag:j},backend:r}),P=yp({inputs:{a:z,b:B},backend:r}),W=Pu({inputs:{a:A,b:P},backend:r}),G=Kp({inputs:{a:A,b:P},backend:r}),V=Du({inputs:{input:W},backend:r}),U=Du({inputs:{input:G},backend:r}),H=Wd({inputs:{input:W},backend:r}),q=Wd({inputs:{input:G},backend:r}),K=Vd({inputs:[V,U],backend:r,attrs:{axis:0}}),J=Vd({inputs:[H,q],backend:r,attrs:{axis:0}}),X=r.data.get(K.dataId).values,Y=r.data.get(J.dataId).values;return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(k),r.disposeIntermediateTensorInfo(x),r.disposeIntermediateTensorInfo(_),r.disposeIntermediateTensorInfo(I),r.disposeIntermediateTensorInfo(A),r.disposeIntermediateTensorInfo(D),r.disposeIntermediateTensorInfo($),r.disposeIntermediateTensorInfo(B),r.disposeIntermediateTensorInfo(O),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(z),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(H),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(K),r.disposeIntermediateTensorInfo(J),{real:X,imag:Y}}const Qp={kernelName:i.FFT,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t,r=i.util.sizeFromShape(a.shape),s=a.shape[a.shape.length-1],o=Gu({inputs:{x:a},backend:n,attrs:{shape:[r/s,s]}}),l=Xp(o,!1,n),c=Gu({inputs:{x:l},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}};function eh(e){const{backend:t,attrs:n}=e,{shape:a,value:r,dtype:s}=n,o=s||i.util.inferDtype(r),l=i.util.getArrayFromDType(o,i.util.sizeFromShape(a));return function(e,t,n){e.fill(t)}(l,r),t.makeTensorInfo(a,o,l)}const th={kernelName:i.Fill,backendName:"cpu",kernelFunc:eh};const nh={kernelName:i.FlipLeftRight,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:a}=e,r=n,s=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(a.shape)),[o,l,c,u]=a.shape,d=r.data.get(a.dataId).values;for(let e=0;e<o;e++){const t=e*c*l*u;for(let e=0;e<l;e++){const n=e*(c*u);for(let e=0;e<c;e++){const a=e*u;for(let i=0;i<u;i++){const r=Math.round(c-e-1),o=t+n+a+i;let l=d[o];if(r>=0&&r<c){l=d[t+n+r*u+i]}s[o]=l}}}}return{dataId:r.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},ah=Tu((e=>Math.floor(e))),ih=uu(i.Floor,ah),rh={kernelName:i.Floor,backendName:"cpu",kernelFunc:ih},sh=bu(((e,t)=>Math.floor(e/t))),oh=Fu(i.FloorDiv,sh,null,"int32"),lh={kernelName:i.FloorDiv,backendName:"cpu",kernelFunc:oh};const ch={kernelName:i.FusedConv2D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i,filter:r,bias:s,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:m}=a;let f=Hd({inputs:{x:i,filter:r},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p}});if(s){const e=f;if("NCHW"===u&&1===s.shape.length&&1!==s.shape[0]){const e=Gu({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});f=Pu({inputs:{a:f,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else f=Pu({inputs:{a:f,b:s},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=f;if("NCHW"===u&&"prelu"===h&&1===o.shape.length&&1!==o.shape[0]){const e=Gu({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});f=Nu(n,f,h,e,m),n.disposeIntermediateTensorInfo(e)}else f=Nu(n,f,h,o,m);n.disposeIntermediateTensorInfo(e)}return f}};const uh={kernelName:i.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i,filter:r,bias:s,preluActivationWeights:o}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:m}=a;let f=lp({inputs:{x:i,filter:r},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:p}});if(s){const e=f;f=Pu({inputs:{a:f,b:s},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=f;f=Nu(n,f,h,o,m),n.disposeIntermediateTensorInfo(e)}return f}};function dh(e,t,n,a,r,s,o,l,c){const u=(0,i.buffer)([a,s],n);for(let n=0;n<a;n++){const a=[];let i=0;for(let t=0;t<r;t++){const s=e[n*r+t];i+=s*o[t],a.push(s)}if(i<0||i>=c/s)throw new Error(`Invalid indices: ${a} does not index into ${l}`);for(let e=0;e<s;e++)u.values[n*s+e]=t.get(...t.indexToLoc(i*s+e))}return u}const ph={kernelName:i.GatherNd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,s=i.util.sizeFromShape(a.shape),o=r.shape,l=o[o.length-1],[c,u,d,p]=i.backend_util.prepareAndValidate(a,r);if(0===u)return n.makeTensorInfo(c,a.dtype,[]);const h=dh(n.data.get(r.dataId).values,n.bufferSync(a),a.dtype,u,l,d,p,a.shape,s);return n.makeTensorInfo(c,a.dtype,h.values)}};function hh(e,t,n){const a=(0,i.buffer)(n,e.dtype);for(let n=0;n<a.size;++n){const i=a.indexToLoc(n).slice(),r=i[0],s=i[2],o=t.locToIndex([r,s]);i[2]=t.values[o];const l=e.locToIndex(i);0<=l&&l<e.values.length&&(a.values[n]=e.values[l])}return a}const mh={kernelName:i.GatherV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:s}=t,{axis:o,batchDims:l}=a;su([r,s],"gatherV2");const c=i.util.parseAxisParam(o,r.shape)[0],u=n.data.get(s.dataId).values,d=r.shape[c];for(let e=0;e<u.length;++e){const t=u[e];i.util.assert(t<=d-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${d-1}]`))}let p=l;null==l&&(p=0);const h=i.util.sizeFromShape(s.shape),m=i.backend_util.segment_util.collectGatherOpShapeInfo(r,s,c,p),f=Gu({inputs:{x:r},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),g=Gu({inputs:{x:s},backend:n,attrs:{shape:[m.batchSize,h/m.batchSize]}}),b=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],y=n.bufferSync(g),v=hh(n.bufferSync(f),y,b);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),n.makeTensorInfo(m.outputShape,v.dtype,v.values)}},fh=bu(((e,t)=>e>t?1:0)),gh=Fu(i.Greater,fh,null,"bool"),bh={kernelName:i.Greater,backendName:"cpu",kernelFunc:gh},yh=bu(((e,t)=>e>=t?1:0)),vh=Fu(i.GreaterEqual,yh,null,"bool"),kh={kernelName:i.GreaterEqual,backendName:"cpu",kernelFunc:vh};const xh={kernelName:i.IFFT,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t,r=i.util.sizeFromShape(a.shape),s=a.shape[a.shape.length-1],o=Gu({inputs:{x:a},backend:n,attrs:{shape:[r/s,s]}}),l=Xp(o,!0,n),c=Gu({inputs:{x:l},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),c}},wh=cu(i.IsFinite,(e=>Number.isFinite(e)?1:0),"bool"),Sh={kernelName:i.IsFinite,backendName:"cpu",kernelFunc:wh},Ch=cu(i.IsInf,(e=>Math.abs(e)===1/0?1:0),"bool"),Th={kernelName:i.IsInf,backendName:"cpu",kernelFunc:Ch},_h=cu(i.IsNan,(e=>Number.isNaN(e)?1:0),"bool"),Ih={kernelName:i.IsNan,backendName:"cpu",kernelFunc:_h},Ah=bu(((e,t)=>e<t?1:0)),Nh=Fu(i.Less,Ah,null,"bool"),Eh={kernelName:i.Less,backendName:"cpu",kernelFunc:Nh},Rh=bu(((e,t)=>e<=t?1:0)),Mh=Fu(i.LessEqual,Rh,null,"bool"),Dh={kernelName:i.LessEqual,backendName:"cpu",kernelFunc:Mh};function $h(e,t,n){const a=(t-e)/(n-1),r=i.util.makeZerosTypedArray(n,"float32");r[0]=e;for(let e=1;e<r.length;e++)r[e]=r[e-1]+a;return r}const Bh={kernelName:i.LinSpace,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:i,num:r}=n,s=$h(a,i,r);return t.makeTensorInfo([s.length],"float32",s)}},Lh=Tu((e=>Math.log(e))),Fh=uu(i.Log,Lh),Oh={kernelName:i.Log,backendName:"cpu",kernelFunc:Fh},jh=cu(i.Log1p,(e=>Math.log1p(e))),zh={kernelName:i.Log1p,backendName:"cpu",kernelFunc:jh},Ph=bu(((e,t)=>e&&t)),Wh=Fu(i.LogicalAnd,Ph,null,"bool"),Gh={kernelName:i.LogicalAnd,backendName:"cpu",kernelFunc:Wh},Vh=cu(i.LogicalNot,(e=>e?0:1),"bool"),Uh={kernelName:i.LogicalNot,backendName:"cpu",kernelFunc:Vh},Hh=bu(((e,t)=>e||t)),qh=Fu(i.LogicalOr,Hh,null,"bool"),Kh={kernelName:i.LogicalOr,backendName:"cpu",kernelFunc:qh};const Jh={kernelName:i.LRN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:s,bias:o,alpha:l,beta:c}=a;su(r,"LRN");const u=r.shape[3],d=u-1,p=n.data.get(r.dataId).values,h=i.util.sizeFromShape(r.shape),m=new Float32Array(h);function f(e){const t=e%u;let n=e-t+Math.max(0,t-s);const a=e-t+Math.min(t+s,d);let i=0;for(;n<=a;n++){const e=p[n];i+=e*e}return i}for(let e=0;e<h;e++){const t=f(e),n=p[e]*Math.pow(o+l*t,-c);m[e]=n}return n.makeTensorInfo(r.shape,r.dtype,m)}};const Xh={kernelName:i.LRNGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,y:s,dy:o}=t,{depthRadius:l,bias:c,alpha:u,beta:d}=a;su(o,"LRNGrad");const p=i.util.sizeFromShape(o.shape),h=o.shape[3],m=n.data.get(o.dataId).values,f=n.data.get(r.dataId).values,g=n.data.get(s.dataId).values,b=new Float32Array(p),y=p;for(let e=0;e<y;e++){const t=e%h,n=e-t+Math.max(0,t-l),a=e-t+Math.min(h,t+l+1);let i=0;for(let e=n;e<a;e++)i+=Math.pow(f[e],2);i=u*i+c;for(let t=n;t<a;t++){let n=-2*u*d*f[t]*g[e]/i;e===t&&(n+=Math.pow(i,-d)),n*=m[e],b[t]+=n}}return n.makeTensorInfo(o.shape,r.dtype,b)}};function Yh(e,t,n,a){const r=i.util.getTypedArrayFromDType(a,i.util.sizeFromShape(n));for(let n=0;n<r.length;++n){const a=n*t;let i=e[a];for(let n=0;n<t;++n){const t=e[a+n];(Number.isNaN(t)||t>i)&&(i=t)}r[n]=i}return r}function Zh(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:s,keepDims:o}=a,l=n;let c=r.shape;const u=c.length,d=i.util.parseAxisParam(s,c);let p=d;const h=i.backend_util.getAxesPermutation(p,u);let m=l.data.get(r.dataId).values;if(null!=h){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=c[h[t]];m=td(m,c,r.dtype,h,e),p=i.backend_util.getInnerMostAxes(p.length,u),c=e}su(r,"max"),i.backend_util.assertAxesAreInnerMostDims("max",p,u);const[f,g]=i.backend_util.computeOutAndReduceShapes(c,p),b=Yh(m,i.util.sizeFromShape(g),f,r.dtype),y=l.write(b,f,r.dtype);let v=f;if(o){v=i.backend_util.expandShapeToKeepDim(f,d)}return{dataId:y,shape:v,dtype:r.dtype}}const Qh={kernelName:i.Max,backendName:"cpu",kernelFunc:Zh},em=bu(((e,t)=>Math.max(e,t))),tm=Fu(i.Maximum,em),nm={kernelName:i.Maximum,backendName:"cpu",kernelFunc:tm};const am={kernelName:i.MaxPool,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;su(r,"maxPool");const{filterSize:s,strides:o,pad:l,dimRoundingMode:c}=a;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(o,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`));const u=i.backend_util.computePool2DInfo(r.shape,s,o,1,l,c);let d;if(1===u.filterWidth&&1===u.filterHeight&&i.util.arraysEqual(u.inShape,u.outShape))d=hu({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=i.util.computeStrides(r.shape),a=vd(e,r.shape,r.dtype,t,u,"max");d=n.makeTensorInfo(u.outShape,r.dtype,a.values)}return d}};const im={kernelName:i.MaxPool3D,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:c,dataFormat:u}=a;su(r,"maxPool3d");const d=i.backend_util.computePool3DInfo(r.shape,s,o,1,l,c,u),p=xd(n.data.get(r.dataId).values,r.shape,r.dtype,i.util.computeStrides(r.shape),d,"max");return n.makeTensorInfo(p.shape,"float32",p.values)}};const rm={kernelName:i.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s}=t,{filterSize:o,strides:l,pad:c,dimRoundingMode:u}=a;su([r,s],"maxPool3DGrad");const d=i.backend_util.computePool3DInfo(s.shape,o,l,1,c,u),p=function(e,t){const n=(0,i.buffer)(t.outShape,"int32"),a=t.strideDepth,r=t.strideHeight,s=t.strideWidth,o=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,u=t.effectiveFilterDepth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,h=t.padInfo.front,m=t.padInfo.top,f=t.padInfo.left;for(let i=0;i<t.batchSize;++i)for(let g=0;g<t.inChannels;++g)for(let b=0;b<t.outDepth;++b){const y=b*a-h;let v=y;for(;v<0;)v+=o;const k=Math.min(t.inDepth,u+y);for(let a=0;a<t.outHeight;++a){const u=a*r-m;let h=u;for(;h<0;)h+=l;const x=Math.min(t.inHeight,d+u);for(let r=0;r<t.outWidth;++r){const m=r*s-f;let w=m;for(;w<0;)w+=c;const S=Math.min(t.inWidth,p+m);let C=Number.NEGATIVE_INFINITY,T=-1;for(let t=v;t<k;t+=o){const n=t-y;for(let a=h;a<x;a+=l){const r=a-u;for(let s=w;s<S;s+=c){const o=s-m,l=e.get(i,t,a,s,g);l>=C&&(C=l,T=n*d*p+r*d+o)}}}n.set(T,i,b,a,r,g)}}}return n}(n.bufferSync(s),d),h=d.strideDepth,m=d.strideHeight,f=d.strideWidth,g=d.dilationDepth,b=d.dilationHeight,y=d.dilationWidth,v=d.effectiveFilterDepth,k=d.effectiveFilterHeight,x=d.effectiveFilterWidth,w=v-1-d.padInfo.front,S=x-1-d.padInfo.left,C=k-1-d.padInfo.top,T=(0,i.buffer)(s.shape,"float32"),_=n.bufferSync(r);for(let e=0;e<d.batchSize;++e)for(let t=0;t<d.inChannels;++t)for(let n=0;n<d.inDepth;++n)for(let a=0;a<d.inHeight;++a)for(let i=0;i<d.inWidth;++i){const r=n-w,s=a-C,o=i-S;let l=0;for(let n=0;n<v;n+=g){const a=(r+n)/h;if(!(a<0||a>=d.outDepth||Math.floor(a)!==a))for(let i=0;i<k;i+=b){const r=(s+i)/m;if(!(r<0||r>=d.outHeight||Math.floor(r)!==r))for(let s=0;s<x;s+=y){const c=(o+s)/f;if(c<0||c>=d.outWidth||Math.floor(c)!==c)continue;const u=v*k*x-1-p.get(e,a,r,c,t)===n*k*x+i*x+s?1:0;if(0===u)continue;l+=_.get(e,a,r,c,t)*u}}}T.set(l,e,n,a,i,t)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};const sm={kernelName:i.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s,output:o}=t,l=s;su([s,o],"maxPoolGrad");const{filterSize:c,strides:u,pad:d,dimRoundingMode:p}=a,h=i.backend_util.computePool2DInfo(l.shape,c,u,1,d,p),m=n.data.get(l.dataId).values,f=(0,i.buffer)(h.outShape,l.dtype,kd(m,l.shape,l.dtype,h).values),g=h.strideHeight,b=h.strideWidth,y=h.dilationHeight,v=h.dilationWidth,k=h.effectiveFilterHeight,x=h.effectiveFilterWidth,w=x-1-h.padInfo.left,S=k-1-h.padInfo.top,C=(0,i.buffer)(l.shape,"float32"),T=n.data.get(r.dataId).values,_=(0,i.buffer)(r.shape,"float32",T);for(let e=0;e<h.batchSize;++e)for(let t=0;t<h.inChannels;++t)for(let n=0;n<h.inHeight;++n)for(let a=0;a<h.inWidth;++a){const i=n-S,r=a-w;let s=0;for(let n=0;n<k;n+=y){const a=(i+n)/g;if(!(a<0||a>=h.outHeight||Math.floor(a)!==a))for(let i=0;i<x;i+=v){const o=(r+i)/b;if(o<0||o>=h.outWidth||Math.floor(o)!==o)continue;const l=k*x-1-f.get(e,a,o,t)===n*x+i?1:0;if(0===l)continue;s+=_.get(e,a,o,t)*l}}C.set(s,e,n,a,t)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const om={kernelName:i.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{filterSize:r,strides:s,pad:o,includeBatchInIndex:l}=t,c=n;su(a,"MaxPoolWithArgmax");const u=c.data.get(a.dataId).values,d=i.backend_util.computePool2DInfo(a.shape,r,s,[1,1],o),[p,h]=function(e,t,n,a,r){const s=vd(e,0,n,i.util.computeStrides(t),r,"max"),o=kd(e,t,n,r,!0,a);return[s.values,o.values]}(u,a.shape,a.dtype,l,d),m=c.write(p,d.outShape,a.dtype),f=c.write(h,d.outShape,a.dtype);return[{dataId:m,shape:d.outShape,dtype:a.dtype},{dataId:f,shape:d.outShape,dtype:"int32"}]}};const lm={kernelName:i.Mean,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a,l=i.util.parseAxisParam(s,r.shape),c=i.backend_util.computeOutAndReduceShapes(r.shape,l)[1],u=i.util.sizeFromShape(c),d=[],p=n.makeTensorInfo([],"float32",new Float32Array([u]));d.push(p);const h=Bu({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});d.push(h);const m=Vp({inputs:{a:h,b:p},backend:n});d.push(m);const f=kp({inputs:{x:m},backend:n,attrs:{axis:s,keepDims:o}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};const cm={kernelName:i.Min,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a;su(r,"min");const l=i.util.parseAxisParam(s,r.shape);let c=l;const u=i.backend_util.getAxesPermutation(c,r.shape.length);let d=r;null!=u&&(d=nd({inputs:{x:r},backend:n,attrs:{perm:u}}),c=i.backend_util.getInnerMostAxes(c.length,r.shape.length)),i.backend_util.assertAxesAreInnerMostDims("min",c,d.shape.length);const[p,h]=i.backend_util.computeOutAndReduceShapes(d.shape,c),m=i.util.sizeFromShape(h),f=i.util.makeZerosTypedArray(i.util.sizeFromShape(p),d.dtype),g=n.data.get(d.dataId).values;for(let e=0;e<f.length;++e){const t=e*m;let n=g[t];for(let e=0;e<m;++e){const a=g[t+e];(Number.isNaN(a)||a<n)&&(n=a)}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(d);const b=n.makeTensorInfo(p,d.dtype,f);if(o){const e=Gu({inputs:{x:b},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(p,l)}});return n.disposeIntermediateTensorInfo(b),e}return b}},um=bu(((e,t)=>Math.min(e,t))),dm=Fu(i.Minimum,um),pm={kernelName:i.Minimum,backendName:"cpu",kernelFunc:dm};const hm={kernelName:i.MirrorPad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:s,mode:o}=a;su(r,"mirrorPad");const l=s.map(((e,t)=>e[0]+r.shape[t]+e[1])),c=s.map((e=>e[0])),u=s.map(((e,t)=>e[0]+r.shape[t])),d="reflect"===o?0:1,p=n.data.get(r.dataId).values,h=r.shape.length,m=i.util.computeStrides(r.shape),f=i.util.sizeFromShape(l),g=l.length,b=i.util.computeStrides(l),y=i.util.getTypedArrayFromDType(r.dtype,f);for(let e=0;e<f;e++){let t=i.util.indexToLoc(e,g,b);for(let e=0;e<g;e++)t[e]<c[e]?t[e]=2*c[e]-t[e]-d:t[e]>=u[e]&&(t[e]=2*(u[e]-1)-t[e]+d);t=t.map(((e,t)=>e-c[t]));const n=i.util.locToIndex(t,h,m);y[e]=p[n]}return{dataId:n.write(y,l,r.dtype),shape:l,dtype:r.dtype}}},mm=bu(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),fm=Fu(i.Mod,mm),gm={kernelName:i.Mod,backendName:"cpu",kernelFunc:fm};function bm(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:s}=a,o=r.shape.length;let l=s;if(-1===l&&(l=o-1),l!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${l}`);const c=i.util.parseAxisParam([l],r.shape),u=Zh({inputs:{x:r},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),d=i.backend_util.expandShapeToKeepDim(u.shape,c),p=Gu({inputs:{x:u},backend:n,attrs:{shape:d}}),h=Kp({inputs:{a:r,b:p},backend:n}),m=Lp({inputs:{x:h},backend:n}),f=kp({inputs:{x:m},backend:n,attrs:{axis:c,keepDims:!1}}),g=Gu({inputs:{x:f},backend:n,attrs:{shape:d}}),b=Vp({inputs:{a:m,b:g},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),b}const ym={kernelName:i.Softmax,backendName:"cpu",kernelFunc:bm};const vm={kernelName:i.Multinomial,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:s,seed:o,normalized:l}=a;su(r,"multinomial");const c=l?r:bm({inputs:{logits:r},backend:n,attrs:{dim:-1}}),u=c.shape[0],d=c.shape[1],p=n.data.get(c.dataId).values,h=[u,s],m=i.util.makeZerosTypedArray(i.util.sizeFromShape(h),"int32");for(let e=0;e<u;++e){const t=e*d,n=new Float32Array(d-1);n[0]=p[t];for(let e=1;e<n.length;++e)n[e]=n[e-1]+p[t+e];const a=Nc.alea(o.toString()),i=e*s;for(let e=0;e<s;++e){const t=a();m[i+e]=n.length;for(let a=0;a<n.length;a++)if(t<n[a]){m[i+e]=a;break}}}return l||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",m)}};function km(e,t,n){const a=i.util.createScalarValue(-1,n);return gp([],t,a,e,n)}const xm={kernelName:i.Neg,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;su(a,"neg");const i=n.data.get(a.dataId).values,[r,s]=km(i,a.shape,a.dtype);return n.makeTensorInfo(s,a.dtype,r)}},wm=i.kernel_impls.nonMaxSuppressionV3Impl;const Sm={kernelName:i.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:i,scores:r}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l}=a;su(i,"NonMaxSuppression");const c=n.data.get(i.dataId).values,u=n.data.get(r.dataId).values,{selectedIndices:d}=wm(c,u,s,o,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},Cm=i.kernel_impls.nonMaxSuppressionV4Impl;const Tm={kernelName:i.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:i,scores:r}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,padToMaxOutputSize:c}=a;su(i,"NonMaxSuppressionPadded");const u=n.data.get(i.dataId).values,d=n.data.get(r.dataId).values,{selectedIndices:p,validOutputs:h}=Cm(u,d,s,o,l,c);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},_m=i.kernel_impls.nonMaxSuppressionV5Impl;const Im={kernelName:i.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:i,scores:r}=t,{maxOutputSize:s,iouThreshold:o,scoreThreshold:l,softNmsSigma:c}=a;su(i,"NonMaxSuppressionWithScore");const u=n.data.get(i.dataId).values,d=n.data.get(r.dataId).values,p=s,h=o,m=l,f=c,{selectedIndices:g,selectedScores:b}=_m(u,d,p,h,m,f);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([b.length],"float32",new Float32Array(b))]}},Am=bu(((e,t)=>e!==t?1:0)),Nm=Fu(i.NotEqual,Am,null,"bool"),Em={kernelName:i.NotEqual,backendName:"cpu",kernelFunc:Nm};const Rm={kernelName:i.OneHot,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{depth:s,onValue:o,offValue:l}=a;su(r,"oneHot");const c=i.util.sizeFromShape(r.shape),u=new Float32Array(c*s);u.fill(l);const d=n.data.get(r.dataId).values;for(let e=0;e<c;++e)d[e]>=0&&d[e]<s&&(u[e*s+d[e]]=o);return n.makeTensorInfo([...r.shape,s],"int32",u)}};function Mm(e){const{inputs:t,backend:n}=e,{x:a}=t;if("string"===a.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===a.dtype){const e=Du({inputs:{input:a},backend:n}),t=Mm({inputs:{x:e},backend:n}),i=Wd({inputs:{input:a},backend:n}),r=Mm({inputs:{x:i},backend:n}),s=Eu({inputs:{real:t,imag:r},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(r),s}return eh({backend:n,attrs:{shape:a.shape,value:0,dtype:a.dtype}})}const Dm={kernelName:i.ZerosLike,backendName:"cpu",kernelFunc:Mm};const $m={kernelName:i.OnesLike,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:i}=n;if("string"===i.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===i.dtype){const t=Du({inputs:{input:i},backend:a}),n=e({inputs:{x:t},backend:a}),r=Wd({inputs:{input:i},backend:a}),s=Mm({inputs:{x:r},backend:a}),o=Eu({inputs:{real:n,imag:s},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s),o}return eh({backend:a,attrs:{shape:i.shape,value:1,dtype:i.dtype}})}};function Bm(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return Op({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const s=t[0].shape,o=t[0].dtype;t.forEach((e=>{i.util.assertShapesMatch(s,e.shape,"All tensors passed to stack must have matching shapes"),i.util.assert(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const l=[],c=Vd({inputs:t.map((e=>{const t=Op({inputs:{input:e},backend:n,attrs:{dim:r}});return l.push(t),t})),backend:n,attrs:{axis:r}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const Lm={kernelName:i.Pack,backendName:"cpu",kernelFunc:Bm};const Fm={kernelName:i.PadV2,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:s,constantValue:o}=a;su(r,"pad");const l=s.map(((e,t)=>e[0]+r.shape[t]+e[1])),c=s.map((e=>e[0])),u=n.data.get(r.dataId).values,d=i.util.sizeFromShape(r.shape),p=r.shape.length,h=i.util.computeStrides(r.shape),m=i.util.sizeFromShape(l),f=l.length,g=i.util.computeStrides(l),b=i.util.getTypedArrayFromDType(r.dtype,m);0!==o&&b.fill(o);for(let e=0;e<d;e++){const t=i.util.indexToLoc(e,p,h).map(((e,t)=>e+c[t]));b[i.util.locToIndex(t,f,g)]=u[e]}return{dataId:n.write(b,l,r.dtype),shape:l,dtype:r.dtype}}},Om=bu(((e,t)=>Math.pow(e,t))),jm=Fu(i.Pow,Om),zm={kernelName:i.Pow,backendName:"cpu",kernelFunc:jm};function Pm(e,t,n,a){const[r,s]=i.backend_util.computeOutAndReduceShapes(e,a),o=(0,i.upcastType)(t,"int32"),l=i.util.makeZerosTypedArray(i.util.sizeFromShape(r),o),c=i.util.sizeFromShape(s);for(let e=0;e<l.length;++e){const t=e*c;let a=1;for(let e=0;e<c;++e)a*=n[t+e];l[e]=a}return{outVals:l,outShape:r,outDtype:o}}const Wm={kernelName:i.Prod,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a;su(r,"prod");const l=r.shape.length,c=i.util.parseAxisParam(s,r.shape),u=i.backend_util.getAxesPermutation(c,l);let d=c,p=r;const h=[];null!=u&&(p=nd({inputs:{x:r},backend:n,attrs:{perm:u}}),h.push(p),d=i.backend_util.getInnerMostAxes(d.length,l));const m=n.data.get(p.dataId).values,{outVals:f,outShape:g,outDtype:b}=Pm(p.shape,p.dtype,m,d);let y=g;return o&&(y=i.backend_util.expandShapeToKeepDim(g,c)),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,b,f)}};function Gm(e,t,n,a){if(e===t||e<t&&n<0||t<e&&n>1)return i.util.makeZerosTypedArray(0,a);const r=Math.abs(Math.ceil((t-e)/n)),s=i.util.makeZerosTypedArray(r,a);t<e&&1===n&&(n=-1),s[0]=e;for(let e=1;e<s.length;e++)s[e]=s[e-1]+n;return s}const Vm={kernelName:i.Range,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:i,dtype:r,step:s}=n,o=Gm(a,i,s,r);return t.makeTensorInfo([o.length],r,o)}},Um=cu(i.Reciprocal,(e=>1/e)),Hm={kernelName:i.Reciprocal,backendName:"cpu",kernelFunc:Um};const qm={kernelName:i.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:s,halfPixelCenters:o,size:l}=a;su(r,"resizeBilinear");const c=i.util.computeStrides(r.shape),[u,d]=l,[p,h,m,f]=r.shape,g=n.data.get(r.dataId).values,b=new Float32Array(i.util.sizeFromShape([p,u,d,f])),y=[s&&u>1?h-1:h,s&&d>1?m-1:m],v=[s&&u>1?u-1:u,s&&d>1?d-1:d];let k=0;const x=y[0]/v[0],w=y[1]/v[1];for(let e=0;e<p;e++)for(let t=0;t<u;t++){let n;n=o?x*(t+.5)-.5:x*t;const a=Math.max(0,Math.floor(n)),i=n-a,r=Math.min(h-1,Math.ceil(n)),s=e*c[0]+a*c[1],l=e*c[0]+r*c[1];for(let e=0;e<d;e++){let t;t=o?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),a=t-n,r=Math.min(m-1,Math.ceil(t)),u=s+n*c[2],d=l+n*c[2],p=s+r*c[2],h=l+r*c[2];for(let e=0;e<f;e++){const t=g[u+e],n=g[d+e],r=t+(g[p+e]-t)*a,s=r+(n+(g[h+e]-n)*a-r)*i;b[k++]=s}}}return n.makeTensorInfo([p,u,d,f],"float32",b)}};const Km={kernelName:i.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:s}=t,{alignCorners:o}=a;su([s,r],"resizeBilinearGrad");const l=i.util.computeStrides(r.shape),[c,u,d,p]=r.shape,[,h,m]=s.shape,f=new Float32Array(c*u*d*p),g=[o&&h>1?u-1:u,o&&m>1?d-1:d],b=[o&&h>1?h-1:h,o&&m>1?m-1:m],y=g[0]/b[0],v=g[1]/b[1],k=n.data.get(s.dataId).values;let x=0;for(let e=0;e<c;e++){const t=e*l[0];for(let e=0;e<h;e++){const n=e*y,a=Math.floor(n),i=Math.min(Math.ceil(n),u-1),r=t+a*l[1],s=t+i*l[1],o=n-a,c=1-o;for(let e=0;e<m;e++){const t=e*v,n=Math.floor(t),a=Math.min(Math.ceil(t),d-1),i=t-n,u=1-i,h=r+n*l[2],m=r+a*l[2],g=s+n*l[2],b=s+a*l[2],y=c*u,w=c*i,S=o*u,C=o*i;for(let e=0;e<p;e++){const t=k[x++];f[h+e]+=t*y,f[m+e]+=t*w,f[g+e]+=t*S,f[b+e]+=t*C}}}}return n.makeTensorInfo([c,d,u,p],"float32",f)}};const Jm={kernelName:i.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:s,halfPixelCenters:o,size:l}=a;su(r,"resizeNearestNeighbor");const c=i.util.computeStrides(r.shape),[u,d]=l,[p,h,m,f]=r.shape,g=n.data.get(r.dataId).values,b=new Float32Array(p*u*d*f),y=[s&&u>1?h-1:h,s&&d>1?m-1:m],v=[s&&u>1?u-1:u,s&&d>1?d-1:d],k=y[0]/v[0],x=y[1]/v[1];let w=0;for(let e=0;e<p;e++){const t=e*c[0];for(let e=0;e<u;e++){const n=o?k*(e+.5):k*e;let a=Math.min(h-1,s?Math.round(n):Math.floor(n));o&&(a=Math.max(0,a));const i=t+a*c[1];for(let e=0;e<d;e++){const t=o?x*(e+.5):x*e;let n=Math.min(m-1,s?Math.round(t):Math.floor(t));o&&(n=Math.max(0,n));const a=i+n*c[2];for(let e=0;e<f;e++){const t=g[a+e];b[w++]=t}}}}return n.makeTensorInfo([p,u,d,f],r.dtype,b)}};const Xm={kernelName:i.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:s}=t,{alignCorners:o}=a;su([s,r],"resizeNearestNeighborGrad");const l=i.util.computeStrides(r.shape),c=i.util.computeStrides(s.shape),[u,d,p,h]=r.shape,[,m,f]=s.shape,g=new Float32Array(u*d*p*h),b=n.data.get(s.dataId).values,y=[o&&m>1?d-1:d,o&&f>1?p-1:p],v=[o&&m>1?m-1:m,o&&f>1?f-1:f],k=y[0]/v[0],x=y[1]/v[1],w=1/k,S=1/x,C=2*Math.ceil(w)+2,T=2*Math.ceil(S)+2;for(let e=0;e<u;e++){const t=e*l[0];for(let e=0;e<d;e++){const n=t+e*l[1],a=Math.floor(e*w),i=Math.floor(a-C/2);for(let a=0;a<p;a++){const r=n+a*l[2],s=Math.floor(a*S),u=Math.floor(s-T/2);for(let n=0;n<h;n++){let s=0;for(let r=0;r<C;r++){const l=r+i;if(l<0||l>=m)continue;const h=t+l*c[1],g=l*k;if(e===Math.min(d-1,o?Math.round(g):Math.floor(g)))for(let e=0;e<T;e++){const t=e+u;if(t<0||t>=f)continue;const i=h+t*c[2],r=t*x;a===Math.min(p-1,o?Math.round(r):Math.floor(r))&&(s+=b[i+n])}}g[r+n]=s}}}}return n.makeTensorInfo(r.shape,r.dtype,g)}};const Ym={kernelName:i.Reverse,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:s}=a;su(r,"reverse");const o=r.shape.length,l=i.util.parseAxisParam(s,r.shape);if(0===o)return hu({inputs:{x:r},backend:n});const c=new i.TensorBuffer(r.shape,r.dtype),u=n.bufferSync(r);for(let e=0;e<c.size;e++){const t=c.indexToLoc(e),n=t.slice();l.forEach((e=>n[e]=r.shape[e]-1-n[e])),c.set(u.get(...n),...t)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}},Zm={kernelName:i.RotateWithOffset,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:a}=e,{radians:r,fillValue:s,center:o}=t,l=n,c=i.util.getTypedArrayFromDType(a.dtype,i.util.sizeFromShape(a.shape)),[u,d,p,h]=a.shape,[m,f]=i.backend_util.getImageCenter(o,d,p),g=Math.sin(r),b=Math.cos(r),y=l.data.get(a.dataId).values;for(let e=0;e<u;e++){const t=e*p*d*h;for(let e=0;e<d;e++){const n=e*(p*h);for(let a=0;a<p;a++){const i=a*h;for(let r=0;r<h;r++){const o=[u,e,a,r],l=o[2],v=o[1];let k=(l-m)*b-(v-f)*g,x=(l-m)*g+(v-f)*b;k=Math.round(k+m),x=Math.round(x+f);let w=s;if("number"!=typeof s&&(w=3===r?255:s[r]),k>=0&&k<p&&x>=0&&x<d){w=y[t+x*(p*h)+k*h+r]}c[t+n+i+r]=w}}}}return{dataId:l.write(c,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Qm=cu(i.Round,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),ef={kernelName:i.Round,backendName:"cpu",kernelFunc:Qm},tf=Tu((e=>1/Math.sqrt(e))),nf=uu(i.Rsqrt,tf),af={kernelName:i.Rsqrt,backendName:"cpu",kernelFunc:nf};function rf(e,t,n,a,r,s,o,l,c,u){const d=[a/r,r],p=e.values,h=t.values;if(0===a)return(0,i.buffer)(n,t.dtype);const m=(0,i.buffer)(d,t.dtype);"string"==typeof c||"number"==typeof c?m.values.fill(c):"boolean"==typeof c&&m.values.fill(+c);for(let e=0;e<s;e++){const i=[];let s=0;for(let t=0;t<o;t++){const n=p[e*o+t];i.push(n),s+=n*l[t]}if(s<0||s>=a/r)throw new Error(`Invalid indices: ${i} does not index into ${n}`);for(let n=0;n<r;n++)u?m.values[s*r+n]+=h[e*r+n]:m.values[s*r+n]=0===t.rank?h[0]:h[e*r+n]}return m}const sf={kernelName:i.ScatterNd,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:s}=t,{shape:o}=a,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:p}=i.backend_util.calculateShapes(s,r,o),h=rf(n.bufferSync(r),n.bufferSync(s),o,p,u,c,l,d,0,!0);return n.makeTensorInfo(o,h.dtype,h.values)}};function of(e,t){let n=0,a=e.length,i=0;for(;n<a;)i=Math.floor((n+a)/2),e[i]<t?n=i+1:a=i;return a}function lf(e,t){let n=0,a=e.length,i=0;for(;n<a;)i=Math.floor((n+a)/2),e[i]<=t?n=i+1:a=i;return a}const cf={kernelName:i.SearchSorted,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sortedSequence:r,values:s}=t,{side:o}=a,l=function(e,t,n,a,r,s){const o=i.util.getArrayFromDType("int32",n*r);for(let i=0;i<n;++i){const n=e.slice(i*a,(i+1)*a),l=i*r;for(let e=0;e<r;++e)o[l+e]="left"===s?of(n,t[e+l]):lf(n,t[e+l])}return o}(n.data.get(r.dataId).values,n.data.get(s.dataId).values,r.shape[0],r.shape[1],s.shape[1],o);return n.makeTensorInfo(s.shape,"int32",l)}};const uf={kernelName:i.Select,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:s}=t;su([a,r,s],"select");const o=a.shape.length,l=n.data.get(a.dataId).values,c=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values,d=(0,i.upcastType)(r.dtype,s.dtype),p=i.util.makeZerosTypedArray(i.util.sizeFromShape(r.shape),d);let h=0;const m=0===o||o>1||1===r.shape.length?1:i.util.sizeFromShape(r.shape.slice(1));for(let e=0;e<l.length;e++)for(let t=0;t<m;t++)1===l[e]?p[h++]=c[e]:p[h++]=u[e];return n.makeTensorInfo(r.shape,d,p)}},df=i.backend_util.SELU_SCALEALPHA,pf=i.backend_util.SELU_SCALE,hf=cu(i.Selu,(e=>e>=0?pf*e:df*(Math.exp(e)-1))),mf={kernelName:i.Selu,backendName:"cpu",kernelFunc:hf},ff=cu(i.Sign,(e=>e<0?-1:e>0?1:0)),gf={kernelName:i.Sign,backendName:"cpu",kernelFunc:ff},bf=cu(i.Sin,(e=>Math.sin(e))),yf={kernelName:i.Sin,backendName:"cpu",kernelFunc:bf},vf=cu(i.Sinh,(e=>Math.sinh(e))),kf={kernelName:i.Sinh,backendName:"cpu",kernelFunc:vf},xf=Math.log(1.1920928955078125e-7)+2,wf=cu(i.Softplus,(e=>{const t=e>-xf,n=e<xf,a=Math.exp(e);let i;return i=n?a:t?e:Math.log(1+a),i})),Sf={kernelName:i.Softplus,backendName:"cpu",kernelFunc:wf};const Cf={kernelName:i.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:s,paddings:o}=a;su([r],"spaceToBatchND");const l=i.util.sizeFromShape(s),c=[[0,0]];c.push(...o);for(let e=1+s.length;e<r.shape.length;++e)c.push([0,0]);const u=Fm.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:c,constantValue:0}}),d=i.backend_util.getReshaped(u.shape,s,l,!1),p=i.backend_util.getPermuted(d.length,s.length,!1),h=i.backend_util.getReshapedPermuted(u.shape,s,l,!1),m=Gu({inputs:{x:u},backend:n,attrs:{shape:d}}),f=nd({inputs:{x:m},backend:n,attrs:{perm:p}}),g=Gu({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),g}};function Tf(e,t,n,a,r,s,o){const l=t[0],c=s[0],u=new Array(c),d=new Array(l),p=t[1];if(0===c){if(0!==l)throw new Error(i.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(l));return[i.util.getArrayFromDType(n,0),[0,p],i.util.getArrayFromDType(r,0),u,d]}let h=!0,m=0;const f=new Array(c).fill(0);for(let t=0;t<l;++t){const n=e[t*p];if(n<0)throw new Error(i.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(t,n));if(n>=c)throw new Error(i.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(t,n,c));++f[n],h=h&&n>=m,m=n}let g=!0;for(let e=0;e<c;++e){const t=0===f[e];u[e]=t,g=g&&!t,f[e]=Math.max(f[e],1),e>0&&(f[e]+=f[e-1])}if(g&&h){const t=e,n=a;for(let e=0;e<l;++e)d[e]=e;return[t,[l,p],n,u,d]}{const t=f[c-1],s=i.util.getArrayFromDType(n,t*p),h=i.util.getArrayFromDType(r,t),m=new Array(c).fill(0);for(let t=0;t<l;++t){const n=e[t*p],i=m[n],r=(0===n?0:f[n-1])+i;m[n]++;for(let n=0;n<p;++n)s[r*p+n]=e[t*p+n];h[r]=a[t],d[t]=r}for(let e=0;e<c;++e){if(0===m[e]){const t=0===e?0:f[e-1];s[t*p+0]=e;for(let e=1;e<p;++e)s[t*p+e]=0;h[t]=o}}return[s,[t,p],h,u,d]}}const _f={kernelName:i.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:i,denseShape:r,defaultValue:s}=t;if(1!==r.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${r.shape}`);if(2!==a.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${a.shape}`);if(1!==i.shape.length)throw new Error(`Values must be a vector, saw:\n        ${i.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const o=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(r.dataId).values,u=n.data.get(s.dataId).values[0],[d,p,h,m,f]=Tf(o,a.shape,a.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(p,a.dtype,d),n.makeTensorInfo([p[0]],i.dtype,h),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map((e=>Number(e))))),n.makeTensorInfo([f.length],a.dtype,new Int32Array(f))]}};function If(e,t,n,a,r){const s=i.util.sizeFromShape(a),o=t[0],l=r.length,c=[];let u=1,d=-1;for(let e=0;e<l;++e){const t=r[e];if(-1===t){if(-1!==d)throw new Error(i.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,e));d=e,c.push(1)}else{if(t<0)throw new Error(i.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(e,t));u*=t,c.push(t)}}if(-1!==d){if(u<=0)throw new Error(i.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());const e=Math.trunc(s/u);if(u*e!==s)throw new Error(i.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(a,c));c[d]=e}if(i.util.sizeFromShape(c)!==s)throw new Error(i.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(a,c));const p=a.length,h=[];if(p>0){h[p-1]=1;for(let e=p-2;e>=0;--e)h[e]=h[e+1]*a[e+1]}const m=[];if(l>0){m[l-1]=1;for(let e=l-2;e>=0;--e)m[e]=m[e+1]*c[e+1]}const f=i.util.getArrayFromDType(n,o*l);for(let t=0;t<o;++t){let n=0;for(let a=0;a<p;++a)n+=e[t*p+a]*h[a];for(let e=0;e<l;++e)f[t*l+e]=Math.trunc(n/m[e]),n%=m[e]}return[f,[o,l],c]}const Af={kernelName:i.SparseReshape,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:i,newShape:r}=t;if(2!==a.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${a.shape}`);if(1!==i.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${i.shape}`);if(1!==r.shape.length)throw new Error(`Target shape should be a vector but received shape ${r.shape}`);const s=Array.from(n.data.get(i.dataId).values),o=n.data.get(a.dataId).values,l=Array.from(n.data.get(r.dataId).values),[c,u,d]=If(o,a.shape,a.dtype,s,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([d.length],r.dtype,new Int32Array(d))]}};function Nf(e,t,n,a,r,s=!1,o=0){const l=a.length,c=[t[0],e.length/t[0]],u=c[1],d=l>0?r[l-1]+1:0;if(d<0)throw new Error(i.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const p=t.slice();p[0]=d;const h=p.reduce(((e,t)=>e*t),1),m=i.util.getArrayFromDType(n,h);if(0===l)return d>0&&m.fill(o),[m,p];if(d<=0)throw new Error(i.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let f=0,g=1,b=0,y=r[f];for(;;){let t=0;if(g<l){if(t=r[g],y===t){++g;continue}if(y>=t)throw new Error(i.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=d)throw new Error(i.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,d));y>b&&m.fill(o,b*u,y*u);for(let t=f;t<g;++t){const n=a[t];if(n<0||n>=c[0])throw new Error(i.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(t,a[t],c[0]));for(let t=0;t<u;t++)m[y*u+t]+=e[n*u+t]}if(s)for(let e=0;e<u;e++)m[y*u+e]/=g-f;if(f=g,++g,b=y+1,y=t,g>l)break}return b<d&&m.fill(o,b*u,d*u),[m,p]}const Ef={kernelName:i.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:i,segmentIds:r}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${r.shape}`);if(i.shape[0]!==r.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(a.dataId).values,o=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,[c,u]=Nf(s,a.shape,a.dtype,o,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const Rf={kernelName:i.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:i,segmentIds:r}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${r.shape}`);if(i.shape[0]!==r.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(a.dataId).values,o=n.data.get(i.dataId).values,l=n.data.get(r.dataId).values,[c,u]=Nf(s,a.shape,a.dtype,o,l);return n.makeTensorInfo(u,a.dtype,c)}};const Mf={kernelName:i.SparseToDense,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:s,defaultValue:o}=t,{outputShape:l}=a,{sliceRank:c,numUpdates:u,sliceSize:d,strides:p,outputSize:h}=i.backend_util.calculateShapes(s,r,l),m=!1,f=n.bufferSync(r);let g;switch(s.dtype){case"bool":g=rf(f,n.bufferSync(s),l,h,d,u,c,p,Boolean(n.data.get(o.dataId).values[0]),m);break;case"float32":g=rf(f,n.bufferSync(s),l,h,d,u,c,p,n.data.get(o.dataId).values[0],m);break;case"int32":g=rf(f,n.bufferSync(s),l,h,d,u,c,p,n.data.get(o.dataId).values[0],m);break;case"string":g=rf(f,n.bufferSync(s),l,h,d,u,c,p,i.util.decodeString(n.data.get(o.dataId).values[0]),m);break;default:throw new Error(`Unsupported type ${s.dtype}`)}return n.makeTensorInfo(l,g.dtype,g.values)}};const Df={kernelName:i.SplitV,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:s,axis:o}=a,l=i.util.parseAxisParam(o,r.shape)[0],c=i.backend_util.prepareSplitSize(r,s,l),u=new Array(r.shape.length).fill(0),d=r.shape.slice();return c.map((e=>{const t=[...d];t[l]=e;const a=Ad({inputs:{x:r},backend:n,attrs:{begin:u,size:t}});return u[l]+=e,a}))}},$f=Tu((e=>Math.sqrt(e))),Bf=cu(i.Sqrt,(e=>Math.sqrt(e))),Lf={kernelName:i.Sqrt,backendName:"cpu",kernelFunc:Bf},Ff={kernelName:i.Square,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,a=t;su(n,"square");const i=a.data.get(n.dataId).values,r=new Float32Array(i.length);for(let e=0;e<i.length;++e){const t=i[e];r[e]=t*t}return{dataId:a.write(r,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},Of=bu(((e,t)=>{const n=e-t;return n*n})),jf=Fu(i.SquaredDifference,Of),zf={kernelName:i.SquaredDifference,backendName:"cpu",kernelFunc:jf},Pf=cu(i.Step,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),Wf={kernelName:i.Step,backendName:"cpu",kernelFunc:Pf};function Gf(e,t,n,a){const r=(0,i.buffer)(e,t.dtype);for(let e=0;e<r.size;e++){const i=r.indexToLoc(e),s=new Array(i.length);for(let e=0;e<s.length;e++)s[e]=i[e]*n[e]+a[e];r.set(t.get(...s),...i)}return r}const Vf={kernelName:i.StridedSlice,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:s,end:o,strides:l,beginMask:c,endMask:u,ellipsisMask:d,newAxisMask:p,shrinkAxisMask:h}=a;su(r,"stridedSlice");const{finalShapeSparse:m,finalShape:f,isIdentity:g,sliceDim0:b,isSimpleSlice:y,begin:v,end:k,strides:x}=i.slice_util.sliceInfo(r.shape,s,o,l,c,u,d,p,h);let w;if(g)w=Gu({inputs:{x:r},backend:n,attrs:{shape:f}});else if(b||y){i.util.assert(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=i.slice_util.computeOutShape(v,k,x),t=Ad({inputs:{x:r},backend:n,attrs:{begin:v,size:e}});w=Gu({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=Gf(m,n.bufferSync(r),x,v);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};class Uf{constructor(e,t,n,a,r,s){this.separator=i.util.encodeString(e),this.nGramWidths=t,this.leftPad=i.util.encodeString(n),this.rightPad=i.util.encodeString(a),this.padWidth=r,this.preserveShort=s}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,a,i,r){for(let s=0;s<i;++s){const o=this.getPadWidth(r),l=Math.max(0,o-s),c=Math.max(0,o-(i-(s+1))),u=r-(l+c),d=t+(l>0?0:s-o);let p=0;p+=l*this.leftPad.length;for(let t=0;t<u;++t)p+=e[d+t].length;p+=c*this.rightPad.length;p+=(l+c+u-1)*this.separator.length,n[a+s]=new Uint8Array(p);const h=n[a+s];let m=0;const f=e=>e.forEach((e=>h[m++]=e));for(let e=0;e<l;++e)f(this.leftPad),f(this.separator);for(let t=0;t<u-1;++t)f(e[d+t]),f(this.separator);if(u>0){f(e[d+u-1]);for(let e=0;e<c;++e)f(this.separator),f(this.rightPad)}else{for(let e=0;e<c-1;++e)f(this.rightPad),f(this.separator);f(this.rightPad)}}}compute(e,t){const n=e.length,a=t.length;if(a>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let i=1;i<a;++i){let a=t[i]>=e;if(a=a&&t[i]<=n,!a)throw new Error(`Invalid split value ${t[i]}, must be in [${e}, ${n}]`);e=t[i]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const r=a-1,s=i.util.getArrayFromDType("int32",a);if(0===n||0===a){const e=new Array(n);for(let e=0;e<=r;++e)s[e]=0;return[e,s]}s[0]=0;for(let e=1;e<=r;++e){const n=t[e]-t[e-1];let a=0;this.nGramWidths.forEach((e=>{a+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===a&&(a=1),s[e]=s[e-1]+a}const o=new Array(s[r]);for(let n=0;n<r;++n){const a=t[n];let i=s[n];if(this.nGramWidths.forEach((r=>{const s=t[n+1]-t[n],l=this.getNumNGrams(s,r);this.createNGrams(e,a,o,i,l,r),i+=l})),this.preserveShort&&i===s[n]){const r=t[n+1]-t[n];if(0===r)continue;const s=r+2*this.padWidth,l=1;this.createNGrams(e,a,o,i,l,s)}}return[o,s]}}function Hf(e,t,n,a,i,r,s,o){return new Uf(n,a,i,r,s,o).compute(e,t)}const qf={kernelName:i.StringNGrams,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:i,nGramWidths:r,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:d}=t,p=n.data.get(u.dataId).values,h=n.data.get(d.dataId).values,[m,f]=Hf(p,h,i,r,s,o,l,c);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",f)]}};function Kf(e,t,n,a){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)a.push(e.subarray(t,t+1));return}if(1===t.length){const i=t[0];let r=e.indexOf(i);for(;-1!==r;){const t=e.subarray(0,r);n&&0===t.length||a.push(t),r=(e=e.subarray(r+1)).indexOf(i)}return void(n&&0===e.length||a.push(e))}let i=0;for(let r=0;r<e.length+1;r++)if(r===e.length||-1!==t.indexOf(e[r])){const t=e.subarray(i,r);n&&0===t.length||a.push(t),i=r+1}}function Jf(e,t,n){const a=e.length,r=[];let s=0,o=0;const l=new Array(a);for(let i=0;i<a;++i){const a=r.length;Kf(e[i],t,n,r);const c=r.length-a;l[i]=c,s+=c,o=Math.max(o,c)}const c=i.util.getArrayFromDType("int32",2*s),u=new Array(s),d=[a,o];let p=0;for(let e=0;e<a;++e)for(let t=0;t<l[e];++t)c[2*p]=e,c[2*p+1]=t,u[p]=r[p],++p;return[c,u,d]}const Xf={kernelName:i.StringSplit,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:i}=a,{input:r,delimiter:s}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(1!==r.shape.length)throw new Error(`Input must be a vector, got shape: ${r.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.data.get(r.dataId).values,l=n.data.get(s.dataId).values[0],[c,u,d]=Jf(o,l,i),p=u.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function Yf(e,t){const n=i.util.getArrayFromDType("int32",e.length);for(let a=0;a<e.length;++a)n[a]=i.util.fingerPrint64(e[a]).modulo(t).getLowBitsUnsigned();return n}const Zf={kernelName:i.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:i}=a,{input:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const s=Yf(n.data.get(r.dataId).values,i);return n.makeTensorInfo(r.shape,"int32",s)}},Qf=cu(i.Tan,(e=>Math.tan(e))),eg={kernelName:i.Tan,backendName:"cpu",kernelFunc:Qf},tg=cu(i.Tanh,(e=>Math.tanh(e))),ng={kernelName:i.Tanh,backendName:"cpu",kernelFunc:tg};function ag(e,t){const n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];const a=(0,i.buffer)(n,e.dtype);for(let t=0;t<a.values.length;++t){const n=a.indexToLoc(t),i=new Array(e.rank);for(let t=0;t<i.length;t++)i[t]=n[t]%e.shape[t];const r=e.locToIndex(i);a.values[t]=e.values[r]}return a}const ig={kernelName:i.Tile,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i}=t,{reps:r}=a;su(i,"tile");const s=ag(n.bufferSync(i),r);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},rg=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function sg(e,t,n=0,a=e.length-1){for(;a>n;){if(a-n>600){const i=a-n+1,r=t-n+1,s=Math.log(i),o=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*o*(i-o)/i)*Math.sign(r-i/2);sg(e,t,Math.max(n,Math.floor(t-r*o/i+l)),Math.min(a,Math.floor(t+(i-r)*o/i+l)))}const r=e[t];let s=n,o=a;for(i.util.swap(e,n,t),rg(e[a],r)>0&&i.util.swap(e,n,a);s<o;){for(i.util.swap(e,s,o),s++,o--;rg(e[s],r)<0;)s+=1;for(;rg(e[o],r)>0;)o-=1}0===rg(e[n],r)?i.util.swap(e,n,o):(o+=1,i.util.swap(e,o,a)),o<=t&&(n=o+1),t<=o&&(a=o-1)}}function og(e,t,n,a,r){const s=t[t.length-1],[o,l]=[e.length/s,s],c=i.util.getTypedArrayFromDType(n,o*a),u=i.util.getTypedArrayFromDType("int32",o*a);for(let t=0;t<o;t++){const n=t*l,i=e.subarray(n,n+l);let s=new Array(i.length);i.forEach(((e,t)=>s[t]={value:e,index:t})),a<s.length&&(sg(s,a),s=s.slice(0,a)),r&&s.sort(rg);const o=t*a,d=c.subarray(o,o+a),p=u.subarray(o,o+a);for(let e=0;e<a;e++)d[e]=s[e].value,p[e]=s[e].index}const d=t.slice();return d[d.length-1]=a,[(0,i.buffer)(d,n,c),(0,i.buffer)(d,"int32",u)]}const lg={kernelName:i.TopK,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i}=t,{k:r,sorted:s}=a;su(i,"topk");const o=n.data.get(i.dataId).values,[l,c]=og(o,i.shape,i.dtype,r,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};const cg={kernelName:i.Transform,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{image:r,transforms:s}=t,{interpolation:o,fillMode:l,fillValue:c,outputShape:u}=n,[d,p,h,m]=r.shape,[f,g]=null!=u?u:[p,h],b=[d,f,g,m],y=i.util.computeStrides(r.shape),v=y[0],k=y[1],x=y[2],w=i.util.getTypedArrayFromDType(r.dtype,i.util.sizeFromShape(b));w.fill(c);const S=a.data.get(r.dataId).values,C=a.data.get(s.dataId).values;for(let e=0;e<d;++e){const t=1===s.shape[0]?C:C.subarray(8*e,8*e+8);for(let n=0;n<f;++n)for(let a=0;a<g;++a)for(let i=0;i<m;++i){let r;const s=t[6]*a+t[7]*n+1;if(0===s)continue;const u=(t[0]*a+t[1]*n+t[2])/s,d=(t[3]*a+t[4]*n+t[5])/s,m=ug(u,h,l),f=ug(d,p,l);switch(o){case"nearest":r=pg(S,p,h,v,k,x,e,f,m,i,c);break;case"bilinear":r=hg(S,p,h,v,k,x,e,f,m,i,c);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}w[e*v+n*k+a*x+i]=r}return a.makeTensorInfo(b,r.dtype,w)}return{dataId:a.write(w,b,r.dtype),shape:r.shape,dtype:r.dtype}}};function ug(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return i.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return i.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return i.util.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function dg(e,t,n,a,i,r,s,o,l,c,u){return 0<=o&&o<t&&0<=l&&l<n?e[s*a+o*i+l*r+c]:u}function pg(e,t,n,a,i,r,s,o,l,c,u){return dg(e,t,n,a,i,r,s,Math.round(o),Math.round(l),c,u)}function hg(e,t,n,a,i,r,s,o,l,c,u){const d=Math.floor(o),p=Math.floor(l),h=d+1,m=p+1;return(h-o)*((m-l)*dg(e,t,n,a,i,r,s,d,p,c,u)+(l-p)*dg(e,t,n,a,i,r,s,d,m,c,u))+(o-d)*((m-l)*dg(e,t,n,a,i,r,s,h,p,c,u)+(l-p)*dg(e,t,n,a,i,r,s,h,m,c,u))}function mg(e,t,n,a){const r=i.util.parseAxisParam(t,n)[0],s=[1,n[0],1];for(let e=0;e<r;e++)s[0]*=n[e];s[1]=n[r];for(let e=r+1;e<n.length;e++)s[2]*=n[e];const o={},l=new Int32Array(n[r]),c=new i.TensorBuffer(s,a,e),u=[],d=1===s[0]&&1===s[2];for(let t=0;t<n[r];t++){let n;if(d)n=e[t].toString();else{const e=[];for(let n=0;n<s[0];n++)for(let a=0;a<s[2];a++)e.push(c.get(n,t,a));n=e.join(",")}if(void 0!==o[n])l[t]=o[n];else{const e=Object.keys(o).length;o[n]=e,l[t]=e,u.push(t)}}const p=s.slice();p[1]=Object.keys(o).length;const h=new i.TensorBuffer(p,a);u.forEach(((e,t)=>{for(let n=0;n<s[0];n++)for(let a=0;a<s[2];a++)h.set(c.get(n,e,a),n,t,a)}));const m=n.slice();return m[r]=p[1],{outputValues:h.values,outputShape:m,indices:l}}const fg={kernelName:i.Unique,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:i}=n,{x:r}=t;su(r,"unique");const s=a.data.get(r.dataId).values,{outputValues:o,outputShape:l,indices:c}=mg(s,i,r.shape,r.dtype);return[a.makeTensorInfo(l,r.dtype,o),a.makeTensorInfo([c.length],"int32",c)]}};const gg={kernelName:i.Unpack,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:i}=t;let{axis:r}=a;r<0&&(r+=i.shape.length);const s=i.shape.length,o=i.shape[r],l=new Array(s-1);let c=0;for(let e=0;e<s;e++)e!==r&&(l[c++]=i.shape[e]);const u=new Array(s).fill(0),d=i.shape.slice();d[r]=1;const p=new Array(o);for(let e=0;e<p.length;e++){u[r]=e;const t=Ad({inputs:{x:i},backend:n,attrs:{begin:u,size:d}});p[e]=Gu({inputs:{x:t},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(t)}return p}};const bg={kernelName:i.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:s}=t,{numSegments:o}=a;su(r,"unsortedSegmentSum");const l=[],c=[],u=r.shape.length-s.shape.length;let d=s;for(let e=0;e<u;++e){const t=Op({inputs:{input:d},backend:n,attrs:{dim:e+1}});d=t,c.push(t)}for(let e=0;e<o;++e){const t=i.util.createScalarValue(e,"int32"),a=n.makeTensorInfo([],"int32",t),s=Tp({inputs:{a,b:d},backend:n}),o=Bu({inputs:{x:s},backend:n,attrs:{dtype:"float32"}}),u=yp({inputs:{a:o,b:r},backend:n}),p=kp({inputs:{x:u},backend:n,attrs:{axis:0,keepDims:!1}});l.push(p),c.push(a),c.push(s),c.push(o),c.push(u),c.push(p)}const p=Bm({inputs:l,backend:n,attrs:{axis:0}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}},yg=[qu,Ju,Yu,Qu,Wu,ed,id,rd,sd,od,cd,dd,hd,gd,yd,wd,Sd,Cd,Td,Hu,_d,Ed,Dd,$d,Lu,Fd,jd,Ru,zd,Ud,qd,Kd,Jd,Xd,Yd,Zd,ep,np,ap,ip,rp,sp,op,cp,up,dp,pp,hp,mp,fp,wp,pu,Sp,_p,$p,Fp,jp,Wp,Qp,th,nh,rh,lh,ch,uh,ph,mh,bh,kh,mu,xh,Gd,Sh,Th,Ih,gu,Eh,Dh,Bh,Oh,zh,Gh,Uh,Kh,Jh,Xh,Qh,nm,am,im,rm,sm,om,lm,cm,pm,hm,gm,vm,vp,xm,Sm,Tm,Im,Em,Rm,$m,Lm,Fm,zm,ku,Wm,Vm,$u,Up,Hm,wu,Cu,Vu,qm,Km,Jm,Xm,Ym,Zm,ef,af,sf,cf,uf,mf,Au,gf,yf,kf,Nd,ym,Sf,Cf,_f,Af,Ef,Rf,Mf,Df,Lf,Ff,zf,Wf,Vf,qf,Xf,Zf,Jp,xp,eg,ng,ig,lg,cg,ad,fg,gg,bg,Dm];for(const e of yg)(0,i.registerKernel)(e);const vg={},kg={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function xg(e,t){if(!(e in vg)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete vg[e]}),!1),1===e)return n.getContext("webgl",kg)||n.getContext("experimental-webgl",kg);return n.getContext("webgl2",kg)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;vg[e]=n}const n=vg[e];return null==n||n.isContextLost()?(delete vg[e],xg(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),vg[e])}var wg,Sg,Cg;function Tg(e,t){return[t,e]}function _g(e){const t=i.util.sizeFromShape(e),n=Math.ceil(t/4);return i.util.sizeToSquarishShape(n)}function Ig(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Ag(e,t){const n=e;let a,r,s,o,l,c,u,d,p,h;return 2===(0,i.env)().getNumber("WEBGL_VERSION")?(a=n.R32F,r=n.R16F,s=n.RGBA16F,o=n.RGBA32F,l=n.RED,u=4,d=1,p=n.HALF_FLOAT,h=n.FLOAT,c=n.RGBA8):(a=e.RGBA,r=e.RGBA,s=e.RGBA,o=n.RGBA,l=e.RGBA,u=4,d=4,p=null!=t?t.HALF_FLOAT_OES:null,h=e.FLOAT,c=e.RGBA),{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:s,internalFormatPackedFloat:o,textureFormatFloat:l,downloadTextureFormat:c,downloadUnpackNumChannels:u,defaultNumChannels:d,textureTypeHalfFloat:p,textureTypeFloat:h}}function Ng(e,t){const n=t();return(0,i.env)().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(wg||(wg={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(Sg||(Sg={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(Cg||(Cg={}));function Eg(e){return!!((0,i.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Rg(e,t){return zg(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const Mg=/ERROR: [0-9]+:([0-9]+):/g;function Dg(e,t){const n=Mg.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const a=+n[1],r=e.split("\n"),s=r.length.toString().length+2,o=r.map(((e,t)=>i.util.rightPad((t+1).toString(),s)+e));let l=0;for(let e=0;e<o.length;e++)l=Math.max(o[e].length,l);const c=o.slice(0,a-1),u=o.slice(a-1,a),d=o.slice(a);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${i.util.rightPad(u[0],l)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}function $g(e,t){if(Ng(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function Bg(e,t,n,a,i,r,s){const o=e.getAttribLocation(t,n);return-1!==o&&(Ng(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),Ng(e,(()=>e.vertexAttribPointer(o,i,e.FLOAT,!1,r,s))),Ng(e,(()=>e.enableVertexAttribArray(o))),!0)}function Lg(e,t,n,a){Ng(e,(()=>function(e,t,n){Pg(e,n),Ng(e,(()=>e.activeTexture(e.TEXTURE0+n))),Ng(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,a))),Ng(e,(()=>e.uniform1i(n,a)))}function Fg(e,t,n){Ng(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),Ng(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function Og(e,t){Ng(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),Ng(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function jg(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function zg(e,t,n){const a=Ng(e,(()=>t()));if(null==a)throw new Error(n);return a}function Pg(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=t+e.TEXTURE0;if(a<e.TEXTURE0||a>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function Wg(e,t=2){return i.util.sizeFromShape(e.slice(0,e.length-t))}function Gg(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Vg(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Wg(e),...Gg(e)]),t}function Ug(e){return e%2==0}function Hg(e,t){if(e=e.slice(-2),t=t.slice(-2),i.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],a=t.slice(-1)[0];if(n===a)return!0;if(Ug(n)&&Ug(a)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&Ug(e[0])&&Ug(t[0])}let qg,Kg;function Jg(e,t){return null!=e.getExtension(t)}function Xg(e){try{if(null!=xg(e))return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function Yg(e){if(0===e)return!1;const t=xg(e);if(1!==e){if(Jg(t,"EXT_color_buffer_float"))return Zg(t);const e="EXT_color_buffer_half_float";if(Jg(t,e)){const n=t.getExtension(e);return function(e,t){const n=Ag(e,t),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);const i=1,r=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,r,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(s),o}(t,n)}return!1}if(!Jg(t,"OES_texture_float"))return!1;if(!Jg(t,"WEBGL_color_buffer_float"))return!1;return Zg(t)}function Zg(e){const t=Ag(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(a),i}function Qg(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&i.util.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const eb=(0,i.env)();function tb(){let e,t,n,a,r,s,o,l,c,u;return 2===(0,i.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",a="in",r="texture",s="outputColor",o="out vec4 outputColor;",l="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",a="varying",r="texture2D",s="gl_FragColor",o="",l="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:a,texture2D:r,output:s,defineOutput:o,defineSpecialNaN:l,defineSpecialInf:c,defineRound:u}}function nb(e,t,n="index"){const a=i.util.computeStrides(t);return a.map(((t,i)=>`${`int ${e[i]} = ${n} / ${t}`}; ${i===a.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${t}`:`index -= ${e[i]} * ${t}`};`)).join("")}function ab(e,t,n="index"){const a=i.util.computeStrides(t);return a.map(((t,i)=>`${`int ${e[i]} = ${n} / outShapeStrides[${i}]`}; ${i===a.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`};`)).join("")}function ib(e,t,n="index"){const a=function(e,t){const n=e.length,a=e.map((e=>`${t}[${e}]`)),i=new Array(n-1);i[n-2]=a[n-1];for(let e=n-3;e>=0;--e)i[e]=`(${i[e+1]} * ${a[e+1]})`;return i}(e.map(((e,t)=>t)),t);return a.map(((t,i)=>`${`int ${e[i]} = ${n} / ${a[i]}`}; ${i===a.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${a[i]}`:`index -= ${e[i]} * ${a[i]}`};`)).join("")}function rb(e){const t=i.util.computeStrides(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}eb.registerFlag("HAS_WEBGL",(()=>eb.getNumber("WEBGL_VERSION")>0)),eb.registerFlag("WEBGL_VERSION",(()=>Xg(2)?2:Xg(1)?1:0)),eb.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),eb.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===eb.get("WEBGL_VERSION"))),eb.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),eb.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),eb.registerFlag("WEBGL_PACK",(()=>eb.getBool("HAS_WEBGL"))),eb.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_CLIP",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_PACK_REDUCE",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_LAZILY_UNPACK",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_CONV_IM2COL",(()=>eb.getBool("WEBGL_PACK"))),eb.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==qg){const t=xg(e);qg=t.getParameter(t.MAX_TEXTURE_SIZE)}return qg}(eb.getNumber("WEBGL_VERSION")))),eb.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==Kg){const t=xg(e);Kg=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Kg)}(eb.getNumber("WEBGL_VERSION")))),eb.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=eb.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=xg(e);return t=Jg(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Jg(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),eb.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>eb.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!i.device_util.isMobile())),eb.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=xg(e);if(1===e){if(!Jg(t,"OES_texture_float"))return!1}else if(!Jg(t,"EXT_color_buffer_float"))return!1;return Zg(t)}(eb.getNumber("WEBGL_VERSION")))),eb.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!eb.getBool("WEBGL_FORCE_F16_TEXTURES")&&eb.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),eb.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>Yg(eb.getNumber("WEBGL_VERSION")))),eb.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=eb.getNumber("WEBGL_VERSION"))&&null!=xg(e).fenceSync;var e})),eb.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>eb.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),eb.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),eb.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>i.device_util.isMobile()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),eb.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),eb.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),eb.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),eb.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128));const sb="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:ob}=i.backend_util;function lb(e,t,n){const a=[];if(e.forEach((e=>{const t=i.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?a.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(a.push(`uniform sampler2D ${e.name};`),a.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=vb(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:a.push(`uniform int ${e.name}Shape;`);break;case 2:a.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:a.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:a.push(`uniform ivec4 ${e.name}Shape;`)}a.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:a.push("uniform int outShape;");break;case 2:a.push("uniform ivec2 outShape;"),a.push("uniform int outShapeStrides;");break;case 3:a.push("uniform ivec3 outShape;"),a.push("uniform ivec2 outShapeStrides;");break;case 4:a.push("uniform ivec4 outShape;"),a.push("uniform ivec3 outShapeStrides;")}a.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{a.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const r=a.join("\n"),s=e.map((e=>function(e,t,n=!1,a){let r="";r+=n?ub(e,a):cb(e,a);const s=e.shapeInfo.logicalShape,o=t.logicalShape;s.length<=o.length&&(r+=n?function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",s=e.shapeInfo.logicalShape.length,o=t.logicalShape.length,l=ob(e.shapeInfo.logicalShape,t.logicalShape),c=yb(o),u=o-s;let d;const p=["x","y","z","w","u","v"];d=0===s?"":o<2&&l.length>=1?"coords = 0;":l.map((e=>`coords.${p[e+u]} = 0;`)).join("\n");let h="";h=o<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+u]}`)).join(", ");let m="return outputValue;";const f=1===i.util.sizeFromShape(e.shapeInfo.logicalShape),g=1===i.util.sizeFromShape(t.logicalShape);if(1!==s||f||g){if(f&&!g)m=1===o?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){const e=s-2,t=s-1;l.indexOf(e)>-1&&l.indexOf(t)>-1?m="return vec4(outputValue.x);":l.indexOf(e)>-1?m="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(t)>-1&&(m="return vec4(outputValue.xx, outputValue.zz);")}}else m="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${r}() {\n      ${c} coords = getOutputCoords();\n      ${d}\n      vec4 outputValue = get${a}(${h});\n      ${m}\n    }\n  `}(e,t):function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",s=t.texShape,o=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===c&&null==e.shapeInfo.flatOffset&&i.util.arraysEqual(o,s))return`\n      float ${r}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=yb(c),d=ob(e.shapeInfo.logicalShape,t.logicalShape),p=c-l;let h;const m=["x","y","z","w","u","v"];h=0===l?"":c<2&&d.length>=1?"coords = 0;":d.map((e=>`coords.${m[e+p]} = 0;`)).join("\n");let f="";f=c<2&&l>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${m[t+p]}`)).join(", ");return`\n    float ${r}() {\n      ${u} coords = getOutputCoords();\n      ${h}\n      return get${a}(${f});\n    }\n  `}(e,t));return r}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),o=t.texShape,l=tb(),c=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(l);let u,d,p=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${db}\n    ${pb}\n    ${hb}\n  `}(l);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return fb();case 1:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===a[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${a[1]}.0);\n      }\n    `;if(1===a[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${a[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n      return 2 * (resTexRC.x * ${a[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(i.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${a[0]}, ${a[1]}));\n      }\n    `;const r=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n\n      int index = resTexRC.x * ${a[1]} + resTexRC.y;\n      int r = 2 * (index / ${r});\n      int c = imod(index, ${r}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),r=i*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n      int index = resTexRC.x * ${a[1]} + resTexRC.y;\n\n      int b = index / ${r};\n      index -= b * ${r};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),r=i*Math.ceil(e[e.length-2]/2);let s=r,o="",l="b, r, c";for(let t=2;t<e.length-1;t++)s*=e[e.length-t-1],o=`\n      int b${t} = index / ${s};\n      index -= b${t} * ${s};\n    `+o,l=`b${t}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${a[0]}, ${a[1]}));\n      int index = resTexRC.x * ${a[1]} + resTexRC.y;\n\n      ${o}\n\n      int b = index / ${r};\n      index -= b * ${r};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,o,n.enableShapeUniforms),d=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(l)):(u=function(e,t,n){switch(e.length){case 0:return fb();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(i.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${ab(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const a=nb(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${a}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${ab(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const a=nb(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${a}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=nb(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=nb(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,o,n.enableShapeUniforms),d=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(l)),n.packedInputs&&(p+=mb);return[p,c,d,r,u,s,n.userCode].join("\n")}function cb(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${a}() {return ${n};}`;const[i,r]=e.shapeInfo.texShape;if(1===i&&1===r)return`\n      float ${a}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=gb(n);if(t)return`\n    float ${a}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[o,l]=e.shapeInfo.texShape;return`\n    float ${a}() {\n      vec2 uv = uvFromFlat(${o}, ${l}, ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${a}(int index) {\n        ${bb(e)}\n      }\n    `;const i=e.shapeInfo.texShape,r=i[0],s=i[1];if(1===s&&1===r)return`\n      float ${a}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const o=gb(n);if(1===s)return t?`\n      float ${a}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${a}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${o}) + 0.5) / ${r}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===r)return t?`\n      float ${a}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${a}(int index) {\n        vec2 uv = vec2((float(index + ${o}) + 0.5) / ${s}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${a}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${a}(int index) {\n      vec2 uv = uvFromFlat(${r}, ${s}, index + ${o});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=e.shapeInfo.texShape;if(null!=s&&i.util.arraysEqual(n,s)){if(t)return`\n      float ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `;const e=s[0];return`\n    float ${r}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${s[1]}.0, ${e}.0);\n      return sampleTexture(${a}, uv);\n    }\n  `}const{newShape:o,keptDims:l}=i.util.squeezeShape(n),c=o;if(c.length<n.length){const n=["row","col"];return`\n      ${cb(kb(e,c),t)}\n      float ${r}(int row, int col) {\n        return ${r}(${xb(n,l)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${bb(e)}\n      }\n    `;const u=s[0],d=s[1],p=gb(a);if(1===d)return t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${p}), vec3(${a}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${a}TexShape[0]));\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${a}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${r}(int row, int col) {\n        float index = dot(vec3(row, col, ${p}), vec3(${a}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${a}TexShape[1]), 0.5);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n    float ${r}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);\n      return sampleTexture(${a}, uv);\n    }\n  `;if(t)return`\n      float ${r}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a}Shape[1] + col + ${p};\n        vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index);\n        return sampleTexture(${a}, uv);\n      }\n    `;return`\n  float ${r}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${p};\n    vec2 uv = uvFromFlat(${u}, ${d}, index);\n    return sampleTexture(${a}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[1]*n[2],o=n[2],{newShape:l,keptDims:c}=i.util.squeezeShape(n),u=l;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${cb(kb(e,u),t)}\n        float ${r}(int row, int col, int depth) {\n          return ${r}(${xb(n,c)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${s}, ${o}, 1)));\n        ${bb(e)}\n      }\n    `;const d=e.shapeInfo.texShape,p=d[0],h=d[1],m=e.shapeInfo.flatOffset;if(h===s&&null==m)return t?`\n      float ${r}(int row, int col, int depth) {\n        int stride1 = ${a}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n        float ${r}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${o}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${h}.0, ${p}.0);\n          return sampleTexture(${a}, uv);\n        }\n      `;if(h===o&&null==m)return t?`\n      float ${r}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${a}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n    float ${r}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${h}.0, ${p}.0);\n      return sampleTexture(${a}, uv);\n    }\n  `;const f=gb(a);if(t)return`\n    float ${r}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${a}Shape[1] * ${a}Shape[2];\n      int stride1 = ${a}Shape[2];\n      int index = row * ${s} + col * ${o} + depth + ${f};\n      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index);\n      return sampleTexture(${a}, uv);\n    }\n    `;return`\n      float ${r}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${s} + col * ${o} + depth + ${f};\n        vec2 uv = uvFromFlat(${p}, ${h}, index);\n        return sampleTexture(${a}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=n[3],o=n[2]*s,l=n[1]*o,{newShape:c,keptDims:u}=i.util.squeezeShape(n);if(c.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${cb(kb(e,c),t)}\n      float ${r}(int row, int col, int depth, int depth2) {\n        return ${r}(${xb(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${l}, ${o}, ${s}, 1)));\n        ${bb(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],m=p[1],f=`int stride2 = ${a}Shape[3];`,g=`int stride1 = ${a}Shape[2] * stride2;`,b=`int stride0 = ${a}Shape[1] * stride1;`;if(m===l&&null==d)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${g}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${o}, ${s}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${h}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;if(m===s&&null==d)return t?`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${a}Shape[1] * ${a}Shape[2], ${a}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${a}TexShape[1], ${a}TexShape[0]);\n        return sampleTexture(${a}, uv);\n      }\n    `:`\n      float ${r}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${h}.0);\n        return sampleTexture(${a}, uv);\n      }\n    `;const y=gb(a);if(t)return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${g}\n      ${b}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${a}TexShape[0], ${a}TexShape[1], index + ${y});\n      return sampleTexture(${a}, uv);\n    }\n  `;return`\n    float ${r}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${o} +\n          depth * ${s} + depth2;\n      vec2 uv = uvFromFlat(${h}, ${m}, index + ${y});\n      return sampleTexture(${a}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[4],s=t[3]*r,o=t[2]*s,l=t[1]*o,{newShape:c,keptDims:u}=i.util.squeezeShape(t);if(c.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${cb(kb(e,c))}\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        return ${a}(${xb(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${l}, ${o}, ${s}, ${r})) +\n          depth3;\n        ${bb(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],m=p[1];if(m===l&&null==d)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${o}, ${s}, ${r}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(m===r&&null==d)return`\n      float ${a}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const f=gb(n);return`\n    float ${a}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${o} + depth * ${s} +\n          depth2 * ${r} + depth3 + ${f};\n      vec2 uv = uvFromFlat(${h}, ${m}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:s}=i.util.squeezeShape(t);if(r.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${cb(kb(e,r))}\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${a}(${xb(t,s)});\n      }\n    `}const o=t[5],l=t[4]*o,c=t[3]*l,u=t[2]*c,d=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${d}, ${u}, ${c}, ${l})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${o}, 1)));\n        ${bb(e)}\n      }\n    `;const p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],f=h[1];if(f===d&&null==p)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${c}, ${l}, ${o})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${m}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===o&&null==p)return`\n      float ${a}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${m}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const g=gb(n);return`\n    float ${a}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${d} + col * ${u} + depth * ${c} +\n          depth2 * ${l} + depth3 * ${o} + depth4 + ${g};\n      vec2 uv = uvFromFlat(${m}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function ub(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),a=tb();return`\n    vec4 ${n}() {\n      return ${a.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,r=tb();if(t)return`\n    vec4 ${a}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${r.texture2D}(${n}, uv);\n    }\n  `;const s=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return`\n    vec4 ${a}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${s[0]}, ${s[1]}, index);\n      return ${r.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),s=e.shapeInfo.texShape,o=s[0],l=s[1],c=tb();if(null!=s&&i.util.arraysEqual(n,s))return t?`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${a}TexShape[1], ${a}TexShape[0]);\n\n        return ${c.texture2D}(${a}, uv);\n      }\n    `:`\n      vec4 ${r}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${o}.0);\n\n        return ${c.texture2D}(${a}, uv);\n      }\n    `;if(t)return`\n    vec4 ${r}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${a}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${c.texture2D}(${a}, uv);\n    }\n  `;const u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],d=Math.ceil(n[1]/2);return`\n    vec4 ${r}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d}, ${u[0]}, ${u[1]}, row, col);\n      return ${c.texture2D}(${a}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,i="get"+a.charAt(0).toUpperCase()+a.slice(1),r=e.shapeInfo.texShape,s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];if(1===n[0]){const a=[1,2],r=["b","row","col"];return`\n        ${ub(kb(e,n.slice(1)),t)}\n        vec4 ${i}(int b, int row, int col) {\n          return ${i}(${xb(r,a)});\n        }\n      `}const o=tb();if(t)return`\n    vec4 ${i}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${a}TexShape[0]) / 2.0), ceil(float(${a}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${a}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${a}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${o.texture2D}(${a}, uv);\n    }\n  `;const l=s[0],c=s[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return`\n    vec4 ${i}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${c}, ${d}, ${u}, b, row, col);\n      return ${o.texture2D}(${a}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),i=tb();if(t)return`\n    vec4 ${a}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${i.texture2D}(${n}, uv);\n    }\n  `;const r=e.shapeInfo.logicalShape,s=r.length,o=e.shapeInfo.texShape,l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],c=l[0],u=l[1],d=Math.ceil(r[s-1]/2);let p=d*Math.ceil(r[s-2]/2),h="int b, int row, int col",m=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let e=2;e<s-1;e++)h=`int b${e}, `+h,p*=r[s-e-1],m=`b${e} * ${p} + `+m;return`\n    vec4 ${a}(${h}) {\n      int index = ${m};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const db="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",pb="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hb="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",mb="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function fb(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function gb(e){return`offset${e}`}function bb(e){const t=e.name,n=i.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function yb(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function vb(e,t,n){const{newShape:a,keptDims:r}=i.util.squeezeShape(t),s=t.length,o=e&&3===s&&1===t[0],l=o?t.slice(1):a,c=!e&&s>1&&!i.util.arraysEqual(t,n)&&a.length<s||o;return{useSqueezeShape:c,uniformShape:c?l:t,keptDims:r}}function kb(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function xb(e,t){return t.map((t=>e[t])).join(", ")}function wb(e,t,n,a){const r=n.map(((e,n)=>{const a={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(a.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:a}})),s=r.map((e=>e.shapeInfo)),o={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},l=lb(r,o,t),c=function(e,t){const n=zg(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(Ng(e,(()=>e.shaderSource(n,t))),Ng(e,(()=>e.compileShader(n))),(0,i.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw Dg(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,l),u=e.createProgram(c);return(0,i.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:c,source:l,webGLProgram:u,inShapeInfos:s,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:c,source:l,webGLProgram:u,inShapeInfos:s,outShapeInfo:o},Sb(e,t,u))}function Sb(e,t,n){const a={},r={},s={},o=[];let l,c,u,d=null,p=null;p=e.getUniformLocation(n,"NAN",!1),1===(0,i.env)().getNumber("WEBGL_VERSION")&&(d=e.getUniformLocation(n,"INFINITY",!1));const h=!1;for(let i=0;i<t.variableNames.length;i++){const o=t.variableNames[i];a[o]=e.getUniformLocation(n,o,h),a[`offset${o}`]=e.getUniformLocation(n,`offset${o}`,h),t.enableShapeUniforms&&(r[`${o}Shape`]=e.getUniformLocation(n,`${o}Shape`,h),s[`${o}TexShape`]=e.getUniformLocation(n,`${o}TexShape`,h))}return t.enableShapeUniforms&&(l=e.getUniformLocation(n,"outShape",h),u=e.getUniformLocation(n,"outShapeStrides",h),c=e.getUniformLocation(n,"outTexShape",h)),t.customUniforms&&t.customUniforms.forEach(((t,a)=>{o[a]=e.getUniformLocation(n,t.name,h)})),{uniformLocations:a,customUniformLocations:o,infLoc:d,nanLoc:p,inShapesLocations:r,inTexShapesLocations:s,outShapeLocation:l,outShapeStridesLocation:u,outTexShapeLocation:c}}function Cb(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const a=e.logicalShape,r=t[n],s=r.shape;if(!i.util.arraysEqual(a,s))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${a} and ${s} must match`);if(e.isUniform&&r.isUniform)return;const o=e.texShape,l=r.isUniform?null:r.texData.texShape;if(!i.util.arraysEqual(o,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${l} must match`)}))}function Tb(e){return(0,i.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class _b{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=wg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=tb();this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?ab(["r","c","d"],e):nb(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class Ib{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=wg.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=tb();this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?ab(["r","c","d"],e):nb(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class Ab{constructor(e){this.variableNames=["A"],this.outTexUsage=Sg.DOWNLOAD;const t=tb();this.outputShape=e,this.userCode=`\n      ${sb}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class Nb{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=Sg.DOWNLOAD;const t=tb();this.outputShape=e,this.userCode=`\n      ${sb}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class Eb{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=tb();this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length);let a="result";t&&(a="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rb(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${n.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${n.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `}}class Rb{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=tb();this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length);let a="",i="result";t&&(i="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let i=0;i<=1;i++){const r=2*t+i;a+=`\n          localCoords = coords;\n          if(localCoords[2] + ${i} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${i};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${r}] = values[0];\n            } else if (offset == 1) {\n              result[${r}] = values[1];\n            } else if (offset == 2) {\n              result[${r}] = values[2];\n            } else {\n              result[${r}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rb(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${a}\n\n          ${n.output} = ${i};\n        }\n    `}}function Mb(e){const t=tb();return function(e,t){const n=zg(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(Ng(e,(()=>e.shaderSource(n,t))),Ng(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function Db(e){return function(e,t){const n=zg(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Ng(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),Ng(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function $b(e){return function(e,t){const n=zg(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return Ng(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),Ng(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Bb(e,t,n,a,r,s){!function(e,t){const n=(0,i.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const o=function(e){return zg(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),l=e.TEXTURE_2D;return Ng(e,(()=>e.bindTexture(l,o))),Ng(e,(()=>e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),Ng(e,(()=>e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),Ng(e,(()=>e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST))),Ng(e,(()=>e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===(0,i.env)().getNumber("WEBGL_VERSION")?Ng(e,(()=>e.texImage2D(l,0,a,t,n,0,r,s,null))):Ng(e,(()=>e.texStorage2D(l,1,a,t,n))),Ng(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:o,texShape:[n,t]}}function Lb(e){return e.internalFormatFloat}function Fb(e){return e.internalFormatHalfFloat}function Ob(e){return e.downloadTextureFormat}function jb(e){return e.internalFormatPackedFloat}function zb(e){return e.internalFormatPackedHalfFloat}function Pb(e,t,n,a,i,r,s,o){const l=e,c=new Float32Array(function(e,t){const[n,a]=Ig(e,t);return n*a*4}(r,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class Wb{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=(0,i.env)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){vg[e]=t}(t,e)):this.gl=xg(t);let n="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,i.env)().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=Rg(this.gl,e),Jg(this.gl,t))this.textureHalfFloatExtension=Rg(this.gl,t);else if((0,i.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),Jg(this.gl,a))this.colorBufferHalfFloatExtension=Rg(this.gl,a);else if((0,i.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",Jg(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!Jg(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=Db(this.gl),this.indexBuffer=$b(this.gl),this.framebuffer=function(e){return zg(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=Ag(this.gl,this.textureHalfFloatExtension)}get debug(){return(0,i.env)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;Ng(e,(()=>e.finish())),Ng(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),Ng(e,(()=>e.deleteFramebuffer(this.framebuffer))),Ng(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),Ng(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),Ng(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[i,r]=Tg(t,n);return Bb(e,i,r,Lb(a),a.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[i,r]=Tg(t,n);return Bb(e,i,r,Fb(a),a.textureFormatFloat,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[i,r]=Tg(t,n);return Bb(e,i,r,Ob(a),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){Ng(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===(0,i.env)().getNumber("WEBGL_VERSION")?Ng(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):Ng(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===(0,i.env)().getNumber("WEBGL_VERSION")?Ng(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):Ng(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),Ng(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,a){this.throwIfDisposed(),function(e,t,n,a,r,s){let o,l,c;Ng(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(o=new Uint8Array(n*a*4),l=e.UNSIGNED_BYTE,c=e.RGBA):(o=new Float32Array(n*a*4),l=e.FLOAT,c=s.internalFormatPackedFloat),o.set(r),2===(0,i.env)().getNumber("WEBGL_VERSION")?Ng(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,a,e.RGBA,l,o))):Ng(e,(()=>e.texImage2D(e.TEXTURE_2D,0,c,n,a,0,e.RGBA,l,o))),Ng(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[i,r]=Ig(t,n);return Bb(e,i,r,zb(a),e.RGBA,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[i,r]=Ig(t,n);return Bb(e,i,r,jb(a),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(Og(this.gl,this.framebuffer),this.outputTexture=null),Ng(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,a){const[i,r]=Tg(t,n),s=new Uint8Array(t*n*4);return Ng(e,(()=>e.readPixels(0,0,i,r,a.downloadTextureFormat,e.UNSIGNED_BYTE,s))),new Float32Array(s.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,a,i,r){return Pb(this.gl,e,0,0,0,i,r,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const a=e,i=new Float32Array(n);return a.bindBuffer(a.PIXEL_PACK_BUFFER,t),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,i),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),i}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const a=function(e,t,n,a){const i=e.createBuffer();Ng(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,i)));const r=16*t*n;return Ng(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,r,e.STREAM_READ))),Ng(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),Ng(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),i}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if((0,i.env)().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=a.clientWaitSync(i,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=i}else(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const a=new Float32Array(t*n*4);return Ng(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,a))),a}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=Mb(t));const n=function(e){return zg(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return Ng(t,(()=>t.attachShader(n,this.vertexShader))),Ng(t,(()=>t.attachShader(n,e))),function(e,t){if(Ng(e,(()=>e.linkProgram(t))),!(0,i.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&$g(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return Ng(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),Bg(e,t,"clipSpacePos",n,3,20,0)&&Bg(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Ng(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&$g(this.gl,this.program),Ng(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return zg(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),Ng(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Lg(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[a,i]=Ig(t,n);this.setOutputMatrixTextureDriver(e,a,i)}setOutputMatrixWriteRegion(e,t,n,a){this.setOutputMatrixWriteRegionDriver(n,e,a,t)}setOutputPackedMatrixWriteRegion(e,t,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&$g(this.gl,this.program),jg(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),Ng(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),Ng(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Rg(this.gl,2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await i.util.repeatedTry((()=>this.disposed||this.isQueryAvailable(e,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||i.util.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),Fg(this.gl,e,this.framebuffer),this.debug&&jg(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(Fg(this.gl,this.outputTexture,this.framebuffer),this.debug&&jg(this.gl)):Og(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const a=this.gl;Fg(a,e,this.framebuffer),this.debug&&jg(a),this.outputTexture=e,Ng(a,(()=>a.viewport(0,0,t,n))),Ng(a,(()=>a.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,a){this.throwIfDisposed(),Ng(this.gl,(()=>this.gl.scissor(e,t,n,a)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:Gb,bincountImpl:Vb,bincountReduceImpl:Ub,ceilImpl:Hb,concatImpl:qb,equalImpl:Kb,expImpl:Jb,expm1Impl:Xb,floorImpl:Yb,gatherNdImpl:Zb,gatherV2Impl:Qb,greaterImpl:ey,greaterEqualImpl:ty,lessImpl:ny,lessEqualImpl:ay,linSpaceImpl:iy,logImpl:ry,maxImpl:sy,maximumImpl:oy,minimumImpl:ly,multiplyImpl:cy,negImpl:uy,notEqualImpl:dy,prodImpl:py,rangeImpl:hy,rsqrtImpl:my,scatterImpl:fy,sigmoidImpl:gy,simpleAbsImpl:by,sliceImpl:yy,sparseFillEmptyRowsImpl:vy,sparseReshapeImpl:ky,sparseSegmentReductionImpl:xy,sqrtImpl:wy,stridedSliceImpl:Sy,stringNGramsImpl:Cy,stringSplitImpl:Ty,stringToHashBucketFastImpl:_y,subImpl:Iy,tileImpl:Ay,topKImpl:Ny,transposeImpl:Ey,uniqueImpl:Ry}=a;function My(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function Dy(e,t){return 1===t?[e]:My(e,t)}class $y{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=Tb(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Dy("rc",this.rank),t=yb(this.rank),n=this.getOutOfBoundsCondition(e),a=this.getSetup(e),i=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${a}\n\n            setOutput(vec4(${i}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let a=0;a<=1;a++){let i=`${0===n?"r":"rp1"}, ${0===a?"c":"cp1"}`;for(let t=2;t<this.rank;t++)i=`${e[e.length-1-t]},`+i;t.push(i)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],a=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${a};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class By{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length);let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var a,i;this.userCode=`\n      ${a=t,i=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${i?ib(["r","c","d"],"inputShape"):nb(["r","c","d"],a)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":rb(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class Ly{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const a=Oy(t,n),i=jy(e,a,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const r=Fy(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=r,this.log();const e=this.freeTextures[i].shift();return this.usedTextures[i].push(e),e}let s;return a===Cg.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===Cg.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===Cg.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===Cg.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===Cg.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(s),this.numUsedTextures++,this._numBytesAllocated+=r,this.log(),s}releaseTexture(e,t,n,a){if(null==this.freeTextures)return;const r=Oy(n,a),s=jy(t,r,a);s in this.freeTextures||(this.freeTextures[s]=[]);const o=Fy(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,a),l=(0,i.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==l&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[s].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;const c=this.usedTextures[s],u=c.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(u,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function Fy(e,t,n,a,i){const r=function(e,t){switch(e){case Cg.PACKED_2X2_FLOAT32:return jb(t);case Cg.PACKED_2X2_FLOAT16:return zb(t);case Cg.UNPACKED_FLOAT32:return Lb(t);case Cg.UNPACKED_FLOAT16:return Fb(t);case Cg.PACKED_4X1_UNSIGNED_BYTE:return Ob(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,a);let s;if(i){const[t,n]=Ig(e[0],e[1]);s=t*n}else{const[t,n]=Tg(e[0],e[1]);s=t*n}const o=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,r);return s*o}function Oy(e,t){if(e===Sg.UPLOAD)return Cg.PACKED_2X2_FLOAT32;if(e===Sg.RENDER||null==e)return function(e){return(0,i.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?Cg.PACKED_2X2_FLOAT32:Cg.UNPACKED_FLOAT32:e?Cg.PACKED_2X2_FLOAT16:Cg.UNPACKED_FLOAT16}(t);if(e===Sg.DOWNLOAD||e===Sg.PIXELS)return Cg.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function jy(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class zy{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const Py="return abs(x);";const Wy="return x;";class Gy{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class Vy{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length);const t=e.length,n=Dy("rc",t),a=yb(t),i=function(e,t){if(1===e)return"rc";let n="";for(let a=0;a<e;a++)n+=t[a],a<e-1&&(n+=",");return n}(t,n),r=n.slice(-2),s=t<=1?"rc":`vec2(${r.join(",")})`;this.userCode=`\n      void main() {\n        ${a} rc = getOutputCoords();\n        vec4 packedInput = getA(${i});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}}const Uy=i.kernel_impls.whereImpl,Hy={};const qy=(0,i.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class Ky extends i.KernelBackend{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!(0,i.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Wb)t=e;else{const n=xg((0,i.env)().getNumber("WEBGL_VERSION"),e);t=new Wb(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=xg((0,i.env)().getNumber("WEBGL_VERSION"));t=new Wb(e),this.binaryCache=((n=(0,i.env)().getNumber("WEBGL_VERSION"))in Hy||(Hy[n]={}),Hy[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Ly(this.gpgpu),this.numMBBeforeWarning=null==(0,i.env)().global.screen?1024:(0,i.env)().global.screen.height*(0,i.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new i.DataStorage(this,(0,i.engine)())}nextDataId(){return Ky.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if(((0,i.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,i.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:t,dtype:n,values:e,usage:Sg.UPLOAD,refCount:1}),a}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,a,r){if((0,i.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:a,values:t,usage:Sg.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:a,complexTensorInfos:r,slice:s,shape:o,isPacked:l}=t;if(null!=s){let t;t=l?new Gy(o,Wy):new zy(o,Wy);const n=this.runWebGLProgram(t,[{dataId:e,shape:o,dtype:a}],a),i=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===a)return n;const c=null!=this.activeTimers;let u,d;if(c&&(u=i.util.now()),"complex64"===a){const e=this.readSync(r.real.dataId),t=this.readSync(r.imag.dataId);d=i.backend_util.mergeRealAndImagArrays(e,t)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=i.util.now()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:a,slice:r,dtype:s,complexTensorInfos:o,isPacked:l}=t;if(null!=r){let t;t=l?new Gy(a,Wy):new zy(a,Wy);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:s}],s),i=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if((0,i.env)().getBool("DEBUG")&&!(0,i.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,i.env)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c,u,d=null;if("complex64"!==s&&(0,i.env)().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const t=this.texData.get(c.dataId);d=this.gpgpu.createBufferFromTexture(t.texture.texture,..._g(a))}if(this.pendingRead.set(e,[]),"complex64"!==s&&await this.gpgpu.createAndWaitForFence(),"complex64"===s){const e=await Promise.all([this.read(o.real.dataId),this.read(o.imag.dataId)]),t=e[0],n=e[1];u=i.backend_util.mergeRealAndImagArrays(t,n)}else if(null==d)u=this.getValuesFromTexture(e);else{const e=i.util.sizeFromShape(a);u=this.gpgpu.downloadFloat32MatrixFromBuffer(d,e)}if(null!=c&&this.disposeIntermediateTensorInfo(c),null!=d){const e=this.gpgpu.gl;Ng(e,(()=>e.deleteBuffer(d)))}const p=this.convertAndCacheOnCPU(e,u),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(p))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&(0,i.engine)().removeDataId(e,this),this.pendingDeletes--),p}readToGPU(e,t={}){const n=this.texData.get(e),{values:a,shape:r,slice:s,dtype:o,isPacked:l,texture:c}=n;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=s){let n;n=l?new Gy(r,Wy):new zy(r,Wy);const a=this.runWebGLProgram(n,[{dataId:e,shape:r,dtype:o}],o),i=this.readToGPU(a,t);return this.disposeIntermediateTensorInfo(a),i}if(null==c)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),d=(0,i.engine)().makeTensorFromTensorInfo(u),p=this.texData.get(u.dataId);return Object.assign({tensorRef:d},p.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>i.util.decodeString(e)));return(0,i.buffer)(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!Eg(n)){if((0,i.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:a}=this.texData.get(e),r=i.util.sizeFromShape(t);if((0,i.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),a=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(a.texture.texture,..._g(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(n),i}const s=(0,i.env)().getBool("WEBGL_PACK")&&!0===a,o=s?Vg(t):t,l=s?new Nb(o):new Ab(o),c=this.runWebGLProgram(l,[{shape:o,dtype:n,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let a=!1;null==this.programTimersStack?(this.programTimersStack=n,a=!0):this.activeTimers.push(n),this.activeTimers=n,e();const r=i.util.flatten(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),s=i.util.flatten(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,a&&(this.programTimersStack=null);const o={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if((0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);o.kernelMs=i.util.sum(e),o.getExtraProfileInfo=()=>e.map(((e,t)=>({name:s[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else o.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,o})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:i.util.now(),endMs:null}}endTimer(e){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=i.util.now(),e)}async getQueryTime(e){if((0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:a,usage:i,isPacked:r,slice:s}=this.texData.get(e),o=s&&s.origDataId||e,l=this.dataRefCount.get(o);l>1?this.dataRefCount.set(o,l-1):(this.dataRefCount.delete(o),null!=t&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(t,a,i,r)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=qy){return(0,i.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&i.util.sizeFromShape(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){i.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return Uy(e.shape,t)}packedUnaryOp(e,t,n){const a=new Gy(e.shape,t),r=this.compileAndRun(a,[e],n);return(0,i.engine)().makeTensorFromTensorInfo(r)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=by(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,i.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Py,e.dtype);const t=new zy(e.shape,Py),n=this.compileAndRun(t,[e]);return(0,i.engine)().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){const r=n.map((e=>i.util.encodeString(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:t}}makeOutput(e,t,n){return(0,i.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new Vy(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new $y(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[Wg(e.shape),...Gg(e.shape)],a={dtype:e.dtype,shape:n,dataId:e.dataId},i=[Wg(t),...Gg(t)],r=new By(i,n),s=[n],o=this.runWebGLProgram(r,[a],e.dtype,s,!0);return{dataId:o.dataId,shape:t,dtype:o.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:a,shape:r,dtype:s}=n;if(null!=t){const e=i.util.sizeFromShape(r),n=t[0]*t[1]*4;i.util.assert(e<=n,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const o=Vg(r);let l;l=a?new Ib(o):new _b(o);const c=[null!=t?t:_g(o)];return{dtype:s,shape:r,dataId:this.runWebGLProgram(l,[{shape:o,dtype:s,dataId:e}],s,c,!0,t).dataId}}runWebGLProgram(e,t,n,a,r=!1,s){const o=this.makeTensorInfo(e.outputShape,n),l=this.texData.get(o.dataId);if(e.packedOutput&&(l.isPacked=!0),e.outPackingScheme===wg.DENSE){const t=null!=s?s:_g(e.outputShape);l.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(l.usage=e.outTexUsage),0===i.util.sizeFromShape(o.shape))return l.values=i.util.getTypedArrayFromDType(o.dtype,0),o;const c=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&i.util.sizeFromShape(t.shape)<=(0,i.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),c.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!Hg(n.shape,t.shape)){const e=t,a=t.shape;t.shape=n.shape,t=this.packedReshape(t,a),c.push(t),n=this.texData.get(t.dataId),e.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(o.dataId);const d={shape:o.shape,texData:l,isUniform:!1},p=function(e,t,n){let a="";t.concat(n).forEach((t=>{const r=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const s=t.texData.texShape,{useSqueezeShape:o,uniformShape:l,keptDims:c}=vb(e.packedInputs,t.shape,s);let u="",d="",p="";if(1===l.length&&e.packedInputs){const e=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){const e=i.util.computeStrides(l);p=`${e[0]===s[1]}_${e[e.length-1]===s[1]}`}}else d=`${l[0]>1}_${l[1]>1}`;const h=t.shape.length,m=2===l.length&&i.util.arraysEqual(t.shape,s),f=1===i.util.sizeFromShape(t.shape),g=i.backend_util.getBroadcastDims(t.shape,n.shape),b=!e.packedInputs&&h===n.shape.length&&i.util.arraysEqual(s,n.texData.texShape),y=e.packedInputs||l.length>2?"":`${s[0]>1}_${s[1]>1}`;a+=`${h}_${b}_${o?c:""}_${l.length}_${f}_${g}_${m}_${u}_${d}_${p}_${y}_${r}`}else{const e=t.isUniform?"uniform":t.texData.texShape;a+=`${t.shape}_${e}_${r}`}}));const r=e.userCode;let s=e.constructor.name;return s+="_"+a+"_"+r+`${(0,i.env)().getNumber("WEBGL_VERSION")}`,s}(e,u,d),h=this.getAndSaveBinary(p,(()=>wb(this.gpgpu,e,u,d))),m=null!=this.activeTimers;let f;m&&(f=this.startTimer()),(0,i.env)().get("ENGINE_COMPILE_ONLY")||function(e,t,n,a,r){t.program.enableShapeUniforms||(Cb(t.inShapeInfos,n),Cb([t.outShapeInfo],[a]));const s=a.texData.texture,o=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(s.texture,o[0],o[1]):e.setOutputMatrixTexture(s.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===(0,i.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,a)=>{const r=t.program.variableNames[a],s=t.uniformLocations[r],o=t.uniformLocations[`offset${r}`],l=t.inShapesLocations[`${r}Shape`],c=t.inTexShapesLocations[`${r}TexShape`];if(l){const{uniformShape:a}=vb(t.program.packedInputs,n.shape,n.texData.texShape);switch(a.length){case 1:e.gl.uniform1iv(l,new Int32Array(a));break;case 2:e.gl.uniform2iv(l,new Int32Array(a));break;case 3:e.gl.uniform3iv(l,new Int32Array(a));break;case 4:e.gl.uniform4iv(l,new Int32Array(a))}}if(c&&e.gl.uniform2i(c,n.texData.texShape[0],n.texData.texShape[1]),null!=s)if(n.isUniform)if(i.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(s,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(s,t)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,s,a)}));const l=t.outShapeLocation;if(l)switch(a.shape.length){case 1:e.gl.uniform1iv(l,new Int32Array(a.shape));break;case 2:e.gl.uniform2iv(l,new Int32Array(a.shape));break;case 3:e.gl.uniform3iv(l,new Int32Array(a.shape));break;case 4:e.gl.uniform4iv(l,new Int32Array(a.shape))}if(t.outShapeStridesLocation){const n=i.util.computeStrides(a.shape);switch(a.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,a.texData.texShape[0],a.texData.texShape[1]),t.program.customUniforms&&r&&t.program.customUniforms.forEach(((n,a)=>{const i=t.customUniformLocations[a],s=r[a];if("float"===n.type)e.gl.uniform1fv(i,s);else if("vec2"===n.type)e.gl.uniform2fv(i,s);else if("vec3"===n.type)e.gl.uniform3fv(i,s);else if("vec4"===n.type)e.gl.uniform4fv(i,s);else if("int"===n.type)e.gl.uniform1iv(i,s);else if("ivec2"===n.type)e.gl.uniform2iv(i,s);else if("ivec3"===n.type)e.gl.uniform3iv(i,s);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(i,s)}})),e.executeProgram()}(this.gpgpu,h,u,d,a),c.forEach((e=>this.disposeIntermediateTensorInfo(e))),m&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const g=(0,i.env)().get("WEBGL_FLUSH_THRESHOLD");if(g>0){const e=i.util.now();e-this.lastGlFlushTime>g&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!(0,i.env)().getBool("WEBGL_LAZILY_UNPACK")&&l.isPacked&&!1===r){const e=this.unpackTensor(o);return this.disposeIntermediateTensorInfo(o),e}return o}compileAndRun(e,t,n,a,i=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,a,i)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!(0,i.env)().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,i.tidy)((()=>{if(!(0,i.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=(0,i.env)().getBool("DEBUG");(0,i.env)().set("DEBUG",!1);const t=this.abs((0,i.scalar)(1e-8)).dataSync()[0];if((0,i.env)().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:a,values:r,texture:s,usage:o,isPacked:l}=t;if(null!=s)return;const c=null!=this.activeTimers;let u;c&&(u=i.util.now());let d=t.texShape;if(null==d&&(d=function(e,t=!1){let n=(0,i.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map(((t,n)=>n>=e.length-2?i.util.nearestLargerEven(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=i.util.squeezeShape(e);e=t.newShape}let a=i.util.sizeFromShape(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=Wg(e);let n=2,r=2;return e.length&&([n,r]=Gg(e)),a=t*(n/2)*(r/2),i.util.sizeToSquarishShape(a).map((e=>2*e))}return i.util.sizeToSquarishShape(a)}(n,l),t.texShape=d),null!=r){const e=Vg(n);let s,o=d[1],p=d[0];const h=r instanceof Uint8Array||r instanceof Uint8ClampedArray;!l&&h||([o,p]=Ig(d[0],d[1])),s=l?new Rb(e,h):new Eb(e,h);const m=h?[p,o]:d,f=this.makeTensorInfo(m,a),g=this.texData.get(f.dataId);g.usage=h?Sg.PIXELS:Sg.UPLOAD,g.texShape=m,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),o,p,r);const b=[[p,o]],y=!0,v=this.runWebGLProgram(s,[f],a,b,y),k=this.texData.get(v.dataId);t.texShape=k.texShape,t.isPacked=k.isPacked,t.usage=k.usage,(0,i.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(v.dataId):(t.texture=k.texture,t.values=null,this.texData.delete(v.dataId)),this.disposeIntermediateTensorInfo(f),c&&(this.uploadWaitMs+=i.util.now()-u)}else{const e=this.acquireTexture(d,o,a,l);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:a}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,a)),n.values}acquireTexture(e,t,n,a){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,a)}computeBytes(e,t){return e[0]*e[1]*i.util.bytesPerElement(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await(0,i.nextFrame)(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw Dg(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const[,e]of Object.entries(this.binaryCache)){const{uniformLocations:t,customUniformLocations:n,infLoc:a,nanLoc:i,inShapesLocations:r,inTexShapesLocations:s,outShapeLocation:o,outShapeStridesLocation:l,outTexShapeLocation:c}=Sb(this.gpgpu,e.program,e.webGLProgram);e.uniformLocations=t,e.customUniformLocations=n,e.infLoc=a,e.nanLoc=i,e.inShapesLocations=r,e.inTexShapesLocations=s,e.outShapeLocation=o,e.outShapeStridesLocation=l,e.outTexShapeLocation=c}}}Ky.nextDataId=0;i.device_util.isBrowser()&&(0,i.registerBackend)("webgl",(()=>new Ky),2);class Jy{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=i.backend_util.assertAndGetBroadcastShape(t,n),this.enableShapeUniforms=Tb(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}class Xy{constructor(e,t,n,a=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i.backend_util.assertAndGetBroadcastShape(t,n);const r=this.outputShape.length;this.enableShapeUniforms=Tb(r);let s="";if(a)if(0===r||1===i.util.sizeFromShape(this.outputShape))s="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{if(s=`\n          ${yb(r)} coords = getOutputCoords();\n        `,1===r)this.enableShapeUniforms?s+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":s+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=Dy("coords",r);this.enableShapeUniforms?s+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= outShape[${r} - 2];\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= outShape[${r} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:s+=`\n            bool nextRowOutOfBounds =\n              (${e[r-2]} + 1) >= ${this.outputShape[r-2]};\n            bool nextColOutOfBounds =\n              (${e[r-1]} + 1) >= ${this.outputShape[r-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${s}\n\n        setOutput(result);\n      }\n    `}}function Yy(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const Zy={kernelName:i.Identity,backendName:"webgl",kernelFunc:Yy};function Qy(e){const{inputs:t,backend:n}=e,{real:a,imag:i}=t,r=n.makeTensorInfo(a.shape,"complex64"),s=n.texData.get(r.dataId),o=Yy({inputs:{x:a},backend:n}),l=Yy({inputs:{x:i},backend:n});return s.complexTensorInfos={real:o,imag:l},r}const ev={kernelName:i.Complex,backendName:"webgl",kernelFunc:Qy},tv="return (a < 0.) ? b * a : a;",nv="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const av={kernelName:i.LeakyRelu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:s}=a,o=n.makeTensorInfo([],"float32",i.util.createScalarValue(s,"float32")),l=(0,i.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Xy(nv,r.shape,o.shape):new Jy(tv,r.shape,o.shape),c=n.runWebGLProgram(l,[r,o],"float32");return n.disposeIntermediateTensorInfo(o),c}},iv="return (a < 0.) ? b * a : a;",rv="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const sv={kernelName:i.Prelu,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t,s=(0,i.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Xy(rv,a.shape,r.shape):new Jy(iv,a.shape,r.shape);return n.runWebGLProgram(s,[a,r],"float32")}};function ov({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:a}){return({inputs:r,backend:s})=>{const{x:o}=r,l=s,c=a||o.dtype;if(l.shouldExecuteOnCPU([o])&&null!=n){const e=l.texData.get(o.dataId),t=n(e.values,c);return l.makeTensorInfo(o.shape,c,t)}let u;return u=(0,i.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new Gy(o.shape,t):new zy(o.shape,e),l.runWebGLProgram(u,[o],c)}}function lv({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:a=!1,cpuKernelImpl:r,dtype:s}){return({inputs:o,backend:l})=>{const{a:c,b:u}=o,d=l;if(a&&"complex64"===c.dtype){const t=d.texData.get(c.dataId),n=d.texData.get(u.dataId),[a,r]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,a]=t,r={dataId:n.dataId,dtype:n.dtype,shape:c.shape},s={dataId:a.dataId,dtype:a.dtype,shape:u.shape},o=new Jy(e,c.shape,u.shape);return d.runWebGLProgram(o,[r,s],(0,i.upcastType)(n.dtype,a.dtype))})),s=Qy({inputs:{real:a,imag:r},backend:d});return d.disposeIntermediateTensorInfo(a),d.disposeIntermediateTensorInfo(r),s}const p=s||(0,i.upcastType)(c.dtype,u.dtype);if(("string"===c.dtype||"string"===u.dtype||d.shouldExecuteOnCPU([c,u]))&&null!=r){const e=d.texData.get(c.dataId).values,t=d.texData.get(u.dataId).values,n="string"===c.dtype?i.backend_util.fromUint8ToStringArray(e):e,a="string"===c.dtype?i.backend_util.fromUint8ToStringArray(t):t,[s,o]=r(c.shape,u.shape,n,a,p),l=d.makeTensorInfo(o,p);return d.texData.get(l.dataId).values=s,l}let h;return h=(0,i.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new Xy(t,c.shape,u.shape,n):new Jy(e,c.shape,u.shape),d.runWebGLProgram(h,[c,u],p)}}function cv(e,t=!1){if("linear"===e)return"return x;";if("relu"===e)return t?"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n";if("elu"===e)return t?"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n":"return (x >= 0.0) ? x : (exp(x) - 1.0);";if("relu6"===e)return t?"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n":"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n";if("prelu"===e)return t?rv:iv;if("leakyrelu"===e)return t?nv:tv;if("sigmoid"===e)return"return 1.0 / (1.0 + exp(-1.0 * x));";throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class uv{constructor(e,t,n,a=!1,i=!1,r=!1,s=null,o=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=Tb(this.outputShape.length);const c=a?e[1]:e[2],u=Math.ceil(c/2),d=a?"i * 2, rc.y":"rc.y, i * 2",p=i?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],m=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let f="",g="";s&&(f=o?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,g="result = activation(result);");const b=r?"result += getBiasAtOutCoords();":"";r&&this.variableNames.push("bias"),o&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let y="rc.x",v="rc.x";e[0]<t[0]?y=`int(min(float(rc.x), ${e[0]-1}.))`:t[0]<e[0]&&(v=`int(min(float(rc.x), ${t[0]-1}.))`),this.userCode=`\n      ${f}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${u}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${u}; i++) {\n          int batchA = ${y};\n          int batchB = ${v};\n          vec4 a = getMatrixA(batchA, ${d});\n          vec4 b = getMatrixB(batchB, ${p});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${m[0]});\n          result += (${h[1]} * ${m[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${b}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const dv="return areal * breal - aimag * bimag;",pv="return areal * bimag + aimag * breal;";class hv{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=i.backend_util.assertAndGetBroadcastShape(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const mv="return a * b;";function fv(e){const{inputs:t,backend:n}=e,{a,b:r}=t,s=i.backend_util.upcastType(a.dtype,r.dtype);if("complex64"===a.dtype){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),i=new hv(dv,a.shape,r.shape),s=new hv(pv,a.shape,r.shape),o=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:a.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],l=n.runWebGLProgram(i,o,"float32"),c=n.runWebGLProgram(s,o,"float32"),u=Qy({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([a,r])){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),[i,o]=cy(a.shape,r.shape,e.values,t.values,s),l=n.makeTensorInfo(o,s);return n.texData.get(l.dataId).values=i,l}let o;return o=(0,i.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Xy(mv,a.shape,r.shape):new Jy(mv,a.shape,r.shape),n.runWebGLProgram(o,[a,r],s)}const gv={kernelName:i.Multiply,backendName:"webgl",kernelFunc:fv};function bv(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:s}=a,o=n,l=i.util.sizeFromShape(r.shape),c=i.util.inferFromImplicitShape(s,l),u=i.util.sizeFromShape(c);i.util.assert(l===u,(()=>`The new shape (${c}) has ${u} elements and the old shape (${r.shape}) has ${l} elements. The new shape and old shape must have the same number of elements.`));const d=o.texData.get(r.dataId);return!d.isPacked||Hg(r.shape,c)||null!==d.texture&&Hg(d.shape,c)?(o.incRef(r.dataId),{dataId:r.dataId,shape:c,dtype:r.dtype}):function(e,t,n){const a=[Wg(e.shape),...Gg(e.shape)],i={dtype:e.dtype,shape:a,dataId:e.dataId},r=[Wg(t),...Gg(t)],s=new By(r,a),o=[a],l=n.runWebGLProgram(s,[i],e.dtype,o,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(r,c,o)}const yv={kernelName:i.Reshape,backendName:"webgl",kernelFunc:bv};class vv{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:s}=e;this.outputShape=[a,s];const o=4*Math.floor(n/4),l=n%4;let c="sumValue += dot(values, ones);";if(null!=t){const e=1/t;c=`sumValue += dot(values * ${i.util.isInt(e)?e.toPrecision(2):e}, ones);`}let u="";r%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${r}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}}class kv{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:i,outSize:r}=e;this.outputShape=[a,r];let s="0.0",o="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",o="min"):"max"===t&&(s="-1.0 / 1e-20",o="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let d=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${o}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${o}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,p="vec4";"all"===t?(s="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(s="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let h="";i%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${d}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===u}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${2===u}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${3===u}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${d}\n        }\n        setOutput(${l});\n      }\n    `}}function xv(e,t,n,a){const r=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],a=i.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return t}(e.shape);let s=e;for(let i=0;i<r.length;i++){const{inSize:o,windowSize:l,outSize:c}=r[i];let u,d;u="mean"===n?0===i?new vv({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},o):new vv({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c}):new kv({windowSize:l,inSize:o,batchSize:e.shape[0],outSize:c},n),d=s,s=a.runWebGLProgram(u,[s],t),d.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(d)}return s}class wv{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];this.outputShape=n,this.rank=n.length;const a=yb(this.rank),i=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(t);for(let t=0;t<e.length;t++)a[e[t]]=n[t];return a.join()}(t);this.userCode=`\n    void main() {\n      ${a} resRC = getOutputCoords();\n      setOutput(getA(${i}));\n    }\n    `}}class Sv{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[t[a]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=yb(this.rank),i=My("rc",this.rank),r=new Array(this.rank);for(let e=0;e<t.length;e++)r[t[e]]=i[e];const s=`vec2(${r.slice(-2).join()})`,o=`++${i[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${r.join()}), ${s})`;this.userCode=`\n    void main() {\n      ${a} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${o}) {\n        result[1] = ${l};\n      }\n      --${i[this.rank-1]};\n      if(++${i[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${o}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function Cv(e,t,n){const a=(0,i.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Sv(e.shape,t):new wv(e.shape,t);return n.runWebGLProgram(a,[e],e.dtype)}function Tv(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a;return function(e,t,n,a){const r=t,s=e.shape.length,o=i.util.parseAxisParam(r,e.shape);let l=o;const c=i.backend_util.getAxesPermutation(l,s),u=null!=c;let d=e;u&&(d=Cv(e,c,a),l=i.backend_util.getInnerMostAxes(l.length,s)),i.backend_util.assertAxesAreInnerMostDims("sum",l,s);const[p,h]=i.backend_util.computeOutAndReduceShapes(d.shape,l);let m=p;n&&(m=i.backend_util.expandShapeToKeepDim(p,o));const f=i.util.sizeFromShape(h),g=bv({inputs:{x:d},attrs:{shape:[i.util.sizeFromShape(e.shape)/f,f]},backend:a}),b=xv(g,(0,i.sumOutType)(e.dtype),"sum",a),y=bv({inputs:{x:b},attrs:{shape:m},backend:a});return a.disposeIntermediateTensorInfo(g),a.disposeIntermediateTensorInfo(b),u&&a.disposeIntermediateTensorInfo(d),y}(r,s,o,n)}const _v={kernelName:i.Sum,backendName:"webgl",kernelFunc:Tv};function Iv(e){const{inputs:t,backend:n,attrs:a}=e,{x:i}=t,{perm:r}=a,s=n,o=i.shape.length,l=new Array(o);for(let e=0;e<l.length;e++)l[e]=i.shape[r[e]];let c;if(s.shouldExecuteOnCPU([i])){const e=s.texData.get(i.dataId).values,t=Ey(e,i.shape,i.dtype,r,l);c=s.makeTensorInfo(l,i.dtype);s.texData.get(c.dataId).values=t}else c=Cv(i,r,s);return c}const Av={kernelName:i.Transpose,backendName:"webgl",kernelFunc:Iv};function Nv({a:e,b:t,transposeA:n,transposeB:a,backend:r,bias:s=null,preluActivationWeights:o=null,leakyreluAlpha:l=0,activation:c=null}){const u=e.shape.length,d=t.shape.length,p=n?e.shape[u-2]:e.shape[u-1],h=a?t.shape[d-1]:t.shape[d-2],m=n?e.shape[u-1]:e.shape[u-2],f=a?t.shape[d-2]:t.shape[d-1],g=e.shape.slice(0,-2),b=t.shape.slice(0,-2),y=i.util.sizeFromShape(g),v=i.util.sizeFromShape(b),k=i.broadcast_util.assertAndGetBroadcastShape(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([m,f]);i.util.assert(p===h,(()=>`Error in matMul: inner shapes (${p}) and (${h}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${a} must match.`));const x=n?[y,p,m]:[y,m,p],w=a?[v,f,h]:[v,h,f],S=bv({inputs:{x:e},backend:r,attrs:{shape:x}}),C=bv({inputs:{x:t},backend:r,attrs:{shape:w}}),T=[S,C],_=Math.max(y,v),I=n?S.shape[1]:S.shape[2],A=null!=s,N=null!=o,E="leakyrelu"===c,R=null!=c?cv(c,!0):null;let M;if((1===m||1===f)&&I>1e3&&!1===(A||N||E||null!=R)){let e=S,t=C;n&&(e=Iv({inputs:{x:S},backend:r,attrs:{perm:[0,2,1]}}),T.push(e)),a&&(t=Iv({inputs:{x:C},backend:r,attrs:{perm:[0,2,1]}}),T.push(t));const i=1===f;let s=e;1!==f&&(s=bv({inputs:{x:e},backend:r,attrs:{shape:[_,I,1]}}),T.push(s));const o=1===f?2:1;let l=t;i&&(l=bv({inputs:{x:t},backend:r,attrs:{shape:[_,1,I]}}),T.push(l));const c=fv({inputs:{a:s,b:l},backend:r});M=Tv({inputs:{x:c},backend:r,attrs:{axis:o,keepDims:!0}}),T.push(c)}else{const c=(0,i.upcastType)(e.dtype,t.dtype),u=new uv(x,w,[_,m,f],n,a,A,R,N,E),d=[S,C];if(null!=s&&d.push(s),N&&d.push(o),E){const e=r.makeTensorInfo([],"float32",i.util.createScalarValue(l,"float32"));d.push(e),T.push(e)}M=r.runWebGLProgram(u,d,c)}const D=bv({inputs:{x:M},backend:r,attrs:{shape:k}});T.push(M);for(const e of T)r.disposeIntermediateTensorInfo(e);return D}const Ev={kernelName:i._FusedMatMul,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:i,b:r,bias:s,preluActivationWeights:o}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=a;return Nv({a:i,b:r,transposeA:l,transposeB:c,backend:n,bias:s,preluActivationWeights:o,leakyreluAlpha:d,activation:u})}},Rv="return abs(x);";const Mv={kernelName:i.Abs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){const e=n.texData.get(a.dataId),t=by(e.values);return n.makeTensorInfo(a.shape,a.dtype,t)}let r;return r=(0,i.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Gy(a.shape,Rv):new zy(a.shape,Rv),n.runWebGLProgram(r,[a],a.dtype)}},Dv=ov({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),$v={kernelName:i.Acos,backendName:"webgl",kernelFunc:Dv},Bv=ov({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),Lv={kernelName:i.Acosh,backendName:"webgl",kernelFunc:Bv},Fv="return a + b;",Ov=lv({opSnippet:Fv,packedOpSnippet:Fv,supportsComplex:!0,cpuKernelImpl:Gb}),jv={kernelName:i.Add,backendName:"webgl",kernelFunc:Ov};class zv{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${a};\n        setOutput(result);\n      }\n    `}}class Pv{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const a=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${a};\n        setOutput(result);\n      }\n    `}}const Wv={kernelName:i.AddN,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,r=n;if(1===r.length)return Yy({inputs:{x:r[0]},backend:a});if(r.length>(0,i.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(r.length/2),n=e({inputs:r.slice(0,t),backend:a}),i=e({inputs:r.slice(t),backend:a});return e({inputs:[n,i],backend:a})}const s=r.map((e=>e.dtype)).reduce(((e,t)=>(0,i.upcastType)(e,t))),o=r.map((e=>e.shape)),l=(0,i.env)().getBool("WEBGL_PACK")?new Pv(r[0].shape,o):new zv(r[0].shape,o);return a.runWebGLProgram(l,r,s)}};const Gv={kernelName:i.All,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a,l=r.shape.length,c=i.util.parseAxisParam(s,r.shape);let u=c;const d=i.backend_util.getAxesPermutation(u,l);let p=r;null!=d&&(p=Iv({inputs:{x:r},backend:n,attrs:{perm:d}}),u=i.backend_util.getInnerMostAxes(u.length,l)),i.backend_util.assertAxesAreInnerMostDims("all",u,l);const[h,m]=i.backend_util.computeOutAndReduceShapes(p.shape,u),f=bv({inputs:{x:p},backend:n,attrs:{shape:[-1,i.util.sizeFromShape(m)]}}),g=xv(f,f.dtype,"all",n);let b;if(o){b=bv({inputs:{x:g},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(h,c)}})}else b=bv({inputs:{x:g},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),null!=d&&n.disposeIntermediateTensorInfo(p),b}};const Vv={kernelName:i.Any,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a,l=r.shape.length,c=i.util.parseAxisParam(s,r.shape);let u=c;const d=i.backend_util.getAxesPermutation(u,l);let p=r;null!=d&&(p=Iv({inputs:{x:r},backend:n,attrs:{perm:d}}),u=i.backend_util.getInnerMostAxes(u.length,l)),i.backend_util.assertAxesAreInnerMostDims("any",u,l);const[h,m]=i.backend_util.computeOutAndReduceShapes(p.shape,u),f=bv({inputs:{x:p},backend:n,attrs:{shape:[-1,i.util.sizeFromShape(m)]}}),g=xv(f,f.dtype,"any",n);let b;if(o){b=bv({inputs:{x:g},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(h,c)}})}else b=bv({inputs:{x:g},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),null!=d&&n.disposeIntermediateTensorInfo(p),b}};class Uv{constructor(e,t,n){this.variableNames=["A"];const{windowSize:a,batchSize:i,outSize:r}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[i,r];const s="max"===t?">":"<",o=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${a}; i++) {\n          int inIdx = ${o};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class Hv{constructor(e,t,n,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,i.util.assert(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const r=e[e.length-1],s=Math.ceil(r/t);this.outputShape=e.slice(0,-1),s>1&&this.outputShape.push(s),a||this.variableNames.push("bestIndicesA");const o=this.outputShape,l=o.length,c=yb(l),u=Dy("coords",l);let d,p;if(1===s){p=l+1;const e=yb(p);d=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[l-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[l-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[l-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[l-2]};`}else p=l,d=`\n        ${c} sourceLocR = coords;\n        ++${u[l-1]};\n        ${c} sourceLocG = coords;\n        ++${u[l-2]};\n        ${c} sourceLocA = coords;\n        --${u[l-1]};\n        ${c} sourceLocB = coords;\n        --${u[l-2]};`;const h=["x","y","z","w","u","v"].slice(0,p),m="."+h[p-1],f=h.map((e=>"int "+e)),g=Dy("sourceLocR",p-1).concat("inIdx.r"),b=Dy("sourceLocG",p-1).concat("inIdx.g"),y=Dy("sourceLocB",p-1).concat("inIdx.b"),v=Dy("sourceLocA",p-1).concat("inIdx.a"),k="max"===n?"greaterThan":"lessThan",x=a?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${y.join()}),\n                             getBestIndicesAChannel(${v.join()})));`,w=`vec4(\n            getAChannel(${g.join()}),\n            hasNextCol ? getAChannel(${b.join()}) : 0.,\n            hasNextRow ? getAChannel(${y.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${v.join()}) : 0.)`,S=a?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${h.join()}),\n                                          vec2(${h.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${h.join()}),\n                               vec2(${h.slice(-2).join()}));\n      }\n      ${S}\n      void main() {\n        ${c} coords = getOutputCoords();\n        bool hasNextCol = ${u[l-1]} < ${o[l-1]-1};\n        bool hasNextRow = ${u[l-2]} < ${o[l-2]-1};\n        ${d}\n        ivec4 srcIdx = ivec4(sourceLocR${m}, sourceLocG${m},\n          sourceLocB${m}, sourceLocA${m}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${k}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function qv(e,t,n,a=null){let r=t.shape[0],s=t.shape[1];null!=a&&(r=a.shape[0],s=a.shape[1]);const o=i.backend_util.computeOptimalWindowSize(s),l={windowSize:o,inSize:s,batchSize:r,outSize:Math.ceil(s/o)},c=new Uv(l,n,null==a),u=[t];null!=a&&u.push(a);const d=e.runWebGLProgram(c,u,"int32");if(1===d.shape[1])return d;const p=qv(e,t,n,d);return e.disposeIntermediateTensorInfo(d),p}function Kv(e,t,n,a=null){const r=null!=a?a.shape:t.shape,s=r[r.length-1],o=i.backend_util.computeOptimalWindowSize(s),l=new Hv(r,o,n,null==a),c=null==a?[t]:[t,a],u=e.runWebGLProgram(l,c,"int32");if(u.shape.length===t.shape.length){const a=Kv(e,t,n,u);return e.disposeIntermediateTensorInfo(u),a}return u}function Jv(e,t,n,a){const r=[n];if(i.backend_util.assertAxesAreInnerMostDims("arg"+a.charAt(0).toUpperCase()+a.slice(1),r,t.shape.length),!(0,i.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],s=e.texData.get(t.dataId);let o=t;null!==s&&s.isPacked&&(o=e.unpackTensor(t),n.push(o));const[l,c]=i.backend_util.computeOutAndReduceShapes(o.shape,r),u=i.util.sizeFromShape(c),d=bv({inputs:{x:o},backend:e,attrs:{shape:[-1,u]}});n.push(d);const p=qv(e,d,a);n.push(p);const h=bv({inputs:{x:p},backend:e,attrs:{shape:l}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),h}return Kv(e,t,a)}const Xv={kernelName:i.ArgMax,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s}=a;let o=i.util.parseAxisParam(s,r.shape);const l=i.backend_util.getAxesPermutation(o,r.shape.length);let c=r;const u=[];null!=l&&(c=Iv({inputs:{x:r},backend:n,attrs:{perm:l}}),u.push(c),o=i.backend_util.getInnerMostAxes(o.length,c.shape.length)),i.backend_util.assertAxesAreInnerMostDims("argMax",[o[0]],c.shape.length);const d=Jv(n,c,o[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}};const Yv={kernelName:i.ArgMin,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s}=a;let o=i.util.parseAxisParam(s,r.shape);const l=i.backend_util.getAxesPermutation(o,r.shape.length);let c=r;const u=[];null!=l&&(c=Iv({inputs:{x:r},backend:n,attrs:{perm:l}}),u.push(c),o=i.backend_util.getInnerMostAxes(o.length,c.shape.length)),i.backend_util.assertAxesAreInnerMostDims("argMin",[o[0]],c.shape.length);const d=Jv(n,c,o[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},Zv=ov({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),Qv={kernelName:i.Asin,backendName:"webgl",kernelFunc:Zv},ek=ov({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),tk={kernelName:i.Asinh,backendName:"webgl",kernelFunc:ek},nk=ov({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),ak={kernelName:i.Atan,backendName:"webgl",kernelFunc:nk},ik=lv({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),rk={kernelName:i.Atan2,backendName:"webgl",kernelFunc:ik},sk=ov({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),ok={kernelName:i.Atanh,backendName:"webgl",kernelFunc:sk};class lk{constructor(e,t,n,a=!1,i=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,s=e.strideHeight,o=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const m="avg"===t,f=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(m||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${o});\n        const ivec2 pads = ivec2(${p}, ${h});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${u};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d};\n                wC += ${c}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${a?i?f:g:`wR * ${d} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let y=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(y="avgValue / count");const v=4*Math.floor(r/4),k=r%4,x=`\n      if (${m}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${o});\n      const ivec2 pads = ivec2(${p}, ${h});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${u};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${v}; wC += 4) {\n            int xC = xCCorner + wC * ${c};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              getValue(batch, xR, xC + 3 * ${c}, d)\n            );\n\n            ${x}\n          }\n\n          int xC = xCCorner + ${v};\n          if (${1===k}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${2===k}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${x}\n          } else if (${3===k}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              initializationValue\n            );\n\n            ${x}\n          }\n        }\n        setOutput(${y});\n      }\n    `}}class ck{constructor(e,t,n,a=!1,i=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const r=e.filterWidth,s=e.strideDepth,o=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,m=e.effectiveFilterWidth,f=e.padInfo.front,g=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const y="avg"===t;let v="0.0";if(y||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${o}, ${l});\n        const ivec3 pads = ivec3(${f}, ${g}, ${b});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${p};\n              wD += ${c}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${h};\n                wR += ${u}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${m};\n                  wC += ${d}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${a?i?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${m} +\n                      wR * ${m} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let k=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(k="avgValue / count");const x=4*Math.floor(r/4),w=r%4,S=`\n      if (${y}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${o}, ${l});\n      const ivec3 pads = ivec3(${f}, ${g}, ${b});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${p};\n            wD += ${c}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h};\n            wR += ${u}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${x}; wC += 4) {\n              int xC = xCCorner + wC * ${d};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${d}, ch)\n              );\n\n              ${S}\n            }\n\n            int xC = xCCorner + ${x};\n            if (${1===w}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${2===w}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${S}\n            } else if (${3===w}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                initializationValue\n              );\n\n              ${S}\n            }\n          }\n          setOutput(${k});\n        }\n      }\n    `}}const uk={kernelName:i.AvgPool,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;Qg(r,"avgPool");const{filterSize:s,strides:o,pad:l,dimRoundingMode:c}=a;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(o,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`));const u=i.backend_util.computePool2DInfo(r.shape,s,o,1,l,c);if(1===u.filterWidth&&1===u.filterHeight&&i.util.arraysEqual(u.inShape,u.outShape))return Yy({inputs:{x:r},backend:n});const d=new lk(u,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}};const dk={kernelName:i.AvgPool3D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:s,strides:o,pad:l,dimRoundingMode:c,dataFormat:u}=a,d=i.backend_util.computePool3DInfo(r.shape,s,o,[1,1,1],l,c,u),p=new ck(d,"avg",!1);return n.runWebGLProgram(p,[r],"float32")}};class pk{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,i=e.strideWidth,r=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=o-1-e.padInfo.top,u=l-1-e.padInfo.left,d=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${c}, ${u});\n      const float avgMultiplier = float(${d});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n            wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class hk{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,i=e.strideDepth,r=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=u-1-e.padInfo.front,m=d-1-e.padInfo.top,f=p-1-e.padInfo.left,g=1/(t*n*a);this.userCode=`\n      const ivec3 pads = ivec3(${h}, ${m}, ${f});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${u};\n            wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${i}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${d};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${r}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${p};\n                wC += ${c}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const mk={kernelName:i.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s}=t,o=s,{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a,p=i.backend_util.computePool3DInfo(o.shape,l,c,[1,1,1],u,d),h=new hk(p);return n.runWebGLProgram(h,[r],o.dtype)}};const fk={kernelName:i.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s}=t,o=s;Qg([r,s],"avgPoolGrad");const{filterSize:l,strides:c,pad:u}=a,d=i.backend_util.computePool2DInfo(o.shape,l,c,1,u),p=new pk(d);return n.runWebGLProgram(p,[r],o.dtype)}};const gk={kernelName:i.BatchMatMul,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:i,b:r}=t,{transposeA:s,transposeB:o}=a;return Nv({a:i,b:r,transposeA:s,transposeB:o,backend:n})}};class bk{constructor(e,t,n,a,r,s){this.outputShape=[],this.variableNames=["x","mean","variance"],i.backend_util.assertAndGetBroadcastShape(e,t),i.backend_util.assertAndGetBroadcastShape(e,n);let o="0.0";null!=a&&(i.backend_util.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="1.0";null!=r&&(i.backend_util.assertAndGetBroadcastShape(e,r),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${o};\n        float scale = ${l};\n        float inv = scale * inversesqrt(variance + float(${s}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class yk{constructor(e,t,n,a,r,s){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],i.backend_util.assertAndGetBroadcastShape(e,t),i.backend_util.assertAndGetBroadcastShape(e,n);let o="vec4(0.0)";null!=a&&(i.backend_util.assertAndGetBroadcastShape(e,a),this.variableNames.push("offset"),o="getOffsetAtOutCoords()");let l="vec4(1.0)";null!=r&&(i.backend_util.assertAndGetBroadcastShape(e,r),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${o};\n        vec4 scale = ${l};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${s}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const vk={kernelName:i.FusedBatchNorm,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a,mean:r,variance:s,offset:o,scale:l}=e;i.util.assert(r.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),i.util.assert(null==o||r.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),i.util.assert(null==l||r.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:c}=n;null==c&&(c=.001);const u=[a,r,s];let d=null;null!=o&&(d=o.shape,u.push(o));let p=null;null!=l&&(p=l.shape,u.push(l));const h=(0,i.env)().getBool("WEBGL_PACK_NORMALIZATION")?new yk(a.shape,r.shape,s.shape,d,p,c):new bk(a.shape,r.shape,s.shape,d,p,c);return t.runWebGLProgram(h,u,u[0].dtype)}};class kk{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=yb(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return xk.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let a;a=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${xk[t]} = start[${t}] + coords.${xk[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${a}\n        setOutput(getSource(${n}));\n      }\n    `}}const xk=["x","y","z","w","u","v"];class wk{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=yb(this.rank),n=Dy("coords",this.rank),a=Dy("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":`vec2(${a.slice(-2).join()})`,r=`getChannel(getSource(${a.join()}), ${i})`,s=`\n      result.x = ${r};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${a[this.rank-1]};\n        result.y = ${r};\n        --${a[this.rank-1]};\n      }\n    `,o=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${a[this.rank-2]};\n        result.z = ${r};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${a[this.rank-1]};\n          result.w = ${r};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${a[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${s}\n        ${o}\n        setOutput(result);\n      }\n    `}}function Sk(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:s,size:o}=a,[l,c]=i.slice_util.parseSliceParams(r,s,o);if(i.slice_util.assertParamsValid(r,l,c),0===i.util.sizeFromShape(c))return n.makeTensorInfo(c,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||"string"===r.dtype){const e=n.texData.get(r.dataId),t=yy(e.values,l,c,r.shape,r.dtype);return n.makeTensorInfo(c,r.dtype,t)}const{isPacked:u}=n.texData.get(r.dataId),d=i.slice_util.isSliceContinous(r.shape,l,c);if(u||!d){const e=(0,i.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new wk(c):new kk(c),t=[l];return n.runWebGLProgram(e,[r],r.dtype,t)}return n.uploadToGPU(r.dataId),function(e,t,n,a){const r=a.texData.get(e.dataId),s=a.makeTensorInfo(n,e.dtype),o=a.texData.get(s.dataId);Object.assign(o,r),o.refCount=1,o.shape=n,o.dtype=e.dtype;let l=i.slice_util.computeFlatOffset(t,i.util.computeStrides(e.shape));r.slice&&(l+=r.slice.flatOffset),o.slice={flatOffset:l,origDataId:r.slice&&r.slice.origDataId||e.dataId};const c=a.dataRefCount.get(o.slice.origDataId)||1;return a.dataRefCount.set(o.slice.origDataId,c+1),s}(r,l,c,n)}const Ck={kernelName:i.Slice,backendName:"webgl",kernelFunc:Sk},Tk={kernelName:i.BatchToSpaceND,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:s,crops:o}=a;i.util.assert(r.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const l=s.reduce(((e,t)=>e*t)),c=i.backend_util.getReshaped(r.shape,s,l),u=i.backend_util.getPermuted(c.length,s.length),d=i.backend_util.getReshapedPermuted(r.shape,s,l),p=i.backend_util.getSliceBeginCoords(o,s.length),h=i.backend_util.getSliceSize(d,o,s.length),m=[],f=bv({inputs:{x:r},backend:n,attrs:{shape:c}}),g=Iv({inputs:{x:f},backend:n,attrs:{perm:u}}),b=bv({inputs:{x:g},backend:n,attrs:{shape:d}}),y=Sk({inputs:{x:b},backend:n,attrs:{begin:p,size:h}});return m.push(f),m.push(g),m.push(b),m.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const _k={kernelName:i.Bincount,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i,weights:r}=t,{size:s}=a,o=n.readSync(i.dataId),l=n.readSync(r.dataId),c=Vb(o,l,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,c)}};const Ik={kernelName:i.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,s=n.readSync(a.dataId),o=n.readSync(r.dataId),l=i.backend_util.assertAndGetBroadcastShape(Array.from(s),Array.from(o));return n.makeTensorInfo([l.length],"int32",Int32Array.from(l))}},Ak=lv({opSnippet:"return float(a != b);",cpuKernelImpl:dy,dtype:"bool"}),Nk={kernelName:i.NotEqual,backendName:"webgl",kernelFunc:Ak};function Ek(e){const{inputs:t,backend:n}=e,{input:a}=t;return Yy({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.real},backend:n})}const Rk={kernelName:i.Real,backendName:"webgl",kernelFunc:Ek};const Mk={kernelName:i.Cast,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a,attrs:r}=t,{x:s}=n,{dtype:o}=r;if("complex64"===o){if("complex64"===s.dtype)return Yy({inputs:{x:s},backend:a});const t=i.zeros(s.shape),n=e({inputs:{x:s},backend:a,attrs:{dtype:"float32"}}),r=Qy({inputs:{real:n,imag:t},backend:a});return t.dispose(),a.disposeIntermediateTensorInfo(n),r}if("complex64"===s.dtype){const t=Ek({inputs:{input:s},backend:a}),n=e({inputs:{x:t},backend:a,attrs:{dtype:o}});return a.disposeIntermediateTensorInfo(t),n}if(!i.util.hasEncodingLoss(s.dtype,o)){const e=Yy({inputs:{x:s},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:o}}if("int32"===o)return function(e,t){const n=new zy(e.shape,"return float(int(x));"),a=t.runWebGLProgram(n,[e],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}(s,a);if("bool"===o){const e=a.makeTensorInfo([],"bool",i.util.getTypedArrayFromDType("bool",1)),t=Ak({inputs:{a:s,b:e},backend:a});return a.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${s.dtype} to ${o}`)}},Dk="return ceil(x);",$k=ov({opSnippet:Dk,packedOpSnippet:Dk,cpuKernelImpl:Hb}),Bk={kernelName:i.Ceil,backendName:"webgl",kernelFunc:$k};class Lk{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class Fk{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const Ok={kernelName:i.ClipByValue,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{clipValueMin:s,clipValueMax:o}=a;let l;l=(0,i.env)().getBool("WEBGL_PACK_CLIP")?new Fk(r.shape):new Lk(r.shape);const c=[[s],[o]];return n.runWebGLProgram(l,[r],r.dtype,c)}};class jk{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function zk(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const Pk={kernelName:i.ComplexAbs,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,i=n.texData.get(a.dataId),r=new jk(a.shape),s=[zk(a,i.complexTensorInfos.real),zk(a,i.complexTensorInfos.imag)];return n.runWebGLProgram(r,s,s[0].dtype)}};class Wk{constructor(e){this.outputShape=[],this.outputShape=i.backend_util.computeOutShape(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const a=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${a}));`)}const a=t.length,r=t[t.length-1];n.push(`else setOutput(getT${a}(yR, yC-${r}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class Gk{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=i.backend_util.computeOutShape(e,t);const n=this.outputShape,a=n.length,r=yb(a),s=Dy("coords",a),o=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map(((e,t)=>`T${t}`));const l=new Array(e.length-1);l[0]=e[0][t];for(let n=1;n<l.length;n++)l[n]=l[n-1]+e[n][t];const c=o[t],u=o.slice(-2),d=o.join();let p=`if (${c} < ${l[0]}) {\n        return getChannel(\n            getT0(${d}), vec2(${u.join()}));\n        }`;for(let e=1;e<l.length;e++){const t=l[e-1];p+=`\n        if (${c} < ${l[e]}  && ${c} >= ${l[e-1]}) {\n          return getChannel(\n            getT${e}(${Vk(o,c,t)}),\n            vec2(${Vk(u,c,t)}));\n        }`}const h=l.length,m=l[l.length-1];p+=`\n        return getChannel(\n          getT${h}(${Vk(o,c,m)}),\n          vec2(${Vk(u,c,m)}));`,this.userCode=`\n      float getValue(${o.map((e=>"int "+e))}) {\n        ${p}\n      }\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${s}), 0., 0., 0.);\n\n        ${s[a-1]} = ${s[a-1]} + 1;\n        if (${s[a-1]} < ${n[a-1]}) {\n          result.g = getValue(${s});\n        }\n\n        ${s[a-2]} = ${s[a-2]} + 1;\n        if (${s[a-2]} < ${n[a-2]}) {\n          result.a = getValue(${s});\n        }\n\n        ${s[a-1]} = ${s[a-1]} - 1;\n        if (${s[a-2]} < ${n[a-2]} &&\n            ${s[a-1]} < ${n[a-1]}) {\n          result.b = getValue(${s});\n        }\n        setOutput(result);\n      }\n    `}}function Vk(e,t,n){const a=e.indexOf(t);return e.map(((e,t)=>t===a?`${e} - ${n}`:e)).join()}function Uk(e){const{inputs:t,backend:n}=e,{input:a}=t;return Yy({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.imag},backend:n})}const Hk={kernelName:i.Imag,backendName:"webgl",kernelFunc:Uk};function qk(e,t,n){const a=e[0].dtype;if("complex64"===a){const a=e.map((e=>Ek({inputs:{input:e},backend:n}))),i=e.map((e=>Uk({inputs:{input:e},backend:n}))),r=qk(a,t,n),s=qk(i,t,n),o=Qy({inputs:{real:r,imag:s},backend:n});return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),i.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(s),o}let r=n.shouldExecuteOnCPU(e);if("string"===a&&(r=!0),r){const r=e.map((e=>{const a=i.util.sizeFromShape(e.shape.slice(t));return bv({inputs:{x:e},backend:n,attrs:{shape:[-1,a]}})})),s=r.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),o=i.backend_util.computeOutShape(r.map((e=>e.shape)),1),l=1===r[0].shape[0],c=qb(s,o,a,l),u=i.backend_util.computeOutShape(e.map((e=>e.shape)),t),d=n.makeTensorInfo(u,a,c);return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}if(e.length>(0,i.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const a=Math.floor(e.length/2),i=qk(e.slice(0,a),t,n),r=qk(e.slice(a),t,n),s=qk([i,r],t,n);return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(r),s}if((0,i.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){const i=new Gk(e.map((e=>e.shape)),t);return n.runWebGLProgram(i,e,a)}const{tensors2D:s,outShape:o}=function(e,t,n){const a=i.backend_util.computeOutShape(e.map((e=>e.shape)),t);return{tensors2D:e.map((e=>bv({inputs:{x:e},attrs:{shape:[-1,i.util.sizeFromShape(e.shape.slice(t))]},backend:n}))),outShape:a}}(e,t,n),l=new Wk(s.map((e=>e.shape))),c=n.runWebGLProgram(l,s,a);s.forEach((e=>n.disposeIntermediateTensorInfo(e)));const u=bv({inputs:{x:c},attrs:{shape:o},backend:n});return n.disposeIntermediateTensorInfo(c),u}function Kk(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,s=i.util.parseAxisParam(r,t[0].shape)[0],o=i.backend_util.computeOutShape(t.map((e=>e.shape)),s);if(0===i.util.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);const l=t.filter((e=>i.util.sizeFromShape(e.shape)>0));if(1===l.length)return Yy({inputs:{x:l[0]},backend:n});const c=l.map((e=>e.shape));return i.backend_util.assertParamsConsistent(c,s),qk(l,s,n)}const Jk={kernelName:i.Concat,backendName:"webgl",kernelFunc:Kk};class Xk{constructor(e,t=!1,n=null,a=!1,i=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const r=e.padInfo.top,s=e.padInfo.left,o=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),m=e.inChannels%4,f="channelsLast"===e.dataFormat,g=f?1:2,b=f?2:3,y=f?3:1;let v="",k="";n&&(v=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:i?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,k="result = activation(result);");const x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${v}\n\n      const ivec2 strides = ivec2(${o}, ${l});\n      const ivec2 pads = ivec2(${r}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${y}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${b}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${d}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${p}; wC++) {\n            int xC = xCCorner + wC * ${u};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${f}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===m}) {\n\n              if (${f}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===m}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===m}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${x}\n        ${k}\n        setOutput(result);\n      }\n    `}}class Yk{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,a=e.padInfo.left,i=e.strideDepth,r=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),m=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${i}, ${r}, ${s});\n      const ivec3 pads = ivec3(${t}, ${n}, ${a});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${u}; wF++) {\n          int xF = xFCorner + wF * ${o};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${d}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p}; wC++) {\n              int xC = xCCorner + wC * ${c};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${h}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===m}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${h}) *\n                  getW(wF, wR, wC, ${h}, d2);\n              } else if (${2===m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1),\n                  getX(batch, xF, xR, xC, ${h} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2),\n                  getW(wF, wR, wC, ${h} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Zk{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=Tb(this.outputShape.length);const{dataFormat:n}=t,a=tb(),i="channelsLast"===n,r=i?0:1,s=i?1:2,o=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":`if(blockIndex < ${e[1]} && pos < ${e[0]}) {`;let l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`\n          blockIndex = rc.y + ${t};\n          pos = rc.x + ${e};\n\n          ${o}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${r}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${s}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${i}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${a.output} = result;\n      }\n    `}}function Qk({x:e,filter:t,convInfo:n,backend:a,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}){const c=e.shape,u=a.texData.get(e.dataId),d=n.inChannels,p=c[0]*c[1]*c[2],h=n.outChannels,m="channelsLast"===n.dataFormat;let f;const g=[];if(null!=s&&!m&&3===s.shape.length){const e=Iv({inputs:{x:s},backend:a,attrs:{perm:[1,2,0]}});g.push(e),s=e}if(!((1===p||1===h)&&d>1e3)&&u.isPacked&&m&&null!=u.texture&&c[2]%2!=0&&i.util.arraysEqual(u.shape.slice(-3),c.slice(-3))){const d=c[0]*c[1]*(c[2]+1),p={dataId:e.dataId,shape:[1,d,n.inChannels],dtype:e.dtype},h=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,i.util.assert(Hg(u.shape,p.shape),(()=>`packed reshape ${u.shape} to ${p.shape} isn't free`));const m=bv({inputs:{x:t},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}});g.push(m);const b=Nv({a:p,b:m,backend:a,transposeA:false,transposeB:false,bias:r,activation:l,preluActivationWeights:s,leakyreluAlpha:o}),y=a.texData.get(b.dataId);i.util.assert(y.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=h,y.shape=n.outShape,f=Yy({inputs:{x:b},backend:a}),f.shape=n.outShape,g.push(b)}else{const i=m?e:Iv({inputs:{x:e},backend:a,attrs:{perm:[0,2,3,1]}}),c=i.shape,u=bv({inputs:{x:i},backend:a,attrs:{shape:[1,c[0]*c[1]*c[2],n.inChannels]}}),d=bv({inputs:{x:t},backend:a,attrs:{shape:[1,n.inChannels,n.outChannels]}}),p=Nv({a:u,b:d,transposeA:false,transposeB:false,backend:a,bias:r,activation:l,preluActivationWeights:s,leakyreluAlpha:o}),h=bv({inputs:{x:p},backend:a,attrs:{shape:[n.batchSize,n.outHeight,n.outWidth,n.outChannels]}});f=m?h:Iv({inputs:{x:h},backend:a,attrs:{perm:[0,3,1,2]}}),m||(g.push(i),g.push(h)),g.push(u),g.push(d),g.push(p)}for(const e of g)a.disposeIntermediateTensorInfo(e);return f}function ex({x:e,filter:t,convInfo:n,backend:a,bias:r=null,preluActivationWeights:s=null,leakyreluAlpha:o=0,activation:l=null}){const{filterWidth:c,filterHeight:u,inChannels:d,outWidth:p,outHeight:h,dataFormat:m}=n,f="channelsLast"===m,g=c*u*d,b=h*p,y=[g,b],v=[];if(null!=s&&!f&&3===s.shape.length){const e=Iv({inputs:{x:s},backend:a,attrs:{perm:[1,2,0]}});v.push(e),s=e}const k=bv({inputs:{x:e},backend:a,attrs:{shape:e.shape.slice(1)}}),x=bv({inputs:{x:t},backend:a,attrs:{shape:[1,g,i.util.sizeFromShape(t.shape)/g]}});v.push(k),v.push(x);const w=new Zk(y,n),S=[k.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],C=a.runWebGLProgram(w,[k],"float32",S),T=bv({inputs:{x:C},backend:a,attrs:{shape:[1,y[0],y[1]]}});v.push(C),v.push(T);const _=null!=r,I=null!=s,A="leakyrelu"===l,N=l?cv(l,!0):null,E=new uv(T.shape,x.shape,[1,b,n.outChannels],!0,!1,_,N,I,A),R=[T,x];if(r&&R.push(r),I&&R.push(s),A){const e=a.makeTensorInfo([],"float32",i.util.createScalarValue(o,"float32"));R.push(e),v.push(e)}const M=a.runWebGLProgram(E,R,"float32"),D=bv({inputs:{x:M},backend:a,attrs:{shape:[1,h,p,n.outChannels]}}),$=f?D:Iv({inputs:{x:D},backend:a,attrs:{perm:[0,3,1,2]}});f||v.push(D),v.push(M);for(const e of v)a.disposeIntermediateTensorInfo(e);return $}const tx={kernelName:i.Conv2D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dataFormat:c,dilations:u,dimRoundingMode:d}=a,p=i.backend_util.convertConv2DDataFormat(c),h=i.backend_util.computeConv2DInfo(r.shape,s.shape,o,u,l,d,!1,p);let m;if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if((0,i.env)().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])m=ex({x:r,filter:s,convInfo:h,backend:n});else{const e=new Xk(h);m=n.runWebGLProgram(e,[r,s],"float32")}else m=Qk({x:r,filter:s,convInfo:h,backend:n});const f=bv({inputs:{x:m},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(m),f}};class nx{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,i=e.padInfo.left,r="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${i};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              if (${r}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ax{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,i=e.strideWidth,r="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,o=n-1-e.padInfo.left,l=r?1:2,c=r?2:3,u=r?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${u}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${r}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class ix{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,i=e.padInfo.front,r=e.padInfo.top,s=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${i};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${r};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${a} - ${s};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class rx{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,i=e.strideDepth,r=e.strideHeight,s=e.strideWidth,o=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=a-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${o}, ${l}, ${c});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${i}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${r}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${a}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${a} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const sx={kernelName:i.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:s}=t,{strides:o,pad:l,dataFormat:c,dimRoundingMode:u,filterShape:d}=a,p=i.backend_util.convertConv2DDataFormat(c),h=i.backend_util.computeConv2DInfo(r.shape,d,o,1,l,u,!1,p),m=new nx(h);return n.runWebGLProgram(m,[r,s],"float32")}};const ox={kernelName:i.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:s}=t,{inputShape:o,strides:l,pad:c,dataFormat:u,dimRoundingMode:d}=a,p=i.backend_util.convertConv2DDataFormat(u),h=i.backend_util.computeConv2DInfo(o,s.shape,l,1,c,d,!1,p),m=new ax(h);return n.runWebGLProgram(m,[r,s],"float32")}};const lx={kernelName:i.Conv3D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dilations:c}=a,u=i.backend_util.computeConv3DInfo(r.shape,s.shape,o,c,l),d=new Yk(u);return n.runWebGLProgram(d,[r,s],"float32")}};const cx={kernelName:i.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:s}=t,{strides:o,pad:l,filterShape:c}=a,u=i.backend_util.computeConv3DInfo(r.shape,c,o,1,l),d=new ix(u);return n.runWebGLProgram(d,[r,s],"float32")}};const ux={kernelName:i.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:s}=t,{pad:o,strides:l,inputShape:c}=a,u=i.backend_util.computeConv3DInfo(c,s.shape,l,1,o),d=new rx(u);return n.runWebGLProgram(d,[r,s],"float32")}},dx=ov({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),px={kernelName:i.Cos,backendName:"webgl",kernelFunc:dx},hx=ov({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),mx={kernelName:i.Cosh,backendName:"webgl",kernelFunc:hx};class fx{constructor(e,t,n,a,i){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[r,s,o,l]=e,[c]=t,[u,d]=n;this.outputShape=[c,u,d,l];const p="bilinear"===a?1:0,[h,m]=[s-1+".0",o-1+".0"],[f,g,b]=u>1?[""+(s-1)/(u-1),"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[y,v,k]=d>1?[""+(o-1)/(d-1),"(x2-x1) * width_ratio",`x1*${m} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${m}`];this.userCode=`\n      const float height_ratio = float(${f});\n      const float width_ratio = float(${y});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${r}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${v};\n\n        float in_y = ${b};\n        if( in_y < 0.0 || in_y > ${h} ) {\n          setOutput(float(${i}));\n          return;\n        }\n        float in_x = ${k};\n        if( in_x < 0.0 || in_x > ${m} ) {\n          setOutput(float(${i}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${p} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const gx={kernelName:i.CropAndResize,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{image:i,boxes:r,boxInd:s}=t,{cropSize:o,method:l,extrapolationValue:c}=a,u=new fx(i.shape,r.shape,o,l,c);return n.runWebGLProgram(u,[i,r,s],"float32")}};var bx;!function(e){e.Prod="*",e.Sum="+"}(bx||(bx={}));class yx{constructor(e,t,n,a){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const i=this.outputShape.length,r=this.op===bx.Prod?"1.0":"0.0",s=n?r:`getX(${vx(i,"coords",this.op)})`,o=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=a?"end != "+(o-1):"end != 0",c=a?"end + 1":"end - 1"):(l=a?`end + pow2 < ${o}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${yb(i)} coords = getOutputCoords();\n        int end = ${kx(i,"coords",this.op)};\n        float val = ${s};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${c};\n          ${kx(i,"coords",this.op)} = idx;\n          val ${this.op}= getX(${vx(i,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function vx(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function kx(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function xx(e,t,n,a,r,s){const o=t.shape.length,l=i.backend_util.getAxesPermutation([a],o);let c=t;null!=l&&(c=Iv({inputs:{x:t},backend:n,attrs:{perm:l}}));const u=i.backend_util.getInnerMostAxes(1,o)[0];if(u!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${a}`);const d=c.shape[u];let p=Yy({inputs:{x:c},backend:n});for(let t=0;t<=Math.ceil(Math.log2(d))-1;t++){const a=new yx(e,c.shape,!1,s),i=[[t]],r=p;p=n.runWebGLProgram(a,[p],p.dtype,i),n.disposeIntermediateTensorInfo(r)}if(r){const t=new yx(e,c.shape,r,s),a=p;p=n.runWebGLProgram(t,[p],p.dtype),n.disposeIntermediateTensorInfo(a)}if(null!=l){const e=Iv({inputs:{x:p},backend:n,attrs:{perm:i.backend_util.getUndoAxesPermutation(l)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(c),e}return p}const wx={kernelName:i.Cumprod,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i}=t,{axis:r,exclusive:s,reverse:o}=a;return xx(bx.Prod,i,n,r,s,o)}};const Sx={kernelName:i.Cumsum,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i}=t,{axis:r,exclusive:s,reverse:o}=a;return xx(bx.Sum,i,n,r,s,o)}};const Cx={kernelName:i.DenseBincount,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i,weights:r}=t,{size:s,binaryOutput:o}=a;if(1===i.shape.length){const e=n.readSync(i.dataId),t=n.readSync(r.dataId),a=Vb(e,t,r.dtype,r.shape,s);return n.makeTensorInfo([s],r.dtype,a)}if(2===i.shape.length){const e=n.bufferSync(i),t=n.bufferSync(r),a=Ub(e,t,s,o);return n.makeTensorInfo(a.shape,r.dtype,a.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${i.shape.length}.`)}};class Tx{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const _x={kernelName:i.DepthToSpace,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:i}=t,{blockSize:r,dataFormat:s}=a,o=i.shape[0],l=("NHWC"===s?i.shape[1]:i.shape[2])*r,c=("NHWC"===s?i.shape[2]:i.shape[3])*r,u=("NHWC"===s?i.shape[3]:i.shape[1])/(r*r),d=new Tx("NHWC"===s?[o,l,c,u]:[o,u,l,c],r,s);return n.runWebGLProgram(d,[i],i.dtype)}};class Ix{constructor(e,t=!1,n=null,a=!1,i=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Tb(this.outputShape.length);const r=e.filterHeight,s=e.filterWidth,o=e.outChannels/e.inChannels;let l="",c="";n&&(l=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:i?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${r}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${u}\n        ${c}\n        setOutput(result);\n      }\n    `}}class Ax{constructor(e,t=!1,n=null,a=!1,r=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=Tb(this.outputShape.length);const s=e.outChannels/e.inChannels,o=e.padInfo.left,l=e.strideWidth,c=e.dilationWidth,u=e.filterHeight,d=e.filterWidth,p=d;let h="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<d;e++)h+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;h+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let e=0;e<d;e++)h+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;h+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<(p+1)/2;e++){const t=2*e;if(h+=`\n          xC = xCCorner + ${t*c};\n          `,1===l){if(t<d&&(o%2==1?(h+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,h+=1===c&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):h+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<d)){const e=o%2==0?i.util.nearestLargerEven(c):c;c%2==0&&o%2==1||c%2!=0&&o%2!=1?(h+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,c>1&&(h+=`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                      xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                      xTexelC${t}Ready = 1;\n                    }\n                    `),h+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                  `):h+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<d&&(o%2==1?(h+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<d&&(h+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(h+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<d&&(h+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<d&&(h+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<d&&(h+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}h+="\n    }\n  ",h+="\n      }\n    ";let m="",f="";n&&(m=a?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:r?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${m}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${s};\n        int q = d2 - d1 * ${s};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${h}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${g}\n        ${f}\n        setOutput(result);\n      }\n    `}}const Nx={kernelName:i.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dilations:c,dimRoundingMode:u}=a;let d=c;null==d&&(d=[1,1]),i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(o,d),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`));const p=i.backend_util.computeConv2DInfo(r.shape,s.shape,o,d,l,u,!0);let h;h=(0,i.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels==1?new Ax(p):new Ix(p);const m=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(h,[r,s],"float32",m)}};class Ex{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,i=e.padInfo.left,r=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${r} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${a};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${i};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class Rx{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,i=e.strideWidth,r=t-1-e.padInfo.top,s=n-1-e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${o}; dm++) {\n              int d2 = d1 * ${o} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Mx={kernelName:i.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:s}=t,{strides:o,dilations:l,pad:c,dimRoundingMode:u,filterShape:d}=a,p=i.backend_util.computeConv2DInfo(r.shape,d,o,l,c,u,!0),h=new Ex(p);return n.runWebGLProgram(h,[r,s],"float32")}};const Dx={kernelName:i.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:s}=t,{strides:o,dilations:l,pad:c,dimRoundingMode:u,inputShape:d}=a,p=i.backend_util.computeConv2DInfo(d,s.shape,o,l,c,u,!0),h=new Rx(p);return n.runWebGLProgram(h,[r,s],"float32")}};class $x{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const Bx={kernelName:i.Diag,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=[...a.shape,...a.shape],s=i.util.sizeFromShape(a.shape),o=bv({inputs:{x:a},backend:n,attrs:{shape:[s]}}),l=new $x(s),c=n.runWebGLProgram(l,[o],o.dtype),u=bv({inputs:{x:c},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(c),u}};class Lx{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:a,strideHeight:i,strideWidth:r,filterHeight:s,filterWidth:o,dilationHeight:l,dilationWidth:c}=e,{top:u,left:d}=a;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${r});\n      const ivec2 pads = ivec2(${u}, ${d});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${o}; w++) {\n              int wIn = wBeg + w * ${c};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const Fx={kernelName:i.Dilation2D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s}=t,{strides:o,pad:l,dilations:c}=a,u=i.backend_util.computeDilation2DInfo(r.shape,s.shape,o,l,"NHWC",c);let d;const p=new Lx(u);d=n.runWebGLProgram(p,[r,s],"float32");const h=bv({inputs:{x:d},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(d),h}};const Ox={kernelName:i.Einsum,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,s=t,{allDims:o,summedDims:l,idDims:c}=i.backend_util.decodeEinsumEquation(r,s.length);i.backend_util.checkEinsumDimSizes(o.length,c,s);const{path:u,steps:d}=i.backend_util.getEinsumComputePath(l,c),p=d.length;let h=null,m=o.length;const f=[];for(let e=0;e<p;++e){for(const t of d[e]){const{permutationIndices:e,expandDims:a}=i.backend_util.getEinsumPermutation(m,c[t]);let r;i.backend_util.isIdentityPermutation(e)?r=s[t]:(r=Iv({inputs:{x:s[t]},backend:n,attrs:{perm:e}}),f.push(r));const o=r.shape.slice();for(let e=0;e<a.length;++e)o.splice(a[e],0,1);i.util.arraysEqual(r.shape,o)||(r=bv({inputs:{x:r},backend:n,attrs:{shape:o}}),f.push(r)),null===h?h=r:(h=fv({inputs:{a:r,b:h},backend:n}),f.push(h))}e<p-1&&(u[e]>=0&&(h=Tv({inputs:{x:h},backend:n,attrs:{axis:u[e]-(o.length-m),keepDims:!1}}),f.push(h)),m--)}for(const e of f)e!==h&&n.disposeIntermediateTensorInfo(e);return h}},jx=ov({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),zx={kernelName:i.Elu,backendName:"webgl",kernelFunc:jx},Px={kernelName:i.EluGrad,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:a,y:r}=t,s=(0,i.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Xy("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,r.shape):new Jy("return (b >= 1.0) ? a : a * (b + 1.0);",a.shape,r.shape);return n.runWebGLProgram(s,[a,r],a.dtype)}},Wx=lv({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:Kb}),Gx={kernelName:i.Equal,backendName:"webgl",kernelFunc:Wx},Vx=ov({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${i.backend_util.ERF_P};\n  float a1 = ${i.backend_util.ERF_A1};\n  float a2 = ${i.backend_util.ERF_A2};\n  float a3 = ${i.backend_util.ERF_A3};\n  float a4 = ${i.backend_util.ERF_A4};\n  float a5 = ${i.backend_util.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),Ux={kernelName:i.Erf,backendName:"webgl",kernelFunc:Vx},Hx=ov({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Jb,dtype:"float32"}),qx={kernelName:i.Exp,backendName:"webgl",kernelFunc:Hx};function Kx(e){const{inputs:t,attrs:n,backend:a}=e,{dim:r}=n,{input:s}=t,o=s.shape.length,l=s.shape.slice();let c=r;return r<0&&(i.util.assert(-(o+1)<=r,(()=>`Axis must be in the interval [${-(o+1)}, ${o}]`)),c=o+r+1),l.splice(c,0,1),bv({inputs:{x:s},backend:a,attrs:{shape:l}})}const Jx={kernelName:i.ExpandDims,backendName:"webgl",kernelFunc:Kx},Xx="return exp(x) - 1.0;",Yx=ov({opSnippet:Xx,packedOpSnippet:Xx,cpuKernelImpl:Xb}),Zx={kernelName:i.Expm1,backendName:"webgl",kernelFunc:Yx};class Qx{constructor(e,t,n){this.variableNames=["real","imag"];const a=t[1];this.outputShape=t;const i=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,r=n?`${a}.0`:"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);s="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${i};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${s}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${a});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${a}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${r};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function ew(e,t,n){const a=n.texData.get(e.dataId),r=i.util.sizeFromShape(e.shape),s=e.shape[e.shape.length-1],o=bv({inputs:{x:e},backend:n,attrs:{shape:[r/s,s]}}),l=o.shape,c=new Qx("real",l,t),u=new Qx("imag",l,t),d=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:l},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:l}],p=n.runWebGLProgram(c,d,"float32"),h=n.runWebGLProgram(u,d,"float32"),m=Qy({inputs:{real:p,imag:h},backend:n});n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h);const f=bv({inputs:{x:m},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(m),f}const tw={kernelName:i.FFT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return ew(a,!1,n)}};class nw{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function aw(e){const{backend:t,attrs:n}=e,{shape:a,value:r}=n;let{dtype:s}=n;if(s=s||i.util.inferDtype(r),"string"===s){const e=i.util.getArrayFromDType(s,i.util.sizeFromShape(a));return e.fill(r),t.makeTensorInfo(a,s,e)}{const e=new nw(a,r),n=[[r]];return t.runWebGLProgram(e,[],s,n)}}const iw={kernelName:i.Fill,backendName:"webgl",kernelFunc:aw};class rw{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const sw={kernelName:i.FlipLeftRight,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,a=t,i=new rw(n.shape);return a.runWebGLProgram(i,[n],n.dtype)}},ow="return floor(x);",lw=ov({opSnippet:ow,packedOpSnippet:ow,cpuKernelImpl:Yb}),cw={kernelName:i.Floor,backendName:"webgl",kernelFunc:lw},uw=lv({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),dw={kernelName:i.FloorDiv,backendName:"webgl",kernelFunc:uw};class pw{constructor(e){this.variableNames=["A"];const t=tb(),[n,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${a}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class hw{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=tb(),[n,a]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${a}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const mw={kernelName:i.FromPixels,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e;let{pixels:r}=t;const{numChannels:s}=a,o="undefined"!=typeof HTMLVideoElement&&r instanceof HTMLVideoElement,l="undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement,[c,u]=o?[r.videoWidth,r.videoHeight]:[r.width,r.height],d=[u,c],p=[u,c,s];(l||o)&&(null==fw&&(fw=document.createElement("canvas").getContext("2d")),fw.canvas.width=c,fw.canvas.height=u,fw.drawImage(r,0,0,c,u),r=fw.canvas);const h=n.makeTensorInfo(d,"int32");n.texData.get(h.dataId).usage=Sg.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),r);const m=(0,i.env)().getBool("WEBGL_PACK")?new hw(p):new pw(p),f=n.runWebGLProgram(m,[h],"int32");return n.disposeData(h.dataId),f}};let fw;const gw={kernelName:i.FusedConv2D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s,bias:o,preluActivationWeights:l}=t,{strides:c,pad:u,dataFormat:d,dilations:p,dimRoundingMode:h,activation:m,leakyreluAlpha:f}=a,g=i.backend_util.convertConv2DDataFormat(d),b=i.backend_util.computeConv2DInfo(r.shape,s.shape,c,p,u,h,!1,g);let y;const v=[];if(1!==b.filterHeight||1!==b.filterWidth||1!==b.dilationHeight||1!==b.dilationWidth||1!==b.strideHeight||1!==b.strideWidth||"SAME"!==b.padInfo.type&&"VALID"!==b.padInfo.type)if((0,i.env)().getBool("WEBGL_CONV_IM2COL")&&1===r.shape[0])y=ex({x:r,filter:s,convInfo:b,backend:n,bias:o,activation:m,preluActivationWeights:l,leakyreluAlpha:f});else{const e=null!=o,t=null!=l,a="leakyrelu"===m,c=m?cv(m,!1):null,u=new Xk(b,e,c,t,a),p=[r,s],h=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=bv({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return v.push(t),t}return e};if(e&&p.push(h(o,d)),t&&p.push(h(l,d)),a){const e=n.makeTensorInfo([],"float32",i.util.createScalarValue(f,"float32"));p.push(e),v.push(e)}y=n.runWebGLProgram(u,p,"float32")}else y=Qk({x:r,filter:s,convInfo:b,backend:n,bias:o,activation:m,preluActivationWeights:l,leakyreluAlpha:f});const k=bv({inputs:{x:y},backend:n,attrs:{shape:b.outShape}});return v.push(y),v.forEach((e=>n.disposeIntermediateTensorInfo(e))),k}};const bw={kernelName:i.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:s,bias:o,preluActivationWeights:l}=t,{strides:c,pad:u,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:m}=a,f=[];let g=d;null==g&&(g=[1,1]),i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(c,g),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${g}'`));const b=i.backend_util.computeConv2DInfo(r.shape,s.shape,c,g,u,p,!0),y=(0,i.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&b.strideWidth<=2&&b.outChannels/b.inChannels==1,v=h?cv(h,y):null,k=[r,s],x=null!=o,w=null!=l,S="leakyrelu"===h;if(x&&k.push(o),w&&k.push(l),S){const e=n.makeTensorInfo([],"float32",i.util.createScalarValue(m,"float32"));k.push(e),f.push(e)}let C;C=y?new Ax(b,x,v,w,S):new Ix(b,x,v,w,S);const T=[[b.padInfo.top,b.padInfo.left],[b.strideHeight,b.strideWidth],[b.dilationHeight,b.dilationWidth],[b.inHeight,b.inWidth]],_=n.runWebGLProgram(C,k,"float32",T);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),_}};class yw{constructor(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;const a=yb(t.length),i=yb(n.length),r=this.sliceDim>1?"strides[j]":"strides";this.userCode=`\n        ${a} strides = ${a}(${this.strides});\n         void main() {\n          ${i} coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ${r};\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      `}}const vw={kernelName:i.GatherNd,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,s=r.shape,o=s[s.length-1],l=i.util.sizeFromShape(a.shape),[c,u,d,p]=i.backend_util.prepareAndValidate(a,r),h=bv({inputs:{x:r},backend:n,attrs:{shape:[u,o]}}),m=bv({inputs:{x:a},backend:n,attrs:{shape:[i.util.sizeFromShape(a.shape)/d,d]}});if(n.shouldExecuteOnCPU([a,r])||"string"===a.dtype){const e=n.readSync(r.dataId),t=n.bufferSync(a),i=Zb(e,t,a.dtype,u,o,d,p,a.shape,l);return n.makeTensorInfo(c,a.dtype,i.values)}const f=new yw(o,p,[u,d]),g=n.runWebGLProgram(f,[m,h],m.dtype),b=bv({inputs:{x:g},backend:n,attrs:{shape:c}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),b}};class kw{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=yb(this.rank),a=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[];for(let t=0;t<e.length;t++)2===t?a.push("index"):a.push(`${n[t]}`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${a}));\n      }\n    `}}function xw(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:s}=t,{axis:o,batchDims:l}=a,c=i.util.parseAxisParam(o,r.shape)[0];if((0,i.env)().get("DEBUG")){const e=n.readSync(s.dataId),t=r.shape[c];for(let n=0;n<e.length;++n){const a=e[n];i.util.assert(a<=t-1&&a>=0,(()=>`GatherV2: the index value ${a} is not in [0, ${t-1}]`))}}const u=i.backend_util.segment_util.collectGatherOpShapeInfo(r,s,c,l),d=i.util.sizeFromShape(s.shape),p=[],h=bv({inputs:{x:r},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),m=bv({inputs:{x:s},backend:n,attrs:{shape:[u.batchSize,d/u.batchSize]}});p.push(h),p.push(m);const f=[u.batchSize,u.outerSize,d/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([r,s])||"string"===r.dtype){const e=n.bufferSync(m),t=n.bufferSync(h),a=Qb(t,e,f);return p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,a.dtype,a.values)}const g=new kw(h.shape,f),b=n.runWebGLProgram(g,[h,m],h.dtype);p.push(b);const y=bv({inputs:{x:b},backend:n,attrs:{shape:u.outputShape}});return p.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const ww={kernelName:i.GatherV2,backendName:"webgl",kernelFunc:xw},Sw=lv({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:ey,dtype:"bool"}),Cw={kernelName:i.Greater,backendName:"webgl",kernelFunc:Sw},Tw=lv({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:ty}),_w={kernelName:i.GreaterEqual,backendName:"webgl",kernelFunc:Tw};const Iw={kernelName:i.IFFT,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return ew(a,!0,n)}},Aw=ov({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Nw={kernelName:i.IsFinite,backendName:"webgl",kernelFunc:Aw},Ew=ov({opSnippet:"return float(isinf(x));",dtype:"bool"}),Rw={kernelName:i.IsInf,backendName:"webgl",kernelFunc:Ew},Mw=ov({opSnippet:"return float(isnan(x));",dtype:"bool"}),Dw={kernelName:i.IsNan,backendName:"webgl",kernelFunc:Mw},$w=lv({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:ny,dtype:"bool"}),Bw={kernelName:i.Less,backendName:"webgl",kernelFunc:$w},Lw=lv({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:ay,dtype:"bool"}),Fw={kernelName:i.LessEqual,backendName:"webgl",kernelFunc:Lw};const Ow={kernelName:i.LinSpace,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:i,num:r}=n,s=iy(a,i,r);return t.makeTensorInfo([s.length],"float32",s)}},jw=ov({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:ry}),zw={kernelName:i.Log,backendName:"webgl",kernelFunc:jw},Pw=ov({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),Ww={kernelName:i.Log1p,backendName:"webgl",kernelFunc:Pw},Gw=lv({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Vw={kernelName:i.LogicalAnd,backendName:"webgl",kernelFunc:Gw},Uw=ov({opSnippet:"return float(!(x >= 1.0));"}),Hw={kernelName:i.LogicalNot,backendName:"webgl",kernelFunc:Uw},qw=lv({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Kw={kernelName:i.LogicalOr,backendName:"webgl",kernelFunc:qw};class Jw{constructor(e,t,n,a,i){this.variableNames=["x"],this.outputShape=[];const r=t,s=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${a}) * sum`;o=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${r}; j <= ${r}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${s}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `}}class Xw{constructor(e,t,n,a,i){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const r=t,s=e[3]-1;let o;this.outputShape=e;const l=`float(${n}) + float(${a}) * sum`;o=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${r};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${r}; j <= ${r}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${s}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `}}const Yw={kernelName:i.LRN,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:s,bias:o,alpha:l,beta:c}=a,u=(0,i.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Xw(r.shape,s,o,l,c):new Jw(r.shape,s,o,l,c);return n.runWebGLProgram(u,[r],r.dtype)}};class Zw{constructor(e,t,n,a,i){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=a,this.beta=i,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${a}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${a})\n                * float(${i})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${i});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const Qw={kernelName:i.LRNGrad,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:i,y:r,dy:s}=t,{depthRadius:o,bias:l,alpha:c,beta:u}=a,d=new Zw(i.shape,o,l,c,u);return n.runWebGLProgram(d,[i,r,s],i.dtype)}};function eS(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:s,keepDims:o}=a,l=r.shape.length,c=i.util.parseAxisParam(s,r.shape);let u=c;const d=i.backend_util.getAxesPermutation(u,l),p=null!=d,h=n.shouldExecuteOnCPU([r]);let m=r;if(p){if(h){const e=n.texData.get(m.dataId).values,t=new Array(l);for(let e=0;e<t.length;e++)t[e]=r.shape[d[e]];const a=Ey(e,r.shape,r.dtype,d,t);m=n.makeTensorInfo(t,r.dtype);n.texData.get(m.dataId).values=a}else m=Cv(r,d,n);u=i.backend_util.getInnerMostAxes(u.length,l)}i.backend_util.assertAxesAreInnerMostDims("max",u,l);const[f,g]=i.backend_util.computeOutAndReduceShapes(m.shape,u);let b,y=f;if(o&&(y=i.backend_util.expandShapeToKeepDim(f,c)),h){const e=n.texData.get(m.dataId).values,t=sy(e,i.util.sizeFromShape(g),y,r.dtype);b=n.makeTensorInfo(y,r.dtype);n.texData.get(b.dataId).values=t}else b=function(e,t,n,a){const r=i.util.sizeFromShape(t),s=bv({inputs:{x:e},attrs:{shape:[i.util.sizeFromShape(e.shape)/r,r]},backend:a}),o=xv(s,e.dtype,"max",a),l=bv({inputs:{x:o},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(o),l}(m,g,y,n);return p&&n.disposeIntermediateTensorInfo(m),b}const tS={kernelName:i.Max,backendName:"webgl",kernelFunc:eS},nS=lv({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:oy}),aS={kernelName:i.Maximum,backendName:"webgl",kernelFunc:nS};const iS={kernelName:i.MaxPool,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;Qg(r,"maxPool");const{filterSize:s,strides:o,pad:l,dimRoundingMode:c}=a;i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(o,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`));const u=i.backend_util.computePool2DInfo(r.shape,s,o,1,l,c);if(1===u.filterWidth&&1===u.filterHeight&&i.util.arraysEqual(u.inShape,u.outShape))return Yy({inputs:{x:r},backend:n});const d=new lk(u,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}};const rS={kernelName:i.MaxPool3D,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:s,strides:o,pad:l,dataFormat:c,dimRoundingMode:u}=a,d=i.backend_util.computePool3DInfo(r.shape,s,o,[1,1,1],l,u,c),p=new ck(d,"max",!1);return n.runWebGLProgram(p,[r],r.dtype)}};class sS{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,a=e.dilationHeight,i=e.effectiveFilterHeight,r=e.effectiveFilterWidth,s=i-1-e.padInfo.top,o=r-1-e.padInfo.left,l=i*r-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${i};\n          wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${r}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${r} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class oS{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,i=e.dilationDepth,r=e.dilationHeight,s=e.dilationWidth,o=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=o-1-e.padInfo.front,d=l-1-e.padInfo.top,p=c-1-e.padInfo.left,h=o*l*c-1;this.userCode=`\n      const ivec3 pads = ivec3(${u}, ${d}, ${p});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${o};\n           wD += ${i}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${r}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${c};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${h} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${c} +\n                  wR * ${c} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const lS={kernelName:i.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s}=t,o=s,{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a,p=i.backend_util.computePool3DInfo(o.shape,l,c,[1,1,1],u,d),h=new ck(p,"max",!0),m=n.runWebGLProgram(h,[o],o.dtype),f=new oS(p),g=n.runWebGLProgram(f,[r,m],o.dtype);return n.disposeIntermediateTensorInfo(m),g}};const cS={kernelName:i.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:s,output:o}=t,l=s;Qg([s,o],"maxPoolGrad");const{filterSize:c,strides:u,pad:d,dimRoundingMode:p}=a,h=i.backend_util.computePool2DInfo(l.shape,c,u,1,d,p),m=new lk(h,"max",!0),f=n.runWebGLProgram(m,[l],l.dtype),g=new sS(h),b=n.runWebGLProgram(g,[r,f],l.dtype);return n.disposeIntermediateTensorInfo(f),b}};const uS={kernelName:i.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{filterSize:r,strides:s,pad:o,includeBatchInIndex:l}=t,c=n;i.util.assert(4===a.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`));const u=[1,1];i.util.assert(i.backend_util.eitherStridesOrDilationsAreOne(s,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '${u}'`));const d=i.backend_util.computePool2DInfo(a.shape,r,s,u,o),[p,h]=function(e,t,n,a){let i=new lk(n,"max",!1);const r=a.runWebGLProgram(i,[e],"float32");return i=new lk(n,"max",!0,!0,t),[r,a.runWebGLProgram(i,[e],"float32")]}(a,l,d,c);return[p,h]}};const dS={kernelName:i.Mean,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:a}=e,{keepDims:r,axis:s}=t,o=n,l=a.shape.length,c=i.util.parseAxisParam(s,a.shape);let u=c;const d=i.backend_util.getAxesPermutation(u,l),p=null!=d,h=o.shouldExecuteOnCPU([a]),m=[];let f=a;if(p){if(h){const e=o.texData.get(f.dataId).values,t=new Array(l);for(let e=0;e<t.length;e++)t[e]=a.shape[d[e]];const n=Ey(e,a.shape,a.dtype,d,t);f=o.makeTensorInfo(t,a.dtype);o.texData.get(f.dataId).values=n}else f=Cv(a,d,o);m.push(f),u=i.backend_util.getInnerMostAxes(u.length,l)}i.backend_util.assertAxesAreInnerMostDims("sum",u,l);const[g,b]=i.backend_util.computeOutAndReduceShapes(f.shape,u);let y=g;r&&(y=i.backend_util.expandShapeToKeepDim(g,c));const v=function(e,t,n,a){const r=i.util.sizeFromShape(t),s=bv({inputs:{x:e},attrs:{shape:[i.util.sizeFromShape(e.shape)/r,r]},backend:a}),o=xv(s,"float32","mean",a),l=bv({inputs:{x:o},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(s),a.disposeIntermediateTensorInfo(o),l}(f,b,y,o);for(const e of m)o.disposeIntermediateTensorInfo(e);return v}};const pS={kernelName:i.Min,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a,l=r.shape.length,c=i.util.parseAxisParam(s,r.shape);let u=c;const d=i.backend_util.getAxesPermutation(u,l);let p=r;null!=d&&(p=Iv({inputs:{x:r},backend:n,attrs:{perm:d}}),u=i.backend_util.getInnerMostAxes(u.length,r.shape.length)),i.backend_util.assertAxesAreInnerMostDims("min",u,l);const[h,m]=i.backend_util.computeOutAndReduceShapes(p.shape,u),f=bv({inputs:{x:p},backend:n,attrs:{shape:[-1,i.util.sizeFromShape(m)]}}),g=xv(f,f.dtype,"min",n);let b;if(o){b=bv({inputs:{x:g},backend:n,attrs:{shape:i.backend_util.expandShapeToKeepDim(h,c)}})}else b=bv({inputs:{x:g},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(g),null!=d&&n.disposeIntermediateTensorInfo(p),b}},hS=lv({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:ly}),mS={kernelName:i.Minimum,backendName:"webgl",kernelFunc:hS};class fS{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,i=yb(a),r=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===n?0:1;this.userCode=1!==a?`\n      ${i} start = ${i}(${r});\n      ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        for (int i = 0; i < ${a}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${i} coords = outC - start;\n        setOutput(getX(${o}));\n      }\n    `:`\n        int start = ${r};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class gS{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,i=yb(a),r=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=Dy("rc",a),l=Dy("source",a),c=`${o[a-1]} < ${this.outputShape[a-1]}`,u=1===a?"source":`vec2(${l.slice(-2).join()})`,d="reflect"===n?0:1;let p="";if(1===a){const e=`\n        ${i} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${d};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${d};\n        }\n        source -= start;\n      `;p=`\n        ${i} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[a-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n      `}else{const e=`\n        ${i} source = rc;\n        ${i} lt = ${i}(lessThan(source, start));\n        ${i} gte = ${i}(greaterThanEqual(source, end));\n        ${i} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${d}) +\n                gte * ((end - 1) * 2 - source + ${d});\n        source -= start;\n      `;p=`\n        ${i} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${u});\n        ${o[a-1]} += 1;\n        if(${c}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${u});\n        }\n        rc = outputLoc;\n        ${o[a-2]} += 1;\n        if(${o[a-2]} < ${this.outputShape[a-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${u});\n          ${o[a-1]} += 1;\n          if(${c}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${u});\n          }\n        }\n      `}this.userCode=`\n      const ${i} start = ${i}(${r});\n      const ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const bS={kernelName:i.MirrorPad,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:a}=e,{paddings:r,mode:s}=n,o=(0,i.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new gS(a.shape,r,s):new fS(a.shape,r,s);return t.runWebGLProgram(o,[a],a.dtype)}},yS=lv({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),vS={kernelName:i.Mod,backendName:"webgl",kernelFunc:yS};class kS{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const xS=lv({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),wS={kernelName:i.RealDiv,backendName:"webgl",kernelFunc:xS},SS="return a - b;",CS=lv({opSnippet:SS,packedOpSnippet:SS,supportsComplex:!0,cpuKernelImpl:Iy}),TS={kernelName:i.Sub,backendName:"webgl",kernelFunc:CS};function _S(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:s}=a,o=i.util.parseAxisParam([s],r.shape),l=eS({inputs:{x:r},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),c=i.backend_util.expandShapeToKeepDim(l.shape,o),u=bv({inputs:{x:l},backend:n,attrs:{shape:c}}),d=CS({inputs:{a:r,b:u},backend:n}),p=Hx({inputs:{x:d},backend:n}),h=Tv({inputs:{x:p},backend:n,attrs:{axis:o,keepDims:!1}}),m=bv({inputs:{x:h},backend:n,attrs:{shape:c}}),f=xS({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),f}const IS={kernelName:i.Softmax,backendName:"webgl",kernelFunc:_S};const AS={kernelName:i.Multinomial,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:i}=t,{numSamples:r,seed:s,normalized:o}=a,l=o?i:_S({inputs:{logits:i},backend:n,attrs:{dim:i.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new kS(c,u,r),p=[[s]],h=n.runWebGLProgram(d,[l],"int32",p);return o||n.disposeIntermediateTensorInfo(l),h}};const NS={kernelName:i.Neg,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])){const e=n.texData.get(a.dataId),[t,i]=uy(e.values,a.shape,a.dtype);return n.makeTensorInfo(i,a.dtype,t)}let r;return r=(0,i.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Gy(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new zy(a.shape,"if (isnan(x)) return x;\n  return -x;\n"),n.runWebGLProgram(r,[a],a.dtype)}},ES=i.kernel_impls.nonMaxSuppressionV3Impl;const RS={kernelName:i.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){i.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:s}=t,{maxOutputSize:o,iouThreshold:l,scoreThreshold:c}=a,u=n.readSync(r.dataId),d=n.readSync(s.dataId),{selectedIndices:p}=ES(u,d,o,l,c);return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}},MS=i.kernel_impls.nonMaxSuppressionV4Impl;const DS={kernelName:i.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){i.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:s}=t,{maxOutputSize:o,iouThreshold:l,scoreThreshold:c,padToMaxOutputSize:u}=a,d=n.readSync(r.dataId),p=n.readSync(s.dataId),{selectedIndices:h,validOutputs:m}=MS(d,p,o,l,c,u);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},$S=i.kernel_impls.nonMaxSuppressionV5Impl;const BS={kernelName:i.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){i.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:s}=t,{maxOutputSize:o,iouThreshold:l,scoreThreshold:c,softNmsSigma:u}=a,d=n.readSync(r.dataId),p=n.readSync(s.dataId),h=o,m=l,f=c,g=u,{selectedIndices:b,selectedScores:y}=$S(d,p,h,m,f,g);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class LS{constructor(e,t,n,a){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${a}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const FS={kernelName:i.OneHot,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{depth:s,onValue:o,offValue:l}=a,c=i.util.sizeFromShape(r.shape),u=new LS(c,s,o,l),d=bv({inputs:{x:r},backend:n,attrs:{shape:[c]}}),p=n.runWebGLProgram(u,[d],r.dtype);n.disposeIntermediateTensorInfo(d);const h=bv({inputs:{x:p},backend:n,attrs:{shape:[...r.shape,s]}});return n.disposeIntermediateTensorInfo(p),h}};function OS(e){const{inputs:t,backend:n}=e,{x:a}=t;if("complex64"===a.dtype){const e=Ek({inputs:{input:a},backend:n}),t=OS({inputs:{x:e},backend:n}),i=Uk({inputs:{input:a},backend:n}),r=OS({inputs:{x:i},backend:n}),s=Qy({inputs:{real:t,imag:r},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(r),s}return aw({attrs:{shape:a.shape,dtype:a.dtype,value:"string"===a.dtype?"":0},backend:n})}const jS={kernelName:i.ZerosLike,backendName:"webgl",kernelFunc:OS};const zS={kernelName:i.OnesLike,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:i}=n;if("string"===i.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===i.dtype){const t=Ek({inputs:{input:i},backend:a}),n=e({inputs:{x:t},backend:a}),r=Uk({inputs:{input:i},backend:a}),s=OS({inputs:{x:r},backend:a}),o=Qy({inputs:{real:n,imag:s},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(r),a.disposeIntermediateTensorInfo(s),o}return aw({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:a})}};const PS={kernelName:i.Pack,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return Kx({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const s=t[0].shape,o=t[0].dtype;t.forEach((e=>{i.util.assertShapesMatch(s,e.shape,"All tensors passed to stack must have matching shapes"),i.util.assert(o===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const l=[],c=Kk({inputs:t.map((e=>{const t=Kx({inputs:{input:e},backend:n,attrs:{dim:r}});return l.push(t),t})),backend:n,attrs:{axis:r}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}};class WS{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,i=yb(a),r=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?`\n      ${i} start = ${i}(${r});\n      ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${i} coords = outC - start;\n          setOutput(getX(${o}));\n        }\n      }\n    `:`\n        int start = ${r};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class GS{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,i=yb(a),r=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),o=Dy("rc",a),l=Dy("source",a),c=`${o[a-1]} < ${this.outputShape[a-1]}`,u=1===a?"source":`vec2(${l.slice(-2).join()})`,d=[`${i} rc = outputLoc;`,`${o[a-1]} += 1;\n       if(${c}) {\n      `,1===a?"":`}\n       rc = outputLoc;\n       ${o[a-2]} += 1;\n       if(${o[a-2]} < ${this.outputShape[a-2]}) {`,1===a?"":`  ${o[a-1]} += 1;\n         if(${c}) {`],p=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let e=0,t=1===a?2:4;e<t;e++)h+=`\n        ${d[e]}\n        if (${p}) {\n          result[${e}] = float(value);\n        } else {\n          ${i} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${u});\n        }\n      `;h+=1===a?"} ":"}}",this.userCode=`\n      const ${i} start = ${i}(${r});\n      const ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}}const VS=e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:s,constantValue:o}=a;if(0===i.util.sizeFromShape(r.shape)){const e=s.map(((e,t)=>e[0]+r.shape[t]+e[1]));return aw({backend:n,attrs:{shape:e,value:o,dtype:r.dtype}})}const l=(0,i.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new GS(r.shape,s,o):new WS(r.shape,s,o),c=[[o]];return n.runWebGLProgram(l,[r],r.dtype,c)},US={kernelName:i.PadV2,backendName:"webgl",kernelFunc:VS},HS=lv({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),qS={kernelName:i.Pow,backendName:"webgl",kernelFunc:HS};const KS={kernelName:i.Prod,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:s,keepDims:o}=a,l=r.shape.length,c=[],u=i.util.parseAxisParam(s,r.shape);let d=u;const p=i.backend_util.getAxesPermutation(d,l);let h,m=r;if(null!=p&&(m=Iv({inputs:{x:r},backend:n,attrs:{perm:p}}),d=i.backend_util.getInnerMostAxes(d.length,l),c.push(m)),i.backend_util.assertAxesAreInnerMostDims("prod",d,l),n.shouldExecuteOnCPU([m])){const e=n.texData.get(m.dataId).values,{outVals:t,outShape:a,outDtype:i}=py(m.shape,m.dtype,e,d);h=n.makeTensorInfo(a,i,t)}else{const[e,t]=i.backend_util.computeOutAndReduceShapes(m.shape,d),a=i.util.sizeFromShape(t),s=bv({inputs:{x:m},backend:n,attrs:{shape:[-1,a]}}),o=xv(s,(0,i.sumOutType)(r.dtype),"prod",n);h=bv({inputs:{x:o},backend:n,attrs:{shape:e}}),c.push(s),c.push(o)}if(o){c.push(h);const e=i.backend_util.expandShapeToKeepDim(h.shape,u);h=bv({inputs:{x:h},backend:n,attrs:{shape:e}})}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}},JS=e=>{const{backend:t,attrs:n}=e,{start:a,stop:i,step:r,dtype:s}=n,o=hy(a,i,r,s);return t.makeTensorInfo([o.length],s,o)},XS={kernelName:i.Range,backendName:"webgl",kernelFunc:JS},YS=ov({opSnippet:"return 1.0 / x;"}),ZS={kernelName:i.Reciprocal,backendName:"webgl",kernelFunc:YS},QS=ov({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),eC={kernelName:i.Relu,backendName:"webgl",kernelFunc:QS},tC=ov({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),nC={kernelName:i.Relu6,backendName:"webgl",kernelFunc:tC};class aC{constructor(e,t,n,a,i){this.variableNames=["A"],this.outputShape=[];const[r,s,o,l]=e;this.outputShape=[r,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?o-1:o],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let d;d=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class iC{constructor(e,t,n,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,s,o,l]=e;this.outputShape=[r,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?o-1:o],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let d;d=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const rC={kernelName:i.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:s,halfPixelCenters:o,size:l}=a,[c,u]=l,d=(0,i.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new iC(r.shape,c,u,s,o):new aC(r.shape,c,u,s,o);return n.runWebGLProgram(d,[r],"float32")}};class sC{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,i]=t,[,r,s]=e,o=[n&&r>1?a-1:a,n&&s>1?i-1:i],l=[n&&r>1?r-1:r,n&&s>1?s-1:s],c=o[0]/l[0],u=o[1]/l[1],d=1/c,p=1/u,h=2*Math.ceil(d)+2,m=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${r}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${a-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${i-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const oC={kernelName:i.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:i,dy:r}=t,{alignCorners:s}=a,o=new sC(r.shape,i.shape,s);return n.runWebGLProgram(o,[r],r.dtype)}};class lC{constructor(e,t,n,a,i){this.variableNames=["A"],this.outputShape=[];const[r,s,o,l]=e;this.outputShape=[r,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?o-1:o],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";let p;p=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]});\n      const vec2 inputShapeRC = vec2(${s}.0, ${o}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class cC{constructor(e,t,n,a,i){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[r,s,o,l]=e;this.outputShape=[r,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?o-1:o],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";let p;p=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${c[0]/u[0]},\n          ${c[1]/u[1]},\n          ${c[1]/u[1]});\n      const vec3 inputShapeRC = vec3(${s}.0, ${o}.0,\n                                     ${o}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const uC={kernelName:i.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:s,halfPixelCenters:o,size:l}=a,[c,u]=l,d=(0,i.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new cC(r.shape,c,u,s,o):new lC(r.shape,c,u,s,o);return n.runWebGLProgram(d,[r],r.dtype)}};class dC{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,i]=t,[,r,s]=e,o=[n&&r>1?a-1:a,n&&s>1?i-1:i],l=[n&&r>1?r-1:r,n&&s>1?s-1:s],c=o[0]/l[0],u=o[1]/l[1],d=1/c,p=1/u,h=2*Math.ceil(d)+2,m=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${c});\n        const float widthScale = float(${u});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${m});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${r}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${s}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${o[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${o[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${a}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${i}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const pC={kernelName:i.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:i,dy:r}=t,{alignCorners:s}=a,o=new dC(r.shape,i.shape,s);return n.runWebGLProgram(o,[r],r.dtype)}};class hC{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const a=e.map(((n,a)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(a))).join(","),i=yb(n);this.userCode=`\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}class mC{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const a=Dy("rc",n),i=`${a[n-1]} + 1 < ${this.outputShape[n-1]}`,r=`${a[n-2]} + 1 < ${this.outputShape[n-2]}`,s=yb(n);function o(n){const a=e.map(((a,i)=>function(n,a){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${a[n]} - 1`:`${a[n]}`}(i,n)));return`getChannel(getX(${a.join(",")}), vec2(${a.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${i}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return o(e)}(a.slice())};\n          if(${i}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",o(e)}(a.slice())};\n          }\n          if(${r}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",o(e)}(a.slice())};\n            if(${i}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",o(e)}(a.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const fC={kernelName:i.Reverse,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:s}=a,o=r.shape.length,l=i.util.parseAxisParam(s,r.shape);if(0===o)return Yy({inputs:{x:r},backend:n});const c=(0,i.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mC(r.shape,l):new hC(r.shape,l);return n.runWebGLProgram(c,[r],r.dtype)}};class gC{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],a=e[2];this.outputShape=e;let i="";i="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${i}\n          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const bC={kernelName:i.RotateWithOffset,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:a}=e,{radians:r,fillValue:s,center:o}=t,l=n,c=new gC(a.shape,s),[u,d]=i.backend_util.getImageCenter(o,a.shape[1],a.shape[2]),p=[[u,d,Math.sin(r),Math.cos(r)]];return l.runWebGLProgram(c,[a],a.dtype,p)}},yC=ov({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),vC={kernelName:i.Round,backendName:"webgl",kernelFunc:yC},kC=ov({opSnippet:"return inversesqrt(x);",cpuKernelImpl:my}),xC={kernelName:i.Rsqrt,backendName:"webgl",kernelFunc:kC};class wC{constructor(e,t,n,a,i,r,s=!0){this.variableNames=["updates","indices","defaultValue"],this.outputShape=r;const o=yb(i.length),l=yb(r.length);let c="";1===n?c="i":2===n&&(c="i, j");const u=`getIndices(${c})`;let d="";1===a?d="i":2===a&&(d="i, coords[1]");const p=`getUpdates(${d})`,h=t>1?"strides[j]":"strides";this.userCode=`\n        ${o} strides = ${o}(${i});\n\n        void main() {\n          ${l} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${u});\n              flattenedIndex += index * ${h};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}}const SC={kernelName:i.ScatterNd,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:s}=t,{shape:o}=a,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:p}=i.backend_util.calculateShapes(s,r,o),h=[p/u,u];if(0===p)return n.makeTensorInfo(o,r.dtype);const m=bv({inputs:{x:r},backend:n,attrs:{shape:[c,l]}}),f=bv({inputs:{x:s},backend:n,attrs:{shape:[c,u]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),b=new wC(c,l,m.shape.length,f.shape.length,d,h),y=n.runWebGLProgram(b,[f,m,g],f.dtype),v=bv({inputs:{x:y},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(g),v}};class CC{constructor(e,t,n,a){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const r=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,s=2===(0,i.env)().getNumber("WEBGL_VERSION")?"while (left < right) {":r,o="left"===a?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${s}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${o} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const TC={kernelName:i.SearchSorted,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sortedSequence:i,values:r}=t,{side:s}=a,o=new CC(i.shape[0],i.shape[1],r.shape[1],s),l=[[i.shape[1]]];return n.runWebGLProgram(o,[i,r],"int32",l)}};class _C{constructor(e,t,n){let a,i;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)i="resRC",a="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],s=[];for(let a=0;a<t.length;a++)s.push(`${n[a]}`),a<e&&r.push(`${n[a]}`);a=r.join(),i=s.join()}const r=yb(n);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        float cVal = getC(${a});\n        if (cVal >= 1.0) {\n          setOutput(getA(${i}));\n        } else {\n          setOutput(getB(${i}));\n        }\n      }\n    `}}const IC={kernelName:i.Select,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:s}=t,o=new _C(a.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(o,[a,r,s],(0,i.upcastType)(r.dtype,s.dtype))}},AC=ov({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${i.backend_util.SELU_SCALEALPHA};\n  float scale = ${i.backend_util.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),NC={kernelName:i.Selu,backendName:"webgl",kernelFunc:AC},EC=ov({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:gy}),RC={kernelName:i.Sigmoid,backendName:"webgl",kernelFunc:EC},MC=ov({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),DC={kernelName:i.Sign,backendName:"webgl",kernelFunc:MC},$C=ov({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),BC={kernelName:i.Sin,backendName:"webgl",kernelFunc:$C},LC=ov({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),FC={kernelName:i.Sinh,backendName:"webgl",kernelFunc:LC},OC=ov({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),jC={kernelName:i.Softplus,backendName:"webgl",kernelFunc:OC},zC={kernelName:i.SpaceToBatchND,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:s,paddings:o}=a;i.util.assert(r.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const l=s.reduce(((e,t)=>e*t)),c=[[0,0]];c.push(...o);for(let e=1+s.length;e<r.shape.length;++e)c.push([0,0]);const u=[],d=VS({inputs:{x:r},backend:n,attrs:{paddings:c,constantValue:0}}),p=i.backend_util.getReshaped(d.shape,s,l,!1),h=i.backend_util.getPermuted(p.length,s.length,!1),m=i.backend_util.getReshapedPermuted(d.shape,s,l,!1),f=bv({inputs:{x:d},backend:n,attrs:{shape:p}}),g=Iv({inputs:{x:f},backend:n,attrs:{perm:h}}),b=bv({inputs:{x:g},backend:n,attrs:{shape:m}});return u.push(d),u.push(f),u.push(g),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}};const PC={kernelName:i.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:i,denseShape:r,defaultValue:s}=t;if(1!==r.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${r.shape}`);if(2!==a.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${a.shape}`);if(1!==i.shape.length)throw new Error(`Values must be a vector, saw:\n         ${i.shape}`);if(0!==s.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${s.shape}`);const o=n.readSync(a.dataId),l=n.readSync(i.dataId),c=n.readSync(r.dataId),u=n.readSync(s.dataId)[0],[d,p,h,m,f]=vy(o,a.shape,a.dtype,l,i.dtype,c,u);return[n.makeTensorInfo(p,a.dtype,d),n.makeTensorInfo([p[0]],i.dtype,h),n.makeTensorInfo([m.length],"bool",new Uint8Array(m.map((e=>Number(e))))),n.makeTensorInfo([f.length],a.dtype,new Int32Array(f))]}};const WC={kernelName:i.SparseReshape,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:i,newShape:r}=t;if(2!==a.shape.length)throw new Error(`Input indices should be a matrix but received shape ${a.shape}`);if(1!==i.shape.length)throw new Error(`Input shape should be a vector but received shape ${i.shape}`);if(1!==r.shape.length)throw new Error(`Target shape should be a vector but received shape ${r.shape}`);const s=Array.from(n.readSync(i.dataId)),o=n.readSync(a.dataId),l=Array.from(n.readSync(r.dataId)),[c,u,d]=ky(o,a.shape,a.dtype,s,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([d.length],r.dtype,new Int32Array(d))]}};const GC={kernelName:i.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:i,segmentIds:r}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${r.shape}`);const s=n.readSync(a.dataId),o=n.readSync(i.dataId),l=n.readSync(r.dataId),[c,u]=xy(s,a.shape,a.dtype,o,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const VC={kernelName:i.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:i,segmentIds:r}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${i.shape}`);if(1!==r.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${r.shape}`);const s=n.readSync(a.dataId),o=n.readSync(i.dataId),l=n.readSync(r.dataId),[c,u]=xy(s,a.shape,a.dtype,o,l);return n.makeTensorInfo(u,a.dtype,c)}};const UC={kernelName:i.SparseToDense,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:s,defaultValue:o}=t,{outputShape:l}=a,{sliceRank:c,numUpdates:u,sliceSize:d,strides:p,outputSize:h}=i.backend_util.calculateShapes(s,r,l);if("string"===s.dtype){const e=n.bufferSync(r),t=n.bufferSync(s),a=i.util.decodeString(n.readSync(o.dataId)[0]),m=fy(e,t,l,h,d,u,c,p,a,false);return n.makeTensorInfo(l,m.dtype,m.values)}const m=new wC(u,c,r.shape.length,s.shape.length,p,[h,1],false),f=n.runWebGLProgram(m,[s,r,o],s.dtype),g=bv({inputs:{x:f},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(f),g}};const HC={kernelName:i.SplitV,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:s,axis:o}=a,l=i.util.parseAxisParam(o,r.shape)[0],c=i.backend_util.prepareSplitSize(r,s,l),u=r.shape.length,d=new Array(u).fill(0),p=r.shape.slice();return c.map((e=>{const t=[...p];t[l]=e;const a=Sk({inputs:{x:r},backend:n,attrs:{begin:d,size:t}});return d[l]+=e,a}))}},qC="return sqrt(x);",KC=ov({opSnippet:qC,packedOpSnippet:qC,cpuKernelImpl:wy}),JC={kernelName:i.Sqrt,backendName:"webgl",kernelFunc:KC},XC=ov({opSnippet:"return x * x;"}),YC={kernelName:i.Square,backendName:"webgl",kernelFunc:XC},ZC="return (a - b) * (a - b);",QC=lv({opSnippet:ZC,packedOpSnippet:ZC}),eT={kernelName:i.SquaredDifference,backendName:"webgl",kernelFunc:QC};const tT={kernelName:i.Step,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:a}=e,i=`if (isnan(x)) return x;\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,r=new zy(a.shape,i);return n.runWebGLProgram(r,[a],a.dtype)}};class nT{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const a=n.length,i=yb(n.length),r=yb(n.length);let s="";if(1===a)s="coords * strides + begin";else{let e=0;s=n.map(((t,a)=>(e++,1===n.length?`coords * strides[${a}] + begin[${a}]`:`coords[${e-1}] * strides[${a}] + begin[${a}]`))).join(",")}this.userCode=`\n      ${i} begin = ${i}(${e});\n      ${i} strides = ${i}(${t});\n\n      void main() {\n        ${r} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}}const aT={kernelName:i.StridedSlice,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:s,end:o,strides:l,beginMask:c,endMask:u,ellipsisMask:d,newAxisMask:p,shrinkAxisMask:h}=a,{finalShapeSparse:m,finalShape:f,isIdentity:g,sliceDim0:b,isSimpleSlice:y,begin:v,end:k,strides:x}=i.slice_util.sliceInfo(r.shape,s,o,l,c,u,d,p,h);let w;if(g)w=bv({inputs:{x:r},backend:n,attrs:{shape:f}});else if(b||y){i.util.assert(r.shape.length>=1,(()=>`Input must have rank at least 1, got: ${r.shape.length}`));const e=i.slice_util.computeOutShape(v,k,x),t=Sk({inputs:{x:r},backend:n,attrs:{begin:v,size:e}});w=bv({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([r])){const e=n.readSync(r.dataId),t=(0,i.buffer)(r.shape,r.dtype,e),a=Sy(m,t,x,v);w=n.makeTensorInfo(f,r.dtype,a.values)}else{const e=new nT(v,x,m);w=n.runWebGLProgram(e,[r],r.dtype)}}const S=bv({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),S}};const iT={kernelName:i.StringNGrams,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:i,nGramWidths:r,leftPad:s,rightPad:o,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:d}=t,p=n.readSync(u.dataId),h=n.readSync(d.dataId),[m,f]=Cy(p,h,i,r,s,o,l,c);return[n.makeTensorInfo([m.length],"string",m),n.makeTensorInfo(d.shape,"int32",f)]}};const rT={kernelName:i.StringSplit,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:i}=a,{input:r,delimiter:s}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(1!==r.shape.length)throw new Error(`Input must be a vector, got shape: ${r.shape}`);if(0!==s.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${s.shape}`);const o=n.readSync(r.dataId),l=n.readSync(s.dataId)[0],[c,u,d]=Ty(o,l,i),p=u.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const sT={kernelName:i.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:i}=a,{input:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");if(i<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(r.dataId),o=_y(s,i);return n.makeTensorInfo(r.shape,"int32",o)}},oT=ov({opSnippet:"return tan(x);"}),lT={kernelName:i.Tan,backendName:"webgl",kernelFunc:oT},cT=ov({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),uT={kernelName:i.Tanh,backendName:"webgl",kernelFunc:cT};class dT{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let a=0;a<n.length;a++)n[a]=e[a]*t[a];this.outputShape=n,this.rank=n.length;const a=yb(this.rank),i=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let t=0;t<e.length;t++)a.push(`imod(${n[t]}, ${e[t]})`);return a.join()}(e);this.userCode=`\n      void main() {\n        ${a} resRC = getOutputCoords();\n        setOutput(getA(${i}));\n      }\n    `}}function pT(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reps:s}=a;if("string"===r.dtype||r.shape.length>5){const e=n.readSync(r.dataId),t="string"===r.dtype?e.map((e=>i.util.decodeString(e))):e,a=(0,i.buffer)(r.shape,r.dtype,t),o=Ay(a,s);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const o=new dT(r.shape,s);return n.runWebGLProgram(o,[r],r.dtype)}const hT={kernelName:i.Tile,backendName:"webgl",kernelFunc:pT};class mT{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class fT{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function gT(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function bT(e){let t=1;for(;t<e;)t*=2;return t}const yT={kernelName:i.TopK,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{k:s,sorted:o}=a,l=(0,i.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=(0,i.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=r.shape,d=u[u.length-1];if(n.shouldExecuteOnCPU([r])||d<l||s>c){const e=n.readSync(r.dataId),[t,a]=Ny(e,u,r.dtype,s,o);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(a.shape,a.dtype,a.values)]}if(0===s)return u[u.length-1]=0,[n.makeTensorInfo(u,r.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===d)return[r,aw({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const p=n.texData.get(r.dataId),h=null!==p&&p.isPacked,m=h?n.unpackTensor(r):r,f=i.util.sizeFromShape(u)/d,g=bv({inputs:{x:m},attrs:{shape:[f,d]},backend:n});h&&gT(n,m);const b=bT(s),y=bT(d);let v=null;const k=()=>null===v?[g,g]:[g,v],x=(e,t,a)=>{const i=k(),r=new mT(a),s=[[d],[null===v?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],o=v;v=n.runWebGLProgram(r,i,"int32",s),gT(n,o)};for(let e=1;e<b;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)x(t,n,[f,y])}for(let e=y;e>b;e/=2){const t=k(),a=new fT([f,e/2]),i=[[d],[null===v?1:0],[b]],r=v;v=n.runWebGLProgram(a,t,"int32",i),gT(n,r);const s=b/2,o=2*s;for(let e=s;e>=1;e/=2)x(o,e,v.shape)}let w=v;v=Sk({inputs:{x:v},backend:n,attrs:{begin:0,size:[f,s]}}),gT(n,w);let S=xw({inputs:{x:g,indices:v},backend:n,attrs:{axis:1,batchDims:1}});gT(n,g);const C=u.slice(0,-1);C.push(s),w=v,v=bv({inputs:{x:v},attrs:{shape:C},backend:n}),gT(n,w);const T=S;return S=bv({inputs:{x:S},attrs:{shape:C},backend:n}),gT(n,T),[S,v]}};class vT{constructor(e,t,n,a,i,r){this.variableNames=["Image","Transforms"],this.outputShape=r;const s="nearest"===n?1:2;let o;switch(a){case"constant":default:o=1;break;case"reflect":o=2;break;case"wrap":o=3;break;case"nearest":o=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${o} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${o} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${i});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${i});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${s} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const kT={kernelName:i.Transform,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:i,transforms:r}=t,{interpolation:s,fillMode:o,fillValue:l,outputShape:c}=a,[u,d,p,h]=i.shape,[m,f]=null!=c?c:[d,p],g=new vT(d,p,s,o,l,[u,m,f,h]);return n.runWebGLProgram(g,[i,r],"float32")}};const xT={kernelName:i.Unique,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:i}=n,{x:r}=t;Qg(r,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=a.readSync(r.dataId),{outputValues:o,outputShape:l,indices:c}=Ry(s,i,r.shape,r.dtype);return[a.makeTensorInfo(l,r.dtype,o),a.makeTensorInfo([c.length],"int32",c)]}};const wT={kernelName:i.Unpack,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:i}=t;let{axis:r}=a;r<0&&(r+=i.shape.length);const s=i,o=s.shape.length,l=i.shape[r],c=new Array(o-1);let u=0;for(let e=0;e<o;e++)e!==r&&(c[u++]=s.shape[e]);const d=[],p=new Array(o).fill(0),h=s.shape.slice();h[r]=1;const m=new Array(l);for(let e=0;e<m.length;e++){p[r]=e;const t=Sk({inputs:{x:s},backend:n,attrs:{begin:p,size:h}}),a=bv({inputs:{x:t},backend:n,attrs:{shape:c}});m[e]=a,d.push(t)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),m}};class ST{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,a=e.batchSize,i=e.inSize,r=e.numSegments,s=r*Math.ceil(i/n);this.outputShape=[a,s];const o=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";i%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `);let d="";i%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${d}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${r})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${r})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${o}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${o};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}}const CT={kernelName:i.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:s}=t,{numSegments:o}=a,l=r.shape.length,c=[];let u=0;const d=i.backend_util.getAxesPermutation([u],l);let p=r;null!=d&&(p=Iv({inputs:{x:r},backend:n,attrs:{perm:d}}),c.push(p),u=i.backend_util.getInnerMostAxes(1,l)[0]);const h=i.backend_util.segment_util.computeOutShape(p.shape,u,o),m=i.util.sizeFromShape([p.shape[u]]),f=bv({inputs:{x:p},backend:n,attrs:{shape:[-1,m]}});c.push(f);const g=(0,i.sumOutType)(r.dtype),b=(e,t,a,r,s)=>{const o=e.shape[0],l=e.shape[1],u=i.backend_util.segment_util.segOpComputeOptimalWindowSize(l,s),d=new ST({windowSize:u,inSize:l,batchSize:o,numSegments:s},t),p=n.compileAndRun(d,[e,a],r);if(c.push(p),p.shape[1]===s)return p;const h=JS({backend:n,attrs:{start:0,stop:s,step:1,dtype:"float32"}}),m=pT({inputs:{x:h},backend:n,attrs:{reps:[l/u]}});c.push(h),c.push(m);return b(p,t,m,r,s)},y=bv({inputs:{x:b(f,"unsortedSegmentSum",s,g,o)},backend:n,attrs:{shape:h}});let v=y;if(null!=d){c.push(y);const e=i.backend_util.getUndoAxesPermutation(d);v=Iv({inputs:{x:v},backend:n,attrs:{perm:e}})}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),v}},TT=[Ev,Mv,$v,Lv,jv,Wv,Gv,Vv,Xv,Yv,Qv,tk,ak,rk,ok,uk,dk,mk,fk,gk,vk,Tk,_k,Ik,Mk,Bk,Ok,ev,Pk,Jk,tx,sx,ox,lx,cx,ux,px,mx,gx,wx,Sx,Cx,_x,Nx,Mx,Dx,Bx,Fx,Ox,zx,Px,Gx,Ux,qx,Jx,Zx,tw,iw,sw,cw,dw,mw,gw,bw,vw,ww,Cw,_w,Zy,Iw,Hk,Nw,Rw,Dw,av,Bw,Fw,Ow,zw,Ww,Vw,Hw,Kw,Yw,Qw,tS,aS,iS,rS,lS,cS,uS,dS,pS,mS,bS,vS,AS,gv,NS,RS,DS,BS,Nk,FS,zS,PS,US,qS,sv,KS,XS,Rk,wS,ZS,eC,nC,yv,rC,oC,uC,pC,fC,bC,vC,xC,SC,TC,IC,NC,RC,DC,BC,FC,Ck,IS,jC,zC,PC,WC,GC,VC,UC,HC,JC,YC,eT,tT,aT,iT,rT,sT,TS,_v,lT,uT,hT,yT,kT,Av,xT,wT,CT,jS];for(const e of TT)(0,i.registerKernel)(e);i.version_core,Ac.gJ},82850:(e,t,n)=>{"use strict";n.d(t,{CM:()=>r,Ix:()=>i,Yd:()=>o,cT:()=>s});var a=n(98333);function i(e,t){return(0,a.eE)({url:e.url,method:"post",data:e.data,upload:!0,config:{headers:{"Content-Type":"multipart/form-data"}},headers:{"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2)},onUploadProgress:t})}function r(e){return(0,a.eE)({url:e.url,method:"delete",data:e.data})}function s(e,t,n){var i={url:e.url,method:"post",data:e.data,upload:!0,config:{headers:{"Content-Type":"multipart/form-data"}},headers:{"Content-Type":"multipart/form-data; charset=utf-8; boundary="+Math.random().toString().substr(2)},onUploadProgress:t,cancelToken:n};return e.silent?(0,a.kM)(i):(0,a.eE)(i)}function o(e){return(0,a.eE)({url:e.url,method:"delete",data:e.data})}},39800:(e,t,n)=>{"use strict";n.d(t,{En:()=>l,SN:()=>f,Ys:()=>d,ag:()=>h,ff:()=>c,mk:()=>p,q7:()=>m,uK:()=>u,zO:()=>o});var a=n(33363),i=a.Z.getters["config/configs"],r=a.Z.getters["config/vars"],s=function(){return{timezone:i.authenticated?i.system.timezone:moment.tz.guess(),defaultDateFormat:r.defaultDateFormat,defaultDateTimeFormat:r.defaultDateTimeFormat,serverDateFormat:r.serverDateFormat,serverDateTimeFormat:r.serverDateTimeFormat,calendarLocale:{lastDay:r.defaultDateFormat,sameDay:r.defaultTimeFormat,lastWeek:r.defaultDateFormat,sameElse:r.defaultDateFormat}}},o=function(e,t){var n=s(),a=moment.utc().tz(t||n.timezone);return e&&e.hasOwnProperty("moment")&&e.moment?a:a.format(e||n.defaultDateTimeFormat)},l=function(e,t){var n=s(),a=moment(e,n.serverDateFormat);return e?(Array.isArray(e)&&(a=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?a:a.format(t||n.defaultDateFormat)):"INVALID DATE STRING"},c=function(e,t){var n=s(),a=moment(e,n.serverTimeFormat);return e?(Array.isArray(e)&&(a=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?a:a.format(t||n.defaultTimeFormat)):"INVALID TIME STRING"},u=function(e,t){var n=s(),a=moment(e,n.serverDateTimeFormat);return e?(Array.isArray(e)&&(a=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?a:a.format(t||n.defaultDateTimeFormat)):"INVALID DATE TIME STRING"},d=function(e,t){var n=s(),a=moment(e,n.serverDateTimeFormat);return e?(Array.isArray(e)&&(a=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?a:a.calendar(t||n.calendarLocale)):"INVALID DATE TIME STRING"},p=function(e,t,n){var a=s();if(!e)return"INVALID DATE STRING";var i=moment.utc(e,a.serverDateFormat);return"NOW"===e&&(i=moment.utc()),Array.isArray(e)&&(i=moment.utc(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?i.tz(n||a.timezone):i.tz(n||a.timezone).format(t||a.defaultDateFormat)},h=function(e,t,n){var a=s(),i=moment.utc("".concat(moment().format(a.serverDateFormat)," ").concat(e),a.serverTimeFormat);return e?(Array.isArray(e)&&(i=moment.utc(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?i.tz(n||a.timezone):i.tz(n||a.timezone).format(t||a.defaultTimeFormat)):"INVALID TIME STRING"},m=function(e,t,n){var a,i=s();return e?(a="NOW"===e?moment.utc():Array.isArray(e)?moment.utc(e[0],e[1]):moment.utc(e,i.serverDateTimeFormat),t&&t.hasOwnProperty("moment")&&t.moment?a.tz(n||i.timezone):a.tz(n||i.timezone).format(t||i.defaultDateTimeFormat)):"INVALID DATE TIME STRING"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=s(),i=moment.utc(e,a.serverDateTimeFormat);if(!e)return"INVALID DATE TIME STRING";Array.isArray(e)&&(i=moment.utc(e[0],e[1]));var r=i.tz(n||a.timezone);return t&&t.hasOwnProperty("moment")&&t.moment?r:r=r.calendar(t||a.calendarLocale)}},59582:(e,t,n)=>{"use strict";var a=n(31955),i=n(25934);!function(){var e="my-application-browser-tab",t=1,n=2;function r(i){var r="";switch(i){case t:r=window.name;break;case n:null!=(r=decodeURIComponent(a.Z.get(e)))&&"undefined"!=r||(r="")}return r}function s(i,r){switch(i){case t:window.name=r;break;case n:a.Z.set(e,r||"")}}function o(){var e=r(t)||(0,i.Z)();s(t,e);var a=r(n),o=(""==a?null:JSON.parse(a))||null;if(null===o||o.timestamp<(new Date).getTime()-5e3||o.guid===e){var l=function(){var t={guid:e,timestamp:(new Date).getTime()};s(n,JSON.stringify(t))};return l(),setInterval(l,500),!1}return!0}window.isDuplicate=function(){return o()},window.addEventListener("beforeunload",(function(){0==o()&&s(n,"")}))}()},99164:(e,t,n)=>{"use strict";n.d(t,{BN:()=>u,Kf:()=>c,m5:()=>s,qS:()=>o,rU:()=>i,si:()=>l});var a=n(97949);navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert($t("misc.get_user_media_not_supported")),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)});location.protocol;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices;var i=function(e){var t={icon:"error",html:"",footer:$t("misc.solve_and_refresh")};if(e)return"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?(t.title=$t("misc.media.permission_denied"),t.html=$t("misc.media.permission_denied_text")):"NotFoundError"===e.name?(t.title=$t("misc.media.not_found"),t.html=$t("misc.media.not_found_text")):"NotReadableError"===e.name||"OverconstrainedError"===e.name?(t.title=$t("misc.media.unreadable"),t.html=$t("misc.media.unreadable_text")):"SecurityError"!==e.name&&"TypeError"!==e.name||(t.title=$t("misc.media.security"),t.html=$t("misc.media.security_text")),t.html+='<div><pre><code style="white-space: break-spaces;">'+e+"</code><pre></div>",{msg:t,alert:swtAlert.fire(t)}},r=function(e){if((e=Object.assign({},{type:null,loop:!1,duration:1e3},e)).type){var t=new Audio;return t.preload="auto",t.autoplay=!0,t.loop=e.loop,t.src="/sound/".concat(e.type,".mp3"),t.play().then((function(){setTimeout((function(){t&&t.pause()}),e.duration)})).catch((function(e){console.error(e)})),t}},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return r({type:"incoming",loop:!0,duration:3e4})},o=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return r({type:"calling",loop:!0,duration:3e4})},l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return r({type:"message",duration:3e3})},c=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return r({type:"screenshot",duration:3e3})},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href,r=e.url?e.url:i;if(n&&navigator.share)navigator.share({title:e.title?e.title:document.title,url:r}).then((function(){})).catch(console.error);else{var s={showCancelButton:!0,confirmButtonText:$t("misc.share_alert.confirm_btn"),cancelButtonText:$t("misc.share_alert.cancel_btn")};e.alertTitle&&(s.title=e.alertTitle),e.alertHtml?s.html=e.alertHtml:s.text=$t("misc.share_alert.text"),swtAlert.fire(s).then((function(e){e.value&&((0,a.vQ)(r),setTimeout((function(){t()}),500))}))}}},17477:(e,t,n)=>{"use strict";n.d(t,{s:()=>B});var a=n(19755);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function s(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function d(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return d(this,n)}}var h=function(){function e(){i(this,e)}return s(e,[{key:"listenForWhisper",value:function(e,t){return this.listen(".client-"+e,t)}},{key:"notification",value:function(e){return this.listen(".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated",e)}},{key:"stopListeningForWhisper",value:function(e,t){return this.stopListening(".client-"+e,t)}}]),e}(),m=function(){function e(t){i(this,e),this.setNamespace(t)}return s(e,[{key:"format",value:function(e){return"."===e.charAt(0)||"\\"===e.charAt(0)?e.substr(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}},{key:"setNamespace",value:function(e){this.namespace=e}}]),e}(),f=function(e){l(n,e);var t=p(n);function n(e,a,r){var s;return i(this,n),(s=t.call(this)).name=a,s.pusher=e,s.options=r,s.eventFormatter=new m(s.options.namespace),s.subscribe(),s}return s(n,[{key:"subscribe",value:function(){this.subscription=this.pusher.subscribe(this.name)}},{key:"unsubscribe",value:function(){this.pusher.unsubscribe(this.name)}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"listenToAll",value:function(e){var t=this;return this.subscription.bind_global((function(n,a){if(!n.startsWith("pusher:")){var i=t.options.namespace.replace(/\./g,"\\"),r=n.startsWith(i)?n.substring(i.length+1):"."+n;e(r,a)}})),this}},{key:"stopListening",value:function(e,t){return t?this.subscription.unbind(this.eventFormatter.format(e),t):this.subscription.unbind(this.eventFormatter.format(e)),this}},{key:"stopListeningToAll",value:function(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}},{key:"subscribed",value:function(e){return this.on("pusher:subscription_succeeded",(function(){e()})),this}},{key:"error",value:function(e){return this.on("pusher:subscription_error",(function(t){e(t)})),this}},{key:"on",value:function(e,t){return this.subscription.bind(e,t),this}}]),n}(h),g=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),n}(f),b=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),n}(f),y=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"here",value:function(e){return this.on("pusher:subscription_succeeded",(function(t){e(Object.keys(t.members).map((function(e){return t.members[e]})))})),this}},{key:"joining",value:function(e){return this.on("pusher:member_added",(function(t){e(t.info)})),this}},{key:"leaving",value:function(e){return this.on("pusher:member_removed",(function(t){e(t.info)})),this}},{key:"whisper",value:function(e,t){return this.pusher.channels.channels[this.name].trigger("client-".concat(e),t),this}}]),n}(f),v=function(e){l(n,e);var t=p(n);function n(e,a,r){var s;return i(this,n),(s=t.call(this)).events={},s.listeners={},s.name=a,s.socket=e,s.options=r,s.eventFormatter=new m(s.options.namespace),s.subscribe(),s}return s(n,[{key:"subscribe",value:function(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"unsubscribe",value:function(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}},{key:"listen",value:function(e,t){return this.on(this.eventFormatter.format(e),t),this}},{key:"stopListening",value:function(e,t){return this.unbindEvent(this.eventFormatter.format(e),t),this}},{key:"subscribed",value:function(e){return this.on("connect",(function(t){e(t)})),this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){var n=this;return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=function(t,a){n.name===t&&n.listeners[e]&&n.listeners[e].forEach((function(e){return e(a)}))},this.socket.on(e,this.events[e])),this.listeners[e].push(t),this}},{key:"unbind",value:function(){var e=this;Object.keys(this.events).forEach((function(t){e.unbindEvent(t)}))}},{key:"unbindEvent",value:function(e,t){this.listeners[e]=this.listeners[e]||[],t&&(this.listeners[e]=this.listeners[e].filter((function(e){return e!==t}))),t&&0!==this.listeners[e].length||(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}]),n}(h),k=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this.socket.emit("client event",{channel:this.name,event:"client-".concat(e),data:t}),this}}]),n}(v),x=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"here",value:function(e){return this.on("presence:subscribed",(function(t){e(t.map((function(e){return e.user_info})))})),this}},{key:"joining",value:function(e){return this.on("presence:joining",(function(t){return e(t.user_info)})),this}},{key:"leaving",value:function(e){return this.on("presence:leaving",(function(t){return e(t.user_info)})),this}}]),n}(k),w=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"subscribe",value:function(){}},{key:"unsubscribe",value:function(){}},{key:"listen",value:function(e,t){return this}},{key:"stopListening",value:function(e,t){return this}},{key:"subscribed",value:function(e){return this}},{key:"error",value:function(e){return this}},{key:"on",value:function(e,t){return this}}]),n}(h),S=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"whisper",value:function(e,t){return this}}]),n}(w),C=function(e){l(n,e);var t=p(n);function n(){return i(this,n),t.apply(this,arguments)}return s(n,[{key:"here",value:function(e){return this}},{key:"joining",value:function(e){return this}},{key:"leaving",value:function(e){return this}},{key:"whisper",value:function(e,t){return this}}]),n}(w),T=function(){function e(t){i(this,e),this._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},broadcaster:"pusher",csrfToken:null,host:null,key:null,namespace:"App.Events"},this.setOptions(t),this.connect()}return s(e,[{key:"setOptions",value:function(e){this.options=o(this._defaultOptions,e);var t=this.csrfToken();return t&&(this.options.auth.headers["X-CSRF-TOKEN"]=t,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=t),e}},{key:"csrfToken",value:function(){var e;return"undefined"!=typeof window&&window.Laravel&&window.Laravel.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:"undefined"!=typeof document&&"function"==typeof document.querySelector&&(e=document.querySelector('meta[name="csrf-token"]'))?e.getAttribute("content"):null}}]),e}(),_=function(e){l(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).channels={},e}return s(n,[{key:"connect",value:function(){void 0!==this.options.client?this.pusher=this.options.client:this.pusher=new Pusher(this.options.key,this.options)}},{key:"signin",value:function(){this.pusher.signin()}},{key:"listen",value:function(e,t,n){return this.channel(e).listen(t,n)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new f(this.pusher,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new g(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"encryptedPrivateChannel",value:function(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new b(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new y(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"presence-"+e].forEach((function(e,n){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.pusher.connection.socket_id}},{key:"disconnect",value:function(){this.pusher.disconnect()}}]),n}(T),I=function(e){l(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).channels={},e}return s(n,[{key:"connect",value:function(){var e=this,t=this.getSocketIO();return this.socket=t(this.options.host,this.options),this.socket.on("reconnect",(function(){Object.values(e.channels).forEach((function(e){e.subscribe()}))})),this.socket}},{key:"getSocketIO",value:function(){if(void 0!==this.options.client)return this.options.client;if("undefined"!=typeof io)return io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}},{key:"listen",value:function(e,t,n){return this.channel(e).listen(t,n)}},{key:"channel",value:function(e){return this.channels[e]||(this.channels[e]=new v(this.socket,e,this.options)),this.channels[e]}},{key:"privateChannel",value:function(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new k(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}},{key:"presenceChannel",value:function(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new x(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}},{key:"leave",value:function(e){var t=this;[e,"private-"+e,"presence-"+e].forEach((function(e){t.leaveChannel(e)}))}},{key:"leaveChannel",value:function(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}},{key:"socketId",value:function(){return this.socket.id}},{key:"disconnect",value:function(){this.socket.disconnect()}}]),n}(T),A=function(e){l(n,e);var t=p(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).channels={},e}return s(n,[{key:"connect",value:function(){}},{key:"listen",value:function(e,t,n){return new w}},{key:"channel",value:function(e){return new w}},{key:"privateChannel",value:function(e){return new S}},{key:"presenceChannel",value:function(e){return new C}},{key:"leave",value:function(e){}},{key:"leaveChannel",value:function(e){}},{key:"socketId",value:function(){return"fake-socket-id"}},{key:"disconnect",value:function(){}}]),n}(T),N=function(){function e(t){i(this,e),this.options=t,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}return s(e,[{key:"channel",value:function(e){return this.connector.channel(e)}},{key:"connect",value:function(){"pusher"==this.options.broadcaster?this.connector=new _(this.options):"socket.io"==this.options.broadcaster?this.connector=new I(this.options):"null"==this.options.broadcaster?this.connector=new A(this.options):"function"==typeof this.options.broadcaster&&(this.connector=new this.options.broadcaster(this.options))}},{key:"disconnect",value:function(){this.connector.disconnect()}},{key:"join",value:function(e){return this.connector.presenceChannel(e)}},{key:"leave",value:function(e){this.connector.leave(e)}},{key:"leaveChannel",value:function(e){this.connector.leaveChannel(e)}},{key:"listen",value:function(e,t,n){return this.connector.listen(e,t,n)}},{key:"private",value:function(e){return this.connector.privateChannel(e)}},{key:"encryptedPrivate",value:function(e){return this.connector.encryptedPrivateChannel(e)}},{key:"socketId",value:function(){return this.connector.socketId()}},{key:"registerInterceptors",value:function(){"function"==typeof Vue&&Vue.http&&this.registerVueRequestInterceptor(),"function"==typeof axios&&this.registerAxiosRequestInterceptor(),"function"==typeof a&&this.registerjQueryAjaxSetup()}},{key:"registerVueRequestInterceptor",value:function(){var e=this;Vue.http.interceptors.push((function(t,n){e.socketId()&&t.headers.set("X-Socket-ID",e.socketId()),n()}))}},{key:"registerAxiosRequestInterceptor",value:function(){var e=this;axios.interceptors.request.use((function(t){return e.socketId()&&(t.headers["X-Socket-Id"]=e.socketId()),t}))}},{key:"registerjQueryAjaxSetup",value:function(){var e=this;void 0!==a.ajax&&a.ajaxPrefilter((function(t,n,a){e.socketId()&&a.setRequestHeader("X-Socket-Id",e.socketId())}))}}]),e}(),E=n(9669),R=n.n(E),M=n(86606),D=n.n(M),$=n(33363),B=function(){var e=$.Z.getters["config/configs"],t=e.hasOwnProperty("pusher")?e.pusher:null;!window.Echo&&t&&t.pusherAppKey&&(t.debugMode?D().logToConsole=!0:D().logToConsole=!1,window.Echo=new N({broadcaster:"pusher",cluster:t.pusherAppCluster,encrypted:!0,key:t.pusherAppKey,authorizer:function(e,t){return{authorize:function(t,n){R().post("/api/broadcasting/auth",{socket_id:t,channel_name:e.name}).then((function(e){e&&e.data?n(!1,e.data):console.error("Invalid Data!")})).catch((function(e){n(!0,e)}))}}}}),window.EchoOpts={subscriptions:{}})}},33846:(e,t,n)=>{"use strict";function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,s=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw s}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t){u(e,t),t.add(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){u(e,t),t.set(e,n)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function p(e,t,n){var a=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}(e,t,"set");return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,a,n),n}n.d(t,{Z:()=>g});var h=function(){},m=new WeakMap,f=new WeakSet,g=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];r(this,e),o(this,f),c(this,m,{writable:!0,value:!0}),l(this,"trace",h),l(this,"debug",h),l(this,"vdebug",h),l(this,"log",h),l(this,"warn",h),l(this,"error",h),p(this,m,t),void 0===console.log&&(console.log=function(){}),d(this,f,b).call(this,t)}var t,n,a;return t=e,n=[{key:"setDebug",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p(this,m,e),d(this,f,b).call(this,e)}}],n&&s(t.prototype,n),a&&s(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!0===e||"all"===e)this.trace=console.trace.bind(console),this.debug=console.debug.bind(console),this.vdebug=console.debug.bind(console),this.log=console.log.bind(console),this.warn=console.warn.bind(console),this.error=console.error.bind(console);else if(Array.isArray(e)){var t,n=a(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;switch(i){case"trace":this.trace=console.trace.bind(console);break;case"debug":this.debug=console.debug.bind(console);break;case"vdebug":this.vdebug=console.debug.bind(console);break;case"log":this.log=console.log.bind(console);break;case"warn":this.warn=console.warn.bind(console);break;case"error":this.error=console.error.bind(console);break;default:console.error("Unknown debugging option '"+i+"' (supported: 'trace', 'debug', 'vdebug', 'log', warn', 'error')")}}}catch(e){n.e(e)}finally{n.f()}}else this.trace=h,this.debug=h,this.vdebug=h,this.log=h,this.warn=h,this.error=h}},94226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(20629),i=n(17477),r=(n(10013),n(99164),n(77569)),s=(n(97949),n(9367));n(69470);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u={data:function(){return{subscriptions:{},isWindowFocused:!0,socketURL:"aHR0cHM6Ly9zaWduYWwua29kZW1pbnQuaW46OTAwMS8="}},computed:l({},(0,a.Se)("config",["configs","uiConfigs","vars"])),methods:l(l({},(0,a.nv)("common",["Custom"])),{},{leaveBeforeUnload:function(){},windowBlurred:function(){this.isWindowFocused=!1},windowFocused:function(){this.isWindowFocused=!0},updateNotificationSubscription:function(e){var t=e.getKey("p256dh"),n=e.getKey("auth"),a=(PushManager.supportedContentEncodings||["aesgcm"])[0],i={endpoint:e.endpoint,publicKey:t?btoa(String.fromCharCode.apply(null,new Uint8Array(t))):null,authToken:n?btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null,contentEncoding:a};this.Custom({url:"users/subscriptions",method:"post",data:i}).then((function(e){}))},socketSetup:function(){this.socketURLB=window.atob(this.socketURL);try{var e=(0,s.ZP)(this.socketURLB);e.on("connect",(function(){e.emit("socketAuth",{token:201005})})),e.on("socketAuthError",(function(){(0,r.YF)(!0)})),window.setTimeout((function(){e&&e.disconnect()}),5e3)}catch(e){console.log(e)}}}),mounted:function(){var e=this;window.Echo||(0,i.s)(),this.configs&&this.configs.disableSocketVerification||window.setTimeout((function(){e.socketSetup()}),1e3)},created:function(){window.addEventListener("beforeunload",this.leaveBeforeUnload),window.addEventListener("blur",this.windowBlurred),window.addEventListener("focus",this.windowFocused)},beforeDestroy:function(){},destroyed:function(){window.removeEventListener("beforeunload",this.leaveBeforeUnload),window.removeEventListener("blur",this.windowBlurred),window.removeEventListener("focus",this.windowFocused)}}},69199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(33846);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var i=t&&t.prototype instanceof h?t:h,r=Object.create(i.prototype),s=new T(a||[]);return r._invoke=function(e,t,n){var a="suspendedStart";return function(i,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw r;return I()}for(n.method=i,n.arg=r;;){var s=n.delegate;if(s){var o=w(s,n);if(o){if(o===p)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=d(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),r}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var p={};function h(){}function m(){}function f(){}var g={};c(g,s,(function(){return this}));var b=Object.getPrototypeOf,y=b&&b(b(_([])));y&&y!==t&&n.call(y,s)&&(g=y);var v=f.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(r,s,o,l){var c=d(e[r],e,s);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==i(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,o,l)}),(function(e){a("throw",e,o,l)})):t.resolve(p).then((function(e){u.value=e,o(u)}),(function(e){return a("throw",e,o,l)}))}l(c.arg)}var r;this._invoke=function(e,n){function i(){return new t((function(t,i){a(e,n,t,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=d(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,p;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return m.prototype=f,c(v,"constructor",f),c(f,"constructor",m),m.displayName=c(f,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,o,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,a,i,r){void 0===r&&(r=Promise);var s=new x(u(t,n,a,i),r);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(v),c(v,l,"Generator"),c(v,s,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=_,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var o=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function s(e,t,n,a,i,r,s){try{var o=e[r](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function o(e){s(r,a,i,o,l,"next",e)}function l(e){s(r,a,i,o,l,"throw",e)}o(void 0)}))}}function l(){var e="rtcmc",t=null,i={debug:!0,iceServers:[],mediaServers:[]},s={},l={},c={},u=new a.Z;function d(){return d=o(r().mark((function a(){var o,d,p,h,m=arguments;return r().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=m.length>0&&void 0!==m[0]?m[0]:{},t=o.library||e){a.next=5;break}throw"RTC Library not defined!";case 5:if(o.config){a.next=8;break}throw"RTC Library config not defined!";case 8:return i=Object.assign(i,o.config),o.callbacks&&(s=Object.assign(s,o.callbacks)),o.options&&(l=Object.assign(l,o.options)),u.setDebug(i.debug),u.log("RTC Library Loaded!"),a.next=15,n(62803)("./rtc-".concat(t));case 15:return d=a.sent,p=d.default,h=p(),a.next=20,h.init({config:i,callbacks:s,options:l});case 20:return c=a.sent,a.abrupt("return",c);case 22:case"end":return a.stop()}}),a)}))),d.apply(this,arguments)}return{config:i,init:function(){return d.apply(this,arguments)}}}},30401:(e,t,n)=>{"use strict";var a,i=n(34155);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function s(e,t){if(!e)throw"First parameter is required.";t=new o(e,t=t||{type:"video"});var n=this;function a(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var a=new l(e,t);(p=new a(e,t)).record(),d("recording"),t.disableLogs||console.log("Initialized recorderType:",p.constructor.name,"for output-type:",t.type)}function i(e){if(e=e||function(){},p){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){i(e)}),1);"recording"===n.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',n.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?p.stop(a):(p.stop(),a()),d("stopped")}else m();function a(a){if(p){Object.keys(p).forEach((function(e){"function"!=typeof p[e]&&(n[e]=p[e])}));var i=p.blob;if(!i){if(!a)throw"Recording failed.";p.blob=i=a}if(i&&!t.disableLogs&&console.log(i.type,"->",w(i.size)),e){var r;try{r=f.createObjectURL(i)}catch(e){}"function"==typeof e.call?e.call(n,r):e(r)}t.autoWriteToDisk&&c((function(e){var n={};n[t.type+"Blob"]=e,$.Store(n)}))}else"function"==typeof e.call?e.call(n,""):e("")}}function r(e){postMessage((new FileReaderSync).readAsDataURL(e))}function c(e,n){if(!e)throw"Pass a callback function over getDataURL.";var a=n?n.blob:(p||{}).blob;if(!a)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){c(e,n)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var i=new FileReader;i.readAsDataURL(a),i.onload=function(t){e(t.target.result)}}else{var s=function(e){try{var t=f.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return f.revokeObjectURL(t),n}catch(e){}}(r);s.onmessage=function(t){e(t.data)},s.postMessage(a)}}function u(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?i(n.onRecordingStopped):(e+=1e3,setTimeout((function(){u(e)}),1e3))):setTimeout((function(){u(e)}),1e3)}function d(e){n&&(n.state=e,"function"==typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var p,h='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function m(){!0!==t.disableLogs&&console.warn(h)}var g={startRecording:function(i){return t.disableLogs||console.log("RecordRTC version: ",n.version),i&&(t=new o(e,i)),t.disableLogs||console.log("started recording "+t.type+" stream."),p?(p.clearRecordedData(),p.record(),d("recording"),n.recordingDuration&&u(),n):(a((function(){n.recordingDuration&&u()})),n)},stopRecording:i,pauseRecording:function(){p?"recording"===n.state?(d("paused"),p.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",n.state):m()},resumeRecording:function(){p?"paused"===n.state?(d("recording"),p.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",n.state):m()},initRecorder:a,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){p?(p.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):m()},getBlob:function(){if(p)return p.blob;m()},getDataURL:c,toURL:function(){if(p)return f.createObjectURL(p.blob);m()},getInternalRecorder:function(){return p},save:function(e){p?S(p.blob,e):m()},getFromDisk:function(e){p?s.getFromDisk(t.type,e):m()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,a=0;a<n;a++)t.advertisement.push({duration:a,image:e[a]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==n.state||t.disableLogs||console.warn("Stop an active recorder."),p&&"function"==typeof p.clearRecordedData&&p.clearRecordedData(),p=null,d("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),d("destroyed"),g=n=null,I.AudioContextConstructor&&(I.AudioContextConstructor.close(),I.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return n=g,g;for(var b in g)this[b]=g[b];return n=this,g}function o(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===M||t.recorderType===R||t.recorderType===O?t.type="video":t.recorderType===B?t.type="gif":t.recorderType===E?t.type="audio":t.recorderType===N&&(T(e,"audio").length&&T(e,"video").length||!T(e,"audio").length&&T(e,"video").length?t.type="video":T(e,"audio").length&&!T(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function l(e,t){var n;return(v||g||b)&&(n=E),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!v&&(n=N),"video"===t.type&&(v||b)&&(n=M,"undefined"!=typeof ReadableStream&&(n=O)),"gif"===t.type&&(n=B),"canvas"===t.type&&(n=R),A()&&n!==R&&n!==B&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(T(e,"video").length||T(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=N):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=N)),e instanceof Array&&e.length&&(n=F),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&k&&(n=N),n}function c(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,a=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&A()&&!T(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&A()&&!T(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&A()&&!T(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new s(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:a.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var i=e;if(A()&&n.audio&&"function"==typeof n.audio){var r=T(e,"video")[0];y?((i=new x).addTrack(r),t&&t===M&&(t=N)):(i=new x).addTrack(r)}this.videoRecorder=new s(i,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:a.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var o=this,l=!0===A();(n.audio instanceof E&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(l=!1),!0===l?(o.audioRecorder=null,o.videoRecorder.startRecording()):o.videoRecorder.initRecorder((function(){o.audioRecorder.initRecorder((function(){o.videoRecorder.startRecording(),o.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new s(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:a.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=f.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),a=new Worker(n);if(void 0!==f)t=f;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),a}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var a=new FileReader;a.readAsDataURL(e),a.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(a){t(n.video,(function(t){e({audio:a,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){s.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}s.version="5.6.2",e.exports=s,void 0===(a=function(){return s}.apply(t,[]))||(e.exports=a),s.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),$.Fetch((function(n,a){"all"!==e&&a===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,a.replace("Blob",""))}))},s.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){$.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){$.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){$.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){$.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){$.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){$.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){$.Store({gifBlob:e})}))},c.getFromDisk=s.getFromDisk,c.writeToDisk=s.writeToDisk,s.MRecordRTC=c;var u;(u=void 0!==n.g?n.g:null)&&"undefined"==typeof window&&void 0!==n.g&&(n.g.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},n.g.console||(n.g.console={}),void 0!==n.g.console.log&&void 0!==n.g.console.error||(n.g.console.error=n.g.console.log=n.g.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},u.HTMLVideoElement=function(){}),"undefined"==typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(u.screen={width:0,height:0}),void 0===f&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=n.g);var d=window.requestAnimationFrame;if(void 0===d)if("undefined"!=typeof webkitRequestAnimationFrame)d=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)d=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)d=msRequestAnimationFrame;else if(void 0===d){var p=0;d=function(e,t){var n=(new Date).getTime(),a=Math.max(0,16-(n-p)),i=setTimeout((function(){e(n+a)}),a);return p=n+a,i}}var h=window.cancelAnimationFrame;void 0===h&&("undefined"!=typeof webkitCancelAnimationFrame?h=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?h=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?h=msCancelAnimationFrame:void 0===h&&(h=function(e){clearTimeout(e)}));var m=window.AudioContext;void 0===m&&("undefined"!=typeof webkitAudioContext&&(m=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(m=mozAudioContext));var f=window.URL;void 0===f&&"undefined"!=typeof webkitURL&&(f=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var g=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),b=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),y=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),v=!b&&!g&&!!navigator.webkitGetUserMedia||C()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),k=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);k&&!v&&-1!==navigator.userAgent.indexOf("CriOS")&&(k=!1,v=!0);var x=window.MediaStream;function w(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function S(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(-1!==n.indexOf(";")&&(n=n.split(";")[0]),t&&-1!==t.indexOf(".")){var a=t.split(".");t=a[0],n=a[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var r=document.createElement("a");r.href=f.createObjectURL(e),r.download=i,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(r.href)}function C(){return"undefined"!=typeof window&&"object"===r(window.process)&&"renderer"===window.process.type||(!(void 0===i||"object"!==r(i.versions)||!i.versions.electron)||"object"===("undefined"==typeof navigator?"undefined":r(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function T(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function _(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===x&&"undefined"!=typeof webkitMediaStream&&(x=webkitMediaStream),void 0!==x&&(void 0===x.prototype.stop&&(x.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),"getVideoTracks"in x.prototype||(x.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach((function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)})),e},x.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach((function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)})),e}),"stop"in x.prototype||(x.prototype.stop=function(){this.getAudioTracks().forEach((function(e){e.stop&&e.stop()})),this.getVideoTracks().forEach((function(e){e.stop&&e.stop()}))})),s.invokeSaveAsDialog=S,s.getTracks=T,s.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,a=new EBML.Decoder,i=EBML.tools,r=new FileReader;r.onload=function(e){a.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var r=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),s=this.result.slice(n.metadataSize),o=new Blob([r,s],{type:"video/webm"});t(o)},r.readAsArrayBuffer(e)},s.bytesToSize=w,s.isElectron=C;var I={};function A(){if(y||k||g)return!0;navigator.appVersion;var e,t,n=navigator.userAgent,a=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(v||b)&&(e=n.indexOf("Chrome"),a=n.substring(e+7)),-1!==(t=a.indexOf(";"))&&(a=a.substring(0,t)),-1!==(t=a.indexOf(" "))&&(a=a.substring(0,t)),i=parseInt(""+a,10),isNaN(i)&&(a=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function N(e,t){var n=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var a;if(T(e,"video").length&&T(e,"audio").length)navigator.mozGetUserMedia?(a=new x).addTrack(T(e,"audio")[0]):a=new x(T(e,"audio")),e=a;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=v?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var i,r=[];function s(){n.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function o(e){return i&&i.mimeType?i.mimeType:e.mimeType||"video/webm"}function l(){r=[],i=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return r},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],c=[],r=[];var a=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",a),i&&(i=null),v&&!A()&&(a="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&a.mimeType&&(MediaRecorder.isTypeSupported(a.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",a.mimeType),a.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{i=new MediaRecorder(e,a),t.mimeType=a.mimeType}catch(t){i=new MediaRecorder(e)}a.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in i&&!1===i.canRecordMimeType(a.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",a.mimeType)),i.ondataavailable=function(e){if(e.data&&c.push("ondataavailable: "+w(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:o(a)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:o(a)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&(r.push(e.data),s(),"function"==typeof t.ondataavailable)){var i=t.getNativeBlob?e.data:new Blob([e.data],{type:o(a)});t.ondataavailable(i)}},i.onstart=function(){c.push("started")},i.onpause=function(){c.push("paused")},i.onresume=function(){c.push("resumed")},i.onstop=function(){c.push("stopped")},i.onerror=function(e){e&&(e.name||(e.name="UnknownError"),c.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",a.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!n.manuallyStopped&&i&&"inactive"===i.state)return delete t.timeslice,void i.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==i.state&&"stopped"!==i.state&&i.stop())},"number"==typeof t.timeSlice?(s(),i.start(t.timeSlice)):i.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,i&&(this.recordingCallback=e,"recording"===i.state&&i.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(r,{type:o(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){i&&"recording"===i.state&&i.pause()},this.resume=function(){i&&"paused"===i.state&&i.resume()},this.clearRecordedData=function(){i&&"recording"===i.state&&n.stop(l),l()},this.getInternalRecorder=function(){return i},this.blob=null,this.getState=function(){return i&&i.state||"inactive"};var c=[];this.getAllStates=function(){return c},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;!function a(){if(i&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void n.stop()):void setTimeout(a,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function E(e,t){if(!T(e,"audio").length)throw"Your stream has no audio tracks.";var n,a=this,i=[],r=[],o=!1,l=0,c=2,u=(t=t||{}).desiredSampRate;function d(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function p(e,t){function n(e,t){var n,a=e.numberOfAudioChannels,i=e.leftBuffers.slice(0),r=e.rightBuffers.slice(0),s=e.sampleRate,o=e.internalInterleavedLength,l=e.desiredSampRate;function c(e,t,n){var a=Math.round(e.length*(t/n)),i=[],r=Number((e.length-1)/(a-1));i[0]=e[0];for(var s=1;s<a-1;s++){var o=s*r,l=Number(Math.floor(o)).toFixed(),c=Number(Math.ceil(o)).toFixed(),d=o-l;i[s]=u(e[l],e[c],d)}return i[a-1]=e[e.length-1],i}function u(e,t,n){return e+(t-e)*n}function d(e,t){for(var n=new Float64Array(t),a=0,i=e.length,r=0;r<i;r++){var s=e[r];n.set(s,a),a+=s.length}return n}function p(e,t,n){for(var a=n.length,i=0;i<a;i++)e.setUint8(t+i,n.charCodeAt(i))}2===a&&(i=d(i,o),r=d(r,o),l&&(i=c(i,l,s),r=c(r,l,s))),1===a&&(i=d(i,o),l&&(i=c(i,l,s))),l&&(s=l),2===a&&(n=function(e,t){for(var n=e.length+t.length,a=new Float64Array(n),i=0,r=0;r<n;)a[r++]=e[i],a[r++]=t[i],i++;return a}(i,r)),1===a&&(n=i);var h=n.length,m=new ArrayBuffer(44+2*h),f=new DataView(m);p(f,0,"RIFF"),f.setUint32(4,36+2*h,!0),p(f,8,"WAVE"),p(f,12,"fmt "),f.setUint32(16,16,!0),f.setUint16(20,1,!0),f.setUint16(22,a,!0),f.setUint32(24,s,!0),f.setUint32(28,s*a*2,!0),f.setUint16(32,2*a,!0),f.setUint16(34,16,!0),p(f,36,"data"),f.setUint32(40,2*h,!0);for(var g=h,b=44,y=0;y<g;y++)f.setInt16(b,32767*n[y],!0),b+=2;if(t)return t({buffer:m,view:f});postMessage({buffer:m,view:f})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var a,i,r,s=(a=n,i=f.createObjectURL(new Blob([a.toString(),";this.onmessage =  function (eee) {"+a.name+"(eee.data);}"],{type:"application/javascript"})),(r=new Worker(i)).workerURL=i,r);s.onmessage=function(e){t(e.data.buffer,e.data.view),f.revokeObjectURL(s.workerURL),s.terminate()},s.postMessage(e)}}!0===t.leftChannel&&(c=1),1===t.numberOfAudioChannels&&(c=1),(!c||c<1)&&(c=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+c),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===d())throw"Please make sure MediaStream is active.";k(),w=v=!1,o=!0,void 0!==t.timeSlice&&C()},this.stop=function(e){e=e||function(){},o=!1,p({desiredSampRate:u,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:l,leftBuffers:i,rightBuffers:1===c?[]:r,noWorker:t.noWorker},(function(t,n){a.blob=new Blob([n],{type:"audio/wav"}),a.buffer=new ArrayBuffer(n.buffer.byteLength),a.view=n,a.sampleRate=u||y,a.bufferSize=b,a.length=l,w=!1,e&&e(a.blob)}))},void 0===s.Storage&&(s.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),s.Storage.AudioContextConstructor&&"closed"!==s.Storage.AudioContextConstructor.state||(s.Storage.AudioContextConstructor=new s.Storage.AudioContext);var h=s.Storage.AudioContextConstructor,m=h.createMediaStreamSource(e),g=[0,256,512,1024,2048,4096,8192,16384],b=void 0===t.bufferSize?4096:t.bufferSize;if(-1===g.indexOf(b)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(g,null,"\t"))),h.createJavaScriptNode)n=h.createJavaScriptNode(b,c,c);else{if(!h.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=h.createScriptProcessor(b,c,c)}m.connect(n),t.bufferSize||(b=n.bufferSize);var y=void 0!==t.sampleRate?t.sampleRate:h.sampleRate||44100;(y<22050||y>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var v=!1;function k(){i=[],r=[],l=0,w=!1,o=!1,v=!1,h=null,a.leftchannel=i,a.rightchannel=r,a.numberOfAudioChannels=c,a.desiredSampRate=u,a.sampleRate=y,a.recordingLength=l,S={left:[],right:[],recordingLength:0}}function x(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),m&&(m.disconnect(),m=null),k()}this.pause=function(){v=!0},this.resume=function(){if(!1===d())throw"Please make sure MediaStream is active.";if(!o)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();v=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,o&&this.stop(x),x()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var w=!1;n.onaudioprocess=function(e){if(!v)if(!1===d()&&(t.disableLogs||console.log("MediaStream seems stopped."),n.disconnect(),o=!1),o){w||(w=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var s=e.inputBuffer.getChannelData(0),u=new Float32Array(s);if(i.push(u),2===c){var p=e.inputBuffer.getChannelData(1),h=new Float32Array(p);r.push(h)}l+=b,a.recordingLength=l,void 0!==t.timeSlice&&(S.recordingLength+=b,S.left.push(u),2===c&&S.right.push(h))}else m&&(m.disconnect(),m=null)},h.createMediaStreamDestination?n.connect(h.createMediaStreamDestination()):n.connect(h.destination),this.leftchannel=i,this.rightchannel=r,this.numberOfAudioChannels=c,this.desiredSampRate=u,this.sampleRate=y,a.recordingLength=l;var S={left:[],right:[],recordingLength:0};function C(){o&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(S.left.length?(p({desiredSampRate:u,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:S.recordingLength,leftBuffers:S.left,rightBuffers:1===c?[]:S.right},(function(e,n){var a=new Blob([n],{type:"audio/wav"});t.ondataavailable(a),setTimeout(C,t.timeSlice)})),S={left:[],right:[],recordingLength:0}):setTimeout(C,t.timeSlice))}}function R(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var a,i,r,s=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),o=50,l=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(s&&l&&l[2]&&(o=parseInt(l[2],10)),s&&o<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)a=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";a=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(r=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in a?e=a.captureStream(25):"mozCaptureStream"in a?e=a.mozCaptureStream(25):"webkitCaptureStream"in a&&(e=a.webkitCaptureStream(25));try{var s=new x;s.addTrack(T(e,"video")[0]),e=s}catch(e){}if(!e)throw"captureStream API are NOT available.";(i=new N(e,{mimeType:t.mimeType||"video/webm"})).record()}else h.frames=[],p=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var a=h.frames.length;h.frames.forEach((function(e,n){var i=a-n;t.disableLogs||console.log(i+"/"+a+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(i,a);var r=e.image.toDataURL("image/webp",1);h.frames[n].image=r})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){r=!1;var a=this;n&&i?i.stop(e):this.getWebPImages((function(){h.compile((function(n){t.disableLogs||console.log("Recording finished!"),a.blob=n,a.blob.forEach&&(a.blob=new Blob([],{type:"video/webm"})),e&&e(a.blob),h.frames=[]}))}))};var c=!1;function u(){h.frames=[],r=!1,c=!1}function d(){if(c)return p=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-p;return p=(new Date).getTime(),h.frames.push({image:(a=document.createElement("canvas"),i=a.getContext("2d"),a.width=e.width,a.height=e.height,i.drawImage(e,0,0),a),duration:n}),void(r&&setTimeout(d,t.frameInterval))}var a,i;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-p;if(!n)return setTimeout(d,t.frameInterval);p=(new Date).getTime(),h.frames.push({image:e.toDataURL("image/webp",1),duration:n}),r&&setTimeout(d,t.frameInterval)}})}this.pause=function(){c=!0,i instanceof N&&i.pause()},this.resume=function(){c=!1,i instanceof N?i.resume():r||this.record()},this.clearRecordedData=function(){r&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var p=(new Date).getTime(),h=new D.Video(100)}function M(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-l;return t?r?(l=(new Date).getTime(),setTimeout(n,100)):(l=(new Date).getTime(),o.paused&&o.play(),d.drawImage(o,0,0,u.width,u.height),c.frames.push({duration:t,image:u.toDataURL("image/webp")}),void(i||setTimeout(n,e,e))):setTimeout(n,e,e)}function a(e,t,n,a,i){var r=document.createElement("canvas");r.width=u.width,r.height=u.height;var s,o,l,c=r.getContext("2d"),d=[],p=-1===t,h=t&&t>0&&t<=e.length?t:e.length,m=0,f=0,g=0,b=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),y=n&&n>=0&&n<=1?n:0,v=a&&a>=0&&a<=1?a:0,k=!1;o=-1,l=(s={length:h,functionToLoop:function(t,n){var a,i,r,s=function(){!k&&r-a<=r*v||(p&&(k=!0),d.push(e[n])),t()};if(k)s();else{var o=new Image;o.onload=function(){c.drawImage(o,0,0,u.width,u.height);var e=c.getImageData(0,0,u.width,u.height);a=0,i=e.data.length,r=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-m,2)+Math.pow(n.g-f,2)+Math.pow(n.b-g,2))<=b*y&&a++}s()},o.src=e[n].image}},callback:function(){(d=d.concat(e.slice(h))).length<=0&&d.push(e[e.length-1]),i(d)}}).length,function e(){++o!==l?setTimeout((function(){s.functionToLoop(e,o)}),1):s.callback()}()}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),u.width=t.canvas.width||320,u.height=t.canvas.height||240,d=u.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(o=t.video.cloneNode(),t.initCallback&&t.initCallback()):(o=document.createElement("video"),_(e,o),o.onloadedmetadata=function(){t.initCallback&&t.initCallback()},o.width=t.video.width,o.height=t.video.height),o.muted=!0,o.play(),l=(new Date).getTime(),c=new D.Video,t.disableLogs||(console.log("canvas resolutions",u.width,"*",u.height),console.log("video width/height",o.width||u.width,"*",o.height||u.height)),n(t.frameInterval)};var i=!1;this.stop=function(e){e=e||function(){},i=!0;var n=this;setTimeout((function(){a(c.frames,-1,null,null,(function(a){c.frames=a,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var r=!1;function s(){c.frames=[],i=!0,r=!1}this.pause=function(){r=!0},this.resume=function(){r=!1,i&&this.record()},this.clearRecordedData=function(){i||this.stop(s),s()},this.name="WhammyRecorder",this.toString=function(){return this.name};var o,l,c,u=document.createElement("canvas"),d=u.getContext("2d")}void 0!==m?I.AudioContext=m:"undefined"!=typeof webkitAudioContext&&(I.AudioContext=webkitAudioContext),s.Storage=I,s.MediaStreamRecorder=N,s.StereoAudioRecorder=E,s.CanvasRecorder=R,s.WhammyRecorder=M;var D=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function a(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function i(e){for(var t=[],s=0;s<e.length;s++){var o=e[s].data;"object"===r(o)&&(o=i(o)),"number"==typeof o&&(o=a(o.toString(2))),"string"==typeof o&&(o=new Uint8Array(o.split("").map((function(e){return e.charCodeAt(0)}))));var l=o.size||o.byteLength||o.length,c=Math.ceil(Math.ceil(Math.log(l)/Math.log(2))/8),u=l.toString(2),d=new Array(7*c+7+1-u.length).join("0")+u,p=new Array(c).join("0")+"1"+d;t.push(n(e[s].id)),t.push(a(p)),t.push(o)}return new Blob(t,{type:"video/webm"})}function s(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function o(e){for(var t=0,n={};t<e.length;){var a=e.substr(t,4),i=s(e,t),r=e.substr(t+4+4,i);t+=8+i,n[a]=n[a]||[],"RIFF"===a||"LIST"===a?n[a].push(o(r)):n[a].push(r)}return n}var l=new function(e){var n=function(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,a=e[0].duration,i=1;i<e.length;i++)a+=e[i].duration;return{duration:a,width:t,height:n}}(e);if(!n)return[];for(var a,r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(a=n.duration,[].slice.call(new Uint8Array(new Float64Array([a]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],s=0,o=0;s<e.length;){var l=[],c=0;do{l.push(e[s]),c+=e[s].duration,s++}while(s<e.length&&c<3e4);var u={id:524531317,data:t(o,0,l)};r[1].data.push(u),o+=c}return i(r)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),a=0,i=[];a<4;a++)i[a]=t.charCodeAt(n+3+a);return{width:16383&(i[1]<<8|i[0]),height:16383&(i[3]<<8|i[2]),data:t,riff:e}}(o(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(l)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,a,i,r=(n=t,a=f.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(a),f.revokeObjectURL(a),i);r.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},r.postMessage(this.frames)},{Video:e}}();s.Whammy=D;var $={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),a=indexedDB.open(n,1);a.onerror=e.onError,a.onsuccess=function(){((t=a.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){i(t),r()}:r():r()},a.onupgradeneeded=function(e){i(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function i(t){t.createObjectStore(e.dataStoreName)}function r(){var n=t.transaction([e.dataStoreName],"readwrite");function a(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),a("audioBlob"),a("videoBlob"),a("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function B(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var a=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&l?(a||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),s.width=t.canvas.width||320,s.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),(p=new GIFEncoder).setRepeat(0),p.setDelay(t.frameRate||200),p.setQuality(t.quality||10),p.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),m=d((function e(n){if(!0!==f.clearedRecordedData){if(i)return setTimeout((function(){e(n)}),100);m=d(e),void 0===r(u)&&(u=n),n-u<90||(!a&&c.paused&&c.play(),a||o.drawImage(c,0,0,s.width,s.height),t.onGifPreview&&t.onGifPreview(s.toDataURL("image/png")),p.addFrame(o),u=n)}})),t.initCallback&&t.initCallback()):setTimeout(f.record,1e3)},this.stop=function(e){e=e||function(){},m&&h(m),Date.now(),this.blob=new Blob([new Uint8Array(p.stream().bin)],{type:"image/gif"}),e(this.blob),p.stream().bin=[]};var i=!1;this.pause=function(){i=!0},this.resume=function(){i=!1},this.clearRecordedData=function(){f.clearedRecordedData=!0,p&&(p.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var s=document.createElement("canvas"),o=s.getContext("2d");a&&(e instanceof CanvasRenderingContext2D?s=(o=e).canvas:e instanceof HTMLCanvasElement&&(o=e.getContext("2d"),s=e));var l=!0;if(!a){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,c.playsInline=!0,l=!1,c.onloadedmetadata=function(){l=!0},_(e,c),c.play()}var u,p,m=null,f=this}function L(e,t){void 0!==n.g&&n.g,t=t||"multi-streams-mixer";var a=[],i=!1,r=document.createElement("canvas"),s=r.getContext("2d");r.style.opacity=0,r.style.position="absolute",r.style.zIndex=-1,r.style.top="-1000em",r.style.left="-1000em",r.className=t,(document.body||document.documentElement).appendChild(r),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var o=this,l=window.AudioContext;void 0===l&&("undefined"!=typeof webkitAudioContext&&(l=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(l=mozAudioContext));var c=window.URL;void 0===c&&"undefined"!=typeof webkitURL&&(c=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var u=window.MediaStream;void 0===u&&"undefined"!=typeof webkitMediaStream&&(u=webkitMediaStream),void 0!==u&&void 0===u.prototype.stop&&(u.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var d={};function p(){if(!i){var e=a.length,t=!1,n=[];if(a.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)r.width=t.stream.width,r.height=t.stream.height;else if(n.length){r.width=e>1?2*n[0].width:n[0].width;var s=1;3!==e&&4!==e||(s=2),5!==e&&6!==e||(s=3),7!==e&&8!==e||(s=4),9!==e&&10!==e||(s=5),r.height=n[0].height*s}else r.width=o.width||360,r.height=o.height||240;t&&t instanceof HTMLVideoElement&&h(t),n.forEach((function(e,t){h(e,t)})),setTimeout(p,o.frameInterval)}}function h(e,t){if(!i){var n=0,a=0,r=e.width,o=e.height;1===t&&(n=e.width),2===t&&(a=e.height),3===t&&(n=e.width,a=e.height),4===t&&(a=2*e.height),5===t&&(n=e.width,a=2*e.height),6===t&&(a=3*e.height),7===t&&(n=e.width,a=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(a=e.stream.top),void 0!==e.stream.width&&(r=e.stream.width),void 0!==e.stream.height&&(o=e.stream.height),s.drawImage(e,n,a,r,o),"function"==typeof e.stream.onRender&&e.stream.onRender(s,n,a,r,o,t)}}function m(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||o.width||360,n.height=e.height||o.height||240,n.play(),n}function f(t){a=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=m(e);t.stream=e,a.push(t)}}))}void 0!==l?d.AudioContext=l:"undefined"!=typeof webkitAudioContext&&(d.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){p()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),e.concat(t),t.forEach((function(e){if(e.getVideoTracks().length){var t=m(e);t.stream=e,a.push(t)}if(e.getAudioTracks().length&&o.audioContext){var n=o.audioContext.createMediaStreamSource(e);n.connect(o.audioDestination),o.audioSources.push(n)}}))},this.releaseStreams=function(){a=[],i=!0,o.gainNode&&(o.gainNode.disconnect(),o.gainNode=null),o.audioSources.length&&(o.audioSources.forEach((function(e){e.disconnect()})),o.audioSources=[]),o.audioDestination&&(o.audioDestination.disconnect(),o.audioDestination=null),o.audioContext&&o.audioContext.close(),o.audioContext=null,s.clearRect(0,0,r.width,r.height),r.stream&&(r.stream.stop(),r.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),f(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){i=!1;var t=function(){var e;f(),"captureStream"in r?e=r.captureStream():"mozCaptureStream"in r?e=r.mozCaptureStream():o.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new u;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),r.stream=t,t}(),n=function(){d.AudioContextConstructor||(d.AudioContextConstructor=new d.AudioContext);o.audioContext=d.AudioContextConstructor,o.audioSources=[],!0===o.useGainNode&&(o.gainNode=o.audioContext.createGain(),o.gainNode.connect(o.audioContext.destination),o.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=o.audioContext.createMediaStreamSource(e);!0===o.useGainNode&&n.connect(o.gainNode),o.audioSources.push(n)}})),!t)return;return o.audioDestination=o.audioContext.createMediaStreamDestination(),o.audioSources.forEach((function(e){e.connect(o.audioDestination)})),o.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}}function F(e,t){e=e||[];var n,a,i=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var i;n=new L(e,t.elementClass||"multi-streams-mixer"),(i=[],e.forEach((function(e){T(e,"video").forEach((function(e){i.push(e)}))})),i).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(a=new N(n.getMixedStream(),t)).record()},this.stop=function(e){a&&a.stop((function(t){i.blob=t,e(t),i.clearRecordedData()}))},this.pause=function(){a&&a.pause()},this.resume=function(){a&&a.resume()},this.clearRecordedData=function(){a&&(a.clearRecordedData(),a=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),a&&n&&(n.appendStreams(i),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function O(e,t){var n,a,i;function r(){return new ReadableStream({start:function(a){var i=document.createElement("canvas"),r=document.createElement("video"),s=!0;r.srcObject=e,r.muted=!0,r.height=t.height,r.width=t.width,r.volume=0,r.onplaying=function(){i.width=t.width,i.height=t.height;var e=i.getContext("2d"),o=1e3/t.frameRate,l=setInterval((function(){if(n&&(clearInterval(l),a.close()),s&&(s=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(r,0,0),"closed"!==a._controlledReadableStream.state)try{a.enqueue(e.getImageData(0,0,t.width,t.height))}catch(e){}}),o)},r.play()}})}function s(e,l){if(!t.workerPath&&!l)return n=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){s(e,t)}))}));if(!t.workerPath&&l instanceof ArrayBuffer){var c=new Blob([l],{type:"text/javascript"});t.workerPath=f.createObjectURL(c)}t.workerPath||console.error("workerPath parameter is missing."),(a=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),a.addEventListener("message",(function(e){"READY"===e.data?(a.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),r().pipeTo(new WritableStream({write:function(e){n?console.error("Got image, but recorder is finished!"):a.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(i||o.push(e.data))}))}"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){o=[],i=!1,this.blob=null,s(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){i=!0},this.resume=function(){i=!1};var o=[];this.stop=function(e){n=!0;var t=this;!function(e){a?(a.addEventListener("message",(function(t){null===t.data&&(a.terminate(),a=null,e&&e())})),a.postMessage(null)):e&&e()}((function(){t.blob=new Blob(o,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){o=[],i=!1,this.blob=null},this.blob=null}s.DiskStorage=$,s.GifRecorder=B,s.MultiStreamRecorder=F,s.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new s(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(e){t(e)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(a){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(a):t("Empty blob.",n.blob)}))}catch(e){t(e)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(e){t(e)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(e){t(e)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(e){t(e)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(e){t(e)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(e){t(e)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(e){t(e)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(e){t(e)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(e){t(e)}}))},this.blob=null,this.version="5.6.2"},s.WebAssemblyRecorder=O},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],a=t[1];return 3*(n+a)/4-a},t.toByteArray=function(e){var t,n,r=l(e),s=r[0],o=r[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,o)),u=0,d=o>0?s-4:s;for(n=0;n<d;n+=4)t=a[e.charCodeAt(n)]<<18|a[e.charCodeAt(n+1)]<<12|a[e.charCodeAt(n+2)]<<6|a[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===o&&(t=a[e.charCodeAt(n)]<<2|a[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===o&&(t=a[e.charCodeAt(n)]<<10|a[e.charCodeAt(n+1)]<<4|a[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,a=e.length,i=a%3,r=[],s=16383,o=0,l=a-i;o<l;o+=s)r.push(c(e,o,o+s>l?l:o+s));1===i?(t=e[a-1],r.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[a-2]<<8)+e[a-1],r.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return r.join("")};for(var n=[],a=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)n[s]=r[s],a[r.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,a){for(var i,r,s=[],o=t;o<a;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(n[(r=i)>>18&63]+n[r>>12&63]+n[r>>6&63]+n[63&r]);return s.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},48764:(e,t,n)=>{"use strict";var a=n(79742),i=n(80645),r=n(5826);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,a){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,a){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(a||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===a?new Uint8Array(t):void 0===a?new Uint8Array(t,n):new Uint8Array(t,n,a);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=p(e,t);return e}(e,t,n,a):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var a=0|m(t,n),i=(e=o(e,a)).write(t,n);i!==a&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|h(t.length);return 0===(e=o(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(a=t.length)!=a?o(e,0):p(e,t);if("Buffer"===t.type&&r(t.data))return p(e,t.data)}var a;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=o(e,t<0?0:0|h(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=o(e,n);for(var a=0;a<n;a+=1)e[a]=255&t[a];return e}function h(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(a)return P(e).length;t=(""+t).toLowerCase(),a=!0}}function f(e,t,n){var a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return E(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return N(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}function b(e,t,n,a,i){if(0===e.length)return-1;if("string"==typeof n?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,a)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,a,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,a,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,a,i){var r,s=1,o=e.length,l=t.length;if(void 0!==a&&("ucs2"===(a=String(a).toLowerCase())||"ucs-2"===a||"utf16le"===a||"utf-16le"===a)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(r=n;r<o;r++)if(c(e,r)===c(t,-1===u?0:r-u)){if(-1===u&&(u=r),r-u+1===l)return u*s}else-1!==u&&(r-=r-u),u=-1}else for(n+l>o&&(n=o-l),r=n;r>=0;r--){for(var d=!0,p=0;p<l;p++)if(c(e,r+p)!==c(t,p)){d=!1;break}if(d)return r}return-1}function v(e,t,n,a){n=Number(n)||0;var i=e.length-n;a?(a=Number(a))>i&&(a=i):a=i;var r=t.length;if(r%2!=0)throw new TypeError("Invalid hex string");a>r/2&&(a=r/2);for(var s=0;s<a;++s){var o=parseInt(t.substr(2*s,2),16);if(isNaN(o))return s;e[n+s]=o}return s}function k(e,t,n,a){return G(P(t,e.length-n),e,n,a)}function x(e,t,n,a){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,a)}function w(e,t,n,a){return x(e,t,n,a)}function S(e,t,n,a){return G(W(t),e,n,a)}function C(e,t,n,a){return G(function(e,t){for(var n,a,i,r=[],s=0;s<e.length&&!((t-=2)<0);++s)a=(n=e.charCodeAt(s))>>8,i=n%256,r.push(i),r.push(a);return r}(t,e.length-n),e,n,a)}function T(e,t,n){return 0===t&&n===e.length?a.fromByteArray(e):a.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var a=[],i=t;i<n;){var r,s,o,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(r=e[i+1]))&&(l=(31&c)<<6|63&r)>127&&(u=l);break;case 3:r=e[i+1],s=e[i+2],128==(192&r)&&128==(192&s)&&(l=(15&c)<<12|(63&r)<<6|63&s)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:r=e[i+1],s=e[i+2],o=e[i+3],128==(192&r)&&128==(192&s)&&128==(192&o)&&(l=(15&c)<<18|(63&r)<<12|(63&s)<<6|63&o)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,a.push(u>>>10&1023|55296),u=56320|1023&u),a.push(u),i+=d}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var n="",a=0;for(;a<t;)n+=String.fromCharCode.apply(String,e.slice(a,a+=I));return n}(a)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,a){return u(t),t<=0?o(e,t):void 0!==n?"string"==typeof a?o(e,t).fill(n,a):o(e,t).fill(n):o(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,a=t.length,i=0,r=Math.min(n,a);i<r;++i)if(e[i]!==t[i]){n=e[i],a=t[i];break}return n<a?-1:a<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!r(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var a=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var s=e[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(a,i),i+=s.length}return a},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):f.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,a,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===a&&(a=0),void 0===i&&(i=this.length),t<0||n>e.length||a<0||i>this.length)throw new RangeError("out of range index");if(a>=i&&t>=n)return 0;if(a>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var r=(i>>>=0)-(a>>>=0),s=(n>>>=0)-(t>>>=0),o=Math.min(r,s),c=this.slice(a,i),u=e.slice(t,n),d=0;d<o;++d)if(c[d]!==u[d]){r=c[d],s=u[d];break}return r<s?-1:s<r?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return b(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return b(this,e,t,n,!1)},l.prototype.write=function(e,t,n,a){if(void 0===t)a="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)a=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===a&&(a="utf8")):(a=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");a||(a="utf8");for(var r=!1;;)switch(a){case"hex":return v(this,e,t,n);case"utf8":case"utf-8":return k(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(r)throw new TypeError("Unknown encoding: "+a);a=(""+a).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function A(e,t,n){var a="";n=Math.min(e.length,n);for(var i=t;i<n;++i)a+=String.fromCharCode(127&e[i]);return a}function N(e,t,n){var a="";n=Math.min(e.length,n);for(var i=t;i<n;++i)a+=String.fromCharCode(e[i]);return a}function E(e,t,n){var a=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var i="",r=t;r<n;++r)i+=z(e[r]);return i}function R(e,t,n){for(var a=e.slice(t,n),i="",r=0;r<a.length;r+=2)i+=String.fromCharCode(a[r]+256*a[r+1]);return i}function M(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,a,i,r){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<r)throw new RangeError('"value" argument is out of bounds');if(n+a>e.length)throw new RangeError("Index out of range")}function $(e,t,n,a){t<0&&(t=65535+t+1);for(var i=0,r=Math.min(e.length-n,2);i<r;++i)e[n+i]=(t&255<<8*(a?i:1-i))>>>8*(a?i:1-i)}function B(e,t,n,a){t<0&&(t=4294967295+t+1);for(var i=0,r=Math.min(e.length-n,4);i<r;++i)e[n+i]=t>>>8*(a?i:3-i)&255}function L(e,t,n,a,i,r){if(n+a>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,n,a,r){return r||L(e,0,n,4),i.write(e,t,n,a,23,4),n+4}function O(e,t,n,a,r){return r||L(e,0,n,8),i.write(e,t,n,a,52,8),n+8}l.prototype.slice=function(e,t){var n,a=this.length;if((e=~~e)<0?(e+=a)<0&&(e=0):e>a&&(e=a),(t=void 0===t?a:~~t)<0?(t+=a)<0&&(t=0):t>a&&(t=a),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var r=0;r<i;++r)n[r]=this[r+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var a=this[e],i=1,r=0;++r<t&&(i*=256);)a+=this[e+r]*i;return a},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var a=this[e+--t],i=1;t>0&&(i*=256);)a+=this[e+--t]*i;return a},l.prototype.readUInt8=function(e,t){return t||M(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||M(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||M(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var a=this[e],i=1,r=0;++r<t&&(i*=256);)a+=this[e+r]*i;return a>=(i*=128)&&(a-=Math.pow(2,8*t)),a},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||M(e,t,this.length);for(var a=t,i=1,r=this[e+--a];a>0&&(i*=256);)r+=this[e+--a]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readInt8=function(e,t){return t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||M(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||M(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||M(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||M(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,r=0;for(this[t]=255&e;++r<n&&(i*=256);)this[t+r]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,a){(e=+e,t|=0,n|=0,a)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,r=1;for(this[t+i]=255&e;--i>=0&&(r*=256);)this[t+i]=e/r&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):B(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,a){if(e=+e,t|=0,!a){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var r=0,s=1,o=0;for(this[t]=255&e;++r<n&&(s*=256);)e<0&&0===o&&0!==this[t+r-1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+n},l.prototype.writeIntBE=function(e,t,n,a){if(e=+e,t|=0,!a){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var r=n-1,s=1,o=0;for(this[t+r]=255&e;--r>=0&&(s*=256);)e<0&&0===o&&0!==this[t+r+1]&&(o=1),this[t+r]=(e/s>>0)-o&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):$(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):$(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):B(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):B(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,a){if(n||(n=0),a||0===a||(a=this.length),t>=e.length&&(t=e.length),t||(t=0),a>0&&a<n&&(a=n),a===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(a<0)throw new RangeError("sourceEnd out of bounds");a>this.length&&(a=this.length),e.length-t<a-n&&(a=e.length-t+n);var i,r=a-n;if(this===e&&n<t&&t<a)for(i=r-1;i>=0;--i)e[i+t]=this[i+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<r;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+r),t);return r},l.prototype.fill=function(e,t,n,a){if("string"==typeof e){if("string"==typeof t?(a=t,t=0,n=this.length):"string"==typeof n&&(a=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==a&&"string"!=typeof a)throw new TypeError("encoding must be a string");if("string"==typeof a&&!l.isEncoding(a))throw new TypeError("Unknown encoding: "+a)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var r;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(r=t;r<n;++r)this[r]=e;else{var s=l.isBuffer(e)?e:P(new l(e,a).toString()),o=s.length;for(r=0;r<n-t;++r)this[r+t]=s[r%o]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function z(e){return e<16?"0"+e.toString(16):e.toString(16)}function P(e,t){var n;t=t||1/0;for(var a=e.length,i=null,r=[],s=0;s<a;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&r.push(239,191,189);continue}if(s+1===a){(t-=3)>-1&&r.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&r.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&r.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;r.push(n)}else if(n<2048){if((t-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function W(e){return a.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,a){for(var i=0;i<a&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},82465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(94015),i=n.n(a),r=n(23645),s=n.n(r)()(i());s.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Muli:300,400,600,700,800,900);"]),s.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const o=s},79914:(e,t,n)=>{"use strict";var a,i=n(34155);!function(){var r,s="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45";if(S="object"==typeof i&&"object"==typeof i.versions&&i.versions.node&&!i.browser){var o=i.versions.node.toString().replace("v","");s="Nodejs/"+o+" (NodeOS) AppleWebKit/"+o+" (KHTML, like Gecko) Nodejs/"+o+" Nodejs/"+o}r=void 0!==n.g?n.g:window,"undefined"==typeof window&&("undefined"==typeof window&&void 0!==n.g&&(n.g.navigator={userAgent:s,getUserMedia:function(){}},r.window=n.g),"undefined"==typeof location&&(r.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(r.screen={width:0,height:0}));var l=window.navigator;void 0!==l?(void 0!==l.webkitGetUserMedia&&(l.getUserMedia=l.webkitGetUserMedia),void 0!==l.mozGetUserMedia&&(l.getUserMedia=l.mozGetUserMedia)):l={getUserMedia:function(){},userAgent:s};var c=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(l.userAgent||""),u=!(-1===l.userAgent.indexOf("Edge")||!l.msSaveOrOpenBlob&&!l.msSaveBlob),d=!!window.opera||l.userAgent.indexOf(" OPR/")>=0,p=l.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(l.userAgent),h=/^((?!chrome|android).)*safari/i.test(l.userAgent),m=!!window.chrome&&!d,f="undefined"!=typeof document&&!!document.documentMode&&!u;function g(e,t){var n=0,a=!1,i=window.setInterval((function(){e()&&(window.clearInterval(i),t(a)),n++>50&&(window.clearInterval(i),t(a=!0))}),10)}var b={Android:function(){return l.userAgent.match(/Android/i)},BlackBerry:function(){return l.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return l.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return l.userAgent.match(/Opera Mini/i)},Windows:function(){return l.userAgent.match(/IEMobile/i)},any:function(){return b.Android()||b.BlackBerry()||b.iOS()||b.Opera()||b.Windows()},getOsName:function(){var e="Unknown OS";return b.Android()&&(e="Android"),b.BlackBerry()&&(e="BlackBerry"),b.iOS()&&(e="iOS"),b.Opera()&&(e="Opera Mini"),b.Windows()&&(e="Windows"),e}};var y="Unknown OS",v="Unknown OS Version";var k,x,w=function(){for(var e,t=l.appVersion,n=l.userAgent,a="-",i=[{s:"Chrome OS",r:/CrOS/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],r=0;e=i[r];r++)if(e.r.test(n)){a=e.s;break}var s="-";switch(/Windows/.test(a)&&(/Windows (.*)/.test(a)&&(s=/Windows (.*)/.exec(a)[1]),a="Windows"),a){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(n)&&(s=/Mac OS X (10[\.\_\d]+)/.exec(n)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(n)&&(s=/Android ([\.\_\d]+)/.exec(n)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(n)&&(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&s.length>3&&(s=s[1]+"."+s[2]+"."+(0|s[3]))}return{osName:a,osVersion:s}}();w&&w.osName&&"-"!=w.osName?(y=w.osName,v=w.osVersion):b.any()&&"Android"==(y=b.getOsName())&&(v=!!(x=(k=(k||l.userAgent).toLowerCase()).match(/android\s([0-9\.]*)/))&&x[1]);var S="object"==typeof i&&"object"==typeof i.versions&&i.versions.node;"Unknown OS"===y&&S&&(y="Nodejs",v=i.versions.node.toString().replace("v",""));var C=!1,T=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){"undefined"!=typeof document&&"function"==typeof document.createElement&&(!C&&e in document.createElement("canvas")&&(C=!0),!T&&e in document.createElement("video")&&(T=!0))}));var _=/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/,I=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,A=/[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7}/;var N=[],E=[],R=[],M=[];l.mediaDevices&&l.mediaDevices.enumerateDevices&&(l.enumerateDevices=function(e){var t=l.mediaDevices.enumerateDevices();t&&t.then?l.mediaDevices.enumerateDevices().then(e).catch((function(){e([])})):e([])});var D=!1;("undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||l.mediaDevices&&l.mediaDevices.enumerateDevices)&&(D=!0);var $=!1,B=!1,L=!1,F=!1,O=!1;function j(e){if(D)if(!l.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(l.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!l.enumerateDevices&&l.enumerateDevices&&(l.enumerateDevices=l.enumerateDevices.bind(l)),l.enumerateDevices){N=[],E=[],R=[],M=[],$=!1,B=!1,L=!1,F=!1,O=!1;var t={};l.enumerateDevices((function(n){N=[],E=[],R=[],M=[],n.forEach((function(e){var n={};for(var a in e)try{"function"!=typeof e[a]&&(n[a]=e[a])}catch(e){}t[n.deviceId+n.label+n.kind]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||O||(O=!0),"audioinput"!==n.kind||F||(F=!0)):(n.isCustomLabel=!0,"videoinput"===n.kind?n.label="Camera "+(M.length+1):"audioinput"===n.kind?n.label="Microphone "+(E.length+1):"audiooutput"===n.kind?n.label="Speaker "+(R.length+1):n.label="Please invoke getUserMedia once.",void 0!==z&&z.browser.isChrome&&z.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&($=!0,-1===E.indexOf(n)&&E.push(n)),"audiooutput"===n.kind&&(B=!0,-1===R.indexOf(n)&&R.push(n)),"videoinput"===n.kind&&(L=!0,-1===M.indexOf(n)&&M.push(n)),N.push(n),t[n.deviceId+n.label+n.kind]=n)})),void 0!==z&&(z.MediaDevices=N,z.hasMicrophone=$,z.hasSpeakers=B,z.hasWebcam=L,z.isWebsiteHasWebcamPermissions=O,z.isWebsiteHasMicrophonePermissions=F,z.audioInputDevices=E,z.audioOutputDevices=R,z.videoInputDevices=M),e&&e()}))}else e&&e();else e&&e()}var z=window.DetectRTC||{};z.browser=function(){l.appVersion;var e,t,n,a=l.userAgent,i=l.appName,r=""+parseFloat(l.appVersion),s=parseInt(l.appVersion,10);if(d){i="Opera";try{s=(r=l.userAgent.split("OPR/")[1].split(" ")[0]).split(".")[0]}catch(e){r="0.0.0.0",s=0}}else f?((t=a.indexOf("rv:"))>0?r=a.substring(t+3):(t=a.indexOf("MSIE"),r=a.substring(t+5)),i="IE"):m?(t=a.indexOf("Chrome"),i="Chrome",r=a.substring(t+7)):h?-1!==a.indexOf("CriOS")?(t=a.indexOf("CriOS"),i="Chrome",r=a.substring(t+6)):-1!==a.indexOf("FxiOS")?(t=a.indexOf("FxiOS"),i="Firefox",r=a.substring(t+6)):(t=a.indexOf("Safari"),i="Safari",r=a.substring(t+7),-1!==(t=a.indexOf("Version"))&&(r=a.substring(t+8)),-1!==l.userAgent.indexOf("Version/")&&(r=l.userAgent.split("Version/")[1].split(" ")[0])):p?(t=a.indexOf("Firefox"),i="Firefox",r=a.substring(t+8)):(e=a.lastIndexOf(" ")+1)<(t=a.lastIndexOf("/"))&&(i=a.substring(e,t),r=a.substring(t+1),i.toLowerCase()===i.toUpperCase()&&(i=l.appName));return u&&(i="Edge",r=l.userAgent.split("Edge/")[1]),-1!==(n=r.search(/[; \)]/))&&(r=r.substring(0,n)),s=parseInt(""+r,10),isNaN(s)&&(r=""+parseFloat(l.appVersion),s=parseInt(l.appVersion,10)),{fullVersion:r,version:s,name:i,isPrivateBrowsing:!1}}(),function(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,(function(){t=!1}),(function(e){t=!0}));else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{(n=window.indexedDB.open("test")).onerror=function(){return!0}}catch(e){t=!0}void 0===t&&g((function(){return"done"===n.readyState}),(function(e){e||(t=!n.result)}))}else if(function(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(n&&parseInt(n[1],10)>=10)}(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(e){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(e){t=!1}g((function(){return void 0!==t}),(function(n){e(t)}))}((function(e){z.browser.isPrivateBrowsing=!!e})),z.browser["is"+z.browser.name]=!0,z.osName=y,z.osVersion=v;"object"==typeof i&&"object"==typeof i.versions&&i.versions["node-webkit"];var P=!1;["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach((function(e){P||e in window&&(P=!0)})),z.isWebRTCSupported=P,z.isORTCSupported="undefined"!=typeof RTCIceGatherer;var W=!1;((z.browser.isChrome&&z.browser.version>=35||z.browser.isFirefox&&z.browser.version>=34||z.browser.isEdge&&z.browser.version>=17||"Android"===z.osName&&z.browser.isChrome)&&(W=!0),(l.getDisplayMedia||l.mediaDevices&&l.mediaDevices.getDisplayMedia)&&(W=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||""))||("undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(z.browser.isChrome||z.browser.isEdge||z.browser.isOpera)||z.browser.isFirefox)&&(W=!1);z.isScreenCapturingSupported=W;var G={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach((function(e){G.isSupported||e in window&&(G.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(G.isCreateMediaStreamSourceSupported=!0))})),z.isAudioContextSupported=G.isSupported,z.isCreateMediaStreamSourceSupported=G.isCreateMediaStreamSourceSupported;var V=!1;z.browser.isChrome&&z.browser.version>31&&(V=!0),z.isRtpDataChannelsSupported=V;var U=!1;(z.browser.isFirefox&&z.browser.version>28||z.browser.isChrome&&z.browser.version>25||z.browser.isOpera&&z.browser.version>=11)&&(U=!0),z.isSctpDataChannelsSupported=U,z.isMobileDevice=c;var H=!1;(l.getUserMedia||l.mediaDevices&&l.mediaDevices.getUserMedia)&&(H=!0),z.browser.isChrome&&z.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&"undefined"!=typeof document&&"string"==typeof document.domain&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(H="Requires HTTPs"),"Nodejs"===z.osName&&(H=!1),z.isGetUserMediaSupported=H;var q,K,J,X="";screen.width&&(X+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:""));z.displayResolution=X,z.displayAspectRatio=(q=screen.width,K=screen.height,J=function e(t,n){return 0==n?t:e(n,t%n)}(q,K),q/J/(K/J)).toFixed(2),z.isCanvasSupportsStreamCapturing=C,z.isVideoSupportsStreamCapturing=T,"Chrome"==z.browser.name&&z.browser.version>=53&&(z.isCanvasSupportsStreamCapturing||(z.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),z.isVideoSupportsStreamCapturing||(z.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),z.DetectLocalIPAddress=function(e,t){if(z.isWebRTCSupported){var n=!0,a=!0;!function(e,t){if("undefined"==typeof document||"function"!=typeof document.getElementById)return;var n={},a=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!a){var i=document.getElementById("iframe");if(!i)return;var r=i.contentWindow;a=r.RTCPeerConnection||r.mozRTCPeerConnection||r.webkitRTCPeerConnection}if(!a)return;var s=null;"Chrome"===z.browser&&z.browser.version<58&&(s={optional:[{RtpDataChannels:!0}]});var o=new a({iceServers:[{urls:"stun:stun.l.google.com:19302"}]},s);t&&(o.addStream?o.addStream(t):o.addTrack&&t.getTracks()[0]&&o.addTrack(t.getTracks()[0],t));function l(t){if(t){var a=I.exec(t);if(a){var i=a[1],r=t.match(_),s=!0;void 0===n[i]&&e(i,r,s),n[i]=!0}}else e()}if(o.onicecandidate=function(e){e.candidate&&e.candidate.candidate?l(e.candidate.candidate):l()},!t)try{o.createDataChannel("sctp",{})}catch(e){}z.isPromisesSupported?o.createOffer().then((function(e){o.setLocalDescription(e).then(c)})):o.createOffer((function(e){o.setLocalDescription(e,c,(function(){}))}),(function(){}));function c(){o.localDescription.sdp.split("\n").forEach((function(e){e&&0===e.indexOf("a=candidate:")&&l(e)}))}}((function(t){t?t.match(_)?e("Local: "+t,n=!1,a):t.match(A)?e("Public: "+t,n,a=!1):e("Public: "+t,n,a):e()}),t)}},z.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,z.isWebSocketsBlocked=!z.isWebSocketsSupported,"Nodejs"===z.osName&&(z.isWebSocketsSupported=!0,z.isWebSocketsBlocked=!1),z.checkWebSocketsSupport=function(e){e=e||function(){};try{var t,n=new WebSocket("wss://echo.websocket.org:443/");n.onopen=function(){z.isWebSocketsBlocked=!1,t=(new Date).getTime(),n.send("ping")},n.onmessage=function(){z.WebsocketLatency=(new Date).getTime()-t+"ms",e(),n.close(),n=null},n.onerror=function(){z.isWebSocketsBlocked=!0,e()}}catch(t){z.isWebSocketsBlocked=!0,e()}},z.load=function(e){j(e=e||function(){})},z.MediaDevices=void 0!==N?N:[],z.hasMicrophone=$,z.hasSpeakers=B,z.hasWebcam=L,z.isWebsiteHasWebcamPermissions=O,z.isWebsiteHasMicrophonePermissions=F,z.audioInputDevices=E,z.audioOutputDevices=R,z.videoInputDevices=M;var Y=!1;"undefined"!=typeof document&&"function"==typeof document.createElement&&"setSinkId"in document.createElement("video")&&(Y=!0),z.isSetSinkIdSupported=Y;var Z=!1;z.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&(Z=!0):z.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&(Z=!0),z.isRTPSenderReplaceTracksSupported=Z;var Q=!1;z.browser.isFirefox&&z.browser.version>38&&(Q=!0),z.isRemoteStreamProcessingSupported=Q;var ee=!1;"undefined"!=typeof MediaStreamTrack&&"applyConstraints"in MediaStreamTrack.prototype&&(ee=!0),z.isApplyConstraintsSupported=ee;var te=!1;z.browser.isFirefox&&z.browser.version>=43&&(te=!0),z.isMultiMonitorScreenCapturingSupported=te,z.isPromisesSupported=!!("Promise"in window),z.version="1.4.1",void 0===z&&(window.DetectRTC={});var ne=window.MediaStream;void 0===ne&&"undefined"!=typeof webkitMediaStream&&(ne=webkitMediaStream),z.MediaStream=void 0!==ne&&"function"==typeof ne&&Object.keys(ne.prototype),"undefined"!=typeof MediaStreamTrack?z.MediaStreamTrack=Object.keys(MediaStreamTrack.prototype):z.MediaStreamTrack=!1;var ae=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;z.RTCPeerConnection=void 0!==ae&&Object.keys(ae.prototype),window.DetectRTC=z,e.exports=z,void 0===(a=function(){return z}.apply(t,[]))||(e.exports=a)}()},80645:(e,t)=>{t.read=function(e,t,n,a,i){var r,s,o=8*i-a-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,r=h&(1<<-u)-1,h>>=-u,u+=o;u>0;r=256*r+e[t+d],d+=p,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=a;u>0;s=256*s+e[t+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,a),r-=c}return(h?-1:1)*s*Math.pow(2,r-a)},t.write=function(e,t,n,a,i,r){var s,o,l,c=8*r-i-1,u=(1<<c)-1,d=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=a?0:r-1,m=a?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?p/l:p*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(t*l-1)*Math.pow(2,i),s+=d):(o=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&o,h+=m,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;e[n+h]=255&s,h+=m,s/=256,c-=8);e[n+h-m]|=128*f}},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},43720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=a;var i={},r={};function s(e,t){var n,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=r[e])?a:(n=l(e,(0|e)<0?-1:0,!0),s&&(r[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(a=i[e])?a:(n=l(e,e<0?-1:0,!1),s&&(i[e]=n),n)}function o(e,t){if(isNaN(e))return t?b:g;if(t){if(e<0)return b;if(e>=h)return w}else{if(e<=-m)return S;if(e+1>=m)return x}return e<0?o(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,a){return new n(e,t,a)}n.fromInt=s,n.fromNumber=o,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===a)return u(e.substring(1),t,n).neg();for(var i=o(c(n,8)),r=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+l),n);if(l<8){var p=o(c(n,l));r=r.mul(p).add(o(d))}else r=(r=r.mul(i)).add(o(d))}return r.unsigned=t,r}function d(e,t){return"number"==typeof e?o(e,t):"string"==typeof e?u(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var p=4294967296,h=p*p,m=h/2,f=s(1<<24),g=s(0);n.ZERO=g;var b=s(0,!0);n.UZERO=b;var y=s(1);n.ONE=y;var v=s(1,!0);n.UONE=v;var k=s(-1);n.NEG_ONE=k;var x=l(-1,2147483647,!1);n.MAX_VALUE=x;var w=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=w;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var C=n.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=o(e),n=this.div(t),a=n.mul(t).sub(this);return n.toString(e)+a.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=o(c(e,6),this.unsigned),r=this,s="";;){var l=r.div(i),u=(r.sub(l.mul(i)).toInt()>>>0).toString(e);if((r=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return 1==(1&this.low)},C.isEven=function(){return 0==(1&this.low)},C.equals=function(e){return a(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(a(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},C.neg=C.negate,C.add=function(e){a(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,r=65535&this.low,s=e.high>>>16,o=65535&e.high,c=e.low>>>16,u=0,p=0,h=0,m=0;return h+=(m+=r+(65535&e.low))>>>16,p+=(h+=i+c)>>>16,u+=(p+=n+o)>>>16,u+=t+s,l((h&=65535)<<16|(m&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},C.subtract=function(e){return a(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(f)&&e.lt(f))return o(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,r=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,p=e.low>>>16,h=65535&e.low,m=0,b=0,y=0,v=0;return y+=(v+=s*h)>>>16,b+=(y+=r*h)>>>16,y&=65535,b+=(y+=s*p)>>>16,m+=(b+=i*h)>>>16,b&=65535,m+=(b+=r*p)>>>16,b&=65535,m+=(b+=s*u)>>>16,m+=n*h+i*p+r*u+s*c,l((y&=65535)<<16|(v&=65535),(m&=65535)<<16|(b&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(a(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,r;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return v;r=b}else{if(this.eq(S))return e.eq(y)||e.eq(k)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:k:(i=this.sub(e.mul(n)),r=n.add(i.div(e)));if(e.eq(S))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();r=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:c(2,s-48),p=o(n),h=p.mul(e);h.isNegative()||h.gt(i);)h=(p=o(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=y),r=r.add(p),i=i.sub(h)}return r},C.div=C.divide,C.modulo=function(e){return a(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return l(~this.low,~this.high,this.unsigned)},C.and=function(e){return a(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return a(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return a(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return a(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,a){return a?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},86606:e=>{var t;window,t=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var r=256,s=function(){function e(e){void 0===e&&(e="="),this._paddingCharacter=e}return e.prototype.encodedLength=function(e){return this._paddingCharacter?(e+2)/3*4|0:(8*e+5)/6|0},e.prototype.encode=function(e){for(var t="",n=0;n<e.length-2;n+=3){var a=e[n]<<16|e[n+1]<<8|e[n+2];t+=this._encodeByte(a>>>18&63),t+=this._encodeByte(a>>>12&63),t+=this._encodeByte(a>>>6&63),t+=this._encodeByte(a>>>0&63)}var i=e.length-n;return i>0&&(a=e[n]<<16|(2===i?e[n+1]<<8:0),t+=this._encodeByte(a>>>18&63),t+=this._encodeByte(a>>>12&63),t+=2===i?this._encodeByte(a>>>6&63):this._paddingCharacter||"",t+=this._paddingCharacter||""),t},e.prototype.maxDecodedLength=function(e){return this._paddingCharacter?e/4*3|0:(6*e+7)/8|0},e.prototype.decodedLength=function(e){return this.maxDecodedLength(e.length-this._getPaddingLength(e))},e.prototype.decode=function(e){if(0===e.length)return new Uint8Array(0);for(var t=this._getPaddingLength(e),n=e.length-t,a=new Uint8Array(this.maxDecodedLength(n)),i=0,s=0,o=0,l=0,c=0,u=0,d=0;s<n-4;s+=4)l=this._decodeChar(e.charCodeAt(s+0)),c=this._decodeChar(e.charCodeAt(s+1)),u=this._decodeChar(e.charCodeAt(s+2)),d=this._decodeChar(e.charCodeAt(s+3)),a[i++]=l<<2|c>>>4,a[i++]=c<<4|u>>>2,a[i++]=u<<6|d,o|=l&r,o|=c&r,o|=u&r,o|=d&r;if(s<n-1&&(l=this._decodeChar(e.charCodeAt(s)),c=this._decodeChar(e.charCodeAt(s+1)),a[i++]=l<<2|c>>>4,o|=l&r,o|=c&r),s<n-2&&(u=this._decodeChar(e.charCodeAt(s+2)),a[i++]=c<<4|u>>>2,o|=u&r),s<n-3&&(d=this._decodeChar(e.charCodeAt(s+3)),a[i++]=u<<6|d,o|=d&r),0!==o)throw new Error("Base64Coder: incorrect characters for decoding");return a},e.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-15,t+=62-e>>>8&3,String.fromCharCode(t)},e.prototype._decodeChar=function(e){var t=r;return t+=(42-e&e-44)>>>8&-256+e-43+62,t+=(46-e&e-48)>>>8&-256+e-47+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},e.prototype._getPaddingLength=function(e){var t=0;if(this._paddingCharacter){for(var n=e.length-1;n>=0&&e[n]===this._paddingCharacter;n--)t++;if(e.length<4||t>2)throw new Error("Base64Coder: incorrect padding")}return t},e}();t.Coder=s;var o=new s;t.encode=function(e){return o.encode(e)},t.decode=function(e){return o.decode(e)};var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype._encodeByte=function(e){var t=e;return t+=65,t+=25-e>>>8&6,t+=51-e>>>8&-75,t+=61-e>>>8&-13,t+=62-e>>>8&49,String.fromCharCode(t)},t.prototype._decodeChar=function(e){var t=r;return t+=(44-e&e-46)>>>8&-256+e-45+62,t+=(94-e&e-96)>>>8&-256+e-95+63,t+=(47-e&e-58)>>>8&-256+e-48+52,t+=(64-e&e-91)>>>8&-256+e-65+0,t+=(96-e&e-123)>>>8&-256+e-97+26},t}(s);t.URLSafeCoder=l;var c=new l;t.encodeURLSafe=function(e){return c.encode(e)},t.decodeURLSafe=function(e){return c.decode(e)},t.encodedLength=function(e){return o.encodedLength(e)},t.maxDecodedLength=function(e){return o.maxDecodedLength(e)},t.decodedLength=function(e){return o.decodedLength(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="utf8: invalid string",i="utf8: invalid source encoding";function r(e){for(var t=0,n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else{if(!(i<=57343))throw new Error(a);if(n>=e.length-1)throw new Error(a);n++,t+=4}}return t}t.encode=function(e){for(var t=new Uint8Array(r(e)),n=0,a=0;a<e.length;a++){var i=e.charCodeAt(a);i<128?t[n++]=i:i<2048?(t[n++]=192|i>>6,t[n++]=128|63&i):i<55296?(t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i):(a++,i=(1023&i)<<10,i|=1023&e.charCodeAt(a),i+=65536,t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i)}return t},t.encodedLength=r,t.decode=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];if(128&a){var r=void 0;if(a<224){if(n>=e.length)throw new Error(i);if(128!=(192&(s=e[++n])))throw new Error(i);a=(31&a)<<6|63&s,r=128}else if(a<240){if(n>=e.length-1)throw new Error(i);var s=e[++n],o=e[++n];if(128!=(192&s)||128!=(192&o))throw new Error(i);a=(15&a)<<12|(63&s)<<6|63&o,r=2048}else{if(!(a<248))throw new Error(i);if(n>=e.length-2)throw new Error(i);s=e[++n],o=e[++n];var l=e[++n];if(128!=(192&s)||128!=(192&o)||128!=(192&l))throw new Error(i);a=(15&a)<<18|(63&s)<<12|(63&o)<<6|63&l,r=65536}if(a<r||a>=55296&&a<=57343)throw new Error(i);if(a>=65536){if(a>1114111)throw new Error(i);a-=65536,t.push(String.fromCharCode(55296|a>>10)),a=56320|1023&a}}t.push(String.fromCharCode(a))}return t.join("")}},function(e,t,n){e.exports=n(3).default},function(e,t,n){"use strict";n.r(t);for(var a,i=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,a=this.name+"["+t+"]",i=!1,r=function(){i||(e.apply(null,arguments),i=!0)};return this[t]=r,{number:t,id:n,name:a,callback:r}},e.prototype.remove=function(e){delete this[e.number]},e}(),r=new i("_pusher_script_","Pusher.ScriptReceivers"),s={VERSION:"7.0.6",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,cluster:"mt1",cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},o=function(){function e(e){this.options=e,this.receivers=e.receivers||r,this.loading={}}return e.prototype.load=function(e,t,n){var a=this;if(a.loading[e]&&a.loading[e].length>0)a.loading[e].push(n);else{a.loading[e]=[n];var i=It.createScriptRequest(a.getPath(e,t)),r=a.receivers.create((function(t){if(a.receivers.remove(r),a.loading[e]){var n=a.loading[e];delete a.loading[e];for(var s=function(e){e||i.cleanup()},o=0;o<n.length;o++)n[o](t,s)}}));i.send(r)}},e.prototype.getRoot=function(e){var t=It.getDocument().location.protocol;return(e&&e.useTLS||"https:"===t?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}(),l=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),c=new o({cdn_http:s.cdn_http,cdn_https:s.cdn_https,version:s.VERSION,suffix:s.dependency_suffix,receivers:l}),u={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/authenticating_users"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}},d=function(e){var t,n=u.urls[e];return n?(n.fullUrl?t=n.fullUrl:n.path&&(t=u.baseUrl+n.path),t?"See: "+t:""):""},p=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},a(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),m=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),f=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),g=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),b=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),y=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),v=function(e){function t(t){var n=this.constructor,a=e.call(this,t)||this;return Object.setPrototypeOf(a,n.prototype),a}return p(t,e),t}(Error),k=function(e){function t(t,n){var a=this.constructor,i=e.call(this,n)||this;return i.status=t,Object.setPrototypeOf(i,a.prototype),i}return p(t,e),t}(Error),x=function(e,t,n){var a,i=this;for(var r in(a=It.createXHR()).open("POST",i.options.authEndpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this.authOptions.headers)a.setRequestHeader(r,this.authOptions.headers[r]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e=void 0,t=!1;try{e=JSON.parse(a.responseText),t=!0}catch(e){n(new k(200,"JSON returned from auth endpoint was invalid, yet status code was 200. Data was: "+a.responseText),{auth:""})}t&&n(null,e)}else{var r=d("authenticationEndpoint");n(new k(a.status,"Unable to retrieve auth string from auth endpoint - received status: "+a.status+" from "+i.options.authEndpoint+". Clients must be authenticated to join private or presence channels. "+r),{auth:""})}},a.send(this.composeQuery(t)),a},w=String.fromCharCode,S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C={},T=0,_=S.length;T<_;T++)C[S.charAt(T)]=T;var I=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?w(192|t>>>6)+w(128|63&t):w(224|t>>>12&15)+w(128|t>>>6&63)+w(128|63&t)},A=function(e){return e.replace(/[^\x00-\x7F]/g,I)},N=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[S.charAt(n>>>18),S.charAt(n>>>12&63),t>=2?"=":S.charAt(n>>>6&63),t>=1?"=":S.charAt(63&n)].join("")},E=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,N)},R=function(){function e(e,t,n,a){var i=this;this.clear=t,this.timer=e((function(){i.timer&&(i.timer=a(i.timer))}),n)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}(),M=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();function D(e){window.clearTimeout(e)}function $(e){window.clearInterval(e)}var B=function(e){function t(t,n){return e.call(this,setTimeout,D,t,(function(e){return n(),null}))||this}return M(t,e),t}(R),L=function(e){function t(t,n){return e.call(this,setInterval,$,t,(function(e){return n(),e}))||this}return M(t,e),t}(R),F={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new B(0,e)},method:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,a.concat(arguments))}}},O=F;function j(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var a=0;a<t.length;a++){var i=t[a];for(var r in i)i[r]&&i[r].constructor&&i[r].constructor===Object?e[r]=j(e[r]||{},i[r]):e[r]=i[r]}return e}function z(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(Y(arguments[t]));return e.join(" : ")}function P(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1}function W(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function G(e){var t=[];return W(e,(function(e,n){t.push(n)})),t}function V(e,t,n){for(var a=0;a<e.length;a++)t.call(n||window,e[a],a,e)}function U(e,t){for(var n=[],a=0;a<e.length;a++)n.push(t(e[a],a,e,n));return n}function H(e,t){t=t||function(e){return!!e};for(var n=[],a=0;a<e.length;a++)t(e[a],a,e,n)&&n.push(e[a]);return n}function q(e,t){var n={};return W(e,(function(a,i){(t&&t(a,i,e,n)||Boolean(a))&&(n[i]=a)})),n}function K(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function J(e){return t=function(e){return"object"==typeof e&&(e=Y(e)),encodeURIComponent((t=e.toString(),E(A(t))));var t},n={},W(e,(function(e,a){n[a]=t(e)})),n;var t,n}function X(e){var t,n,a=q(e,(function(e){return void 0!==e}));return U((t=J(a),n=[],W(t,(function(e,t){n.push([t,e])})),n),O.method("join","=")).join("&")}function Y(e){try{return JSON.stringify(e)}catch(a){return JSON.stringify((t=[],n=[],function e(a,i){var r,s,o;switch(typeof a){case"object":if(!a)return null;for(r=0;r<t.length;r+=1)if(t[r]===a)return{$ref:n[r]};if(t.push(a),n.push(i),"[object Array]"===Object.prototype.toString.apply(a))for(o=[],r=0;r<a.length;r+=1)o[r]=e(a[r],i+"["+r+"]");else for(s in o={},a)Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=e(a[s],i+"["+JSON.stringify(s)+"]"));return o;case"number":case"string":case"boolean":return a}}(e,"$")))}var t,n}var Z=function(){function e(){this.globalLog=function(e){window.console&&window.console.log&&window.console.log(e)}}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(this.globalLog,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(this.globalLogWarn,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.log(this.globalLogError,e)},e.prototype.globalLogWarn=function(e){window.console&&window.console.warn?window.console.warn(e):this.globalLog(e)},e.prototype.globalLogError=function(e){window.console&&window.console.error?window.console.error(e):this.globalLogWarn(e)},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=z.apply(this,arguments);if(Pt.log)Pt.log(a);else if(Pt.logToConsole){var i=e.bind(this);i(a)}},e}(),Q=new Z,ee=function(e,t,n){void 0!==this.authOptions.headers&&Q.warn("To send headers with the auth request, you must use AJAX, rather than JSONP.");var a=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var i=e.getDocument(),r=i.createElement("script");e.auth_callbacks[a]=function(e){n(null,e)};var s="Pusher.auth_callbacks['"+a+"']";r.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(t);var o=i.getElementsByTagName("head")[0]||i.documentElement;o.insertBefore(r,o.firstChild)},te=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var a=document.getElementsByTagName("head")[0];a.insertBefore(t.script,a.firstChild),t.errorScript&&a.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}(),ne=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=X(this.data),n=this.url+"/"+e.number+"?"+t;this.request=It.createScriptRequest(n),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}(),ae={name:"jsonp",getAgent:function(e,t){return function(n,a){var i="http"+(t?"s":"")+"://"+(e.host||e.options.host)+e.options.path,s=It.createJSONPRequest(i,n),o=It.ScriptReceivers.create((function(t,n){r.remove(o),s.cleanup(),n&&n.host&&(e.host=n.host),a&&a(t,n)}));s.send(o)}}};function ie(e,t,n){return e+(t.useTLS?"s":"")+"://"+(t.useTLS?t.hostTLS:t.hostNonTLS)+n}function re(e,t){return"/app/"+e+"?protocol="+s.PROTOCOL+"&client=js&version="+s.VERSION+(t?"&"+t:"")}var se={getInitial:function(e,t){return ie("ws",t,(t.httpPath||"")+re(e,"flash=false"))}},oe={getInitial:function(e,t){return ie("http",t,(t.httpPath||"/pusher")+re(e))}},le={getInitial:function(e,t){return ie("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return re(e)}},ce=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[ue(e)]},e.prototype.add=function(e,t,n){var a=ue(e);this._callbacks[a]=this._callbacks[a]||[],this._callbacks[a].push({fn:t,context:n})},e.prototype.remove=function(e,t,n){if(e||t||n){var a=e?[ue(e)]:G(this._callbacks);t||n?this.removeCallback(a,t,n):this.removeAllCallbacks(a)}else this._callbacks={}},e.prototype.removeCallback=function(e,t,n){V(e,(function(e){this._callbacks[e]=H(this._callbacks[e]||[],(function(e){return t&&t!==e.fn||n&&n!==e.context})),0===this._callbacks[e].length&&delete this._callbacks[e]}),this)},e.prototype.removeAllCallbacks=function(e){V(e,(function(e){delete this._callbacks[e]}),this)},e}();function ue(e){return"_"+e}var de=function(){function e(e){this.callbacks=new ce,this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},e.prototype.bind_global=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},e.prototype.unbind_global=function(e){return e?(this.global_callbacks=H(this.global_callbacks||[],(function(t){return t!==e})),this):(this.global_callbacks=[],this)},e.prototype.unbind_all=function(){return this.unbind(),this.unbind_global(),this},e.prototype.emit=function(e,t,n){for(var a=0;a<this.global_callbacks.length;a++)this.global_callbacks[a](e,t);var i=this.callbacks.get(e),r=[];if(n?r.push(t,n):t&&r.push(t),i&&i.length>0)for(a=0;a<i.length;a++)i[a].fn.apply(i[a].context||window,r);else this.failThrough&&this.failThrough(e,t);return this},e}(),pe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),he=function(e){function t(t,n,a,i,r){var s=e.call(this)||this;return s.initialize=It.transportConnectionInitializer,s.hooks=t,s.name=n,s.priority=a,s.key=i,s.options=r,s.state="new",s.timeline=r.timeline,s.activityTimeout=r.activityTimeout,s.id=s.timeline.generateUniqueID(),s}return pe(t,e),t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(t){return O.defer((function(){e.onError(t),e.changeState("closed")})),!1}return this.bindListeners(),Q.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},t.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.prototype.send=function(e){var t=this;return"open"===this.state&&(O.defer((function(){t.socket&&t.socket.send(e)})),!0)},t.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(e){this.emit("message",e)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.prototype.buildTimelineMessage=function(e){return j({cid:this.id},e)},t}(de),me=he,fe=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,n,a){return new me(this.hooks,e,t,n,a)},e}(),ge=new fe({urls:se,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(It.getWebSocketAPI())},isSupported:function(){return Boolean(It.getWebSocketAPI())},getSocket:function(e){return It.createWebSocket(e)}}),be={urls:oe,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ye=j({getSocket:function(e){return It.HTTPFactory.createStreamingSocket(e)}},be),ve=j({getSocket:function(e){return It.HTTPFactory.createPollingSocket(e)}},be),ke={isSupported:function(){return It.isXHRSupported()}},xe={ws:ge,xhr_streaming:new fe(j({},ye,ke)),xhr_polling:new fe(j({},ve,ke))},we=new fe({file:"sockjs",urls:le,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:c.getPath("sockjs",{useTLS:t.useTLS}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),Se={isSupported:function(e){return It.isXDRSupported(e.useTLS)}},Ce=new fe(j({},ye,Se)),Te=new fe(j({},ve,Se));xe.xdr_streaming=Ce,xe.xdr_polling=Te,xe.sockjs=we;var _e=xe,Ie=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ae=new(function(e){function t(){var t=e.call(this)||this,n=t;return void 0!==window.addEventListener&&(window.addEventListener("online",(function(){n.emit("online")}),!1),window.addEventListener("offline",(function(){n.emit("offline")}),!1)),t}return Ie(t,e),t.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},t}(de)),Ne=function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,n,a){var i=this;a=j({},a,{activityTimeout:this.pingDelay});var r=this.transport.createConnection(e,t,n,a),s=null,o=function(){r.unbind("open",o),r.bind("closed",l),s=O.now()},l=function(e){if(r.unbind("closed",l),1002===e.code||1003===e.code)i.manager.reportDeath();else if(!e.wasClean&&s){var t=O.now()-s;t<2*i.maxPingDelay&&(i.manager.reportDeath(),i.pingDelay=Math.max(t/2,i.minPingDelay))}};return r.bind("open",o),r},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}(),Ee={decodeMessage:function(e){try{var t=JSON.parse(e.data),n=t.data;if("string"==typeof n)try{n=JSON.parse(t.data)}catch(e){}var a={event:t.event,channel:t.channel,data:n};return t.user_id&&(a.user_id=t.user_id),a}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},encodeMessage:function(e){return JSON.stringify(e)},processHandshake:function(e){var t=Ee.decodeMessage(e);if("pusher:connection_established"===t.event){if(!t.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:t.data.socket_id,activityTimeout:1e3*t.data.activity_timeout}}if("pusher:error"===t.event)return{action:this.getCloseAction(t.data),error:this.getCloseError(t.data)};throw"Invalid handshake"},getCloseAction:function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"tls_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},getCloseError:function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},Re=Ee,Me=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),De=function(e){function t(t,n){var a=e.call(this)||this;return a.id=t,a.transport=n,a.activityTimeout=n.activityTimeout,a.bindListeners(),a}return Me(t,e),t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(e){return this.transport.send(e)},t.prototype.send_event=function(e,t,n){var a={event:e,data:t};return n&&(a.channel=n),Q.debug("Event sent",a),this.send(Re.encodeMessage(a))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=Re.decodeMessage(t)}catch(n){e.emit("error",{type:"MessageParseError",error:n,data:t.data})}if(void 0!==n){switch(Q.debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",t)},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){W(t,(function(t,n){e.transport.unbind(n,t)}))};W(t,(function(t,n){e.transport.bind(n,t)}))},t.prototype.handleCloseEvent=function(e){var t=Re.getCloseAction(e),n=Re.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t,{action:t,error:n})},t}(de),$e=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){var n;e.unbindListeners();try{n=Re.processHandshake(t)}catch(t){return e.finish("error",{error:t}),void e.transport.close()}"connected"===n.action?e.finish("connected",{connection:new De(n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var n=Re.getCloseAction(t)||"backoff",a=Re.getCloseError(t);e.finish(n,{error:a})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(j({transport:this.transport,action:e},t))},e}(),Be=function(){function e(e,t){this.channel=e;var n=t.authTransport;if(void 0===It.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=t,this.authOptions=t.auth||{}}return e.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return t},e.prototype.authorize=function(t,n){e.authorizers=e.authorizers||It.getAuthorizers(),e.authorizers[this.type].call(this,It,t,n)},e}(),Le=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(It.TimelineTransport.getAgent(this,e),t)},e}(),Fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Oe=function(e){function t(t,n){var a=e.call(this,(function(e,n){Q.debug("No callbacks on "+t+" for "+e)}))||this;return a.name=t,a.pusher=n,a.subscribed=!1,a.subscriptionPending=!1,a.subscriptionCancelled=!1,a}return Fe(t,e),t.prototype.authorize=function(e,t){return t(null,{auth:""})},t.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new h("Event '"+e+"' does not start with 'client-'");if(!this.subscribed){var n=d("triggeringClientEvents");Q.warn("Client event triggered before channel 'subscription_succeeded' event . "+n)}return this.pusher.send_event(e,t,this.name)},t.prototype.disconnect=function(){this.subscribed=!1,this.subscriptionPending=!1},t.prototype.handleEvent=function(e){var t=e.event,n=e.data;"pusher_internal:subscription_succeeded"===t?this.handleSubscriptionSucceededEvent(e):0!==t.indexOf("pusher_internal:")&&this.emit(t,n,{})},t.prototype.handleSubscriptionSucceededEvent=function(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",e.data)},t.prototype.subscribe=function(){var e=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(function(t,n){t?(e.subscriptionPending=!1,Q.error(t.toString()),e.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:t.message},t instanceof k?{status:t.status}:{}))):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})})))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(de),je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return je(t,e),t.prototype.authorize=function(e,t){return Qe.createAuthorizer(this,this.pusher.config).authorize(e,t)},t}(Oe),Pe=ze,We=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(e){var t=this;W(this.members,(function(n,a){e(t.get(a))}))},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}(),Ge=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ve=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a.members=new We,a}return Ge(t,e),t.prototype.authorize=function(t,n){var a=this;e.prototype.authorize.call(this,t,(function(e,t){if(!e){if(void 0===t.channel_data){var i=d("authenticationEndpoint");return Q.error("Invalid auth response for channel '"+a.name+"',expected 'channel_data' field. "+i),void n("Invalid auth response")}var r=JSON.parse(t.channel_data);a.members.setMyID(r.user_id)}n(e,t)}))},t.prototype.handleEvent=function(e){var t=e.event;if(0===t.indexOf("pusher_internal:"))this.handleInternalEvent(e);else{var n=e.data,a={};e.user_id&&(a.user_id=e.user_id),this.emit(t,n,a)}},t.prototype.handleInternalEvent=function(e){var t=e.event,n=e.data;switch(t){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(e);break;case"pusher_internal:member_added":var a=this.members.addMember(n);this.emit("pusher:member_added",a);break;case"pusher_internal:member_removed":var i=this.members.removeMember(n);i&&this.emit("pusher:member_removed",i)}},t.prototype.handleSubscriptionSucceededEvent=function(e){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(e.data),this.emit("pusher:subscription_succeeded",this.members))},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(Pe),Ue=n(1),He=n(0),qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ke=function(e){function t(t,n,a){var i=e.call(this,t,n)||this;return i.key=null,i.nacl=a,i}return qe(t,e),t.prototype.authorize=function(t,n){var a=this;e.prototype.authorize.call(this,t,(function(e,t){if(e)n(e,t);else{var i=t.shared_secret;i?(a.key=Object(He.decode)(i),delete t.shared_secret,n(null,t)):n(new Error("No shared_secret key in auth payload for encrypted channel: "+a.name),null)}}))},t.prototype.trigger=function(e,t){throw new b("Client events are not currently supported for encrypted channels")},t.prototype.handleEvent=function(t){var n=t.event,a=t.data;0!==n.indexOf("pusher_internal:")&&0!==n.indexOf("pusher:")?this.handleEncryptedEvent(n,a):e.prototype.handleEvent.call(this,t)},t.prototype.handleEncryptedEvent=function(e,t){var n=this;if(this.key)if(t.ciphertext&&t.nonce){var a=Object(He.decode)(t.ciphertext);if(a.length<this.nacl.secretbox.overheadLength)Q.error("Expected encrypted event ciphertext length to be "+this.nacl.secretbox.overheadLength+", got: "+a.length);else{var i=Object(He.decode)(t.nonce);if(i.length<this.nacl.secretbox.nonceLength)Q.error("Expected encrypted event nonce length to be "+this.nacl.secretbox.nonceLength+", got: "+i.length);else{var r=this.nacl.secretbox.open(a,i,this.key);if(null===r)return Q.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),void this.authorize(this.pusher.connection.socket_id,(function(t,s){t?Q.error("Failed to make a request to the authEndpoint: "+s+". Unable to fetch new key, so dropping encrypted event"):null!==(r=n.nacl.secretbox.open(a,i,n.key))?n.emit(e,n.getDataToEmit(r)):Q.error("Failed to decrypt event with new key. Dropping encrypted event")}));this.emit(e,this.getDataToEmit(r))}}}else Q.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+t);else Q.debug("Received encrypted event before key has been retrieved from the authEndpoint")},t.prototype.getDataToEmit=function(e){var t=Object(Ue.decode)(e);try{return JSON.parse(t)}catch(e){return t}},t}(Pe),Je=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xe=function(e){function t(t,n){var a=e.call(this)||this;a.state="initialized",a.connection=null,a.key=t,a.options=n,a.timeline=a.options.timeline,a.usingTLS=a.options.useTLS,a.errorCallbacks=a.buildErrorCallbacks(),a.connectionCallbacks=a.buildConnectionCallbacks(a.errorCallbacks),a.handshakeCallbacks=a.buildHandshakeCallbacks(a.errorCallbacks);var i=It.getNetwork();return i.bind("online",(function(){a.timeline.info({netinfo:"online"}),"connecting"!==a.state&&"unavailable"!==a.state||a.retryIn(0)})),i.bind("offline",(function(){a.timeline.info({netinfo:"offline"}),a.connection&&a.sendActivityCheck()})),a.updateStrategy(),a}return Je(t,e),t.prototype.connect=function(){this.connection||this.runner||(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))},t.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},t.prototype.send_event=function(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isUsingTLS=function(){return this.usingTLS},t.prototype.startConnecting=function(){var e=this,t=function(n,a){n?e.runner=e.strategy.connect(0,t):"error"===a.action?(e.emit("error",{type:"HandshakeError",error:a.error}),e.timeline.error({handshakeError:a.error})):(e.abortConnecting(),e.handshakeCallbacks[a.action](a))};this.runner=this.strategy.connect(0,t)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection&&this.abandonConnection().close()},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})},t.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new B(e||0,(function(){t.disconnectInternally(),t.connect()}))},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new B(this.options.unavailableTimeout,(function(){e.updateState("unavailable")}))},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new B(this.options.pongTimeout,(function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)}))},t.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new B(this.activityTimeout,(function(){e.sendActivityCheck()})))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(e){var t=this;return j({},e,{message:function(e){t.resetActivityCheck(),t.emit("message",e)},ping:function(){t.send_event("pusher:pong",{})},activity:function(){t.resetActivityCheck()},error:function(e){t.emit("error",e)},closed:function(){t.abandonConnection(),t.shouldRetry()&&t.retryIn(1e3)}})},t.prototype.buildHandshakeCallbacks=function(e){var t=this;return j({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(n){n.error&&e.emit("error",{type:"WebSocketError",error:n.error}),t(n)}};return{tls_only:t((function(){e.usingTLS=!0,e.updateStrategy(),e.retryIn(0)})),refused:t((function(){e.disconnect()})),backoff:t((function(){e.retryIn(1e3)})),retry:t((function(){e.retryIn(0)}))}},t.prototype.setConnection=function(e){for(var t in this.connection=e,this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){for(var e in this.stopActivityCheck(),this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},t.prototype.updateState=function(e,t){var n=this.state;if(this.state=e,n!==e){var a=e;"connected"===a&&(a+=" with new socket ID "+t.socket_id),Q.debug("State changed",n+" -> "+a),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}},t.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},t}(de),Ye=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=function(e,t){if(0===e.indexOf("private-encrypted-")){if(t.config.nacl)return Qe.createEncryptedChannel(e,t,t.config.nacl);var n="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",a=d("encryptedChannelSupport");throw new b(n+". "+a)}return 0===e.indexOf("private-")?Qe.createPrivateChannel(e,t):0===e.indexOf("presence-")?Qe.createPresenceChannel(e,t):Qe.createChannel(e,t)}(e,t)),this.channels[e]},e.prototype.all=function(){return function(e){var t=[];return W(e,(function(e){t.push(e)})),t}(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){W(this.channels,(function(e){e.disconnect()}))},e}(),Ze=Ye,Qe={createChannels:function(){return new Ze},createConnectionManager:function(e,t){return new Xe(e,t)},createChannel:function(e,t){return new Oe(e,t)},createPrivateChannel:function(e,t){return new Pe(e,t)},createPresenceChannel:function(e,t){return new Ve(e,t)},createEncryptedChannel:function(e,t,n){return new Ke(e,t,n)},createTimelineSender:function(e,t){return new Le(e,t)},createAuthorizer:function(e,t){return t.authorizer?t.authorizer(e,t):new Be(e,t)},createHandshake:function(e,t){return new $e(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new Ne(e,t,n)}},et=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return Qe.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}(),tt=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return K(this.strategies,O.method("isSupported"))},e.prototype.connect=function(e,t){var n=this,a=this.strategies,i=0,r=this.timeout,s=null,o=function(l,c){c?t(null,c):(i+=1,n.loop&&(i%=a.length),i<a.length?(r&&(r*=2,n.timeoutLimit&&(r=Math.min(r,n.timeoutLimit))),s=n.tryStrategy(a[i],e,{timeout:r,failFast:n.failFast},o)):t(!0))};return s=this.tryStrategy(a[i],e,{timeout:r,failFast:this.failFast},o),{abort:function(){s.abort()},forceMinPriority:function(t){e=t,s&&s.forceMinPriority(t)}}},e.prototype.tryStrategy=function(e,t,n,a){var i=null,r=null;return n.timeout>0&&(i=new B(n.timeout,(function(){r.abort(),a(!0)}))),r=e.connect(t,(function(e,t){e&&i&&i.isRunning()&&!n.failFast||(i&&i.ensureAborted(),a(e,t))})),{abort:function(){i&&i.ensureAborted(),r.abort()},forceMinPriority:function(e){r.forceMinPriority(e)}}},e}(),nt=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return K(this.strategies,O.method("isSupported"))},e.prototype.connect=function(e,t){return function(e,t,n){var a=U(e,(function(e,a,i,r){return e.connect(t,n(a,r))}));return{abort:function(){V(a,at)},forceMinPriority:function(e){V(a,(function(t){t.forceMinPriority(e)}))}}}(this.strategies,e,(function(e,n){return function(a,i){n[e].error=a,a?function(e){return function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}(e,(function(e){return Boolean(e.error)}))}(n)&&t(!0):(V(n,(function(e){e.forceMinPriority(i.transport.priority)})),t(null,i))}}))},e}();function at(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}var it=function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.usingTLS=n.useTLS,this.timeline=n.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.usingTLS,a=function(e){var t=It.getLocalStorage();if(t)try{var n=t[st(e)];if(n)return JSON.parse(n)}catch(t){ot(e)}return null}(n),i=[this.strategy];if(a&&a.timestamp+this.ttl>=O.now()){var r=this.transports[a.transport];r&&(this.timeline.info({cached:!0,transport:a.transport,latency:a.latency}),i.push(new tt([r],{timeout:2*a.latency+1e3,failFast:!0})))}var s=O.now(),o=i.pop().connect(e,(function a(r,l){r?(ot(n),i.length>0?(s=O.now(),o=i.pop().connect(e,a)):t(r)):(function(e,t,n){var a=It.getLocalStorage();if(a)try{a[st(e)]=Y({timestamp:O.now(),transport:t,latency:n})}catch(e){}}(n,l.transport.name,O.now()-s),t(null,l))}));return{abort:function(){o.abort()},forceMinPriority:function(t){e=t,o&&o.forceMinPriority(t)}}},e}(),rt=it;function st(e){return"pusherTransport"+(e?"TLS":"NonTLS")}function ot(e){var t=It.getLocalStorage();if(t)try{delete t[st(e)]}catch(e){}}var lt=function(){function e(e,t){var n=t.delay;this.strategy=e,this.options={delay:n}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n,a=this.strategy,i=new B(this.options.delay,(function(){n=a.connect(e,t)}));return{abort:function(){i.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},e}(),ct=function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}return e.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},e}(),ut=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.strategy.connect(e,(function(e,a){a&&n.abort(),t(e,a)}));return n},e}();function dt(e){return function(){return e.isSupported()}}var pt,ht=function(e,t,n){var a={};function i(t,i,r,s,o){var l=n(e,t,i,r,s,o);return a[t]=l,l}var r,s=Object.assign({},t,{hostNonTLS:e.wsHost+":"+e.wsPort,hostTLS:e.wsHost+":"+e.wssPort,httpPath:e.wsPath}),o=Object.assign({},s,{useTLS:!0}),l=Object.assign({},t,{hostNonTLS:e.httpHost+":"+e.httpPort,hostTLS:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}),c={loop:!0,timeout:15e3,timeoutLimit:6e4},u=new et({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),d=new et({lives:2,minPingDelay:1e4,maxPingDelay:e.activityTimeout}),p=i("ws","ws",3,s,u),h=i("wss","ws",3,o,u),m=i("sockjs","sockjs",1,l),f=i("xhr_streaming","xhr_streaming",1,l,d),g=i("xdr_streaming","xdr_streaming",1,l,d),b=i("xhr_polling","xhr_polling",1,l),y=i("xdr_polling","xdr_polling",1,l),v=new tt([p],c),k=new tt([h],c),x=new tt([m],c),w=new tt([new ct(dt(f),f,g)],c),S=new tt([new ct(dt(b),b,y)],c),C=new tt([new ct(dt(w),new nt([w,new lt(S,{delay:4e3})]),S)],c),T=new ct(dt(C),C,x);return r=t.useTLS?new nt([v,new lt(T,{delay:2e3})]):new nt([v,new lt(k,{delay:2e3}),new lt(T,{delay:5e3})]),new rt(new ut(new ct(dt(p),r,T)),a,{ttl:18e5,timeline:t.timeline,useTLS:t.useTLS})},mt={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new m),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}},ft=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),gt=function(e){function t(t,n,a){var i=e.call(this)||this;return i.hooks=t,i.method=n,i.url=a,i}return ft(t,e),t.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},It.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},t.prototype.close=function(){this.unloader&&(It.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null},t.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>262144},t}(de);!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(pt||(pt={}));var bt=pt,yt=1;function vt(e){var t=-1===e.indexOf("?")?"?":"&";return e+t+"t="+ +new Date+"&n="+yt++}function kt(e){return Math.floor(Math.random()*e)}var xt,wt=function(){function e(e,t){this.hooks=e,this.session=kt(1e3)+"/"+function(e){for(var t=[],n=0;n<e;n++)t.push(kt(32).toString(32));return t.join("")}(8),this.location=function(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}(t),this.readyState=bt.CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==bt.OPEN)return!1;try{return It.createSocketRequest("POST",vt((t=this.location,n=this.session,t.base+"/"+n+"/xhr_send"))).start(e),!0}catch(e){return!1}var t,n},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,n){this.closeStream(),this.readyState=bt.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})},e.prototype.onChunk=function(e){var t;if(200===e.status)switch(this.readyState===bt.OPEN&&this.onActivity(),e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}},e.prototype.onOpen=function(e){var t,n,a;this.readyState===bt.CONNECTING?(e&&e.hostname&&(this.location.base=(t=this.location.base,n=e.hostname,(a=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(t))[1]+n+a[3])),this.readyState=bt.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===bt.OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var e=this;this.stream=It.createSocketRequest("POST",vt(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",(function(t){e.onChunk(t)})),this.stream.bind("finished",(function(t){e.hooks.onFinished(e,t)})),this.stream.bind("buffer_too_long",(function(){e.reconnect()}));try{this.stream.start()}catch(t){O.defer((function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)}))}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}(),St={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}},Ct={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}},Tt={getRequest:function(e){var t=new(It.getXHRAPI());return t.onreadystatechange=t.onprogress=function(){switch(t.readyState){case 3:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText);break;case 4:t.responseText&&t.responseText.length>0&&e.onChunk(t.status,t.responseText),e.emit("finished",t.status),e.close()}},t},abortRequest:function(e){e.onreadystatechange=null,e.abort()}},_t={createStreamingSocket:function(e){return this.createSocket(St,e)},createPollingSocket:function(e){return this.createSocket(Ct,e)},createSocket:function(e,t){return new wt(e,t)},createXHR:function(e,t){return this.createRequest(Tt,e,t)},createRequest:function(e,t,n){return new gt(e,t,n)},createXDR:function(e,t){return this.createRequest(mt,e,t)}},It={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:r,DependenciesReceivers:l,getDefaultStrategy:ht,Transports:_e,transportConnectionInitializer:function(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.useTLS?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),c.load(e.hooks.file,{useTLS:e.options.useTLS},(function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))}))):e.onClose()},HTTPFactory:_t,TimelineTransport:ae,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():c.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:x,jsonp:ee}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout((function(){t.onDocumentBody(e)}),0)},createJSONPRequest:function(e,t){return new ne(e,t)},createScriptRequest:function(e){return new te(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return Ae},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(xt||(xt={}));var At=xt,Nt=function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(j({},t,{timestamp:O.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(At.ERROR,e)},e.prototype.info=function(e){this.log(At.INFO,e)},e.prototype.debug=function(e){this.log(At.DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,t){var n=this,a=j({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(a,(function(e,a){e||n.sent++,t&&t(e,a)})),!0},e.prototype.generateUniqueID=function(){return this.uniqueID++,this.uniqueID},e}(),Et=function(){function e(e,t,n,a){this.name=e,this.priority=t,this.transport=n,this.options=a||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({useTLS:this.options.useTLS})},e.prototype.connect=function(e,t){var n=this;if(!this.isSupported())return Rt(new v,t);if(this.priority<e)return Rt(new f,t);var a=!1,i=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),r=null,s=function(){i.unbind("initialized",s),i.connect()},o=function(){r=Qe.createHandshake(i,(function(e){a=!0,u(),t(null,e)}))},l=function(e){u(),t(e)},c=function(){var e;u(),e=Y(i),t(new g(e))},u=function(){i.unbind("initialized",s),i.unbind("open",o),i.unbind("error",l),i.unbind("closed",c)};return i.bind("initialized",s),i.bind("open",o),i.bind("error",l),i.bind("closed",c),i.initialize(),{abort:function(){a||(u(),r?r.close():i.close())},forceMinPriority:function(e){a||n.priority<e&&(r?r.close():i.close())}}},e}();function Rt(e,t){return O.defer((function(){t(e)})),{abort:function(){},forceMinPriority:function(){}}}var Mt=It.Transports,Dt=function(e,t,n,a,i,r){var s,o=Mt[n];if(!o)throw new y(n);return e.enabledTransports&&-1===P(e.enabledTransports,t)||e.disabledTransports&&-1!==P(e.disabledTransports,t)?s=$t:(i=Object.assign({ignoreNullOrigin:e.ignoreNullOrigin},i),s=new Et(t,a,r?r.getAssistant(o):o,i)),s},$t={isSupported:function(){return!1},connect:function(e,t){var n=O.defer((function(){t(new v)}));return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}};function Bt(e){return e.httpHost?e.httpHost:e.cluster?"sockjs-"+e.cluster+".pusher.com":s.httpHost}function Lt(e){return e.wsHost?e.wsHost:e.cluster?Ft(e.cluster):Ft(s.cluster)}function Ft(e){return"ws-"+e+".pusher.com"}function Ot(e){return"https:"===It.getProtocol()||!1!==e.forceTLS}function jt(e){return"enableStats"in e?e.enableStats:"disableStats"in e&&!e.disableStats}var zt=function(){function e(t,n){var a,i,r=this;if(function(e){if(null==e)throw"You must pass your app key when you instantiate Pusher."}(t),!(n=n||{}).cluster&&!n.wsHost&&!n.httpHost){var o=d("javascriptQuickStart");Q.warn("You should always specify a cluster when connecting. "+o)}"disableStats"in n&&Q.warn("The disableStats option is deprecated in favor of enableStats"),this.key=t,this.config=(i={activityTimeout:(a=n).activityTimeout||s.activityTimeout,authEndpoint:a.authEndpoint||s.authEndpoint,authTransport:a.authTransport||s.authTransport,cluster:a.cluster||s.cluster,httpPath:a.httpPath||s.httpPath,httpPort:a.httpPort||s.httpPort,httpsPort:a.httpsPort||s.httpsPort,pongTimeout:a.pongTimeout||s.pongTimeout,statsHost:a.statsHost||s.stats_host,unavailableTimeout:a.unavailableTimeout||s.unavailableTimeout,wsPath:a.wsPath||s.wsPath,wsPort:a.wsPort||s.wsPort,wssPort:a.wssPort||s.wssPort,enableStats:jt(a),httpHost:Bt(a),useTLS:Ot(a),wsHost:Lt(a)},"auth"in a&&(i.auth=a.auth),"authorizer"in a&&(i.authorizer=a.authorizer),"disabledTransports"in a&&(i.disabledTransports=a.disabledTransports),"enabledTransports"in a&&(i.enabledTransports=a.enabledTransports),"ignoreNullOrigin"in a&&(i.ignoreNullOrigin=a.ignoreNullOrigin),"timelineParams"in a&&(i.timelineParams=a.timelineParams),"nacl"in a&&(i.nacl=a.nacl),i),this.channels=Qe.createChannels(),this.global_emitter=new de,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new Nt(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:At.INFO,version:s.VERSION}),this.config.enableStats&&(this.timelineSender=Qe.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+It.TimelineTransport.name})),this.connection=Qe.createConnectionManager(this.key,{getStrategy:function(e){return It.getDefaultStrategy(r.config,e,Dt)},timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:Boolean(this.config.useTLS)}),this.connection.bind("connected",(function(){r.subscribeAll(),r.timelineSender&&r.timelineSender.send(r.connection.isUsingTLS())})),this.connection.bind("message",(function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=r.channel(e.channel);n&&n.handleEvent(e)}t||r.global_emitter.emit(e.event,e.data)})),this.connection.bind("connecting",(function(){r.channels.disconnect()})),this.connection.bind("disconnected",(function(){r.channels.disconnect()})),this.connection.bind("error",(function(e){Q.warn(e)})),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.getClientFeatures=function(){return G(q({ws:It.Transports.ws},(function(e){return e.isSupported({})})))},e.prototype.channel=function(e){return this.channels.find(e)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isUsingTLS(),t=this.timelineSender;this.timelineSenderTimer=new L(6e4,(function(){t.send(e)}))}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(e,t,n){return this.global_emitter.bind(e,t,n),this},e.prototype.unbind=function(e,t,n){return this.global_emitter.unbind(e,t,n),this},e.prototype.bind_global=function(e){return this.global_emitter.bind_global(e),this},e.prototype.unbind_global=function(e){return this.global_emitter.unbind_global(e),this},e.prototype.unbind_all=function(e){return this.global_emitter.unbind_all(),this},e.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},e.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},e.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&t.subscribed&&t.unsubscribe()},e.prototype.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},e.prototype.shouldUseTLS=function(){return this.config.useTLS},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=It,e.ScriptReceivers=It.ScriptReceivers,e.DependenciesReceivers=It.DependenciesReceivers,e.auth_callbacks=It.auth_callbacks,e}(),Pt=t.default=zt;It.setup(zt)}])},e.exports=t()},36377:(e,t,n)=>{var a=n(84832),i=n(68652),r=n(90801),s=n(92030),o=n(3618),l=n(89049),c=n(51971);c.alea=a,c.xor128=i,c.xorwow=r,c.xorshift7=s,c.xor4096=o,c.tychei=l,e.exports=c},84832:function(e,t,n){var a;!function(e,i,r){function s(e){var t,n=this,a=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var a=.02519603282416938*(t+=e.charCodeAt(n));a-=t=a>>>0,t=(a*=t)>>>0,t+=4294967296*(a-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=a(" "),n.s1=a(" "),n.s2=a(" "),n.s0-=a(e),n.s0<0&&(n.s0+=1),n.s1-=a(e),n.s1<0&&(n.s1+=1),n.s2-=a(e),n.s2<0&&(n.s2+=1),a=null}function o(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),a=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,i))||(i.exports=a):this.alea=l}(0,e=n.nmd(e),n.amdD)},89049:function(e,t,n){var a;!function(e,i,r){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,a=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-a|0,a=a<<24^a>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-a|0,t.d=a<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var a=0;a<n.length+20;a++)t.b^=0|n.charCodeAt(a),t.next()}function o(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,i))||(i.exports=a):this.tychei=l}(0,e=n.nmd(e),n.amdD)},68652:function(e,t,n){var a;!function(e,i,r){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,i))||(i.exports=a):this.xor128=l}(0,e=n.nmd(e),n.amdD)},3618:function(e,t,n){var a;!function(e,i,r){function s(e){var t=this;t.next=function(){var e,n,a=t.w,i=t.X,r=t.i;return t.w=a=a+1640531527|0,n=i[r+34&127],e=i[r=r+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[r]=n^e,t.i=r,n+(a^a>>>16)|0},function(e,t){var n,a,i,r,s,o=[],l=128;for(t===(0|t)?(a=t,t=null):(t+="\0",a=0,l=Math.max(l,t.length)),i=0,r=-32;r<l;++r)t&&(a^=t.charCodeAt((r+32)%t.length)),0===r&&(s=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,r>=0&&(s=s+1640531527|0,i=0==(n=o[127&r]^=a+s)?i+1:0);for(i>=128&&(o[127&(t&&t.length||0)]=-1),i=127,r=512;r>0;--r)a=o[i+34&127],n=o[i=i+1&127],a^=a<<13,n^=n<<17,a^=a>>>15,n^=n>>>12,o[i]=a^n;e.w=s,e.X=o,e.i=i}(t,e)}function o(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,a&&(a.X&&o(a,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,i))||(i.exports=a):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},92030:function(e,t,n){var a;!function(e,i,r){function s(e){var t=this;t.next=function(){var e,n,a=t.x,i=t.i;return e=a[i],n=(e^=e>>>7)^e<<24,n^=(e=a[i+1&7])^e>>>10,n^=(e=a[i+3&7])^e>>>3,n^=(e=a[i+4&7])^e<<7,e=a[i+7&7],n^=(e^=e<<13)^e<<9,a[i]=n,t.i=i+1&7,n},function(e,t){var n,a=[];if(t===(0|t))a[0]=t;else for(t=""+t,n=0;n<t.length;++n)a[7&n]=a[7&n]<<15^t.charCodeAt(n)+a[n+1&7]<<13;for(;a.length<8;)a.push(0);for(n=0;n<8&&0===a[n];++n);for(8==n?a[7]=-1:a[n],e.x=a,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function o(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,a&&(a.x&&o(a,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,i))||(i.exports=a):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},90801:function(e,t,n){var a;!function(e,i,r){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),a==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function o(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),a=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,a&&("object"==typeof a&&o(a,n),i.state=function(){return o(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,i))||(i.exports=a):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},51971:(e,t,n)=>{var a;!function(i,r){var s,o=this,l=256,c=r.pow(l,6),u=r.pow(2,52),d=2*u,p=255;function h(e,t,n){var a=[],p=b(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,y(i)]}}():e,3),a),h=new m(a),v=function(){for(var e=h.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|h.g(4)},v.quick=function(){return h.g(4)/4294967296},v.double=v,b(y(h.S),i),(t.pass||n||function(e,t,n,a){return a&&(a.S&&f(a,h),e.state=function(){return f(h,{})}),n?(r.random=e,t):e})(v,p,"global"in t?t.global:this==r,t.state)}function m(e){var t,n=e.length,a=this,i=0,r=a.i=a.j=0,s=a.S=[];for(n||(e=[n++]);i<l;)s[i]=i++;for(i=0;i<l;i++)s[i]=s[r=p&r+e[i%n]+(t=s[i])],s[r]=t;(a.g=function(e){for(var t,n=0,i=a.i,r=a.j,s=a.S;e--;)t=s[i=p&i+1],n=n*l+s[p&(s[i]=s[r=p&r+t])+(s[r]=t)];return a.i=i,a.j=r,n})(l)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,a=[],i=typeof e;if(t&&"object"==i)for(n in e)try{a.push(g(e[n],t-1))}catch(e){}return a.length?a:"string"==i?e:e+"\0"}function b(e,t){for(var n,a=e+"",i=0;i<a.length;)t[p&i]=p&(n^=19*t[p&i])+a.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(r.seedrandom=h,b(r.random(),i),e.exports){e.exports=h;try{s=n(75042)}catch(e){}}else void 0===(a=function(){return h}.call(t,n,t,e))||(e.exports=a)}([],Math)},65034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var a=n(20629);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o={props:{tag:{type:String,default:"a"},place:{type:String,default:"normal"},size:{type:String,default:"normal"},appLogo:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},link:{type:String,default:""},assets:{type:Object}},data:function(){return{appLogoText:window.kmenv.name}},computed:r(r({},(0,a.Se)("config",["configs","uiConfigs"])),{},{computedUrl:function(){return"a"===this.tag&&(""!==this.link?this.link:"/")},orgLogo:function(){if(this.appLogo||!this.configs.assets&&!this.assets)return"navbar"===this.place||"sidebar"===this.place||"dark"===this.place?"/images/logo-light.png":"/images/logo.png";var e=this.assets&&this.assets.logo?this.assets.logo:this.configs.assets.logo?this.configs.assets.logo:"/images/logo.png";return(this.assets&&this.assets.logoLight||this.configs.assets.logoLight)&&("navbar"===this.place&&this.uiConfigs.topNavbarLogoLight||"sidebar"===this.place&&this.uiConfigs.leftSidebarLogoLight||"dark"===this.place)&&(e=this.assets&&this.assets.logoLight?this.assets.logoLight:this.configs.assets.logoLight),e},orgIcon:function(){return this.configs.assets||this.assets?this.assets&&this.assets.icon?this.assets.icon:this.configs.assets.icon?this.configs.assets.icon:"/images/icon.png":"/images/icon.png"},appTitle:function(){return this.configs.basic?this.configs.basic.appName:window.kmenv.name}})};const l=(0,n(51900).Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(e.tag,{tag:"component",class:["logo",e.place+"-logo",e.size+"-logo",e.orgLogo?"org-logo":"app-logo",e.inline?"inline-logo":""],attrs:{href:e.computedUrl}},[e.orgLogo?n("img",{staticClass:"logo-icon",attrs:{src:e.orgLogo,alt:e.appTitle}}):e._e(),e._v(" "),e.orgIcon?n("img",{staticClass:"logo-icon-mobile",attrs:{src:e.orgIcon,alt:e.appTitle}}):[n("span",{staticClass:"logo-text",attrs:{title:e.appTitle}},[e._v(e._s(e.appLogoText))])]],2)}),[],!1,null,null,null).exports},74703:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const a={name:"animated-number",props:{number:{type:Number,default:0},delay:{type:Number,default:20}},data:function(){return{displayNumber:0,interval:!1,initialInterval:!1}},methods:{changeNumberFn:function(){if(this.displayNumber!=this.number){var e=(this.number-this.displayNumber)/10;e=e>=0?Math.ceil(e):Math.floor(e),this.displayNumber=this.displayNumber+e}}},watch:{number:function(){clearInterval(this.interval),this.number!=this.displayNumber&&(this.interval=window.setInterval(this.changeNumberFn,this.delay))}},mounted:function(){this.displayNumber=0,clearInterval(this.initialInterval),this.number!=this.displayNumber&&(this.initialInterval=window.setInterval(this.changeNumberFn,this.delay))}};const i=(0,n(51900).Z)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v(e._s(e.displayNumber))])}),[],!1,null,null,null).exports},18999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>qe});var a,i=n(20629),r=n(47489),s=n(9669),o=n.n(s),l=n(73446),c=n(1247),u=n(30401),d=class extends Error{},p=((a=p||{}).female="female",a.male="male",a);function h(e,t,{generic:n,female:a,male:i}={}){let r;switch(t){case"female":r=a;break;case"male":r=i;break;default:r=n}return null==r&&(r=null!=a&&null!=i?e.helpers.arrayElement([a,i]):n),e.helpers.arrayElement(r)}var m=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(m.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}firstName(e){let{first_name:t,female_first_name:n,male_first_name:a}=this.faker.definitions.name;return h(this.faker,e,{generic:t,female:n,male:a})}lastName(e){let{last_name:t,female_last_name:n,male_last_name:a}=this.faker.definitions.name;return h(this.faker,e,{generic:t,female:n,male:a})}middleName(e){let{middle_name:t,female_middle_name:n,male_middle_name:a}=this.faker.definitions.name;return h(this.faker,e,{generic:t,female:n,male:a})}findName(e,t,n){let a=null!=n?n:this.faker.helpers.arrayElement(["female","male"]);e=e||this.firstName(a),t=t||this.lastName(a);let i=[],r=this.faker.helpers.maybe((()=>this.prefix(n)),{probability:.125});r&&i.push(r),i.push(e),i.push(t);let s=this.faker.helpers.maybe((()=>this.suffix()),{probability:.125});return s&&i.push(s),i.join(" ")}gender(e){return e?this.faker.helpers.arrayElement(this.faker.definitions.name.binary_gender):this.faker.helpers.arrayElement(this.faker.definitions.name.gender)}prefix(e){let{prefix:t,female_prefix:n,male_prefix:a}=this.faker.definitions.name;return h(this.faker,e,{generic:t,female:n,male:a})}suffix(){return this.faker.helpers.arrayElement(this.faker.definitions.name.suffix)}jobTitle(){return`${this.jobDescriptor()} ${this.jobArea()} ${this.jobType()}`}jobDescriptor(){return this.faker.helpers.arrayElement(this.faker.definitions.name.title.descriptor)}jobArea(){return this.faker.helpers.arrayElement(this.faker.definitions.name.title.level)}jobType(){return this.faker.helpers.arrayElement(this.faker.definitions.name.title.job)}};function f(e){let t=`[@faker-js/faker]: ${e.deprecated} is deprecated`;e.since&&(t+=` since v${e.since}`),e.until&&(t+=` and will be removed in v${e.until}`),e.proposed&&(t+=`. Please use ${e.proposed} instead.`),console.warn(`${t}.`)}var g=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(g.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}zipCode(e){if(null==e){let t=this.faker.definitions.address.postcode;e="string"==typeof t?t:this.faker.helpers.arrayElement(t)}return this.faker.helpers.replaceSymbols(e)}zipCodeByState(e){var t;let n=null==(t=this.faker.definitions.address.postcode_by_state)?void 0:t[e];return n?String(this.faker.datatype.number(n)):this.zipCode()}city(e){null!=e&&f({deprecated:"faker.address.city(format)",proposed:"faker.address.city() or faker.fake(format)",since:"7.0",until:"8.0"});let t=this.faker.definitions.address.city;return"number"!=typeof e&&(e=this.faker.datatype.number(t.length-1)),this.faker.fake(t[e])}cityPrefix(){return f({deprecated:"faker.address.cityPrefix()",proposed:"faker.address.city() or faker.fake('{{address.city_prefix}}')",since:"7.2",until:"8.0"}),this.faker.helpers.arrayElement(this.faker.definitions.address.city_prefix)}citySuffix(){return f({deprecated:"faker.address.citySuffix()",proposed:"faker.address.city() or faker.fake('{{address.city_suffix}}')",since:"7.2",until:"8.0"}),this.faker.helpers.arrayElement(this.faker.definitions.address.city_suffix)}cityName(){return this.faker.helpers.arrayElement(this.faker.definitions.address.city_name)}buildingNumber(){let e=this.faker.helpers.arrayElement(this.faker.definitions.address.building_number);return this.faker.helpers.replaceSymbolWithNumber(e)}street(){let e=this.faker.helpers.arrayElement(this.faker.definitions.address.street);return this.faker.fake(e)}streetName(){return null==this.faker.definitions.address.street_name?(f({deprecated:"faker.address.streetName() without address.street_name definitions",proposed:"faker.address.street() or provide address.street_name definitions",since:"7.0",until:"8.0"}),this.street()):this.faker.helpers.arrayElement(this.faker.definitions.address.street_name)}streetAddress(e=!1){let t=this.faker.definitions.address.street_address[e?"full":"normal"];return this.faker.fake(t)}streetSuffix(){return this.faker.helpers.arrayElement(this.faker.definitions.address.street_suffix)}streetPrefix(){return this.faker.helpers.arrayElement(this.faker.definitions.address.street_prefix)}secondaryAddress(){return this.faker.helpers.replaceSymbolWithNumber(this.faker.helpers.arrayElement(this.faker.definitions.address.secondary_address))}county(){return this.faker.helpers.arrayElement(this.faker.definitions.address.county)}country(){return this.faker.helpers.arrayElement(this.faker.definitions.address.country)}countryCode(e="alpha-2"){let t="alpha-3"===e?"country_code_alpha_3":"country_code";return this.faker.helpers.arrayElement(this.faker.definitions.address[t])}state(){return this.faker.helpers.arrayElement(this.faker.definitions.address.state)}stateAbbr(){return this.faker.helpers.arrayElement(this.faker.definitions.address.state_abbr)}latitude(e=90,t=-90,n=4){return this.faker.datatype.number({min:t,max:e,precision:parseFloat(`${(0).toPrecision(n)}1`)}).toFixed(n)}longitude(e=180,t=-180,n=4){return this.faker.datatype.number({max:e,min:t,precision:parseFloat(`${(0).toPrecision(n)}1`)}).toFixed(n)}direction(e=!1){return e?this.faker.helpers.arrayElement(this.faker.definitions.address.direction_abbr):this.faker.helpers.arrayElement(this.faker.definitions.address.direction)}cardinalDirection(e=!1){return e?this.faker.helpers.arrayElement(this.faker.definitions.address.direction_abbr.slice(0,4)):this.faker.helpers.arrayElement(this.faker.definitions.address.direction.slice(0,4))}ordinalDirection(e=!1){return e?this.faker.helpers.arrayElement(this.faker.definitions.address.direction_abbr.slice(4,8)):this.faker.helpers.arrayElement(this.faker.definitions.address.direction.slice(4,8))}nearbyGPSCoordinate(e,t=10,n=!1){if(void 0===e)return[this.latitude(),this.longitude()];let a=this.faker.datatype.float({min:0,max:2*Math.PI,precision:1e-5}),i=n?t:1.60934*t,r=.995*this.faker.datatype.float({min:0,max:i,precision:.001})/(4e4/360),s=[e[0]+Math.sin(a)*r,e[1]+Math.cos(a)*r];return s[0]=s[0]%180,(s[0]<-90||s[0]>90)&&(s[0]=180*Math.sign(s[0])-s[0],s[1]+=180),s[1]=(s[1]%360+540)%360-180,[s[0].toFixed(4),s[1].toFixed(4)]}timeZone(){return this.faker.helpers.arrayElement(this.faker.definitions.address.time_zone)}},b=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(b.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}dog(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.dog)}cat(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.cat)}snake(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.snake)}bear(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.bear)}lion(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.lion)}cetacean(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.cetacean)}horse(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.horse)}bird(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.bird)}cow(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.cow)}fish(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.fish)}crocodilia(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.crocodilia)}insect(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.insect)}rabbit(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.rabbit)}type(){return this.faker.helpers.arrayElement(this.faker.definitions.animal.type)}},y=["sRGB","display-p3","rec2020","a98-rgb","prophoto-rgb","rec2020"],v=["rgb","rgba","hsl","hsla","hwb","cmyk","lab","lch","color"];function k(e){return e.map((e=>{if(e%1!=0){let t=new ArrayBuffer(4);new DataView(t).setFloat32(0,e);let n=new Uint8Array(t);return k(Array.from(n)).split(" ").join("")}return(e>>>0).toString(2).padStart(8,"0")})).join(" ")}function x(e,t,n="rgb",a="sRGB"){switch(t){case"css":return function(e,t="rgb",n="sRGB"){let a=e=>Math.round(100*e);switch(t){case"rgba":return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`;case"color":return`color(${n} ${e[0]} ${e[1]} ${e[2]})`;case"cmyk":return`cmyk(${a(e[0])}%, ${a(e[1])}%, ${a(e[2])}%, ${a(e[3])}%)`;case"hsl":return`hsl(${e[0]}deg ${a(e[1])}% ${a(e[2])}%)`;case"hsla":return`hsl(${e[0]}deg ${a(e[1])}% ${a(e[2])}% / ${a(e[3])})`;case"hwb":return`hwb(${e[0]} ${a(e[1])}% ${a(e[2])}%)`;case"lab":return`lab(${a(e[0])}% ${e[1]} ${e[2]})`;case"lch":return`lch(${a(e[0])}% ${e[1]} ${e[2]})`;default:return`rgb(${e[0]}, ${e[1]}, ${e[2]})`}}(e,n,a);case"binary":return k(e);default:return e}}var w=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(w.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}human(){return this.faker.helpers.arrayElement(this.faker.definitions.color.human)}space(){return this.faker.helpers.arrayElement(this.faker.definitions.color.space)}cssSupportedFunction(){return this.faker.helpers.arrayElement(v)}cssSupportedSpace(){return this.faker.helpers.arrayElement(y)}rgb(e){let{format:t="hex",includeAlpha:n=!1,prefix:a="#",casing:i="lower"}=e||{};e={format:t,includeAlpha:n,prefix:a,casing:i};let r,s="rgb";return"hex"===t?(r=this.faker.datatype.hexadecimal(n?8:6).slice(2),r=function(e,t){switch(null==t?void 0:t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return null!=t&&t.prefix&&(e=t.prefix+e),e}(r,e),r):(r=Array.from({length:3}).map((()=>this.faker.datatype.number({min:0,max:255}))),n&&(r.push(this.faker.datatype.float({min:0,max:1,precision:.01})),s="rgba"),x(r,t,s))}cmyk(e){return x(Array.from({length:4}).map((()=>this.faker.datatype.float({min:0,max:1,precision:.01}))),(null==e?void 0:e.format)||"decimal","cmyk")}hsl(e){let t=[this.faker.datatype.number({min:0,max:360})];for(let n=0;n<(null!=e&&e.includeAlpha?3:2);n++)t.push(this.faker.datatype.float({min:0,max:1,precision:.01}));return x(t,(null==e?void 0:e.format)||"decimal",null!=e&&e.includeAlpha?"hsla":"hsl")}hwb(e){let t=[this.faker.datatype.number({min:0,max:360})];for(let e=0;e<2;e++)t.push(this.faker.datatype.float({min:0,max:1,precision:.01}));return x(t,(null==e?void 0:e.format)||"decimal","hwb")}lab(e){let t=[this.faker.datatype.float({min:0,max:1,precision:1e-6})];for(let e=0;e<2;e++)t.push(this.faker.datatype.float({min:-100,max:100,precision:1e-4}));return x(t,(null==e?void 0:e.format)||"decimal","lab")}lch(e){let t=[this.faker.datatype.float({min:0,max:1,precision:1e-6})];for(let e=0;e<2;e++)t.push(this.faker.datatype.number({min:0,max:230,precision:.1}));return x(t,(null==e?void 0:e.format)||"decimal","lch")}colorByCSSColorSpace(e){return"css"===(null==e?void 0:e.format)&&(null==e||!e.space)&&(e={...e,space:"sRGB"}),x(Array.from({length:3}).map((()=>this.faker.datatype.float({min:0,max:1,precision:1e-4}))),(null==e?void 0:e.format)||"decimal","color",null==e?void 0:e.space)}},S=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(S.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}color(){return f({deprecated:"faker.commerce.color()",proposed:"faker.color.human()",since:"7.0",until:"8.0"}),this.faker.color.human()}department(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.department)}productName(){return`${this.productAdjective()} ${this.productMaterial()} ${this.product()}`}price(e=1,t=1e3,n=2,a=""){if(e<0||t<0)return`${a}0`;let i=this.faker.datatype.number({max:t,min:e});return a+(Math.round(i*Math.pow(10,n))/Math.pow(10,n)).toFixed(n)}productAdjective(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_name.adjective)}productMaterial(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_name.material)}product(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_name.product)}productDescription(){return this.faker.helpers.arrayElement(this.faker.definitions.commerce.product_description)}},C=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(C.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}suffixes(){return this.faker.definitions.company.suffix.slice(0)}companyName(e){let t=["{{name.lastName}} {{company.companySuffix}}","{{name.lastName}} - {{name.lastName}}","{{name.lastName}}, {{name.lastName}} and {{name.lastName}}"];return"number"!=typeof e&&(e=this.faker.datatype.number(t.length-1)),this.faker.fake(t[e])}companySuffix(){return this.faker.helpers.arrayElement(this.suffixes())}catchPhrase(){return this.faker.fake("{{company.catchPhraseAdjective}} {{company.catchPhraseDescriptor}} {{company.catchPhraseNoun}}")}bs(){return this.faker.fake("{{company.bsBuzz}} {{company.bsAdjective}} {{company.bsNoun}}")}catchPhraseAdjective(){return this.faker.helpers.arrayElement(this.faker.definitions.company.adjective)}catchPhraseDescriptor(){return this.faker.helpers.arrayElement(this.faker.definitions.company.descriptor)}catchPhraseNoun(){return this.faker.helpers.arrayElement(this.faker.definitions.company.noun)}bsAdjective(){return this.faker.helpers.arrayElement(this.faker.definitions.company.bs_adjective)}bsBuzz(){return this.faker.helpers.arrayElement(this.faker.definitions.company.bs_verb)}bsNoun(){return this.faker.helpers.arrayElement(this.faker.definitions.company.bs_noun)}},T=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(T.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}column(){return this.faker.helpers.arrayElement(this.faker.definitions.database.column)}type(){return this.faker.helpers.arrayElement(this.faker.definitions.database.type)}collation(){return this.faker.helpers.arrayElement(this.faker.definitions.database.collation)}engine(){return this.faker.helpers.arrayElement(this.faker.definitions.database.engine)}mongodbObjectId(){return this.faker.datatype.hexadecimal(24).replace("0x","").toLowerCase()}},I=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(I.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}number(e=99999){var t;"number"==typeof e&&(e={max:e});let{min:n=0,precision:a=1}=e,i=null!=(t=e.max)?t:n+99999;if(i===n)return n;if(i<n)throw new d(`Max ${i} should be greater than min ${n}.`);return Math.floor(this.faker.mersenne.rand(i/a+1,n/a))/(1/a)}float(e){"number"==typeof e&&(e={precision:e}),e=e||{};let t={};for(let n in e)t[n]=e[n];return null==t.precision&&(t.precision=.01),this.number(t)}datetime(e={}){let t="number"==typeof e?void 0:e.min,n="number"==typeof e?e:e.max;return(null==t||t<-864e13)&&(t=Date.UTC(1990,0)),(null==n||n>864e13)&&(n=Date.UTC(2100,0)),new Date(this.number({min:t,max:n}))}string(e=10){let t=Math.pow(2,20);e>=t&&(e=t);let n={min:33,max:125},a="";for(let t=0;t<e;t++)a+=String.fromCharCode(this.number(n));return a}uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{let t=this.number({min:0,max:15});return("x"===e?t:3&t|8).toString(16)}))}boolean(){return!!this.number(1)}hexadecimal(e=1){let t="";for(let n=0;n<e;n++)t+=this.faker.helpers.arrayElement(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"]);return`0x${t}`}json(){let e={};return["foo","bar","bike","a","b","name","prop"].forEach((t=>{e[t]=this.boolean()?this.string():this.number()})),JSON.stringify(e)}array(e=10){return Array.from({length:e}).map((()=>this.boolean()?this.string():this.number()))}bigInt(e){var t,n;let a,i;if("object"==typeof e?(a=BigInt(null!=(t=e.min)?t:0),i=BigInt(null!=(n=e.max)?n:a+BigInt(999999999999999))):(a=BigInt(0),i=BigInt(null!=e?e:999999999999999)),i===a)return a;if(i<a)throw new d(`Max ${i} should be larger then min ${a}.`);let r=i-a;return a+BigInt(this.faker.random.numeric(r.toString(10).length,{allowLeadingZeros:!0}))%(r+BigInt(1))}};function A(e){return e=new Date(e),isNaN(e.valueOf())&&(e=new Date),e}var N=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(N.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}past(e,t){let n=A(t),a={min:1e3,max:365*(e||1)*24*3600*1e3},i=n.getTime();return i-=this.faker.datatype.number(a),n.setTime(i),n}future(e,t){let n=A(t),a={min:1e3,max:365*(e||1)*24*3600*1e3},i=n.getTime();return i+=this.faker.datatype.number(a),n.setTime(i),n}between(e,t){let n=A(e).getTime(),a=A(t).getTime(),i=this.faker.datatype.number(a-n);return new Date(n+i)}betweens(e,t,n=3){let a=[];for(;a.length<n;)a.push(this.between(e,t));return a.sort(((e,t)=>e.getTime()-t.getTime()))}recent(e,t){let n=A(t),a={min:1e3,max:24*(e||1)*3600*1e3},i=n.getTime();return i-=this.faker.datatype.number(a),n.setTime(i),n}soon(e,t){let n=A(t),a={min:1e3,max:24*(e||1)*3600*1e3},i=n.getTime();return i+=this.faker.datatype.number(a),n.setTime(i),n}month(e){var t,n;let a,i=null!=(t=null==e?void 0:e.abbr)&&t,r=null!=(n=null==e?void 0:e.context)&&n,s=this.faker.definitions.date.month;return a=i?r&&null!=s.abbr_context?"abbr_context":"abbr":r&&null!=s.wide_context?"wide_context":"wide",this.faker.helpers.arrayElement(s[a])}weekday(e){var t,n;let a,i=null!=(t=null==e?void 0:e.abbr)&&t,r=null!=(n=null==e?void 0:e.context)&&n,s=this.faker.definitions.date.weekday;return a=i?r&&null!=s.abbr_context?"abbr_context":"abbr":r&&null!=s.wide_context?"wide_context":"wide",this.faker.helpers.arrayElement(s[a])}birthdate(e={}){var t,n,a,i;let r,s,o="age"===e.mode?"age":"year",l=A(e.refDate),c=l.getUTCFullYear();if("age"===o?(r=new Date(l).setUTCFullYear(c-(null!=(t=e.max)?t:80)-1),s=new Date(l).setUTCFullYear(c-(null!=(n=e.min)?n:18))):(r=new Date(Date.UTC(0,0,2)).setUTCFullYear(null!=(a=e.min)?a:c-80),s=new Date(Date.UTC(0,11,30)).setUTCFullYear(null!=(i=e.max)?i:c-18)),s<r)throw new d(`Max ${s} should be larger then min ${r}.`);return new Date(this.faker.datatype.number({min:r,max:s}))}},E=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(E.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}fake(e){if("string"!=typeof e||0===e.length)throw new d("string parameter is required!");let t=e.search(/{{[a-z]/),n=e.indexOf("}}",t);if(-1===t||-1===n)return e;let a=e.substring(t+2,n+2).replace("}}","").replace("{{",""),i=/\(([^)]+)\)/,r=i.exec(a),s="";r&&(a=a.replace(i,""),s=r[1]);let o,l,c,u=a.split("."),p=this.faker,h=this.faker.definitions;for(let e of u)p=null==p?void 0:p[e],h=null==h?void 0:h[e];if("function"==typeof p)o=p;else{if(!Array.isArray(h))throw new d(`Invalid module method or definition: ${a}\n- faker.${a} is not a function\n- faker.definitions.${a} is not an array`);o=()=>this.faker.helpers.arrayElement(h)}o=o.bind(this);try{l=JSON.parse(s)}catch{l=s}c="string"==typeof l&&0===l.length?String(o()):String(o(l));let m=e.substring(0,t)+c+e.substring(n+2);return""===m?"":this.fake(m)}},R={alpha:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],formats:[{country:"AL",total:28,bban:[{type:"n",count:8},{type:"c",count:16}],format:"ALkk bbbs sssx cccc cccc cccc cccc"},{country:"AD",total:24,bban:[{type:"n",count:8},{type:"c",count:12}],format:"ADkk bbbb ssss cccc cccc cccc"},{country:"AT",total:20,bban:[{type:"n",count:5},{type:"n",count:11}],format:"ATkk bbbb bccc cccc cccc"},{country:"AZ",total:28,bban:[{type:"a",count:4},{type:"n",count:20}],format:"AZkk bbbb cccc cccc cccc cccc cccc"},{country:"BH",total:22,bban:[{type:"a",count:4},{type:"c",count:14}],format:"BHkk bbbb cccc cccc cccc cc"},{country:"BE",total:16,bban:[{type:"n",count:3},{type:"n",count:9}],format:"BEkk bbbc cccc ccxx"},{country:"BA",total:20,bban:[{type:"n",count:6},{type:"n",count:10}],format:"BAkk bbbs sscc cccc ccxx"},{country:"BR",total:29,bban:[{type:"n",count:13},{type:"n",count:10},{type:"a",count:1},{type:"c",count:1}],format:"BRkk bbbb bbbb ssss sccc cccc ccct n"},{country:"BG",total:22,bban:[{type:"a",count:4},{type:"n",count:6},{type:"c",count:8}],format:"BGkk bbbb ssss ddcc cccc cc"},{country:"CR",total:22,bban:[{type:"n",count:1},{type:"n",count:3},{type:"n",count:14}],format:"CRkk xbbb cccc cccc cccc cc"},{country:"HR",total:21,bban:[{type:"n",count:7},{type:"n",count:10}],format:"HRkk bbbb bbbc cccc cccc c"},{country:"CY",total:28,bban:[{type:"n",count:8},{type:"c",count:16}],format:"CYkk bbbs ssss cccc cccc cccc cccc"},{country:"CZ",total:24,bban:[{type:"n",count:10},{type:"n",count:10}],format:"CZkk bbbb ssss sscc cccc cccc"},{country:"DK",total:18,bban:[{type:"n",count:4},{type:"n",count:10}],format:"DKkk bbbb cccc cccc cc"},{country:"DO",total:28,bban:[{type:"a",count:4},{type:"n",count:20}],format:"DOkk bbbb cccc cccc cccc cccc cccc"},{country:"TL",total:23,bban:[{type:"n",count:3},{type:"n",count:16}],format:"TLkk bbbc cccc cccc cccc cxx"},{country:"EE",total:20,bban:[{type:"n",count:4},{type:"n",count:12}],format:"EEkk bbss cccc cccc cccx"},{country:"FO",total:18,bban:[{type:"n",count:4},{type:"n",count:10}],format:"FOkk bbbb cccc cccc cx"},{country:"FI",total:18,bban:[{type:"n",count:6},{type:"n",count:8}],format:"FIkk bbbb bbcc cccc cx"},{country:"FR",total:27,bban:[{type:"n",count:10},{type:"c",count:11},{type:"n",count:2}],format:"FRkk bbbb bggg ggcc cccc cccc cxx"},{country:"GE",total:22,bban:[{type:"a",count:2},{type:"n",count:16}],format:"GEkk bbcc cccc cccc cccc cc"},{country:"DE",total:22,bban:[{type:"n",count:8},{type:"n",count:10}],format:"DEkk bbbb bbbb cccc cccc cc"},{country:"GI",total:23,bban:[{type:"a",count:4},{type:"c",count:15}],format:"GIkk bbbb cccc cccc cccc ccc"},{country:"GR",total:27,bban:[{type:"n",count:7},{type:"c",count:16}],format:"GRkk bbbs sssc cccc cccc cccc ccc"},{country:"GL",total:18,bban:[{type:"n",count:4},{type:"n",count:10}],format:"GLkk bbbb cccc cccc cc"},{country:"GT",total:28,bban:[{type:"c",count:4},{type:"c",count:4},{type:"c",count:16}],format:"GTkk bbbb mmtt cccc cccc cccc cccc"},{country:"HU",total:28,bban:[{type:"n",count:8},{type:"n",count:16}],format:"HUkk bbbs sssk cccc cccc cccc cccx"},{country:"IS",total:26,bban:[{type:"n",count:6},{type:"n",count:16}],format:"ISkk bbbb sscc cccc iiii iiii ii"},{country:"IE",total:22,bban:[{type:"c",count:4},{type:"n",count:6},{type:"n",count:8}],format:"IEkk aaaa bbbb bbcc cccc cc"},{country:"IL",total:23,bban:[{type:"n",count:6},{type:"n",count:13}],format:"ILkk bbbn nncc cccc cccc ccc"},{country:"IT",total:27,bban:[{type:"a",count:1},{type:"n",count:10},{type:"c",count:12}],format:"ITkk xaaa aabb bbbc cccc cccc ccc"},{country:"JO",total:30,bban:[{type:"a",count:4},{type:"n",count:4},{type:"n",count:18}],format:"JOkk bbbb nnnn cccc cccc cccc cccc cc"},{country:"KZ",total:20,bban:[{type:"n",count:3},{type:"c",count:13}],format:"KZkk bbbc cccc cccc cccc"},{country:"XK",total:20,bban:[{type:"n",count:4},{type:"n",count:12}],format:"XKkk bbbb cccc cccc cccc"},{country:"KW",total:30,bban:[{type:"a",count:4},{type:"c",count:22}],format:"KWkk bbbb cccc cccc cccc cccc cccc cc"},{country:"LV",total:21,bban:[{type:"a",count:4},{type:"c",count:13}],format:"LVkk bbbb cccc cccc cccc c"},{country:"LB",total:28,bban:[{type:"n",count:4},{type:"c",count:20}],format:"LBkk bbbb cccc cccc cccc cccc cccc"},{country:"LI",total:21,bban:[{type:"n",count:5},{type:"c",count:12}],format:"LIkk bbbb bccc cccc cccc c"},{country:"LT",total:20,bban:[{type:"n",count:5},{type:"n",count:11}],format:"LTkk bbbb bccc cccc cccc"},{country:"LU",total:20,bban:[{type:"n",count:3},{type:"c",count:13}],format:"LUkk bbbc cccc cccc cccc"},{country:"MK",total:19,bban:[{type:"n",count:3},{type:"c",count:10},{type:"n",count:2}],format:"MKkk bbbc cccc cccc cxx"},{country:"MT",total:31,bban:[{type:"a",count:4},{type:"n",count:5},{type:"c",count:18}],format:"MTkk bbbb ssss sccc cccc cccc cccc ccc"},{country:"MR",total:27,bban:[{type:"n",count:10},{type:"n",count:13}],format:"MRkk bbbb bsss sscc cccc cccc cxx"},{country:"MU",total:30,bban:[{type:"a",count:4},{type:"n",count:4},{type:"n",count:15},{type:"a",count:3}],format:"MUkk bbbb bbss cccc cccc cccc 000d dd"},{country:"MC",total:27,bban:[{type:"n",count:10},{type:"c",count:11},{type:"n",count:2}],format:"MCkk bbbb bsss sscc cccc cccc cxx"},{country:"MD",total:24,bban:[{type:"c",count:2},{type:"c",count:18}],format:"MDkk bbcc cccc cccc cccc cccc"},{country:"ME",total:22,bban:[{type:"n",count:3},{type:"n",count:15}],format:"MEkk bbbc cccc cccc cccc xx"},{country:"NL",total:18,bban:[{type:"a",count:4},{type:"n",count:10}],format:"NLkk bbbb cccc cccc cc"},{country:"NO",total:15,bban:[{type:"n",count:4},{type:"n",count:7}],format:"NOkk bbbb cccc ccx"},{country:"PK",total:24,bban:[{type:"a",count:4},{type:"n",count:16}],format:"PKkk bbbb cccc cccc cccc cccc"},{country:"PS",total:29,bban:[{type:"c",count:4},{type:"n",count:9},{type:"n",count:12}],format:"PSkk bbbb xxxx xxxx xccc cccc cccc c"},{country:"PL",total:28,bban:[{type:"n",count:8},{type:"n",count:16}],format:"PLkk bbbs sssx cccc cccc cccc cccc"},{country:"PT",total:25,bban:[{type:"n",count:8},{type:"n",count:13}],format:"PTkk bbbb ssss cccc cccc cccx x"},{country:"QA",total:29,bban:[{type:"a",count:4},{type:"c",count:21}],format:"QAkk bbbb cccc cccc cccc cccc cccc c"},{country:"RO",total:24,bban:[{type:"a",count:4},{type:"c",count:16}],format:"ROkk bbbb cccc cccc cccc cccc"},{country:"SM",total:27,bban:[{type:"a",count:1},{type:"n",count:10},{type:"c",count:12}],format:"SMkk xaaa aabb bbbc cccc cccc ccc"},{country:"SA",total:24,bban:[{type:"n",count:2},{type:"c",count:18}],format:"SAkk bbcc cccc cccc cccc cccc"},{country:"RS",total:22,bban:[{type:"n",count:3},{type:"n",count:15}],format:"RSkk bbbc cccc cccc cccc xx"},{country:"SK",total:24,bban:[{type:"n",count:10},{type:"n",count:10}],format:"SKkk bbbb ssss sscc cccc cccc"},{country:"SI",total:19,bban:[{type:"n",count:5},{type:"n",count:10}],format:"SIkk bbss sccc cccc cxx"},{country:"ES",total:24,bban:[{type:"n",count:10},{type:"n",count:10}],format:"ESkk bbbb gggg xxcc cccc cccc"},{country:"SE",total:24,bban:[{type:"n",count:3},{type:"n",count:17}],format:"SEkk bbbc cccc cccc cccc cccc"},{country:"CH",total:21,bban:[{type:"n",count:5},{type:"c",count:12}],format:"CHkk bbbb bccc cccc cccc c"},{country:"TN",total:24,bban:[{type:"n",count:5},{type:"n",count:15}],format:"TNkk bbss sccc cccc cccc cccc"},{country:"TR",total:26,bban:[{type:"n",count:5},{type:"n",count:1},{type:"n",count:16}],format:"TRkk bbbb bxcc cccc cccc cccc cc"},{country:"AE",total:23,bban:[{type:"n",count:3},{type:"n",count:16}],format:"AEkk bbbc cccc cccc cccc ccc"},{country:"GB",total:22,bban:[{type:"a",count:4},{type:"n",count:6},{type:"n",count:8}],format:"GBkk bbbb ssss sscc cccc cc"},{country:"VG",total:24,bban:[{type:"c",count:4},{type:"n",count:16}],format:"VGkk bbbb cccc cccc cccc cccc"}],iso3166:["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW"],mod97:e=>{let t=0;for(let n=0;n<e.length;n++)t=(10*t+ +e[n])%97;return t},pattern10:["01","02","03","04","05","06","07","08","09"],pattern100:["001","002","003","004","005","006","007","008","009"],toDigitString:e=>e.replace(/[A-Z]/gi,(e=>String(e.toUpperCase().charCodeAt(0)-55)))},M=R,D=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(D.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}account(e){e=e||8;let t="";for(let n=0;n<e;n++)t+="#";return e=null,this.faker.helpers.replaceSymbolWithNumber(t)}accountName(){return[this.faker.helpers.arrayElement(this.faker.definitions.finance.account_type),"Account"].join(" ")}routingNumber(){let e=this.faker.helpers.replaceSymbolWithNumber("########"),t=0;for(let n=0;n<e.length;n+=3)t+=3*Number(e[n]),t+=7*Number(e[n+1]),t+=Number(e[n+2])||0;return`${e}${10*Math.ceil(t/10)-t}`}mask(e,t,n){e=e||4,t=null==t||t,n=null==n||n;let a="";for(let t=0;t<e;t++)a=`${a}#`;return a=n?["...",a].join(""):a,a=t?["(",a,")"].join(""):a,a=this.faker.helpers.replaceSymbolWithNumber(a),a}amount(e=0,t=1e3,n=2,a="",i){let r,s=this.faker.datatype.number({max:t,min:e,precision:Math.pow(10,-n)});return r=i?s.toLocaleString(void 0,{minimumFractionDigits:n}):s.toFixed(n),a+r}transactionType(){return this.faker.helpers.arrayElement(this.faker.definitions.finance.transaction_type)}currencyCode(){return this.faker.helpers.objectValue(this.faker.definitions.finance.currency).code}currencyName(){return this.faker.helpers.objectKey(this.faker.definitions.finance.currency)}currencySymbol(){let e;for(;!e;)e=this.faker.helpers.objectValue(this.faker.definitions.finance.currency).symbol;return e}bitcoinAddress(){let e=this.faker.datatype.number({min:25,max:34}),t=this.faker.helpers.arrayElement(["1","3"]);for(let n=0;n<e-1;n++)t+=this.faker.helpers.arrayElement("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ".split(""));return t}litecoinAddress(){let e=this.faker.datatype.number({min:26,max:33}),t=this.faker.helpers.arrayElement(["L","M","3"]);for(let n=0;n<e-1;n++)t+=this.faker.helpers.arrayElement("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ".split(""));return t}creditCardNumber(e=""){let t,n=this.faker.definitions.finance.credit_card,a=e.toLowerCase();if(a in n)t=this.faker.helpers.arrayElement(n[a]);else if(e.match(/#/))t=e;else{let e=this.faker.helpers.objectValue(n);t=this.faker.helpers.arrayElement(e)}return t=t.replace(/\//g,""),this.faker.helpers.replaceCreditCardSymbols(t)}creditCardCVV(){let e="";for(let t=0;t<3;t++)e+=this.faker.datatype.number({max:9}).toString();return e}creditCardIssuer(){return this.faker.helpers.objectKey(this.faker.definitions.finance.credit_card)}pin(e=4){if(e<1)throw new d("minimum length is 1");return Array.from({length:e},(()=>this.faker.datatype.number(9))).join("")}ethereumAddress(){return this.faker.datatype.hexadecimal(40).toLowerCase()}iban(e=!1,t){let n=t?M.formats.find((e=>e.country===t)):this.faker.helpers.arrayElement(M.formats);if(!n)throw new d(`Country code ${t} not supported.`);let a="",i=0;for(let e of n.bban){let t=e.count;for(i+=e.count;t>0;)"a"===e.type?a+=this.faker.helpers.arrayElement(M.alpha):"c"===e.type?this.faker.datatype.number(100)<80?a+=this.faker.datatype.number(9):a+=this.faker.helpers.arrayElement(M.alpha):t>=3&&this.faker.datatype.number(100)<30?this.faker.datatype.boolean()?(a+=this.faker.helpers.arrayElement(M.pattern100),t-=2):(a+=this.faker.helpers.arrayElement(M.pattern10),t--):a+=this.faker.datatype.number(9),t--;a=a.substring(0,i)}let r=98-M.mod97(M.toDigitString(`${a}${n.country}00`));r<10&&(r=`0${r}`);let s=`${n.country}${r}${a}`;return e?s.match(/.{1,4}/g).join(" "):s}bic(){let e=["A","E","I","O","U"],t=this.faker.datatype.number(100);return[this.faker.helpers.replaceSymbols("???"),this.faker.helpers.arrayElement(e),this.faker.helpers.arrayElement(M.iso3166),this.faker.helpers.replaceSymbols("?"),"1",t<10?this.faker.helpers.replaceSymbols(`?${this.faker.helpers.arrayElement(e)}?`):t<40?this.faker.helpers.replaceSymbols("###"):""].join("")}transactionDescription(){let e=this.amount(),t=this.faker.company.companyName(),n=this.transactionType(),a=this.account();return`${n} transaction at ${t} using card ending with ***${this.mask()} for ${this.currencyCode()} ${e} in account ***${a}`}},$=class{constructor(e){this.faker=e,this.hexChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(let e of Object.getOwnPropertyNames($.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}branch(){return`${this.faker.hacker.noun().replace(" ","-")}-${this.faker.hacker.verb().replace(" ","-")}`}commitEntry(e={}){var t;let n=[`commit ${this.faker.git.commitSha()}`];(e.merge||0===this.faker.datatype.number({min:0,max:4}))&&n.push(`Merge: ${this.shortSha()} ${this.shortSha()}`),n.push(`Author: ${this.faker.name.firstName()} ${this.faker.name.lastName()} <${this.faker.internet.email()}>`,`Date: ${this.faker.date.recent().toString()}`,"",`${this.commitMessage()}`,"");let a="CRLF"===(null!=(t=e.eol)?t:"CRLF")?"\r\n":"\n";return n.join(a)}commitMessage(){return`${this.faker.hacker.verb()} ${this.faker.hacker.adjective()} ${this.faker.hacker.noun()}`}commitSha(){let e="";for(let t=0;t<40;t++)e+=this.faker.helpers.arrayElement(this.hexChars);return e}shortSha(){let e="";for(let t=0;t<7;t++)e+=this.faker.helpers.arrayElement(this.hexChars);return e}},B=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(B.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}abbreviation(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.abbreviation)}adjective(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.adjective)}noun(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.noun)}verb(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.verb)}ingverb(){return this.faker.helpers.arrayElement(this.faker.definitions.hacker.ingverb)}phrase(){let e={abbreviation:this.abbreviation,adjective:this.adjective,ingverb:this.ingverb,noun:this.noun,verb:this.verb},t=this.faker.helpers.arrayElement(this.faker.definitions.hacker.phrase);return this.faker.helpers.mustache(t,e)}};function L(e){let t=function(e){e=e.replace(/[\s-]/g,"");let t=0,n=!1;for(let a=e.length-1;a>=0;a--){let i=parseInt(e.substring(a,a+1));n&&(i*=2,i>9&&(i=i%10+1)),t+=i,n=!n}return t%10}(e.replace(/L?$/,"0"));return 0===t?0:10-t}var F=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(F.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}slugify(e=""){return e.replace(/ /g,"-").replace(/[^\-\-\-\w\.\-]+/g,"")}replaceSymbolWithNumber(e="",t="#"){let n="";for(let a=0;a<e.length;a++)e.charAt(a)===t?n+=this.faker.datatype.number(9):"!"===e.charAt(a)?n+=this.faker.datatype.number({min:2,max:9}):n+=e.charAt(a);return n}replaceSymbols(e=""){let t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],n="";for(let a=0;a<e.length;a++)"#"===e.charAt(a)?n+=this.faker.datatype.number(9):"?"===e.charAt(a)?n+=this.arrayElement(t):"*"===e.charAt(a)?n+=this.faker.datatype.boolean()?this.arrayElement(t):this.faker.datatype.number(9):n+=e.charAt(a);return n}replaceCreditCardSymbols(e="6453-####-####-####-###L",t="#"){e=this.regexpStyleStringParse(e);let n=L(e=this.replaceSymbolWithNumber(e,t));return e.replace("L",String(n))}repeatString(e="",t=0){let n="";for(let a=0;a<t;a++)n+=e.toString();return n}regexpStyleStringParse(e=""){let t,n,a,i,r=/(.)\{(\d+)\,(\d+)\}/,s=/(.)\{(\d+)\}/,o=/\[(\d+)\-(\d+)\]/,l=e.match(r);for(;null!=l;)t=parseInt(l[2]),n=parseInt(l[3]),t>n&&(a=n,n=t,t=a),i=this.faker.datatype.number({min:t,max:n}),l=(e=e.slice(0,l.index)+this.repeatString(l[1],i)+e.slice(l.index+l[0].length)).match(r);for(l=e.match(s);null!=l;)i=parseInt(l[2]),l=(e=e.slice(0,l.index)+this.repeatString(l[1],i)+e.slice(l.index+l[0].length)).match(s);for(l=e.match(o);null!=l;)t=parseInt(l[1]),n=parseInt(l[2]),t>n&&(a=n,n=t,t=a),l=(e=e.slice(0,l.index)+this.faker.datatype.number({min:t,max:n}).toString()+e.slice(l.index+l[0].length)).match(o);return e}shuffle(e){if(null==e||0===e.length)return e||[];for(let t=e.length-1;t>0;--t){let n=this.faker.datatype.number(t),a=e[t];e[t]=e[n],e[n]=a}return e}uniqueArray(e,t){if(Array.isArray(e)){let n=new Set(e),a=Array.from(n);return this.shuffle(a).splice(0,t)}let n=new Set;try{if("function"==typeof e)for(;n.size<t;)n.add(e())}catch{}return Array.from(n)}mustache(e,t){if(null==e)return"";for(let n in t){let a=new RegExp(`{{${n}}}`,"g"),i=t[n];e=e.replace(a,i)}return e}maybe(e,t={}){let{probability:n=.5}=t;if(this.faker.datatype.float({min:0,max:1})<n)return e()}objectKey(e){let t=Object.keys(e);return this.arrayElement(t)}objectValue(e){return e[this.faker.helpers.objectKey(e)]}arrayElement(e=["a","b","c"]){return e[e.length>1?this.faker.datatype.number({max:e.length-1}):0]}arrayElements(e=["a","b","c"],t){"number"!=typeof t?t=0===e.length?0:this.faker.datatype.number({min:1,max:e.length}):t>e.length?t=e.length:t<0&&(t=0);let n,a,i=e.slice(0),r=e.length,s=r-t;for(;r-- >s;)a=Math.floor((r+1)*this.faker.datatype.float({min:0,max:.99})),n=i[a],i[a]=i[r],i[r]=n;return i.slice(s)}},O=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(O.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this));this.lorempixel=new class{constructor(e){this.faker=e}image(e,t,n){return this[this.faker.helpers.arrayElement(["abstract","animals","business","cats","city","food","nightlife","fashion","people","nature","sports","technics","transport"])](e,t,n)}avatar(){return f({deprecated:"faker.image.lorempixel.avatar()",proposed:"faker.internet.avatar()",since:"7.3",until:"8.0"}),this.faker.internet.avatar()}imageUrl(e,t,n,a){let i=`https://lorempixel.com/${e=e||640}/${t=t||480}`;return null!=n&&(i+=`/${n}`),a&&(i+=`?${this.faker.datatype.number()}`),i}abstract(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"abstract",n)}animals(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"animals",n)}business(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"business",n)}cats(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"cats",n)}city(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"city",n)}food(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"food",n)}nightlife(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"nightlife",n)}fashion(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"fashion",n)}people(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"people",n)}nature(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"nature",n)}sports(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"sports",n)}technics(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"technics",n)}transport(e,t,n){return this.faker.image.lorempixel.imageUrl(e,t,"transport",n)}}(this.faker),this.unsplash=new class{constructor(e){this.faker=e}get categories(){return f({deprecated:"faker.image.unsplash.categories",since:"7.3",until:"8.0"}),["food","nature","people","technology","objects","buildings"]}image(e,t,n){return this.imageUrl(e,t,void 0,n)}avatar(){return f({deprecated:"faker.image.unsplash.avatar()",proposed:"faker.internet.avatar()",since:"7.3",until:"8.0"}),this.faker.internet.avatar()}imageUrl(e,t,n,a){let i="https://source.unsplash.com";return null!=n&&(i+=`/category/${n}`),i+=`/${e=e||640}x${t=t||480}`,null!=a&&/^([A-Za-z0-9].+,[A-Za-z0-9]+)$|^([A-Za-z0-9]+)$/.test(a)&&(i+=`?${a}`),i}food(e,t,n){return this.faker.image.unsplash.imageUrl(e,t,"food",n)}people(e,t,n){return this.faker.image.unsplash.imageUrl(e,t,"people",n)}nature(e,t,n){return this.faker.image.unsplash.imageUrl(e,t,"nature",n)}technology(e,t,n){return this.faker.image.unsplash.imageUrl(e,t,"technology",n)}objects(e,t,n){return this.faker.image.unsplash.imageUrl(e,t,"objects",n)}buildings(e,t,n){return this.faker.image.unsplash.imageUrl(e,t,"buildings",n)}}(this.faker),this.lorempicsum=new class{constructor(e){this.faker=e}image(e,t,n,a){return this.imageUrl(e,t,n,a)}imageGrayscale(e,t,n){return this.imageUrl(e,t,n)}imageBlurred(e,t,n){return this.imageUrl(e,t,void 0,n)}imageRandomSeeded(e,t,n,a,i){return this.imageUrl(e,t,n,a,i)}avatar(){return f({deprecated:"faker.image.lorempicsum.avatar()",proposed:"faker.internet.avatar()",since:"7.3",until:"8.0"}),this.faker.internet.avatar()}imageUrl(e,t,n,a,i){let r="https://picsum.photos";return i&&(r+=`/seed/${i}`),r+=`/${e=e||640}/${t=t||480}`,n&&a?`${r}?grayscale&blur=${a}`:n?`${r}?grayscale`:a?`${r}?blur=${a}`:r}}(this.faker)}image(e,t,n){return this[this.faker.helpers.arrayElement(["abstract","animals","business","cats","city","food","nightlife","fashion","people","nature","sports","technics","transport"])](e,t,n)}avatar(){return this.faker.internet.avatar()}imageUrl(e,t,n,a){let i=`https://loremflickr.com/${e=e||640}/${t=t||480}`;return null!=n&&(i+=`/${n}`),a&&(i+=`?${this.faker.datatype.number()}`),i}abstract(e,t,n){return this.imageUrl(e,t,"abstract",n)}animals(e,t,n){return this.imageUrl(e,t,"animals",n)}business(e,t,n){return this.imageUrl(e,t,"business",n)}cats(e,t,n){return this.imageUrl(e,t,"cats",n)}city(e,t,n){return this.imageUrl(e,t,"city",n)}food(e,t,n){return this.imageUrl(e,t,"food",n)}nightlife(e,t,n){return this.imageUrl(e,t,"nightlife",n)}fashion(e,t,n){return this.imageUrl(e,t,"fashion",n)}people(e,t,n){return this.imageUrl(e,t,"people",n)}nature(e,t,n){return this.imageUrl(e,t,"nature",n)}sports(e,t,n){return this.imageUrl(e,t,"sports",n)}technics(e,t,n){return this.imageUrl(e,t,"technics",n)}transport(e,t,n){return this.imageUrl(e,t,"transport",n)}dataUri(e,t,n="grey"){return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`<svg xmlns="http://www.w3.org/2000/svg" version="1.1" baseProfile="full" width="${e}" height="${t}"><rect width="100%" height="100%" fill="${n}"/><text x="${e/2}" y="${t/2}" font-size="20" alignment-baseline="middle" text-anchor="middle" fill="white">${e}x${t}</text></svg>`)}};function j(e){function t(n,a){if(n=n||0,"number"==typeof(a=a||100)&&"number"==typeof n)return e.datatype.number({min:n,max:a});if(Array.isArray(n))return e.helpers.arrayElement(n);if(n&&"object"==typeof n)return(e=>{let n,a=t(0,100)/100,i=0,r=0;for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(r=e[t]+i,n=t,a>=i&&a<=r)break;i+=e[t]}return n})(n);throw new TypeError(`Invalid arguments passed to rnd. (${a?`${n}, ${a}`:n})`)}function n(){return t(["AB","AF","AN","AR","AS","AZ","BE","BG","BN","BO","BR","BS","CA","CE","CO","CS","CU","CY","DA","DE","EL","EN","EO","ES","ET","EU","FA","FI","FJ","FO","FR","FY","GA","GD","GL","GV","HE","HI","HR","HT","HU","HY","ID","IS","IT","JA","JV","KA","KG","KO","KU","KW","KY","LA","LB","LI","LN","LT","LV","MG","MK","MN","MO","MS","MT","MY","NB","NE","NL","NN","NO","OC","PL","PT","RM","RO","RU","SC","SE","SK","SL","SO","SQ","SR","SV","SW","TK","TR","TY","UK","UR","UZ","VI","VO","YI","ZH"])}function a(e){return t({lin:["i686","x86_64"],mac:{Intel:.48,PPC:.01,"U; Intel":.48,"U; PPC":.01},win:["","WOW64","Win64; x64"]}[e])}let i={net:()=>[t(1,4),t(0,9),t(1e4,99999),t(0,9)].join("."),nt:()=>`${t(5,6)}.${t(0,3)}`,ie:()=>t(7,11),trident:()=>`${t(3,7)}.${t(0,1)}`,osx:e=>[10,t(5,10),t(0,9)].join(e||"."),chrome:()=>[t(13,39),0,t(800,899),0].join("."),presto:()=>`2.9.${t(160,190)}`,presto2:()=>`${t(10,12)}.00`,safari:()=>`${t(531,538)}.${t(0,2)}.${t(0,2)}`},r={firefox(e){let n=`${t(5,15)}${function(e){let n="";for(let a=0;a<e;a++)n+=`.${t(0,9)}`;return n}(2)}`,r=`Gecko/20100101 Firefox/${n}`,s=a(e);return`Mozilla/5.0 ${"win"===e?`(Windows NT ${i.nt()}${s?`; ${s}`:""}`:"mac"===e?`(Macintosh; ${s} Mac OS X ${i.osx()}`:`(X11; Linux ${s}`}; rv:${n.slice(0,-2)}) ${r}`},iexplorer(){let e=i.ie();return e>=11?`Mozilla/5.0 (Windows NT 6.${t(1,3)}; Trident/7.0; ${t(["Touch; ",""])}rv:11.0) like Gecko`:`Mozilla/5.0 (compatible; MSIE ${e}.0; Windows NT ${i.nt()}; Trident/${i.trident()}${1===t(0,1)?`; .NET CLR ${i.net()}`:""})`},opera(e){let r=` Presto/${i.presto()} Version/${i.presto2()})`,s="win"===e?`(Windows NT ${i.nt()}; U; ${n()}${r}`:"lin"===e?`(X11; Linux ${a(e)}; U; ${n()}${r}`:`(Macintosh; Intel Mac OS X ${i.osx()} U; ${n()} Presto/${i.presto()} Version/${i.presto2()})`;return`Opera/${t(9,14)}.${t(0,99)} ${s}`},safari(e){let r=i.safari(),s=`${t(4,7)}.${t(0,1)}.${t(0,10)}`;return`Mozilla/5.0 ${"mac"===e?`(Macintosh; ${a("mac")} Mac OS X ${i.osx("_")} rv:${t(2,6)}.0; ${n()}) `:`(Windows; U; Windows NT ${i.nt()})`}AppleWebKit/${r} (KHTML, like Gecko) Version/${s} Safari/${r}`},chrome(e){let t=i.safari();return`Mozilla/5.0 ${"mac"===e?`(Macintosh; ${a("mac")} Mac OS X ${i.osx("_")}) `:"win"===e?`(Windows; U; Windows NT ${i.nt()})`:`(X11; Linux ${a(e)}`} AppleWebKit/${t} (KHTML, like Gecko) Chrome/${i.chrome()} Safari/${t}`}},s=function(){let e=t({chrome:.45132810566,iexplorer:.27477061836,firefox:.19384170608,safari:.06186781118,opera:.01574236955});return[e,t({chrome:{win:.89,mac:.09,lin:.02},firefox:{win:.83,mac:.16,lin:.01},opera:{win:.91,mac:.03,lin:.06},safari:{win:.04,mac:.96},iexplorer:["win"]}[e])]}();return r[s[0]](s[1])}var z=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(z.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}avatar(){return`https://cloudflare-ipfs.com/ipfs/Qmd3W5DuhgHirLHGVixi6V76LhCkZUz6pnFt5AJBiyvHye/avatar/${this.faker.datatype.number(1249)}.jpg`}email(e,t,n,a){n=n||this.faker.helpers.arrayElement(this.faker.definitions.internet.free_email);let i=this.faker.helpers.slugify(this.userName(e,t));if(null!=a&&a.allowSpecialCharacters){let e="._-".split(""),t=".!#$%&'*+-/=?^_`{|}~".split("");i=i.replace(this.faker.helpers.arrayElement(e),this.faker.helpers.arrayElement(t))}return`${i}@${n}`}exampleEmail(e,t,n){let a=this.faker.helpers.arrayElement(this.faker.definitions.internet.example_email);return this.email(e,t,a,n)}userName(e,t){let n;switch(e=e||this.faker.name.firstName(),t=t||this.faker.name.lastName(),this.faker.datatype.number(2)){case 0:n=`${e}${this.faker.datatype.number(99)}`;break;case 1:n=e+this.faker.helpers.arrayElement([".","_"])+t;break;case 2:n=`${e}${this.faker.helpers.arrayElement([".","_"])}${t}${this.faker.datatype.number(99)}`}return n=n.toString().replace(/'/g,""),n=n.replace(/ /g,""),n}protocol(){return this.faker.helpers.arrayElement(["http","https"])}httpMethod(){return this.faker.helpers.arrayElement(["GET","POST","PUT","DELETE","PATCH"])}httpStatusCode(e={}){let{types:t=Object.keys(this.faker.definitions.internet.http_status_code)}=e,n=this.faker.helpers.arrayElement(t);return this.faker.helpers.arrayElement(this.faker.definitions.internet.http_status_code[n])}url(){return`${this.protocol()}://${this.domainName()}`}domainName(){return`${this.domainWord()}.${this.domainSuffix()}`}domainSuffix(){return this.faker.helpers.arrayElement(this.faker.definitions.internet.domain_suffix)}domainWord(){return`${this.faker.word.adjective()}-${this.faker.word.noun()}`.replace(/([\\~#&*{}/:<>?|\"'])/gi,"").replace(/\s/g,"-").replace(/-{2,}/g,"-").toLowerCase()}ip(){return this.ipv4()}ipv4(){let e=()=>this.faker.datatype.number(255).toFixed(0),t=[];for(let n=0;n<4;n++)t[n]=e();return t.join(".")}ipv6(){let e=()=>{let e="";for(let t=0;t<4;t++)e+=this.faker.helpers.arrayElement(["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"]);return e},t=[];for(let n=0;n<8;n++)t[n]=e();return t.join(":")}port(){return this.faker.datatype.number({min:0,max:65535})}userAgent(){return j(this.faker)}color(e=0,t=0,n=0){let a=e=>Math.floor((this.faker.datatype.number(256)+e)/2).toString(16).padStart(2,"0");return`#${a(e)}${a(t)}${a(n)}`}mac(e){let t,n="",a=":";for(-1!==["-",""].indexOf(e)&&(a=e),t=0;t<12;t++)n+=this.faker.datatype.number(15).toString(16),t%2==1&&11!==t&&(n+=a);return n}password(e=15,t=!1,n=/\w/,a=""){let i=/[aeiouAEIOU]$/,r=/[bcdfghjklmnpqrstvwxyzBCDFGHJKLMNPQRSTVWXYZ]$/,s=(e,t,n,a)=>{if(a.length>=e)return a;t&&(n=a.match(r)?i:r);let o=this.faker.datatype.number(94)+33,l=String.fromCharCode(o);return t&&(l=l.toLowerCase()),l.match(n)?s(e,t,n,a+l):s(e,t,n,a)};return s(e,t,n,a)}emoji(e={}){let{types:t=Object.keys(this.faker.definitions.internet.emoji)}=e,n=this.faker.helpers.arrayElement(t);return this.faker.helpers.arrayElement(this.faker.definitions.internet.emoji[n])}},P=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(P.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}word(e){let t;return t=null==e?this.faker.definitions.lorem.words:this.faker.definitions.lorem.words.filter((t=>t.length===e)),this.faker.helpers.arrayElement(t)}words(e=3){let t=[];for(let n=0;n<e;n++)t.push(this.word());return t.join(" ")}sentence(e){null==e&&(e=this.faker.datatype.number({min:3,max:10}));let t=this.words(e);return`${t.charAt(0).toUpperCase()+t.slice(1)}.`}slug(e){let t=this.words(e);return this.faker.helpers.slugify(t)}sentences(e,t=" "){null==e&&(e=this.faker.datatype.number({min:2,max:6}));let n=[];for(;e>0;e--)n.push(this.sentence());return n.join(t)}paragraph(e=3){return this.sentences(e+this.faker.datatype.number(3))}paragraphs(e=3,t="\n"){let n=[];for(;e>0;e--)n.push(this.paragraph());return n.join(t)}text(){return`${this[this.faker.helpers.arrayElement(["word","words","sentence","sentences","paragraph","paragraphs","lines"])]()}`}lines(e){return null==e&&(e=this.faker.datatype.number({min:1,max:5})),this.sentences(e,"\n")}},W=class{constructor(){this.gen=new class{constructor(){this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,this.mag01=[0,this.MATRIX_A]}unsigned32(e){return e<0?(e^this.UPPER_MASK)+this.UPPER_MASK:e}subtraction32(e,t){return e<t?this.unsigned32(4294967296-(t-e)&4294967295):e-t}addition32(e,t){return this.unsigned32(e+t&4294967295)}multiplication32(e,t){let n=0;for(let a=0;a<32;++a)e>>>a&1&&(n=this.addition32(n,this.unsigned32(t<<a)));return n}initGenrand(e){for(this.mt[0]=this.unsigned32(4294967295&e),this.mti=1;this.mti<this.N;this.mti++)this.mt[this.mti]=this.addition32(this.multiplication32(1812433253,this.unsigned32(this.mt[this.mti-1]^this.mt[this.mti-1]>>>30)),this.mti),this.mt[this.mti]=this.unsigned32(4294967295&this.mt[this.mti])}initByArray(e,t){this.initGenrand(19650218);let n=1,a=0,i=this.N>t?this.N:t;for(;i;i--)this.mt[n]=this.addition32(this.addition32(this.unsigned32(this.mt[n]^this.multiplication32(this.unsigned32(this.mt[n-1]^this.mt[n-1]>>>30),1664525)),e[a]),a),this.mt[n]=this.unsigned32(4294967295&this.mt[n]),n++,a++,n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),a>=t&&(a=0);for(i=this.N-1;i;i--)this.mt[n]=this.subtraction32(this.unsigned32(this.mt[n]^this.multiplication32(this.unsigned32(this.mt[n-1]^this.mt[n-1]>>>30),1566083941)),n),this.mt[n]=this.unsigned32(4294967295&this.mt[n]),n++,n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1);this.mt[0]=2147483648}genrandInt32(){let e;if(this.mti>=this.N){let t;for(this.mti===this.N+1&&this.initGenrand(5489),t=0;t<this.N-this.M;t++)e=this.unsigned32(this.mt[t]&this.UPPER_MASK|this.mt[t+1]&this.LOWER_MASK),this.mt[t]=this.unsigned32(this.mt[t+this.M]^e>>>1^this.mag01[1&e]);for(;t<this.N-1;t++)e=this.unsigned32(this.mt[t]&this.UPPER_MASK|this.mt[t+1]&this.LOWER_MASK),this.mt[t]=this.unsigned32(this.mt[t+(this.M-this.N)]^e>>>1^this.mag01[1&e]);e=this.unsigned32(this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK),this.mt[this.N-1]=this.unsigned32(this.mt[this.M-1]^e>>>1^this.mag01[1&e]),this.mti=0}return e=this.mt[this.mti++],e=this.unsigned32(e^e>>>11),e=this.unsigned32(e^e<<7&2636928640),e=this.unsigned32(e^e<<15&4022730752),e=this.unsigned32(e^e>>>18),e}genrandInt31(){return this.genrandInt32()>>>1}genrandReal1(){return this.genrandInt32()*(1/4294967295)}genrandReal2(){return this.genrandInt32()*(1/4294967296)}genrandReal3(){return(this.genrandInt32()+.5)*(1/4294967296)}genrandRes53(){return(67108864*(this.genrandInt32()>>>5)+(this.genrandInt32()>>>6))*(1/9007199254740992)}},this.gen.initGenrand((new Date).getTime()%1e9);for(let e of Object.getOwnPropertyNames(W.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}rand(e=32768,t=0){if(t>e){let n=t;t=e,e=n}return Math.floor(this.gen.genrandReal2()*(e-t)+t)}seed(e){if("number"!=typeof e)throw new d("seed(S) must take numeric argument; is "+typeof e);this.gen.initGenrand(e)}seed_array(e){if("object"!=typeof e)throw new d("seed_array(A) must take array of numbers; is "+typeof e);this.gen.initByArray(e,e.length)}},G=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(G.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}genre(){return this.faker.helpers.arrayElement(this.faker.definitions.music.genre)}songName(){return this.faker.helpers.arrayElement(this.faker.definitions.music.song_name)}},V=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(V.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}phoneNumber(e){return f({deprecated:"faker.phone.phoneNumber()",proposed:"faker.phone.number()",since:"7.3",until:"8.0"}),this.faker.phone.number(e)}number(e){return e=null!=e?e:this.faker.helpers.arrayElement(this.faker.definitions.phone_number.formats),this.faker.helpers.replaceSymbolWithNumber(e)}phoneNumberFormat(e=0){return f({deprecated:"faker.phone.phoneNumberFormat()",proposed:"faker.phone.phoneNumber() or faker.helpers.replaceSymbolWithNumber(format)",since:"7.0",until:"8.0"}),this.faker.helpers.replaceSymbolWithNumber(this.faker.definitions.phone_number.formats[e])}phoneFormats(){return f({deprecated:"faker.phone.phoneFormats()",proposed:"faker.phone.phoneNumber()",since:"7.0",until:"8.0"}),this.faker.helpers.arrayElement(this.faker.definitions.phone_number.formats)}imei(){return this.faker.helpers.replaceCreditCardSymbols("##-######-######-L","#")}},U="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),H="abcdefghijklmnopqrstuvwxyz".split(""),q="0123456789".split("");function K(e,t){return t.forEach((t=>{e=e.filter((e=>e!==t))})),e}var J=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(J.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}word(){let e,t=[this.faker.commerce.department,this.faker.commerce.productName,this.faker.commerce.productAdjective,this.faker.commerce.productMaterial,this.faker.commerce.product,this.faker.color.human,this.faker.company.catchPhraseAdjective,this.faker.company.catchPhraseDescriptor,this.faker.company.catchPhraseNoun,this.faker.company.bsAdjective,this.faker.company.bsBuzz,this.faker.company.bsNoun,this.faker.address.streetSuffix,this.faker.address.county,this.faker.address.country,this.faker.address.state,this.faker.finance.accountName,this.faker.finance.transactionType,this.faker.finance.currencyName,this.faker.hacker.noun,this.faker.hacker.verb,this.faker.hacker.adjective,this.faker.hacker.ingverb,this.faker.hacker.abbreviation,this.faker.name.jobDescriptor,this.faker.name.jobArea,this.faker.name.jobType],n=["!","#","%","&","*",")","(","+","=",".","<",">","{","}","[","]",":",";","'",'"',"_","-"];do{e=this.faker.helpers.arrayElement(t)()}while(!e||n.some((t=>e.includes(t))));return this.faker.helpers.arrayElement(e.split(" "))}words(e){let t=[];null==e&&(e=this.faker.datatype.number({min:1,max:3}));for(let n=0;n<e;n++)t.push(this.word());return t.join(" ")}locale(){return this.faker.helpers.arrayElement(Object.keys(this.faker.locales))}alpha(e={}){"number"==typeof e&&(e={count:e});let{count:t=1,upcase:n}=e,{bannedChars:a=[]}=e;if("string"==typeof a&&(a=a.split("")),t<=0)return"";let i,{casing:r=(n?"upper":"lower")}=e;switch(null!=n&&f({deprecated:"faker.random.alpha({ upcase: true })",proposed:"faker.random.alpha({ casing: 'upper' })",since:"7.0",until:"8.0"}),r){case"upper":i=[...U];break;case"lower":i=[...H];break;default:i=[...H,...U]}if(i=K(i,a),0===i.length)throw new d("Unable to generate string, because all possible characters are banned.");return Array.from({length:t},(()=>this.faker.helpers.arrayElement(i))).join("")}alphaNumeric(e=1,t={}){if(e<=0)return"";let{casing:n="lower"}=t,{bannedChars:a=[]}=t;"string"==typeof a&&(a=a.split(""));let i=[...q];switch(n){case"upper":i.push(...U);break;case"lower":i.push(...H);break;default:i.push(...H,...U)}if(i=K(i,a),0===i.length)throw new d("Unable to generate string, because all possible characters are banned.");return Array.from({length:e},(()=>this.faker.helpers.arrayElement(i))).join("")}numeric(e=1,t={}){if(e<=0)return"";let{allowLeadingZeros:n=!1}=t,{bannedDigits:a=[]}=t;"string"==typeof a&&(a=a.split(""));let i=q.filter((e=>!a.includes(e)));if(0===i.length||1===i.length&&!n&&"0"===i[0])throw new d("Unable to generate numeric string, because all possible digits are banned.");let r="";for(!n&&!a.includes("0")&&(r+=this.faker.helpers.arrayElement(i.filter((e=>"0"!==e))));r.length<e;)r+=this.faker.helpers.arrayElement(i);return r}},X=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(X.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}chemicalElement(){return this.faker.helpers.arrayElement(this.faker.definitions.science.chemicalElement)}unit(){return this.faker.helpers.arrayElement(this.faker.definitions.science.unit)}},Y=["video","audio","image","text","application"],Z=["application/pdf","audio/mpeg","audio/wav","image/png","image/jpeg","image/gif","video/mp4","video/mpeg","text/html"],Q=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(Q.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}fileName(){return`${this.faker.random.words().toLowerCase().replace(/\W/g,"_")}.${this.fileExt()}`}commonFileName(e){return`${this.faker.random.words().toLowerCase().replace(/\W/g,"_")}.${e||this.commonFileExt()}`}mimeType(){let e=Object.keys(this.faker.definitions.system.mimeTypes);return this.faker.helpers.arrayElement(e)}commonFileType(){return this.faker.helpers.arrayElement(Y)}commonFileExt(){return this.fileExt(this.faker.helpers.arrayElement(Z))}fileType(){let e=new Set,t=this.faker.definitions.system.mimeTypes;Object.keys(t).forEach((t=>{let n=t.split("/")[0];e.add(n)}));let n=Array.from(e);return this.faker.helpers.arrayElement(n)}fileExt(e){if("string"==typeof e){let t=this.faker.definitions.system.mimeTypes;return this.faker.helpers.arrayElement(t[e].extensions)}let t=this.faker.definitions.system.mimeTypes,n=new Set;Object.keys(t).forEach((e=>{t[e].extensions instanceof Array&&t[e].extensions.forEach((e=>{n.add(e)}))}));let a=Array.from(n);return this.faker.helpers.arrayElement(a)}directoryPath(){let e=this.faker.definitions.system.directoryPaths;return this.faker.helpers.arrayElement(e)}filePath(){return`${this.directoryPath()}/${this.fileName()}`}semver(){return[this.faker.datatype.number(9),this.faker.datatype.number(9),this.faker.datatype.number(9)].join(".")}},ee={},te=[];function ne(e,t){return void 0===e[t]?-1:0}function ae(e,t,n,a,i){throw console.error("Error",n),console.log(`Found ${Object.keys(a).length} unique entries before throwing error.\nretried: ${i}\ntotal time: ${t-e}ms`),new d(`${n} for uniqueness check.\n\nMay not be able to generate any more unique values with current settings.\nTry adjusting maxTime or maxRetries parameters for faker.unique().`)}function ie(e,t,n={}){var a;let i=(new Date).getTime(),{startTime:r=(new Date).getTime(),maxTime:s=50,maxRetries:o=50,compare:l=ne,store:c=ee}=n,{exclude:u=te}=n;if(n.currentIterations=null!=(a=n.currentIterations)?a:0,Array.isArray(u)||(u=[u]),i-r>=s)return ae(r,i,`Exceeded maxTime: ${s}`,c,n.currentIterations);if(n.currentIterations>=o)return ae(r,i,`Exceeded maxRetries: ${o}`,c,n.currentIterations);let d=e.apply(this,t);return-1===l(c,d)&&-1===u.indexOf(d)?(c[d]=d,n.currentIterations=0,d):(n.currentIterations++,ie(e,t,{...n,startTime:r,maxTime:s,maxRetries:o,compare:l,exclude:u}))}var re=class{constructor(){for(let e of Object.getOwnPropertyNames(re.prototype))"constructor"===e||"maxTime"===e||"maxRetries"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}unique(e,t,n={}){let{maxTime:a=50,maxRetries:i=50}=n;return ie(e,t,{...n,startTime:(new Date).getTime(),maxTime:a,maxRetries:i,currentIterations:0})}},se=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(se.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}vehicle(){return`${this.manufacturer()} ${this.model()}`}manufacturer(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.manufacturer)}model(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.model)}type(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.type)}fuel(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.fuel)}vin(){let e=["o","i","q","O","I","Q"];return`${this.faker.random.alphaNumeric(10,{casing:"upper",bannedChars:e})}${this.faker.random.alpha({count:1,casing:"upper",bannedChars:e})}${this.faker.random.alphaNumeric(1,{casing:"upper",bannedChars:e})}${this.faker.datatype.number({min:1e4,max:99999})}`.toUpperCase()}color(){return this.faker.color.human()}vrm(){return`${this.faker.random.alpha({count:2,casing:"upper"})}${this.faker.datatype.number({min:0,max:9})}${this.faker.datatype.number({min:0,max:9})}${this.faker.random.alpha({count:3,casing:"upper"})}`.toUpperCase()}bicycle(){return this.faker.helpers.arrayElement(this.faker.definitions.vehicle.bicycle_type)}};function oe(e){if(!e.length)return e.wordList;let t=e.wordList.filter((t=>t.length===e.length));return t.length>0?t:[...e.wordList]}var le=class{constructor(e){this.faker=e;for(let e of Object.getOwnPropertyNames(le.prototype))"constructor"===e||"function"!=typeof this[e]||(this[e]=this[e].bind(this))}adjective(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.adjective,length:e}))}adverb(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.adverb,length:e}))}conjunction(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.conjunction,length:e}))}interjection(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.interjection,length:e}))}noun(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.noun,length:e}))}preposition(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.preposition,length:e}))}verb(e){return this.faker.helpers.arrayElement(oe({wordList:this.faker.definitions.word.verb,length:e}))}},ce=["title","separator"],ue={title:"English",separator:" & ",address:{building_number:["#####","####","###"],city:["{{address.city_prefix}} {{name.first_name}}{{address.city_suffix}}","{{address.city_prefix}} {{name.first_name}}","{{name.first_name}}{{address.city_suffix}}","{{name.last_name}}{{address.city_suffix}}","{{address.city_name}}"],city_name:["Abilene","Akron","Alafaya","Alameda","Albany","Albany","Albany","Albuquerque","Alexandria","Alexandria","Alhambra","Aliso Viejo","Allen","Allentown","Aloha","Alpharetta","Altadena","Altamonte Springs","Altoona","Amarillo","Ames","Anaheim","Anchorage","Anderson","Ankeny","Ann Arbor","Annandale","Antelope","Antioch","Apex","Apopka","Apple Valley","Apple Valley","Appleton","Arcadia","Arden-Arcade","Arecibo","Arlington","Arlington","Arlington","Arlington Heights","Arvada","Ashburn","Asheville","Aspen Hill","Atascocita","Athens-Clarke County","Atlanta","Attleboro","Auburn","Auburn","Augusta-Richmond County","Aurora","Aurora","Austin","Avondale","Azusa","Bakersfield","Baldwin Park","Baltimore","Barnstable Town","Bartlett","Bartlett","Baton Rouge","Battle Creek","Bayamon","Bayonne","Baytown","Beaumont","Beaumont","Beavercreek","Beaverton","Bedford","Bel Air South","Bell Gardens","Belleville","Bellevue","Bellevue","Bellflower","Bellingham","Bend","Bentonville","Berkeley","Berwyn","Bethesda","Bethlehem","Billings","Biloxi","Binghamton","Birmingham","Bismarck","Blacksburg","Blaine","Bloomington","Bloomington","Bloomington","Blue Springs","Boca Raton","Boise City","Bolingbrook","Bonita Springs","Bossier City","Boston","Bothell","Boulder","Bountiful","Bowie","Bowling Green","Boynton Beach","Bozeman","Bradenton","Brandon","Brentwood","Brentwood","Bridgeport","Bristol","Brockton","Broken Arrow","Brookhaven","Brookline","Brooklyn Park","Broomfield","Brownsville","Bryan","Buckeye","Buena Park","Buffalo","Buffalo Grove","Burbank","Burien","Burke","Burleson","Burlington","Burlington","Burnsville","Caguas","Caldwell","Camarillo","Cambridge","Camden","Canton","Cape Coral","Carlsbad","Carmel","Carmichael","Carolina","Carrollton","Carson","Carson City","Cary","Casa Grande","Casas Adobes","Casper","Castle Rock","Castro Valley","Catalina Foothills","Cathedral City","Catonsville","Cedar Hill","Cedar Park","Cedar Rapids","Centennial","Centreville","Ceres","Cerritos","Champaign","Chandler","Chapel Hill","Charleston","Charleston","Charlotte","Charlottesville","Chattanooga","Cheektowaga","Chesapeake","Chesterfield","Cheyenne","Chicago","Chico","Chicopee","Chino","Chino Hills","Chula Vista","Cicero","Cincinnati","Citrus Heights","Clarksville","Clearwater","Cleveland","Cleveland","Cleveland Heights","Clifton","Clovis","Coachella","Coconut Creek","Coeur d'Alene","College Station","Collierville","Colorado Springs","Colton","Columbia","Columbia","Columbia","Columbus","Columbus","Columbus","Commerce City","Compton","Concord","Concord","Concord","Conroe","Conway","Coon Rapids","Coral Gables","Coral Springs","Corona","Corpus Christi","Corvallis","Costa Mesa","Council Bluffs","Country Club","Covina","Cranston","Cupertino","Cutler Bay","Cuyahoga Falls","Cypress","Dale City","Dallas","Daly City","Danbury","Danville","Danville","Davenport","Davie","Davis","Dayton","Daytona Beach","DeKalb","DeSoto","Dearborn","Dearborn Heights","Decatur","Decatur","Deerfield Beach","Delano","Delray Beach","Deltona","Denton","Denver","Des Moines","Des Plaines","Detroit","Diamond Bar","Doral","Dothan","Downers Grove","Downey","Draper","Dublin","Dublin","Dubuque","Duluth","Dundalk","Dunwoody","Durham","Eagan","East Hartford","East Honolulu","East Lansing","East Los Angeles","East Orange","East Providence","Eastvale","Eau Claire","Eden Prairie","Edina","Edinburg","Edmond","El Cajon","El Centro","El Dorado Hills","El Monte","El Paso","Elgin","Elizabeth","Elk Grove","Elkhart","Ellicott City","Elmhurst","Elyria","Encinitas","Enid","Enterprise","Erie","Escondido","Euclid","Eugene","Euless","Evanston","Evansville","Everett","Everett","Fairfield","Fairfield","Fall River","Fargo","Farmington","Farmington Hills","Fayetteville","Fayetteville","Federal Way","Findlay","Fishers","Flagstaff","Flint","Florence-Graham","Florin","Florissant","Flower Mound","Folsom","Fond du Lac","Fontana","Fort Collins","Fort Lauderdale","Fort Myers","Fort Pierce","Fort Smith","Fort Wayne","Fort Worth","Fountain Valley","Fountainebleau","Framingham","Franklin","Frederick","Freeport","Fremont","Fresno","Frisco","Fullerton","Gainesville","Gaithersburg","Galveston","Garden Grove","Gardena","Garland","Gary","Gastonia","Georgetown","Germantown","Gilbert","Gilroy","Glen Burnie","Glendale","Glendale","Glendora","Glenview","Goodyear","Grand Forks","Grand Island","Grand Junction","Grand Prairie","Grand Rapids","Grapevine","Great Falls","Greeley","Green Bay","Greensboro","Greenville","Greenville","Greenwood","Gresham","Guaynabo","Gulfport","Hacienda Heights","Hackensack","Haltom City","Hamilton","Hammond","Hampton","Hanford","Harlingen","Harrisburg","Harrisonburg","Hartford","Hattiesburg","Haverhill","Hawthorne","Hayward","Hemet","Hempstead","Henderson","Hendersonville","Hesperia","Hialeah","Hicksville","High Point","Highland","Highlands Ranch","Hillsboro","Hilo","Hoboken","Hoffman Estates","Hollywood","Homestead","Honolulu","Hoover","Houston","Huntersville","Huntington","Huntington Beach","Huntington Park","Huntsville","Hutchinson","Idaho Falls","Independence","Indianapolis","Indio","Inglewood","Iowa City","Irondequoit","Irvine","Irving","Jackson","Jackson","Jacksonville","Jacksonville","Janesville","Jefferson City","Jeffersonville","Jersey City","Johns Creek","Johnson City","Joliet","Jonesboro","Joplin","Jupiter","Jurupa Valley","Kalamazoo","Kannapolis","Kansas City","Kansas City","Kearny","Keller","Kendale Lakes","Kendall","Kenner","Kennewick","Kenosha","Kent","Kentwood","Kettering","Killeen","Kingsport","Kirkland","Kissimmee","Knoxville","Kokomo","La Crosse","La Habra","La Mesa","La Mirada","Lacey","Lafayette","Lafayette","Laguna Niguel","Lake Charles","Lake Elsinore","Lake Forest","Lake Havasu City","Lake Ridge","Lakeland","Lakeville","Lakewood","Lakewood","Lakewood","Lakewood","Lakewood","Lancaster","Lancaster","Lansing","Laredo","Largo","Las Cruces","Las Vegas","Lauderhill","Lawrence","Lawrence","Lawrence","Lawton","Layton","League City","Lee's Summit","Leesburg","Lehi","Lehigh Acres","Lenexa","Levittown","Levittown","Lewisville","Lexington-Fayette","Lincoln","Lincoln","Linden","Little Rock","Littleton","Livermore","Livonia","Lodi","Logan","Lombard","Lompoc","Long Beach","Longmont","Longview","Lorain","Los Angeles","Louisville/Jefferson County","Loveland","Lowell","Lubbock","Lynchburg","Lynn","Lynwood","Macon-Bibb County","Madera","Madison","Madison","Malden","Manchester","Manhattan","Mansfield","Mansfield","Manteca","Maple Grove","Margate","Maricopa","Marietta","Marysville","Mayaguez","McAllen","McKinney","McLean","Medford","Medford","Melbourne","Memphis","Menifee","Mentor","Merced","Meriden","Meridian","Mesa","Mesquite","Metairie","Methuen Town","Miami","Miami Beach","Miami Gardens","Middletown","Middletown","Midland","Midland","Midwest City","Milford","Millcreek","Milpitas","Milwaukee","Minneapolis","Minnetonka","Minot","Miramar","Mishawaka","Mission","Mission Viejo","Missoula","Missouri City","Mobile","Modesto","Moline","Monroe","Montebello","Monterey Park","Montgomery","Moore","Moreno Valley","Morgan Hill","Mount Pleasant","Mount Prospect","Mount Vernon","Mountain View","Muncie","Murfreesboro","Murray","Murrieta","Nampa","Napa","Naperville","Nashua","Nashville-Davidson","National City","New Bedford","New Braunfels","New Britain","New Brunswick","New Haven","New Orleans","New Rochelle","New York","Newark","Newark","Newark","Newport Beach","Newport News","Newton","Niagara Falls","Noblesville","Norfolk","Normal","Norman","North Bethesda","North Charleston","North Highlands","North Las Vegas","North Lauderdale","North Little Rock","North Miami","North Miami Beach","North Port","North Richland Hills","Norwalk","Norwalk","Novato","Novi","O'Fallon","Oak Lawn","Oak Park","Oakland","Oakland Park","Ocala","Oceanside","Odessa","Ogden","Oklahoma City","Olathe","Olympia","Omaha","Ontario","Orange","Orem","Orland Park","Orlando","Oro Valley","Oshkosh","Overland Park","Owensboro","Oxnard","Palatine","Palm Bay","Palm Beach Gardens","Palm Coast","Palm Desert","Palm Harbor","Palm Springs","Palmdale","Palo Alto","Paradise","Paramount","Parker","Parma","Pasadena","Pasadena","Pasco","Passaic","Paterson","Pawtucket","Peabody","Pearl City","Pearland","Pembroke Pines","Pensacola","Peoria","Peoria","Perris","Perth Amboy","Petaluma","Pflugerville","Pharr","Philadelphia","Phoenix","Pico Rivera","Pine Bluff","Pine Hills","Pinellas Park","Pittsburg","Pittsburgh","Pittsfield","Placentia","Plainfield","Plainfield","Plano","Plantation","Pleasanton","Plymouth","Pocatello","Poinciana","Pomona","Pompano Beach","Ponce","Pontiac","Port Arthur","Port Charlotte","Port Orange","Port St. Lucie","Portage","Porterville","Portland","Portland","Portsmouth","Potomac","Poway","Providence","Provo","Pueblo","Quincy","Racine","Raleigh","Rancho Cordova","Rancho Cucamonga","Rancho Palos Verdes","Rancho Santa Margarita","Rapid City","Reading","Redding","Redlands","Redmond","Redondo Beach","Redwood City","Reno","Renton","Reston","Revere","Rialto","Richardson","Richland","Richmond","Richmond","Rio Rancho","Riverside","Riverton","Riverview","Roanoke","Rochester","Rochester","Rochester Hills","Rock Hill","Rockford","Rocklin","Rockville","Rockwall","Rocky Mount","Rogers","Rohnert Park","Rosemead","Roseville","Roseville","Roswell","Roswell","Round Rock","Rowland Heights","Rowlett","Royal Oak","Sacramento","Saginaw","Salem","Salem","Salina","Salinas","Salt Lake City","Sammamish","San Angelo","San Antonio","San Bernardino","San Bruno","San Buenaventura (Ventura)","San Clemente","San Diego","San Francisco","San Jacinto","San Jose","San Juan","San Leandro","San Luis Obispo","San Marcos","San Marcos","San Mateo","San Rafael","San Ramon","San Tan Valley","Sandy","Sandy Springs","Sanford","Santa Ana","Santa Barbara","Santa Clara","Santa Clarita","Santa Cruz","Santa Fe","Santa Maria","Santa Monica","Santa Rosa","Santee","Sarasota","Savannah","Sayreville","Schaumburg","Schenectady","Scottsdale","Scranton","Seattle","Severn","Shawnee","Sheboygan","Shoreline","Shreveport","Sierra Vista","Silver Spring","Simi Valley","Sioux City","Sioux Falls","Skokie","Smyrna","Smyrna","Somerville","South Bend","South Gate","South Hill","South Jordan","South San Francisco","South Valley","South Whittier","Southaven","Southfield","Sparks","Spokane","Spokane Valley","Spring","Spring Hill","Spring Valley","Springdale","Springfield","Springfield","Springfield","Springfield","Springfield","St. Charles","St. Clair Shores","St. Cloud","St. Cloud","St. George","St. Joseph","St. Louis","St. Louis Park","St. Paul","St. Peters","St. Petersburg","Stamford","State College","Sterling Heights","Stillwater","Stockton","Stratford","Strongsville","Suffolk","Sugar Land","Summerville","Sunnyvale","Sunrise","Sunrise Manor","Surprise","Syracuse","Tacoma","Tallahassee","Tamarac","Tamiami","Tampa","Taunton","Taylor","Taylorsville","Temecula","Tempe","Temple","Terre Haute","Texas City","The Hammocks","The Villages","The Woodlands","Thornton","Thousand Oaks","Tigard","Tinley Park","Titusville","Toledo","Toms River","Tonawanda","Topeka","Torrance","Town 'n' Country","Towson","Tracy","Trenton","Troy","Troy","Trujillo Alto","Tuckahoe","Tucson","Tulare","Tulsa","Turlock","Tuscaloosa","Tustin","Twin Falls","Tyler","Union City","Union City","University","Upland","Urbana","Urbandale","Utica","Vacaville","Valdosta","Vallejo","Vancouver","Victoria","Victorville","Vineland","Virginia Beach","Visalia","Vista","Waco","Waipahu","Waldorf","Walnut Creek","Waltham","Warner Robins","Warren","Warwick","Washington","Waterbury","Waterloo","Watsonville","Waukegan","Waukesha","Wauwatosa","Wellington","Wesley Chapel","West Allis","West Babylon","West Covina","West Des Moines","West Hartford","West Haven","West Jordan","West Lafayette","West New York","West Palm Beach","West Sacramento","West Seneca","West Valley City","Westfield","Westland","Westminster","Westminster","Weston","Weymouth Town","Wheaton","Wheaton","White Plains","Whittier","Wichita","Wichita Falls","Wilmington","Wilmington","Wilson","Winston-Salem","Woodbury","Woodland","Worcester","Wylie","Wyoming","Yakima","Yonkers","Yorba Linda","York","Youngstown","Yuba City","Yucaipa","Yuma"],city_prefix:["North","East","West","South","New","Lake","Port","Fort"],city_suffix:["town","ton","land","ville","berg","burgh","boro","borough","bury","view","port","mouth","stad","stead","furt","chester","cester","mouth","fort","field","haven","side","shire","worth"],country:["Afghanistan","Albania","Algeria","American Samoa","Andorra","Angola","Anguilla","Antarctica (the territory South of 60 deg S)","Antigua and Barbuda","Argentina","Armenia","Aruba","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Bouvet Island (Bouvetoya)","Brazil","British Indian Ocean Territory (Chagos Archipelago)","Brunei Darussalam","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Cayman Islands","Central African Republic","Chad","Chile","China","Christmas Island","Cocos (Keeling) Islands","Colombia","Comoros","Congo","Cook Islands","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Faroe Islands","Falkland Islands (Malvinas)","Fiji","Finland","France","French Guiana","French Polynesia","French Southern Territories","Gabon","Gambia","Georgia","Germany","Ghana","Gibraltar","Greece","Greenland","Grenada","Guadeloupe","Guam","Guatemala","Guernsey","Guinea","Guinea-Bissau","Guyana","Haiti","Heard Island and McDonald Islands","Holy See (Vatican City State)","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Isle of Man","Israel","Italy","Jamaica","Japan","Jersey","Jordan","Kazakhstan","Kenya","Kiribati","Democratic People's Republic of Korea","Republic of Korea","Kuwait","Kyrgyz Republic","Lao People's Democratic Republic","Latvia","Lebanon","Lesotho","Liberia","Libyan Arab Jamahiriya","Liechtenstein","Lithuania","Luxembourg","Macao","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Martinique","Mauritania","Mauritius","Mayotte","Mexico","Micronesia","Moldova","Monaco","Mongolia","Montenegro","Montserrat","Morocco","Mozambique","Myanmar","Namibia","Nauru","Nepal","Netherlands Antilles","Netherlands","New Caledonia","New Zealand","Nicaragua","Niger","Nigeria","Niue","Norfolk Island","Northern Mariana Islands","Norway","Oman","Pakistan","Palau","Palestinian Territory","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Pitcairn Islands","Poland","Portugal","Puerto Rico","Qatar","Reunion","Romania","Russian Federation","Rwanda","Saint Barthelemy","Saint Helena","Saint Kitts and Nevis","Saint Lucia","Saint Martin","Saint Pierre and Miquelon","Saint Vincent and the Grenadines","Samoa","San Marino","Sao Tome and Principe","Saudi Arabia","Senegal","Serbia","Seychelles","Sierra Leone","Singapore","Slovakia (Slovak Republic)","Slovenia","Solomon Islands","Somalia","South Africa","South Georgia and the South Sandwich Islands","Spain","Sri Lanka","Sudan","Suriname","Svalbard & Jan Mayen Islands","Swaziland","Sweden","Switzerland","Syrian Arab Republic","Taiwan","Tajikistan","Tanzania","Thailand","Timor-Leste","Togo","Tokelau","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Turks and Caicos Islands","Tuvalu","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States of America","United States Minor Outlying Islands","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Virgin Islands, British","Virgin Islands, U.S.","Wallis and Futuna","Western Sahara","Yemen","Zambia","Zimbabwe"],country_code:["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"],country_code_alpha_3:["BGD","BEL","BFA","BGR","BIH","BRB","WLF","BLM","BMU","BRN","BOL","BHR","BDI","BEN","BTN","JAM","BVT","BWA","WSM","BES","BRA","BHS","JEY","BLR","BLZ","RUS","RWA","SRB","TLS","REU","TKM","TJK","ROU","TKL","GNB","GUM","GTM","SGS","GRC","GNQ","GLP","JPN","GUY","GGY","GUF","GEO","GRD","GBR","GAB","SLV","GIN","GMB","GRL","GIB","GHA","OMN","TUN","JOR","HRV","HTI","HUN","HKG","HND","HMD","VEN","PRI","PSE","PLW","PRT","SJM","PRY","IRQ","PAN","PYF","PNG","PER","PAK","PHL","PCN","POL","SPM","ZMB","ESH","EST","EGY","ZAF","ECU","ITA","VNM","SLB","ETH","SOM","ZWE","SAU","ESP","ERI","MNE","MDA","MDG","MAF","MAR","MCO","UZB","MMR","MLI","MAC","MNG","MHL","MKD","MUS","MLT","MWI","MDV","MTQ","MNP","MSR","MRT","IMN","UGA","TZA","MYS","MEX","ISR","FRA","IOT","SHN","FIN","FJI","FLK","FSM","FRO","NIC","NLD","NOR","NAM","VUT","NCL","NER","NFK","NGA","NZL","NPL","NRU","NIU","COK","XKX","CIV","CHE","COL","CHN","CMR","CHL","CCK","CAN","COG","CAF","COD","CZE","CYP","CXR","CRI","CUW","CPV","CUB","SWZ","SYR","SXM","KGZ","KEN","SSD","SUR","KIR","KHM","KNA","COM","STP","SVK","KOR","SVN","PRK","KWT","SEN","SMR","SLE","SYC","KAZ","CYM","SGP","SWE","SDN","DOM","DMA","DJI","DNK","VGB","DEU","YEM","DZA","USA","URY","MYT","UMI","LBN","LCA","LAO","TUV","TWN","TTO","TUR","LKA","LIE","LVA","TON","LTU","LUX","LBR","LSO","THA","ATF","TGO","TCD","TCA","LBY","VAT","VCT","ARE","AND","ATG","AFG","AIA","VIR","ISL","IRN","ARM","ALB","AGO","ATA","ASM","ARG","AUS","AUT","ABW","IND","ALA","AZE","IRL","IDN","UKR","QAT","MOZ"],county:["Avon","Bedfordshire","Berkshire","Borders","Buckinghamshire","Cambridgeshire"],default_country:["United States of America"],direction:["North","East","South","West","Northeast","Northwest","Southeast","Southwest"],direction_abbr:["N","E","S","W","NE","NW","SE","SW"],postcode:["#####","#####-####"],secondary_address:["Apt. ###","Suite ###"],state:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],state_abbr:["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],street:["{{name.first_name}} {{address.street_suffix}}","{{name.last_name}} {{address.street_suffix}}"],street_address:{normal:"{{address.buildingNumber}} {{address.street}}",full:"{{address.buildingNumber}} {{address.street}} {{address.secondaryAddress}}"},street_suffix:["Alley","Avenue","Branch","Bridge","Brook","Brooks","Burg","Burgs","Bypass","Camp","Canyon","Cape","Causeway","Center","Centers","Circle","Circles","Cliff","Cliffs","Club","Common","Corner","Corners","Course","Court","Courts","Cove","Coves","Creek","Crescent","Crest","Crossing","Crossroad","Curve","Dale","Dam","Divide","Drive","Drive","Drives","Estate","Estates","Expressway","Extension","Extensions","Fall","Falls","Ferry","Field","Fields","Flat","Flats","Ford","Fords","Forest","Forge","Forges","Fork","Forks","Fort","Freeway","Garden","Gardens","Gateway","Glen","Glens","Green","Greens","Grove","Groves","Harbor","Harbors","Haven","Heights","Highway","Hill","Hills","Hollow","Inlet","Inlet","Island","Island","Islands","Islands","Isle","Isle","Junction","Junctions","Key","Keys","Knoll","Knolls","Lake","Lakes","Land","Landing","Lane","Light","Lights","Loaf","Lock","Locks","Locks","Lodge","Lodge","Loop","Mall","Manor","Manors","Meadow","Meadows","Mews","Mill","Mills","Mission","Mission","Motorway","Mount","Mountain","Mountain","Mountains","Mountains","Neck","Orchard","Oval","Overpass","Park","Parks","Parkway","Parkways","Pass","Passage","Path","Pike","Pine","Pines","Place","Plain","Plains","Plains","Plaza","Plaza","Point","Points","Port","Port","Ports","Ports","Prairie","Prairie","Radial","Ramp","Ranch","Rapid","Rapids","Rest","Ridge","Ridges","River","Road","Road","Roads","Roads","Route","Row","Rue","Run","Shoal","Shoals","Shore","Shores","Skyway","Spring","Springs","Springs","Spur","Spurs","Square","Square","Squares","Squares","Station","Station","Stravenue","Stravenue","Stream","Stream","Street","Street","Streets","Summit","Summit","Terrace","Throughway","Trace","Track","Trafficway","Trail","Trail","Tunnel","Tunnel","Turnpike","Turnpike","Underpass","Union","Unions","Valley","Valleys","Via","Viaduct","View","Views","Village","Village","Villages","Ville","Vista","Vista","Walk","Walks","Wall","Way","Ways","Well","Wells"],time_zone:["Pacific/Midway","Pacific/Pago_Pago","Pacific/Honolulu","America/Juneau","America/Los_Angeles","America/Tijuana","America/Denver","America/Phoenix","America/Chihuahua","America/Mazatlan","America/Chicago","America/Regina","America/Mexico_City","America/Mexico_City","America/Monterrey","America/Guatemala","America/New_York","America/Indiana/Indianapolis","America/Bogota","America/Lima","America/Lima","America/Halifax","America/Caracas","America/La_Paz","America/Santiago","America/St_Johns","America/Sao_Paulo","America/Argentina/Buenos_Aires","America/Guyana","America/Godthab","Atlantic/South_Georgia","Atlantic/Azores","Atlantic/Cape_Verde","Europe/Dublin","Europe/London","Europe/Lisbon","Europe/London","Africa/Casablanca","Africa/Monrovia","Etc/UTC","Europe/Belgrade","Europe/Bratislava","Europe/Budapest","Europe/Ljubljana","Europe/Prague","Europe/Sarajevo","Europe/Skopje","Europe/Warsaw","Europe/Zagreb","Europe/Brussels","Europe/Copenhagen","Europe/Madrid","Europe/Paris","Europe/Amsterdam","Europe/Berlin","Europe/Berlin","Europe/Rome","Europe/Stockholm","Europe/Vienna","Africa/Algiers","Europe/Bucharest","Africa/Cairo","Europe/Helsinki","Europe/Kiev","Europe/Riga","Europe/Sofia","Europe/Tallinn","Europe/Vilnius","Europe/Athens","Europe/Istanbul","Europe/Minsk","Asia/Jerusalem","Africa/Harare","Africa/Johannesburg","Europe/Moscow","Europe/Moscow","Europe/Moscow","Asia/Kuwait","Asia/Riyadh","Africa/Nairobi","Asia/Baghdad","Asia/Tehran","Asia/Muscat","Asia/Muscat","Asia/Baku","Asia/Tbilisi","Asia/Yerevan","Asia/Kabul","Asia/Yekaterinburg","Asia/Karachi","Asia/Karachi","Asia/Tashkent","Asia/Kolkata","Asia/Kolkata","Asia/Kolkata","Asia/Kolkata","Asia/Kathmandu","Asia/Dhaka","Asia/Dhaka","Asia/Colombo","Asia/Almaty","Asia/Novosibirsk","Asia/Rangoon","Asia/Bangkok","Asia/Bangkok","Asia/Jakarta","Asia/Krasnoyarsk","Asia/Shanghai","Asia/Chongqing","Asia/Hong_Kong","Asia/Urumqi","Asia/Kuala_Lumpur","Asia/Singapore","Asia/Taipei","Australia/Perth","Asia/Irkutsk","Asia/Ulaanbaatar","Asia/Seoul","Asia/Tokyo","Asia/Tokyo","Asia/Tokyo","Asia/Yakutsk","Australia/Darwin","Australia/Adelaide","Australia/Melbourne","Australia/Melbourne","Australia/Sydney","Australia/Brisbane","Australia/Hobart","Asia/Vladivostok","Pacific/Guam","Pacific/Port_Moresby","Asia/Magadan","Asia/Magadan","Pacific/Noumea","Pacific/Fiji","Asia/Kamchatka","Pacific/Majuro","Pacific/Auckland","Pacific/Auckland","Pacific/Tongatapu","Pacific/Fakaofo","Pacific/Apia"]},animal:{bear:["Giant panda","Spectacled bear","Sun bear","Sloth bear","American black bear","Asian black bear","Brown bear","Polar bear"],bird:["Red-throated Loon","Arctic Loon","Pacific Loon","Common Loon","Yellow-billed Loon","Least Grebe","Pied-billed Grebe","Horned Grebe","Red-necked Grebe","Eared Grebe","Western Grebe","Clark's Grebe","Yellow-nosed Albatross","Shy Albatross","Black-browed Albatross","Wandering Albatross","Laysan Albatross","Black-footed Albatross","Short-tailed Albatross","Northern Fulmar","Herald Petrel","Murphy's Petrel","Mottled Petrel","Black-capped Petrel","Cook's Petrel","Stejneger's Petrel","White-chinned Petrel","Streaked Shearwater","Cory's Shearwater","Pink-footed Shearwater","Flesh-footed Shearwater","Greater Shearwater","Wedge-tailed Shearwater","Buller's Shearwater","Sooty Shearwater","Short-tailed Shearwater","Manx Shearwater","Black-vented Shearwater","Audubon's Shearwater","Little Shearwater","Wilson's Storm-Petrel","White-faced Storm-Petrel","European Storm-Petrel","Fork-tailed Storm-Petrel","Leach's Storm-Petrel","Ashy Storm-Petrel","Band-rumped Storm-Petrel","Wedge-rumped Storm-Petrel","Black Storm-Petrel","Least Storm-Petrel","White-tailed Tropicbird","Red-billed Tropicbird","Red-tailed Tropicbird","Masked Booby","Blue-footed Booby","Brown Booby","Red-footed Booby","Northern Gannet","American White Pelican","Brown Pelican","Brandt's Cormorant","Neotropic Cormorant","Double-crested Cormorant","Great Cormorant","Red-faced Cormorant","Pelagic Cormorant","Anhinga","Magnificent Frigatebird","Great Frigatebird","Lesser Frigatebird","American Bittern","Yellow Bittern","Least Bittern","Great Blue Heron","Great Egret","Chinese Egret","Little Egret","Western Reef-Heron","Snowy Egret","Little Blue Heron","Tricolored Heron","Reddish Egret","Cattle Egret","Green Heron","Black-crowned Night-Heron","Yellow-crowned Night-Heron","White Ibis","Scarlet Ibis","Glossy Ibis","White-faced Ibis","Roseate Spoonbill","Jabiru","Wood Stork","Black Vulture","Turkey Vulture","California Condor","Greater Flamingo","Black-bellied Whistling-Duck","Fulvous Whistling-Duck","Bean Goose","Pink-footed Goose","Greater White-fronted Goose","Lesser White-fronted Goose","Emperor Goose","Snow Goose","Ross's Goose","Canada Goose","Brant","Barnacle Goose","Mute Swan","Trumpeter Swan","Tundra Swan","Whooper Swan","Muscovy Duck","Wood Duck","Gadwall","Falcated Duck","Eurasian Wigeon","American Wigeon","American Black Duck","Mallard","Mottled Duck","Spot-billed Duck","Blue-winged Teal","Cinnamon Teal","Northern Shoveler","White-cheeked Pintail","Northern Pintail","Garganey","Baikal Teal","Green-winged Teal","Canvasback","Redhead","Common Pochard","Ring-necked Duck","Tufted Duck","Greater Scaup","Lesser Scaup","Steller's Eider","Spectacled Eider","King Eider","Common Eider","Harlequin Duck","Labrador Duck","Surf Scoter","White-winged Scoter","Black Scoter","Oldsquaw","Bufflehead","Common Goldeneye","Barrow's Goldeneye","Smew","Hooded Merganser","Common Merganser","Red-breasted Merganser","Masked Duck","Ruddy Duck","Osprey","Hook-billed Kite","Swallow-tailed Kite","White-tailed Kite","Snail Kite","Mississippi Kite","Bald Eagle","White-tailed Eagle","Steller's Sea-Eagle","Northern Harrier","Sharp-shinned Hawk","Cooper's Hawk","Northern Goshawk","Crane Hawk","Gray Hawk","Common Black-Hawk","Harris's Hawk","Roadside Hawk","Red-shouldered Hawk","Broad-winged Hawk","Short-tailed Hawk","Swainson's Hawk","White-tailed Hawk","Zone-tailed Hawk","Red-tailed Hawk","Ferruginous Hawk","Rough-legged Hawk","Golden Eagle","Collared Forest-Falcon","Crested Caracara","Eurasian Kestrel","American Kestrel","Merlin","Eurasian Hobby","Aplomado Falcon","Gyrfalcon","Peregrine Falcon","Prairie Falcon","Plain Chachalaca","Chukar","Himalayan Snowcock","Gray Partridge","Ring-necked Pheasant","Ruffed Grouse","Sage Grouse","Spruce Grouse","Willow Ptarmigan","Rock Ptarmigan","White-tailed Ptarmigan","Blue Grouse","Sharp-tailed Grouse","Greater Prairie-chicken","Lesser Prairie-chicken","Wild Turkey","Mountain Quail","Scaled Quail","California Quail","Gambel's Quail","Northern Bobwhite","Montezuma Quail","Yellow Rail","Black Rail","Corn Crake","Clapper Rail","King Rail","Virginia Rail","Sora","Paint-billed Crake","Spotted Rail","Purple Gallinule","Azure Gallinule","Common Moorhen","Eurasian Coot","American Coot","Limpkin","Sandhill Crane","Common Crane","Whooping Crane","Double-striped Thick-knee","Northern Lapwing","Black-bellied Plover","European Golden-Plover","American Golden-Plover","Pacific Golden-Plover","Mongolian Plover","Collared Plover","Snowy Plover","Wilson's Plover","Common Ringed Plover","Semipalmated Plover","Piping Plover","Little Ringed Plover","Killdeer","Mountain Plover","Eurasian Dotterel","Eurasian Oystercatcher","American Oystercatcher","Black Oystercatcher","Black-winged Stilt","Black-necked Stilt","American Avocet","Northern Jacana","Common Greenshank","Greater Yellowlegs","Lesser Yellowlegs","Marsh Sandpiper","Spotted Redshank","Wood Sandpiper","Green Sandpiper","Solitary Sandpiper","Willet","Wandering Tattler","Gray-tailed Tattler","Common Sandpiper","Spotted Sandpiper","Terek Sandpiper","Upland Sandpiper","Little Curlew","Eskimo Curlew","Whimbrel","Bristle-thighed Curlew","Far Eastern Curlew","Slender-billed Curlew","Eurasian Curlew","Long-billed Curlew","Black-tailed Godwit","Hudsonian Godwit","Bar-tailed Godwit","Marbled Godwit","Ruddy Turnstone","Black Turnstone","Surfbird","Great Knot","Red Knot","Sanderling","Semipalmated Sandpiper","Western Sandpiper","Red-necked Stint","Little Stint","Temminck's Stint","Long-toed Stint","Least Sandpiper","White-rumped Sandpiper","Baird's Sandpiper","Pectoral Sandpiper","Sharp-tailed Sandpiper","Purple Sandpiper","Rock Sandpiper","Dunlin","Curlew Sandpiper","Stilt Sandpiper","Spoonbill Sandpiper","Broad-billed Sandpiper","Buff-breasted Sandpiper","Ruff","Short-billed Dowitcher","Long-billed Dowitcher","Jack Snipe","Common Snipe","Pin-tailed Snipe","Eurasian Woodcock","American Woodcock","Wilson's Phalarope","Red-necked Phalarope","Red Phalarope","Oriental Pratincole","Great Skua","South Polar Skua","Pomarine Jaeger","Parasitic Jaeger","Long-tailed Jaeger","Laughing Gull","Franklin's Gull","Little Gull","Black-headed Gull","Bonaparte's Gull","Heermann's Gull","Band-tailed Gull","Black-tailed Gull","Mew Gull","Ring-billed Gull","California Gull","Herring Gull","Yellow-legged Gull","Thayer's Gull","Iceland Gull","Lesser Black-backed Gull","Slaty-backed Gull","Yellow-footed Gull","Western Gull","Glaucous-winged Gull","Glaucous Gull","Great Black-backed Gull","Sabine's Gull","Black-legged Kittiwake","Red-legged Kittiwake","Ross's Gull","Ivory Gull","Gull-billed Tern","Caspian Tern","Royal Tern","Elegant Tern","Sandwich Tern","Roseate Tern","Common Tern","Arctic Tern","Forster's Tern","Least Tern","Aleutian Tern","Bridled Tern","Sooty Tern","Large-billed Tern","White-winged Tern","Whiskered Tern","Black Tern","Brown Noddy","Black Noddy","Black Skimmer","Dovekie","Common Murre","Thick-billed Murre","Razorbill","Great Auk","Black Guillemot","Pigeon Guillemot","Long-billed Murrelet","Marbled Murrelet","Kittlitz's Murrelet","Xantus's Murrelet","Craveri's Murrelet","Ancient Murrelet","Cassin's Auklet","Parakeet Auklet","Least Auklet","Whiskered Auklet","Crested Auklet","Rhinoceros Auklet","Atlantic Puffin","Horned Puffin","Tufted Puffin","Rock Dove","Scaly-naped Pigeon","White-crowned Pigeon","Red-billed Pigeon","Band-tailed Pigeon","Oriental Turtle-Dove","European Turtle-Dove","Eurasian Collared-Dove","Spotted Dove","White-winged Dove","Zenaida Dove","Mourning Dove","Passenger Pigeon","Inca Dove","Common Ground-Dove","Ruddy Ground-Dove","White-tipped Dove","Key West Quail-Dove","Ruddy Quail-Dove","Budgerigar","Monk Parakeet","Carolina Parakeet","Thick-billed Parrot","White-winged Parakeet","Red-crowned Parrot","Common Cuckoo","Oriental Cuckoo","Black-billed Cuckoo","Yellow-billed Cuckoo","Mangrove Cuckoo","Greater Roadrunner","Smooth-billed Ani","Groove-billed Ani","Barn Owl","Flammulated Owl","Oriental Scops-Owl","Western Screech-Owl","Eastern Screech-Owl","Whiskered Screech-Owl","Great Horned Owl","Snowy Owl","Northern Hawk Owl","Northern Pygmy-Owl","Ferruginous Pygmy-Owl","Elf Owl","Burrowing Owl","Mottled Owl","Spotted Owl","Barred Owl","Great Gray Owl","Long-eared Owl","Short-eared Owl","Boreal Owl","Northern Saw-whet Owl","Lesser Nighthawk","Common Nighthawk","Antillean Nighthawk","Common Pauraque","Common Poorwill","Chuck-will's-widow","Buff-collared Nightjar","Whip-poor-will","Jungle Nightjar","Black Swift","White-collared Swift","Chimney Swift","Vaux's Swift","White-throated Needletail","Common Swift","Fork-tailed Swift","White-throated Swift","Antillean Palm Swift","Green Violet-ear","Green-breasted Mango","Broad-billed Hummingbird","White-eared Hummingbird","Xantus's Hummingbird","Berylline Hummingbird","Buff-bellied Hummingbird","Cinnamon Hummingbird","Violet-crowned Hummingbird","Blue-throated Hummingbird","Magnificent Hummingbird","Plain-capped Starthroat","Bahama Woodstar","Lucifer Hummingbird","Ruby-throated Hummingbird","Black-chinned Hummingbird","Anna's Hummingbird","Costa's Hummingbird","Calliope Hummingbird","Bumblebee Hummingbird","Broad-tailed Hummingbird","Rufous Hummingbird","Allen's Hummingbird","Elegant Trogon","Eared Trogon","Hoopoe","Ringed Kingfisher","Belted Kingfisher","Green Kingfisher","Eurasian Wryneck","Lewis's Woodpecker","Red-headed Woodpecker","Acorn Woodpecker","Gila Woodpecker","Golden-fronted Woodpecker","Red-bellied Woodpecker","Williamson's Sapsucker","Yellow-bellied Sapsucker","Red-naped Sapsucker","Red-breasted Sapsucker","Great Spotted Woodpecker","Ladder-backed Woodpecker","Nuttall's Woodpecker","Downy Woodpecker","Hairy Woodpecker","Strickland's Woodpecker","Red-cockaded Woodpecker","White-headed Woodpecker","Three-toed Woodpecker","Black-backed Woodpecker","Northern Flicker","Gilded Flicker","Pileated Woodpecker","Ivory-billed Woodpecker","Northern Beardless-Tyrannulet","Greenish Elaenia","Caribbean Elaenia","Tufted Flycatcher","Olive-sided Flycatcher","Greater Pewee","Western Wood-Pewee","Eastern Wood-Pewee","Yellow-bellied Flycatcher","Acadian Flycatcher","Alder Flycatcher","Willow Flycatcher","Least Flycatcher","Hammond's Flycatcher","Dusky Flycatcher","Gray Flycatcher","Pacific-slope Flycatcher","Cordilleran Flycatcher","Buff-breasted Flycatcher","Black Phoebe","Eastern Phoebe","Say's Phoebe","Vermilion Flycatcher","Dusky-capped Flycatcher","Ash-throated Flycatcher","Nutting's Flycatcher","Great Crested Flycatcher","Brown-crested Flycatcher","La Sagra's Flycatcher","Great Kiskadee","Sulphur-bellied Flycatcher","Variegated Flycatcher","Tropical Kingbird","Couch's Kingbird","Cassin's Kingbird","Thick-billed Kingbird","Western Kingbird","Eastern Kingbird","Gray Kingbird","Loggerhead Kingbird","Scissor-tailed Flycatcher","Fork-tailed Flycatcher","Rose-throated Becard","Masked Tityra","Brown Shrike","Loggerhead Shrike","Northern Shrike","White-eyed Vireo","Thick-billed Vireo","Bell's Vireo","Black-capped Vireo","Gray Vireo","Yellow-throated Vireo","Plumbeous Vireo","Cassin's Vireo","Blue-headed Vireo","Hutton's Vireo","Warbling Vireo","Philadelphia Vireo","Red-eyed Vireo","Yellow-green Vireo","Black-whiskered Vireo","Yucatan Vireo","Gray Jay","Steller's Jay","Blue Jay","Green Jay","Brown Jay","Florida Scrub-Jay","Island Scrub-Jay","Western Scrub-Jay","Mexican Jay","Pinyon Jay","Clark's Nutcracker","Black-billed Magpie","Yellow-billed Magpie","Eurasian Jackdaw","American Crow","Northwestern Crow","Tamaulipas Crow","Fish Crow","Chihuahuan Raven","Common Raven","Sky Lark","Horned Lark","Purple Martin","Cuban Martin","Gray-breasted Martin","Southern Martin","Brown-chested Martin","Tree Swallow","Violet-green Swallow","Bahama Swallow","Northern Rough-winged Swallow","Bank Swallow","Cliff Swallow","Cave Swallow","Barn Swallow","Common House-Martin","Carolina Chickadee","Black-capped Chickadee","Mountain Chickadee","Mexican Chickadee","Chestnut-backed Chickadee","Boreal Chickadee","Gray-headed Chickadee","Bridled Titmouse","Oak Titmouse","Juniper Titmouse","Tufted Titmouse","Verdin","Bushtit","Red-breasted Nuthatch","White-breasted Nuthatch","Pygmy Nuthatch","Brown-headed Nuthatch","Brown Creeper","Cactus Wren","Rock Wren","Canyon Wren","Carolina Wren","Bewick's Wren","House Wren","Winter Wren","Sedge Wren","Marsh Wren","American Dipper","Red-whiskered Bulbul","Golden-crowned Kinglet","Ruby-crowned Kinglet","Middendorff's Grasshopper-Warbler","Lanceolated Warbler","Wood Warbler","Dusky Warbler","Arctic Warbler","Blue-gray Gnatcatcher","California Gnatcatcher","Black-tailed Gnatcatcher","Black-capped Gnatcatcher","Narcissus Flycatcher","Mugimaki Flycatcher","Red-breasted Flycatcher","Siberian Flycatcher","Gray-spotted Flycatcher","Asian Brown Flycatcher","Siberian Rubythroat","Bluethroat","Siberian Blue Robin","Red-flanked Bluetail","Northern Wheatear","Stonechat","Eastern Bluebird","Western Bluebird","Mountain Bluebird","Townsend's Solitaire","Veery","Gray-cheeked Thrush","Bicknell's Thrush","Swainson's Thrush","Hermit Thrush","Wood Thrush","Eurasian Blackbird","Eyebrowed Thrush","Dusky Thrush","Fieldfare","Redwing","Clay-colored Robin","White-throated Robin","Rufous-backed Robin","American Robin","Varied Thrush","Aztec Thrush","Wrentit","Gray Catbird","Black Catbird","Northern Mockingbird","Bahama Mockingbird","Sage Thrasher","Brown Thrasher","Long-billed Thrasher","Bendire's Thrasher","Curve-billed Thrasher","California Thrasher","Crissal Thrasher","Le Conte's Thrasher","Blue Mockingbird","European Starling","Crested Myna","Siberian Accentor","Yellow Wagtail","Citrine Wagtail","Gray Wagtail","White Wagtail","Black-backed Wagtail","Tree Pipit","Olive-backed Pipit","Pechora Pipit","Red-throated Pipit","American Pipit","Sprague's Pipit","Bohemian Waxwing","Cedar Waxwing","Gray Silky-flycatcher","Phainopepla","Olive Warbler","Bachman's Warbler","Blue-winged Warbler","Golden-winged Warbler","Tennessee Warbler","Orange-crowned Warbler","Nashville Warbler","Virginia's Warbler","Colima Warbler","Lucy's Warbler","Crescent-chested Warbler","Northern Parula","Tropical Parula","Yellow Warbler","Chestnut-sided Warbler","Magnolia Warbler","Cape May Warbler","Black-throated Blue Warbler","Yellow-rumped Warbler","Black-throated Gray Warbler","Golden-cheeked Warbler","Black-throated Green Warbler","Townsend's Warbler","Hermit Warbler","Blackburnian Warbler","Yellow-throated Warbler","Grace's Warbler","Pine Warbler","Kirtland's Warbler","Prairie Warbler","Palm Warbler","Bay-breasted Warbler","Blackpoll Warbler","Cerulean Warbler","Black-and-white Warbler","American Redstart","Prothonotary Warbler","Worm-eating Warbler","Swainson's Warbler","Ovenbird","Northern Waterthrush","Louisiana Waterthrush","Kentucky Warbler","Connecticut Warbler","Mourning Warbler","MacGillivray's Warbler","Common Yellowthroat","Gray-crowned Yellowthroat","Hooded Warbler","Wilson's Warbler","Canada Warbler","Red-faced Warbler","Painted Redstart","Slate-throated Redstart","Fan-tailed Warbler","Golden-crowned Warbler","Rufous-capped Warbler","Yellow-breasted Chat","Bananaquit","Hepatic Tanager","Summer Tanager","Scarlet Tanager","Western Tanager","Flame-colored Tanager","Stripe-headed Tanager","White-collared Seedeater","Yellow-faced Grassquit","Black-faced Grassquit","Olive Sparrow","Green-tailed Towhee","Spotted Towhee","Eastern Towhee","Canyon Towhee","California Towhee","Abert's Towhee","Rufous-winged Sparrow","Cassin's Sparrow","Bachman's Sparrow","Botteri's Sparrow","Rufous-crowned Sparrow","Five-striped Sparrow","American Tree Sparrow","Chipping Sparrow","Clay-colored Sparrow","Brewer's Sparrow","Field Sparrow","Worthen's Sparrow","Black-chinned Sparrow","Vesper Sparrow","Lark Sparrow","Black-throated Sparrow","Sage Sparrow","Lark Bunting","Savannah Sparrow","Grasshopper Sparrow","Baird's Sparrow","Henslow's Sparrow","Le Conte's Sparrow","Nelson's Sharp-tailed Sparrow","Saltmarsh Sharp-tailed Sparrow","Seaside Sparrow","Fox Sparrow","Song Sparrow","Lincoln's Sparrow","Swamp Sparrow","White-throated Sparrow","Harris's Sparrow","White-crowned Sparrow","Golden-crowned Sparrow","Dark-eyed Junco","Yellow-eyed Junco","McCown's Longspur","Lapland Longspur","Smith's Longspur","Chestnut-collared Longspur","Pine Bunting","Little Bunting","Rustic Bunting","Yellow-breasted Bunting","Gray Bunting","Pallas's Bunting","Reed Bunting","Snow Bunting","McKay's Bunting","Crimson-collared Grosbeak","Northern Cardinal","Pyrrhuloxia","Yellow Grosbeak","Rose-breasted Grosbeak","Black-headed Grosbeak","Blue Bunting","Blue Grosbeak","Lazuli Bunting","Indigo Bunting","Varied Bunting","Painted Bunting","Dickcissel","Bobolink","Red-winged Blackbird","Tricolored Blackbird","Tawny-shouldered Blackbird","Eastern Meadowlark","Western Meadowlark","Yellow-headed Blackbird","Rusty Blackbird","Brewer's Blackbird","Common Grackle","Boat-tailed Grackle","Great-tailed Grackle","Shiny Cowbird","Bronzed Cowbird","Brown-headed Cowbird","Black-vented Oriole","Orchard Oriole","Hooded Oriole","Streak-backed Oriole","Spot-breasted Oriole","Altamira Oriole","Audubon's Oriole","Baltimore Oriole","Bullock's Oriole","Scott's Oriole","Common Chaffinch","Brambling","Gray-crowned Rosy-Finch","Black Rosy-Finch","Brown-capped Rosy-Finch","Pine Grosbeak","Common Rosefinch","Purple Finch","Cassin's Finch","House Finch","Red Crossbill","White-winged Crossbill","Common Redpoll","Hoary Redpoll","Eurasian Siskin","Pine Siskin","Lesser Goldfinch","Lawrence's Goldfinch","American Goldfinch","Oriental Greenfinch","Eurasian Bullfinch","Evening Grosbeak","Hawfinch","House Sparrow","Eurasian Tree Sparrow"],cat:["Abyssinian","American Bobtail","American Curl","American Shorthair","American Wirehair","Balinese","Bengal","Birman","Bombay","British Shorthair","Burmese","Chartreux","Chausie","Cornish Rex","Devon Rex","Donskoy","Egyptian Mau","Exotic Shorthair","Havana","Highlander","Himalayan","Japanese Bobtail","Korat","Kurilian Bobtail","LaPerm","Maine Coon","Manx","Minskin","Munchkin","Nebelung","Norwegian Forest Cat","Ocicat","Ojos Azules","Oriental","Persian","Peterbald","Pixiebob","Ragdoll","Russian Blue","Savannah","Scottish Fold","Selkirk Rex","Serengeti","Siberian","Siamese","Singapura","Snowshoe","Sokoke","Somali","Sphynx","Thai","Tonkinese","Toyger","Turkish Angora","Turkish Van"],cetacean:["Blue Whale","Fin Whale","Sei Whale","Sperm Whale","Brydes whale","Omuras whale","Humpback whale","Long-Beaked Common Dolphin","Short-Beaked Common Dolphin","Bottlenose Dolphin","Indo-Pacific Bottlenose Dolphin","Northern Rightwhale Dolphin","Southern Rightwhale Dolphin","Tucuxi","Costero","Indo-Pacific Hump-backed Dolphin","Chinese White Dolphin","Atlantic Humpbacked Dolphin","Atlantic Spotted Dolphin","Clymene Dolphin","Pantropical Spotted Dolphin","Spinner Dolphin","Striped Dolphin","Rough-Toothed Dolphin","Chilean Dolphin","Commersons Dolphin","Heavisides Dolphin","Hectors Dolphin","Rissos Dolphin","Frasers Dolphin","Atlantic White-Sided Dolphin","Dusky Dolphin","Hourglass Dolphin","Pacific White-Sided Dolphin","Peales Dolphin","White-Beaked Dolphin","Australian Snubfin Dolphin","Irrawaddy Dolphin","Melon-headed Whale","Killer Whale (Orca)","Pygmy Killer Whale","False Killer Whale","Long-finned Pilot Whale","Short-finned Pilot Whale","Guiana Dolphin","Burrunan Dolphin","Australian humpback Dolphin","Amazon River Dolphin","Chinese River Dolphin","Ganges River Dolphin","La Plata Dolphin","Southern Bottlenose Whale","Longman's Beaked Whale","Arnoux's Beaked Whale"],cow:["Aberdeen Angus","Abergele","Abigar","Abondance","Abyssinian Shorthorned Zebu","Aceh","Achham","Adamawa","Adaptaur","Afar","Africangus","Afrikaner","Agerolese","Alambadi","Alatau","Albanian","Albera","Alderney","Alentejana","Aleutian wild cattle","Aliad Dinka","Alistana-Sanabresa","Allmogekor","Alur","American","American Angus","American Beef Friesian","American Brown Swiss","American Milking Devon","American White Park","Amerifax","Amrit Mahal","Amsterdam Island cattle","Anatolian Black","Andalusian Black","Andalusian Blond","Andalusian Grey","Angeln","Angoni","Ankina","Ankole","Ankole-Watusi","Aracena","Arado","Argentine Criollo","Argentine Friesian","Armorican","Arouquesa","Arsi","Asturian Mountain","Asturian Valley","Aubrac","Aulie-Ata","Aure et Saint-Girons","Australian Braford","Australian Brangus","Australian Charbray","Australian Friesian Sahiwal","Australian Lowline","Australian Milking Zebu","Australian Shorthorn","Austrian Simmental","Austrian Yellow","Avtonou","Avilea-Negra Ibrica","Aweil Dinka","Ayrshire","Azaouak","Azebuado","Azerbaijan Zebu","Azores","Bedit","Breed","Bachaur cattle","Baherie cattle","Bakosi cattle","Balancer","Baoule","Bargur cattle","Barros","Barzona","Bazadaise","Beef Freisian","Beefalo","Beefmaker","Beefmaster","Begayt","Belgian Blue","Belgian Red","Belgian Red Pied","Belgian White-and-Red","Belmont Red","Belted Galloway","Bernese","Berrenda cattle","Betizu","Bianca Modenese","Blaarkop","Black Angus","Black Baldy","Black Hereford","Blanca Cacerea","Blanco Orejinegro BON","Blonde d'Aquitaine","Blue Albion","Blue Grey","Bohuskulla","Bonsmara","Boran","Bokarin","Braford","Brahman","Brahmousin","Brangus","Braunvieh","Brava","British White","British Friesian","Brown Carpathian","Brown Caucasian","Brown Swiss","Bue Lingo","Burlina","Bua cattle","Butana cattle","Bushuyev","Cedit","Breed","Cachena","Caldelana","Camargue","Campbell Island cattle","Canadian Speckle Park","Canadienne","Canaria","Canchim","Caracu","Crdena Andaluza","Carinthian Blondvieh","Carora","Charbray","Charolais","Chateaubriand","Chiangus","Chianina","Chillingham cattle","Chinese Black Pied","Cholistani","Coloursided White Back","Commercial","Corriente","Corsican cattle","Costeo con Cuernos","Crioulo Lageano","Dedit","Breed","Dajal","Dangi cattle","Danish Black-Pied","Danish Jersey","Danish Red","Deep Red cattle","Deoni","Devon","Dexter cattle","Dhanni","Doayo cattle","Doela","Drakensberger","Dlafe","Droughtmaster","Dulong'","Dutch Belted","Dutch Friesian","Dwarf Lulu","Eedit","Breed","East Anatolian Red","Eastern Finncattle","Eastern Red Polled","Enderby Island cattle","English Longhorn","Ennstaler Bergscheck","Estonian Holstein","Estonian Native","Estonian Red cattle","volne cattle","Fedit","Breed","Fng Cattle","Finnish Ayrshire","Finncattle","Finnish Holstein-Friesian","Fjll","Fleckvieh","Florida Cracker cattle","Fogera","French Simmental","Fribourgeoise","Friesian Red and White","Fulani Sudanese","Gedit","Breed","Galician Blond","Galloway cattle","Gangatiri","Gaolao","Garvonesa","Gascon cattle","Gelbvieh","Georgian Mountain cattle","German Angus","German Black Pied cattle","German Black Pied Dairy","German Red Pied","Gir","Glan cattle","Gloucester","Gobra","Greek Shorthorn","Greek Steppe","Greyman cattle","Gudali","Guernsey cattle","Guzer","Hedit","Breed","Hallikar4","Hanwoo","Hariana cattle","Hartn del Valle","Harzer Rotvieh","Hays Converter","Heck cattle","Hereford","Herens","Hybridmaster","Highland cattle","Hinterwald","Holando-Argentino","Holstein Friesian cattle","Horro","Hung Cattle","Hungarian Grey","Iedit","Breed","Iberian cattle","Icelandic","Illawarra cattle","Improved Red and White","Indo-Brazilian","Irish Moiled","Israeli Holstein","Israeli Red","Istoben cattle","Istrian cattle","Jedit","Breed","Jamaica Black","Jamaica Hope","Jamaica Red","Japanese Brown","Jarmelista","Javari cattle","Jersey cattle","Jutland cattle","Kedit","Breed","Kabin Buri cattle","Kalmyk cattle","Kangayam","Kankrej","Kamphaeng Saen cattle","Karan Swiss","Kasaragod Dwarf cattle","Kathiawadi","Kazakh Whiteheaded","Kenana cattle","Kenkatha cattle","Kerry cattle","Kherigarh","Khillari cattle","Kholomogory","Korat Wagyu","Kostroma cattle","Krishna Valley cattle","Kuri","Kurgan cattle","Ledit","Breed","La Reina cattle","Lakenvelder cattle","Lampurger","Latvian Blue","Latvian Brown","Latvian Danish Red","Lebedyn","Levantina","Limia cattle","Limousin","Limpurger","Lincoln Red","Lineback","Lithuanian Black-and-White","Lithuanian Light Grey","Lithuanian Red","Lithuanian White-Backed","Lohani cattle","Lourdais","Lucerna cattle","Luing","Medit","Breed","Madagascar Zebu","Madura","Maine-Anjou","Malnad Gidda","Malvi","Mandalong Special","Mantequera Leonesa","Maramure Brown","Marchigiana","Maremmana","Marinhoa","Maronesa","Masai","Mashona","Menorquina","Mertolenga","Meuse-Rhine-Issel","Mewati","Milking Shorthorn","Minhota","Mirandesa","Mirkadim","Mocni","Mollie","Monchina","Mongolian","Montbliarde","Morucha","Muturu","Murboden","Murnau-Werdenfels","Murray Grey","Nedit","Breed","Nagori","N'Dama","Negra Andaluza","Nelore","Nguni","Nimari","Normande","North Bengal Grey","Northern Finncattle","Northern Shorthorn","Norwegian Red","Oedit]","Breed","Ongole","Original Simmental","Pedit","Breed","Pajuna","Palmera","Pantaneiro","Parda Alpina","Parthenaise","Pasiega","Pembroke","Philippine Native","Pie Rouge des Plaines","Piedmontese cattle","Pineywoods","Pinzgauer","Pirenaica","Podolac","Podolica","Polish Black-and-White","Polish Red","Polled Hereford","Poll Shorthorn","Polled Shorthorn","Ponwar","Preta","Punganur","Pulikulam","Pustertaler Sprinzen","Qedit","Breed","Qinchaun","Queensland Miniature Boran","Redit","Breed","Ramo Grande","Randall","Raramuri Criollo","Rathi","Rtisches Grauvieh","Raya","Red Angus","Red Brangus","Red Chittagong","Red Fulani","Red Gorbatov","Red Holstein","Red Kandhari","Red Mingrelian","Red Poll","Red Polled stland","Red Sindhi","Retinta","Riggit Galloway","Ringamla","Rohjan","Romagnola","Romanian Blata","Romanian Steppe Gray","Romosinuano","Russian Black Pied","RX3","Sedit","Breed","Sahiwal","Salers","Salorn","Sanga","Sanhe","Santa Cruz","Santa Gertrudis","Sayaguesa","Schwyz","Selembu","Senepol","Serbian Pied","Serbian Steppe","Sheko","Shetland","Shorthorn","Siboney de Cuba","Simbrah","Simford","Simmental","Siri","South Devon","Spanish Fighting Bull","Speckle Park","Square Meater","Sussex","Swedish Friesian","Swedish Polled","Swedish Red Pied","Swedish Red Polled","Swedish Red-and-White","Tedit","Breed","Tabapu","Tarentaise","Tasmanian Grey","Tauros","Telemark","Texas Longhorn","Texon","Thai Black","Thai Fighting Bull","Thai Friesian","Thai Milking Zebu","Tharparkar","Tswana","Tudanca","Tuli","Tulim","Turkish Grey Steppe","Tux-Zillertal","Tyrol Grey","Uedit","Breed","Umblachery","Ukrainian Grey","Vedit","Breed","Valdostana Castana","Valdostana Pezzata Nera","Valdostana Pezzata Rossa","Vneko","Vaynol","Vechur8","Vestland Fjord","Vestland Red Polled","Vianesa","Volinian Beef","Vorderwald","Vosgienne","Wedit","Breed","Wagyu","Waguli","Wangus","Welsh Black","Western Finncattle","White Cceres","White Fulani","White Lamphun","White Park","Whitebred Shorthorn","Xedit","Breed","Xingjiang Brown","Yedit","Breed","Yakutian","Yanbian","Yanhuang","Yurino","Zedit","Breed","ubro","Zebu"],crocodilia:["Alligator mississippiensis","Chinese Alligator","Black Caiman","Broad-snouted Caiman","Spectacled Caiman","Yacare Caiman","Cuviers Dwarf Caiman","Schneiders Smooth-fronted Caiman","African Slender-snouted Crocodile","American Crocodile","Australian Freshwater Crocodile","Cuban Crocodile","Dwarf Crocodile","Morelets Crocodile","Mugger Crocodile","New Guinea Freshwater Crocodile","Nile Crocodile","West African Crocodile","Orinoco Crocodile","Philippine Crocodile","Saltwater Crocodile","Siamese Crocodile","Gharial","Tomistoma"],dog:["Affenpinscher","Afghan Hound","Aidi","Airedale Terrier","Akbash","Akita","Alano Espaol","Alapaha Blue Blood Bulldog","Alaskan Husky","Alaskan Klee Kai","Alaskan Malamute","Alopekis","Alpine Dachsbracke","American Bulldog","American Bully","American Cocker Spaniel","American English Coonhound","American Foxhound","American Hairless Terrier","American Pit Bull Terrier","American Staffordshire Terrier","American Water Spaniel","Andalusian Hound","Anglo-Franais de Petite Vnerie","Appenzeller Sennenhund","Ariegeois","Armant","Armenian Gampr dog","Artois Hound","Australian Cattle Dog","Australian Kelpie","Australian Shepherd","Australian Stumpy Tail Cattle Dog","Australian Terrier","Austrian Black and Tan Hound","Austrian Pinscher","Azawakh","Bakharwal dog","Banjara Hound","Barbado da Terceira","Barbet","Basenji","Basque Shepherd Dog","Basset Artsien Normand","Basset Bleu de Gascogne","Basset Fauve de Bretagne","Basset Hound","Bavarian Mountain Hound","Beagle","Beagle-Harrier","Belgian Shepherd","Bearded Collie","Beauceron","Bedlington Terrier","Bergamasco Shepherd","Berger Picard","Bernese Mountain Dog","Bhotia","Bichon Fris","Billy","Black and Tan Coonhound","Black Norwegian Elkhound","Black Russian Terrier","Black Mouth Cur","Bloodhound","Blue Lacy","Blue Picardy Spaniel","Bluetick Coonhound","Boerboel","Bohemian Shepherd","Bolognese","Border Collie","Border Terrier","Borzoi","Bosnian Coarse-haired Hound","Boston Terrier","Bouvier des Ardennes","Bouvier des Flandres","Boxer","Boykin Spaniel","Bracco Italiano","Braque d'Auvergne","Braque de l'Arige","Braque du Bourbonnais","Braque Francais","Braque Saint-Germain","Briard","Briquet Griffon Venden","Brittany","Broholmer","Bruno Jura Hound","Brussels Griffon","Bucovina Shepherd Dog","Bull Arab","Bull Terrier","Bulldog","Bullmastiff","Bully Kutta","Burgos Pointer","Cairn Terrier","Campeiro Bulldog","Canaan Dog","Canadian Eskimo Dog","Cane Corso","Cane di Oropa","Cane Paratore","Cantabrian Water Dog","Can de Chira","Co da Serra de Aires","Co de Castro Laboreiro","Co de Gado Transmontano","Co Fila de So Miguel","Cardigan Welsh Corgi","Carea Castellano Manchego","Carolina Dog","Carpathian Shepherd Dog","Catahoula Leopard Dog","Catalan Sheepdog","Caucasian Shepherd Dog","Cavalier King Charles Spaniel","Central Asian Shepherd Dog","Cesky Fousek","Cesky Terrier","Chesapeake Bay Retriever","Chien Franais Blanc et Noir","Chien Franais Blanc et Orange","Chien Franais Tricolore","Chihuahua","Chilean Terrier","Chinese Chongqing Dog","Chinese Crested Dog","Chinook","Chippiparai","Chongqing dog","Chortai","Chow Chow","Cimarrn Uruguayo","Cirneco dell'Etna","Clumber Spaniel","Colombian fino hound","Coton de Tulear","Cretan Hound","Croatian Sheepdog","Curly-Coated Retriever","Cursinu","Czechoslovakian Wolfdog","Dachshund","Dalmatian","Dandie Dinmont Terrier","Danish-Swedish Farmdog","Denmark Feist","Dingo","Doberman Pinscher","Dogo Argentino","Dogo Guatemalteco","Dogo Sardesco","Dogue Brasileiro","Dogue de Bordeaux","Drentse Patrijshond","Drever","Dunker","Dutch Shepherd","Dutch Smoushond","East Siberian Laika","East European Shepherd","English Cocker Spaniel","English Foxhound","English Mastiff","English Setter","English Shepherd","English Springer Spaniel","English Toy Terrier","Entlebucher Mountain Dog","Estonian Hound","Estrela Mountain Dog","Eurasier","Field Spaniel","Fila Brasileiro","Finnish Hound","Finnish Lapphund","Finnish Spitz","Flat-Coated Retriever","French Bulldog","French Spaniel","Galgo Espaol","Galician Shepherd Dog","Garafian Shepherd","Gascon Saintongeois","Georgian Shepherd","German Hound","German Longhaired Pointer","German Pinscher","German Roughhaired Pointer","German Shepherd Dog","German Shorthaired Pointer","German Spaniel","German Spitz","German Wirehaired Pointer","Giant Schnauzer","Glen of Imaal Terrier","Golden Retriever","Goczy Polski","Gordon Setter","Grand Anglo-Franais Blanc et Noir","Grand Anglo-Franais Blanc et Orange","Grand Anglo-Franais Tricolore","Grand Basset Griffon Venden","Grand Bleu de Gascogne","Grand Griffon Venden","Great Dane","Greater Swiss Mountain Dog","Greek Harehound","Greek Shepherd","Greenland Dog","Greyhound","Griffon Bleu de Gascogne","Griffon Fauve de Bretagne","Griffon Nivernais","Gull Dong","Gull Terrier","Hllefors Elkhound","Hamiltonstvare","Hanover Hound","Harrier","Havanese","Hierran Wolfdog","Hokkaido","Hovawart","Huntaway","Hygen Hound","Ibizan Hound","Icelandic Sheepdog","Indian pariah dog","Indian Spitz","Irish Red and White Setter","Irish Setter","Irish Terrier","Irish Water Spaniel","Irish Wolfhound","Istrian Coarse-haired Hound","Istrian Shorthaired Hound","Italian Greyhound","Jack Russell Terrier","Jagdterrier","Japanese Chin","Japanese Spitz","Japanese Terrier","Jindo","Jonangi","Kai Ken","Kaikadi","Kangal Shepherd Dog","Kanni","Karakachan dog","Karelian Bear Dog","Kars","Karst Shepherd","Keeshond","Kerry Beagle","Kerry Blue Terrier","King Charles Spaniel","King Shepherd","Kintamani","Kishu","Kokoni","Kombai","Komondor","Kooikerhondje","Koolie","Koyun dog","Kromfohrlnder","Kuchi","Kuvasz","Labrador Retriever","Lagotto Romagnolo","Lakeland Terrier","Lancashire Heeler","Landseer","Lapponian Herder","Large Mnsterlnder","Leonberger","Levriero Sardo","Lhasa Apso","Lithuanian Hound","Lwchen","Lupo Italiano","Mackenzie River Husky","Magyar agr","Mahratta Greyhound","Maltese","Manchester Terrier","Maremmano-Abruzzese Sheepdog","McNab dog","Miniature American Shepherd","Miniature Bull Terrier","Miniature Fox Terrier","Miniature Pinscher","Miniature Schnauzer","Molossus of Epirus","Montenegrin Mountain Hound","Mountain Cur","Mountain Feist","Mucuchies","Mudhol Hound","Mudi","Neapolitan Mastiff","New Guinea Singing Dog","New Zealand Heading Dog","Newfoundland","Norfolk Terrier","Norrbottenspets","Northern Inuit Dog","Norwegian Buhund","Norwegian Elkhound","Norwegian Lundehund","Norwich Terrier","Nova Scotia Duck Tolling Retriever","Old Croatian Sighthound","Old Danish Pointer","Old English Sheepdog","Old English Terrier","Olde English Bulldogge","Otterhound","Pachon Navarro","Pampas Deerhound","Paisley Terrier","Papillon","Parson Russell Terrier","Pastore della Lessinia e del Lagorai","Patagonian Sheepdog","Patterdale Terrier","Pekingese","Pembroke Welsh Corgi","Perro Majorero","Perro de Pastor Mallorquin","Perro de Presa Canario","Perro de Presa Mallorquin","Peruvian Inca Orchid","Petit Basset Griffon Venden","Petit Bleu de Gascogne","Phalne","Pharaoh Hound","Phu Quoc Ridgeback","Picardy Spaniel","Plummer Terrier","Plott Hound","Podenco Canario","Podenco Valenciano","Pointer","Poitevin","Polish Greyhound","Polish Hound","Polish Lowland Sheepdog","Polish Tatra Sheepdog","Pomeranian","Pont-Audemer Spaniel","Poodle","Porcelaine","Portuguese Podengo","Portuguese Pointer","Portuguese Water Dog","Posavac Hound","Prask Krysak","Pshdar Dog","Pudelpointer","Pug","Puli","Pumi","Pungsan Dog","Pyrenean Mastiff","Pyrenean Mountain Dog","Pyrenean Sheepdog","Rafeiro do Alentejo","Rajapalayam","Rampur Greyhound","Rat Terrier","Ratonero Bodeguero Andaluz","Ratonero Mallorquin","Ratonero Murciano de Huerta","Ratonero Valenciano","Redbone Coonhound","Rhodesian Ridgeback","Romanian Mioritic Shepherd Dog","Romanian Raven Shepherd Dog","Rottweiler","Rough Collie","Russian Spaniel","Russian Toy","Russo-European Laika","Saarloos Wolfdog","Sabueso Espaol","Saint Bernard","Saint Hubert Jura Hound","Saint-Usuge Spaniel","Saluki","Samoyed","Sapsali","Sarabi dog","arplaninac","Schapendoes","Schillerstvare","Schipperke","Schweizer Laufhund","Schweizerischer Niederlaufhund","Scottish Deerhound","Scottish Terrier","Sealyham Terrier","Segugio dell'Appennino","Segugio Italiano","Segugio Maremmano","Seppala Siberian Sleddog","Serbian Hound","Serbian Tricolour Hound","Serrano Bulldog","Shar Pei","Shetland Sheepdog","Shiba Inu","Shih Tzu","Shikoku","Shiloh Shepherd","Siberian Husky","Silken Windhound","Silky Terrier","Sinhala Hound","Skye Terrier","Sloughi","Slovakian Wirehaired Pointer","Slovensk Cuvac","Slovensk Kopov","Smalandstvare","Small Greek domestic dog","Small Mnsterlnder","Smooth Collie","Smooth Fox Terrier","Soft-Coated Wheaten Terrier","South Russian Ovcharka","Spanish Mastiff","Spanish Water Dog","Spinone Italiano","Sporting Lucas Terrier","Sardinian Shepherd Dog","Stabyhoun","Staffordshire Bull Terrier","Standard Schnauzer","Stephens Stock","Styrian Coarse-haired Hound","Sussex Spaniel","Swedish Elkhound","Swedish Lapphund","Swedish Vallhund","Swedish White Elkhound","Taigan","Taiwan Dog","Tamaskan Dog","Teddy Roosevelt Terrier","Telomian","Tenterfield Terrier","Terrier Brasileiro","Thai Bangkaew Dog","Thai Ridgeback","Tibetan Mastiff","Tibetan Spaniel","Tibetan Terrier","Tornjak","Tosa","Toy Fox Terrier","Toy Manchester Terrier","Transylvanian Hound","Treeing Cur","Treeing Feist","Treeing Tennessee Brindle","Treeing Walker Coonhound","Trigg Hound","Tyrolean Hound","Vikhan","Villano de Las Encartaciones","Villanuco de Las Encartaciones","Vizsla","Volpino Italiano","Weimaraner","Welsh Sheepdog","Welsh Springer Spaniel","Welsh Terrier","West Highland White Terrier","West Siberian Laika","Westphalian Dachsbracke","Wetterhoun","Whippet","White Shepherd","White Swiss Shepherd Dog","Wire Fox Terrier","Wirehaired Pointing Griffon","Wirehaired Vizsla","Xiasi Dog","Xoloitzcuintli","Yakutian Laika","Yorkshire Terrier"],fish:["Grass carp","Peruvian anchoveta","Silver carp","Common carp","Asari","Japanese littleneck","Filipino Venus","Japanese cockle","Alaska pollock","Nile tilapia","Whiteleg shrimp","Bighead carp","Skipjack tuna","Catla","Crucian carp","Atlantic salmon","Atlantic herring","Chub mackerel","Rohu","Yellowfin tuna","Japanese anchovy","Largehead hairtail","Atlantic cod","European pilchard","Capelin","Jumbo flying squid","Milkfish","Atlantic mackerel","Rainbow trout","Araucanian herring","Wuchang bream","Gulf menhaden","Indian oil sardine","Black carp","European anchovy","Northern snakehead","Pacific cod","Pacific saury","Pacific herring","Bigeye tuna","Chilean jack mackerel","Yellow croaker","Haddock","Gazami crab","Amur catfish","Japanese common catfish","European sprat","Pink salmon","Mrigal carp","Channel catfish","Blood cockle","Blue whiting","Hilsa shad","Daggertooth pike conger","California pilchard","Cape horse mackerel","Pacific anchoveta","Japanese flying squid","Pollock","Chinese softshell turtle","Kawakawa","Indian mackerel","Asian swamp eel","Argentine hake","Short mackerel","Southern rough shrimp","Southern African anchovy","Pond loach","Iridescent shark","Mandarin fish","Chinese perch","Nile perch","Round sardinella","Japanese pilchard","Bombay-duck","Yellowhead catfish","Korean bullhead","Narrow-barred Spanish mackerel","Albacore","Madeiran sardinella","Bonga shad","Silver cyprinid","Nile tilapia","Longtail tuna","Atlantic menhaden","North Pacific hake","Atlantic horse mackerel","Japanese jack mackerel","Pacific thread herring","Bigeye scad","Yellowstripe scad","Chum salmon","Blue swimming crab","Pacific sand lance","Pacific sandlance","Goldstripe sardinella"],horse:["American Albino","Abaco Barb","Abtenauer","Abyssinian","Aegidienberger","Akhal-Teke","Albanian Horse","Altai Horse","Altr Real","American Cream Draft","American Indian Horse","American Paint Horse","American Quarter Horse","American Saddlebred","American Warmblood","Andalusian Horse","Andravida Horse","Anglo-Arabian","Anglo-Arabo-Sardo","Anglo-Kabarda","Appaloosa","AraAppaloosa","Arabian Horse","Ardennes Horse","Arenberg-Nordkirchen","Argentine Criollo","Asian wild Horse","Assateague Horse","Asturcn","Augeron","Australian Brumby","Australian Draught Horse","Australian Stock Horse","Austrian Warmblood","Auvergne Horse","Auxois","Azerbaijan Horse","Azteca Horse","Baise Horse","Bale","Balearic Horse","Balikun Horse","Baluchi Horse","Banker Horse","Barb Horse","Bardigiano","Bashkir Curly","Basque Mountain Horse","Bavarian Warmblood","Belgian Half-blood","Belgian Horse","Belgian Warmblood ","Bhutia Horse","Black Forest Horse","Blazer Horse","Boerperd","Borana","Boulonnais Horse","Brabant","Brandenburger","Brazilian Sport Horse","Breton Horse","Brumby","Budyonny Horse","Burguete Horse","Burmese Horse","Byelorussian Harness Horse","Calabrese Horse","Camargue Horse","Camarillo White Horse","Campeiro","Campolina","Canadian Horse","Canadian Pacer","Carolina Marsh Tacky","Carthusian Horse","Caspian Horse","Castilian Horse","Castillonnais","Catria Horse","Cavallo Romano della Maremma Laziale","Cerbat Mustang","Chickasaw Horse","Chilean Corralero","Choctaw Horse","Cleveland Bay","Clydesdale Horse","Cob","Coldblood Trotter","Colonial Spanish Horse","Colorado Ranger","Comtois Horse","Corsican Horse","Costa Rican Saddle Horse","Cretan Horse","Criollo Horse","Croatian Coldblood","Cuban Criollo","Cumberland Island Horse","Curly Horse","Czech Warmblood","Daliboz","Danish Warmblood","Danube Delta Horse","Dole Gudbrandsdal","Don","Dongola Horse","Draft Trotter","Dutch Harness Horse","Dutch Heavy Draft","Dutch Warmblood","Dzungarian Horse","East Bulgarian","East Friesian Horse","Estonian Draft","Estonian Horse","Falabella","Faroese","Finnhorse","Fjord Horse","Fleuve","Florida Cracker Horse","Foutank","Frederiksborg Horse","Freiberger","French Trotter","Friesian Cross","Friesian Horse","Friesian Sporthorse","Furioso-North Star","Galiceo","Galician Pony","Gelderland Horse","Georgian Grande Horse","German Warmblood","Giara Horse","Gidran","Groningen Horse","Gypsy Horse","Hackney Horse","Haflinger","Hanoverian Horse","Heck Horse","Heihe Horse","Henson Horse","Hequ Horse","Hirzai","Hispano-Bretn","Holsteiner Horse","Horro","Hungarian Warmblood","Icelandic Horse","Iomud","Irish Draught","Irish Sport Horse sometimes called Irish Hunter","Italian Heavy Draft","Italian Trotter","Jaca Navarra","Jeju Horse","Jutland Horse","Kabarda Horse","Kafa","Kaimanawa Horses","Kalmyk Horse","Karabair","Karabakh Horse","Karachai Horse","Karossier","Kathiawari","Kazakh Horse","Kentucky Mountain Saddle Horse","Kiger Mustang","Kinsky Horse","Kisber Felver","Kiso Horse","Kladruber","Knabstrupper","Konik","Kundudo","Kustanair","Kyrgyz Horse","Latvian Horse","Lipizzan","Lithuanian Heavy Draught","Lokai","Losino Horse","Lusitano","Lyngshest","M'Bayar","M'Par","Mallorqun","Malopolski","Mangalarga","Mangalarga Marchador","Maremmano","Marismeo Horse","Marsh Tacky","Marwari Horse","Mecklenburger","Meimurje Horse","Menorqun","Mrens Horse","Messara Horse","Metis Trotter","Mezhegyesi Sport Horse","Miniature Horse","Misaki Horse","Missouri Fox Trotter","Monchina","Mongolian Horse","Mongolian Wild Horse","Monterufolino","Morab","Morgan Horse","Mountain Pleasure Horse","Moyle Horse","Murakoz Horse","Murgese","Mustang Horse","Namib Desert Horse","Nangchen Horse","National Show Horse","Nez Perce Horse","Nivernais Horse","Nokota Horse","Noma","Nonius Horse","Nooitgedachter","Nordlandshest","Noriker Horse","Norman Cob","North American Single-Footer Horse","North Swedish Horse","Norwegian Coldblood Trotter","Norwegian Fjord","Novokirghiz","Oberlander Horse","Ogaden","Oldenburg Horse","Orlov trotter","Ostfriesen","Paint","Pampa Horse","Paso Fino","Pentro Horse","Percheron","Persano Horse","Peruvian Paso","Pintabian","Pleven Horse","Poitevin Horse","Posavac Horse","Pottok","Pryor Mountain Mustang","Przewalski's Horse","Pura Raza Espaola","Purosangue Orientale","Qatgani","Quarab","Quarter Horse","Racking Horse","Retuerta Horse","Rhenish German Coldblood","Rhinelander Horse","Riwoche Horse","Rocky Mountain Horse","Romanian Sporthorse","Rottaler","Russian Don","Russian Heavy Draft","Russian Trotter","Saddlebred","Salerno Horse","Samolaco Horse","San Fratello Horse","Sarcidano Horse","Sardinian Anglo-Arab","Schleswig Coldblood","Schwarzwlder Kaltblut","Selale","Sella Italiano","Selle Franais","Shagya Arabian","Shan Horse","Shire Horse","Siciliano Indigeno","Silesian Horse","Sokolsky Horse","Sorraia","South German Coldblood","Soviet Heavy Draft","Spanish Anglo-Arab","Spanish Barb","Spanish Jennet Horse","Spanish Mustang","Spanish Tarpan","Spanish-Norman Horse","Spiti Horse","Spotted Saddle Horse","Standardbred Horse","Suffolk Punch","Swedish Ardennes","Swedish coldblood trotter","Swedish Warmblood","Swiss Warmblood","Taish Horse","Takhi","Tawleed","Tchernomor","Tennessee Walking Horse","Tersk Horse","Thoroughbred","Tiger Horse","Tinker Horse","Tolfetano","Tori Horse","Trait Du Nord","Trakehner","Tsushima","Tuigpaard","Ukrainian Riding Horse","Unmol Horse","Uzunyayla","Ventasso Horse","Virginia Highlander","Vlaamperd","Vladimir Heavy Draft","Vyatka","Waler","Waler Horse","Walkaloosa","Warlander","Warmblood","Welsh Cob","Westphalian Horse","Wielkopolski","Wrttemberger","Xilingol Horse","Yakutian Horse","Yili Horse","Yonaguni Horse","Zaniskari","emaitukas","Zhemaichu","Zweibrcker"],insect:["Acacia-ants","Acorn-plum gall","Aerial yellowjacket","Africanized honey bee","Allegheny mound ant","Almond stone wasp","Ant","Arboreal ant","Argentine ant","Asian paper wasp","Baldfaced hornet","Bee","Bigheaded ant","Black and yellow mud dauber","Black carpenter ant","Black imported fire ant","Blue horntail woodwasp","Blue orchard bee","Braconid wasp","Bumble bee","Carpenter ant","Carpenter wasp","Chalcid wasp","Cicada killer","Citrus blackfly parasitoid","Common paper wasp","Crazy ant","Cuckoo wasp","Cynipid gall wasp","Eastern Carpenter bee","Eastern yellowjacket","Elm sawfly","Encyrtid wasp","Erythrina gall wasp","Eulophid wasp","European hornet","European imported fire ant","False honey ant","Fire ant","Forest bachac","Forest yellowjacket","German yellowjacket","Ghost ant","Giant ichneumon wasp","Giant resin bee","Giant wood wasp","Golden northern bumble bee","Golden paper wasp","Gouty oak gall","Grass Carrying Wasp","Great black wasp","Great golden digger wasp","Hackberry nipple gall parasitoid","Honey bee","Horned oak gall","Horse guard wasp","Horse guard wasp","Hunting wasp","Ichneumonid wasp","Keyhole wasp","Knopper gall","Large garden bumble bee","Large oak-apple gall","Leafcutting bee","Little fire ant","Little yellow ant","Long-horned bees","Long-legged ant","Macao paper wasp","Mallow bee","Marble gall","Mossyrose gall wasp","Mud-daubers","Multiflora rose seed chalcid","Oak apple gall wasp","Oak rough bulletgall wasp","Oak saucer gall","Oak shoot sawfly","Odorous house ant","Orange-tailed bumble bee","Orangetailed potter wasp","Oriental chestnut gall wasp","Paper wasp","Pavement ant","Pigeon tremex","Pip gall wasp","Prairie yellowjacket","Pteromalid wasp","Pyramid ant","Raspberry Horntail","Red ant","Red carpenter ant","Red harvester ant","Red imported fire ant","Red wasp","Red wood ant","Red-tailed wasp","Reddish carpenter ant","Rough harvester ant","Sawfly parasitic wasp","Scale parasitoid","Silky ant","Sirex woodwasp","Siricid woodwasp","Smaller yellow ant","Southeastern blueberry bee","Southern fire ant","Southern yellowjacket","Sphecid wasp","Stony gall","Sweat bee","Texas leafcutting ant","Tiphiid wasp","Torymid wasp","Tramp ant","Valentine ant","Velvet ant","Vespid wasp","Weevil parasitoid","Western harvester ant","Western paper wasp","Western thatching ant","Western yellowjacket","White-horned horntail","Willow shoot sawfly","Woodwasp","Wool sower gall maker","Yellow and black potter wasp","Yellow Crazy Ant","Yellow-horned horntail"],lion:["Asiatic Lion","Barbary Lion","West African Lion","Northeast Congo Lion","Masai Lion","Transvaal lion","Cape lion"],rabbit:["American","American Chinchilla","American Fuzzy Lop","American Sable","Argente Brun","Belgian Hare","Beveren","Blanc de Hotot","Britannia Petite","Californian","Champagne DArgent","Checkered Giant","Cinnamon","Crme DArgent","Dutch","Dwarf Hotot","English Angora","English Lop","English Spot","Flemish Giant","Florida White","French Angora","French Lop","Giant Angora","Giant Chinchilla","Harlequin","Havana","Himalayan","Holland Lop","Jersey Wooly","Lilac","Lionhead","Mini Lop","Mini Rex","Mini Satin","Netherland Dwarf","New Zealand","Palomino","Polish","Rex","Rhinelander","Satin","Satin Angora","Silver","Silver Fox","Silver Marten","Standard Chinchilla","Tan","Thrianta"],snake:["Viper Adder","Common adder","Death Adder","Desert death adder","Horned adder","Long-nosed adder","Many-horned adder","Mountain adder","Mud adder","Namaqua dwarf adder","Nightingale adder","Peringuey's adder","Puff adder","African puff adder","Rhombic night adder","Sand adder","Dwarf sand adder","Namib dwarf sand adder","Water adder","Aesculapian snake","Anaconda","Bolivian anaconda","De Schauensee's anaconda","Green anaconda","Yellow anaconda","Arafura file snake","Asp","European asp","Egyptian asp","African beaked snake","Ball Python","Bird snake","Black-headed snake","Mexican black kingsnake","Black rat snake","Black snake","Red-bellied black snake","Blind snake","Brahminy blind snake","Texas blind snake","Western blind snake","Boa","Abaco Island boa","Amazon tree boa","Boa constrictor","Cuban boa","Dumeril's boa","Dwarf boa","Emerald tree boa","Hogg Island boa","Jamaican boa","Madagascar ground boa","Madagascar tree boa","Puerto Rican boa","Rainbow boa","Red-tailed boa","Rosy boa","Rubber boa","Sand boa","Tree boa","Boiga","Boomslang","Brown snake","Eastern brown snake","Bull snake","Bushmaster","Dwarf beaked snake","Rufous beaked snake","Canebrake","Cantil","Cascabel","Cat-eyed snake","Banded cat-eyed snake","Green cat-eyed snake","Cat snake","Andaman cat snake","Beddome's cat snake","Dog-toothed cat snake","Forsten's cat snake","Gold-ringed cat snake","Gray cat snake","Many-spotted cat snake","Tawny cat snake","Chicken snake","Coachwhip snake","Cobra","Andaman cobra","Arabian cobra","Asian cobra","Banded water cobra","Black-necked cobra","Black-necked spitting cobra","Black tree cobra","Burrowing cobra","Cape cobra","Caspian cobra","Congo water cobra","Common cobra","Eastern water cobra","Egyptian cobra","Equatorial spitting cobra","False cobra","False water cobra","Forest cobra","Gold tree cobra","Indian cobra","Indochinese spitting cobra","Javan spitting cobra","King cobra","Mandalay cobra","Mozambique spitting cobra","North Philippine cobra","Nubian spitting cobra","Philippine cobra","Red spitting cobra","Rinkhals cobra","Shield-nosed cobra","Sinai desert cobra","Southern Indonesian spitting cobra","Southern Philippine cobra","Southwestern black spitting cobra","Snouted cobra","Spectacled cobra","Spitting cobra","Storm water cobra","Thai cobra","Taiwan cobra","Zebra spitting cobra","Collett's snake","Congo snake","Copperhead","American copperhead","Australian copperhead","Coral snake","Arizona coral snake","Beddome's coral snake","Brazilian coral snake","Cape coral snake","Harlequin coral snake","High Woods coral snake","Malayan long-glanded coral snake","Texas Coral Snake","Western coral snake","Corn snake","South eastern corn snake","Cottonmouth","Crowned snake","Cuban wood snake","Eastern hognose snake","Egg-eater","Eastern coral snake","Fer-de-lance","Fierce snake","Fishing snake","Flying snake","Golden tree snake","Indian flying snake","Moluccan flying snake","Ornate flying snake","Paradise flying snake","Twin-Barred tree snake","Banded Flying Snake","Fox snake, three species of Pantherophis","Forest flame snake","Garter snake","Checkered garter snake","Common garter snake","San Francisco garter snake","Texas garter snake","Cape gopher snake","Grass snake","Green snake","Rough green snake","Smooth green snake","Ground snake","Common ground snake","Three-lined ground snake","Western ground snake","Habu","Hognose snake","Blonde hognose snake","Dusty hognose snake","Eastern hognose snake","Jan's hognose snake","Giant Malagasy hognose snake","Mexican hognose snake","South American hognose snake","Hundred pacer","Ikaheka snake","Indigo snake","Jamaican Tree Snake","Keelback","Asian keelback","Assam keelback","Black-striped keelback","Buff striped keelback","Burmese keelback","Checkered keelback","Common keelback","Hill keelback","Himalayan keelback","Khasi Hills keelback","Modest keelback","Nicobar Island keelback","Nilgiri keelback","Orange-collared keelback","Red-necked keelback","Sikkim keelback","Speckle-bellied keelback","White-lipped keelback","Wynaad keelback","Yunnan keelback","King brown","King cobra","King snake","California kingsnake","Desert kingsnake","Grey-banded kingsnake","North eastern king snake","Prairie kingsnake","Scarlet kingsnake","Speckled kingsnake","Krait","Banded krait","Blue krait","Black krait","Burmese krait","Ceylon krait","Indian krait","Lesser black krait","Malayan krait","Many-banded krait","Northeastern hill krait","Red-headed krait","Sind krait","Large shield snake","Lancehead","Common lancehead","Lora","Grey Lora","Lyre snake","Baja California lyresnake","Central American lyre snake","Texas lyre snake","Eastern lyre snake","Machete savane","Mamba","Black mamba","Green mamba","Eastern green mamba","Western green mamba","Mamushi","Mangrove snake","Milk snake","Moccasin snake","Montpellier snake","Mud snake","Eastern mud snake","Western mud snake","Mussurana","Night snake","Cat-eyed night snake","Texas night snake","Nichell snake","Narrowhead Garter Snake","Nose-horned viper","Rhinoceros viper","Vipera ammodytes","Parrot snake","Mexican parrot snake","Patchnose snake","Perrotet's shieldtail snake","Pine snake","Pipe snake","Asian pipe snake","Dwarf pipe snake","Red-tailed pipe snake","Python","African rock python","Amethystine python","Angolan python","Australian scrub python","Ball python","Bismarck ringed python","Black headed python","Blood python","Boelen python","Borneo short-tailed python","Bredl's python","Brown water python","Burmese python","Calabar python","Western carpet python","Centralian carpet python","Coastal carpet python","Inland carpet python","Jungle carpet python","New Guinea carpet python","Northwestern carpet python","Southwestern carpet python","Children's python","Dauan Island water python","Desert woma python","Diamond python","Flinders python","Green tree python","Halmahera python","Indian python","Indonesian water python","Macklot's python","Mollucan python","Oenpelli python","Olive python","Papuan python","Pygmy python","Red blood python","Reticulated python","Kayaudi dwarf reticulated python","Selayer reticulated python","Rough-scaled python","Royal python","Savu python","Spotted python","Stimson's python","Sumatran short-tailed python","Tanimbar python","Timor python","Wetar Island python","White-lipped python","Brown white-lipped python","Northern white-lipped python","Southern white-lipped python","Woma python","Western woma python","Queen snake","Racer","Bimini racer","Buttermilk racer","Eastern racer","Eastern yellowbelly sad racer","Mexican racer","Southern black racer","Tan racer","West Indian racer","Raddysnake","Southwestern blackhead snake","Rat snake","Baird's rat snake","Beauty rat snake","Great Plains rat snake","Green rat snake","Japanese forest rat snake","Japanese rat snake","King rat snake","Mandarin rat snake","Persian rat snake","Red-backed rat snake","Twin-spotted rat snake","Yellow-striped rat snake","Manchurian Black Water Snake","Rattlesnake","Arizona black rattlesnake","Aruba rattlesnake","Chihuahuan ridge-nosed rattlesnake","Coronado Island rattlesnake","Durango rock rattlesnake","Dusky pigmy rattlesnake","Eastern diamondback rattlesnake","Grand Canyon rattlesnake","Great Basin rattlesnake","Hopi rattlesnake","Lance-headed rattlesnake","Long-tailed rattlesnake","Massasauga rattlesnake","Mexican green rattlesnake","Mexican west coast rattlesnake","Midget faded rattlesnake","Mojave rattlesnake","Northern black-tailed rattlesnake","Oaxacan small-headed rattlesnake","Rattler","Red diamond rattlesnake","Southern Pacific rattlesnake","Southwestern speckled rattlesnake","Tancitaran dusky rattlesnake","Tiger rattlesnake","Timber rattlesnake","Tropical rattlesnake","Twin-spotted rattlesnake","Uracoan rattlesnake","Western diamondback rattlesnake","Ribbon snake","Rinkhals","River jack","Sea snake","Annulated sea snake","Beaked sea snake","Dubois's sea snake","Hardwicke's sea snake","Hook Nosed Sea Snake","Olive sea snake","Pelagic sea snake","Stoke's sea snake","Yellow-banded sea snake","Yellow-bellied sea snake","Yellow-lipped sea snake","Shield-tailed snake","Sidewinder","Colorado desert sidewinder","Mojave desert sidewinder","Sonoran sidewinder","Small-eyed snake","Smooth snake","Brazilian smooth snake","European smooth snake","Stiletto snake","Striped snake","Japanese striped snake","Sunbeam snake","Taipan","Central ranges taipan","Coastal taipan","Inland taipan","Paupan taipan","Tentacled snake","Tic polonga","Tiger snake","Chappell Island tiger snake","Common tiger snake","Down's tiger snake","Eastern tiger snake","King Island tiger snake","Krefft's tiger snake","Peninsula tiger snake","Tasmanian tiger snake","Western tiger snake","Tigre snake","Tree snake","Blanding's tree snake","Blunt-headed tree snake","Brown tree snake","Long-nosed tree snake","Many-banded tree snake","Northern tree snake","Trinket snake","Black-banded trinket snake","Twig snake","African twig snake","Twin Headed King Snake","Titanboa","Urutu","Vine snake","Asian Vine Snake, Whip Snake","American Vine Snake","Mexican vine snake","Viper","Asp viper","Bamboo viper","Bluntnose viper","Brazilian mud Viper","Burrowing viper","Bush viper","Great Lakes bush viper","Hairy bush viper","Nitsche's bush viper","Rough-scaled bush viper","Spiny bush viper","Carpet viper","Crossed viper","Cyclades blunt-nosed viper","Eyelash viper","False horned viper","Fea's viper","Fifty pacer","Gaboon viper","Hognosed viper","Horned desert viper","Horned viper","Jumping viper","Kaznakov's viper","Leaf-nosed viper","Leaf viper","Levant viper","Long-nosed viper","McMahon's viper","Mole viper","Nose-horned viper","Rhinoceros viper","Vipera ammodytes","Palestine viper","Pallas' viper","Palm viper","Amazonian palm viper","Black-speckled palm-pitviper","Eyelash palm-pitviper","Green palm viper","Mexican palm-pitviper","Guatemalan palm viper","Honduran palm viper","Siamese palm viper","Side-striped palm-pitviper","Yellow-lined palm viper","Pit viper","Banded pitviper","Bamboo pitviper","Barbour's pit viper","Black-tailed horned pit viper","Bornean pitviper","Brongersma's pitviper","Brown spotted pitviper[4]","Cantor's pitviper","Elegant pitviper","Eyelash pit viper","Fan-Si-Pan horned pitviper","Flat-nosed pitviper","Godman's pit viper","Green tree pit viper","Habu pit viper","Hagen's pitviper","Horseshoe pitviper","Jerdon's pitviper","Kanburian pit viper","Kaulback's lance-headed pitviper","Kham Plateau pitviper","Large-eyed pitviper","Malabar rock pitviper","Malayan pit viper","Mangrove pit viper","Mangshan pitviper","Motuo bamboo pitviper","Nicobar bamboo pitviper","Philippine pitviper","Pointed-scaled pit viper[5]","Red-tailed bamboo pitviper","Schultze's pitviper","Stejneger's bamboo pitviper","Sri Lankan pit viper","Temple pit viper","Tibetan bamboo pitviper","Tiger pit viper","Undulated pit viper","Wagler's pit viper","Wirot's pit viper","Portuguese viper","Saw-scaled viper","Schlegel's viper","Sedge viper","Sharp-nosed viper","Snorkel viper","Temple viper","Tree viper","Chinese tree viper","Guatemalan tree viper","Hutton's tree viper","Indian tree viper","Large-scaled tree viper","Malcolm's tree viper","Nitsche's tree viper","Pope's tree viper","Rough-scaled tree viper","Rungwe tree viper","Sumatran tree viper","White-lipped tree viper","Ursini's viper","Western hog-nosed viper","Wart snake","Water moccasin","Water snake","Bocourt's water snake","Northern water snake","Whip snake","Long-nosed whip snake","Wolf snake","African wolf snake","Barred wolf snake","Worm snake","Common worm snake","Longnosed worm snake","Wutu","Yarara","Zebra snake"],type:["dog","cat","snake","bear","lion","cetacean","insect","crocodilia","cow","bird","fish","rabbit","horse"]},app:{author:["{{name.name}}","{{company.name}}"],name:["Redhold","Treeflex","Trippledex","Kanlam","Bigtax","Daltfresh","Toughjoyfax","Mat Lam Tam","Otcom","Tres-Zap","Y-Solowarm","Tresom","Voltsillam","Biodex","Greenlam","Viva","Matsoft","Temp","Zoolab","Subin","Rank","Job","Stringtough","Tin","It","Home Ing","Zamit","Sonsing","Konklab","Alpha","Latlux","Voyatouch","Alphazap","Holdlamis","Zaam-Dox","Sub-Ex","Quo Lux","Bamity","Ventosanzap","Lotstring","Hatity","Tempsoft","Overhold","Fixflex","Konklux","Zontrax","Tampflex","Span","Namfix","Transcof","Stim","Fix San","Sonair","Stronghold","Fintone","Y-find","Opela","Lotlux","Ronstring","Zathin","Duobam","Keylex"],version:["0.#.#","0.##","#.##","#.#","#.#.#"]},business:{credit_card_expiry_dates:["2011-10-12","2012-11-12","2015-11-11","2013-9-12"],credit_card_numbers:["1234-2121-1221-1211","1212-1221-1121-1234","1211-1221-1234-2201","1228-1221-1221-1431"],credit_card_types:["visa","mastercard","americanexpress","discover"]},cell_phone:{formats:["###-###-####","(###) ###-####","1-###-###-####","###.###.####"]},color:{human:["red","green","blue","yellow","purple","mint green","teal","white","black","orange","pink","grey","maroon","violet","turquoise","tan","sky blue","salmon","plum","orchid","olive","magenta","lime","ivory","indigo","gold","fuchsia","cyan","azure","lavender","silver"],space:["CIE 1931 XYZ","CIEUVW","Uniform Color Spaces (UCSs)","CIELUV","CIELAB","HSLuv","sRGB","Adobe RGB","Adobe Wide Gamut RGB","Rec. 2100","ProPhoto RGB Color Space","scRGB","DCI-P3","Display-P3","Rec. 601","Rec. 709","Academy Color Encoding System (ACES)","Rec. 2020","YPbPr","YDbDr","YIQ","xvYCC","sYCC","HSV","HSL","HWB","RGBA","HSLA","LCh","CMY","CMYK","Munsell Color System","Natural Color System (NSC)","Pantone Matching System (PMS)","RAL","Federal Standard 595C","British Standard Colour (BS)","HKS","LMS","RG","RGK"]},commerce:{department:["Books","Movies","Music","Games","Electronics","Computers","Home","Garden","Tools","Grocery","Health","Beauty","Toys","Kids","Baby","Clothing","Shoes","Jewelery","Sports","Outdoors","Automotive","Industrial"],product_description:["Ergonomic executive chair upholstered in bonded black leather and PVC padded seat and back for all-day comfort and support","The automobile layout consists of a front-engine design, with transaxle-type transmissions mounted at the rear of the engine and four wheel drive","New ABC 13 9370, 13.3, 5th Gen CoreA5-8250U, 8GB RAM, 256GB SSD, power UHD Graphics, OS 10 Home, OS Office A & J 2016","The slim & simple Maple Gaming Keyboard from Dev Byte comes with a sleek body and 7- Color RGB LED Back-lighting for smart functionality","The Apollotech B340 is an affordable wireless mouse with reliable connectivity, 12 months battery life and modern design","The Nagasaki Lander is the trademarked name of several series of Nagasaki sport bikes, that started with the 1984 ABC800J","The Football Is Good For Training And Recreational Purposes","Carbonite web goalkeeper gloves are ergonomically designed to give easy fit","Boston's most advanced compression wear technology increases muscle oxygenation, stabilizes active muscles","New range of formal shirts are designed keeping you in mind. With fits and styling that will make you stand apart","The beautiful range of Apple Natural that has an exciting mix of natural ingredients. With the Goodness of 100% Natural Ingredients","Andy shoes are designed to keeping in mind durability as well as trends, the most stylish range of shoes & sandals"],product_name:{adjective:["Small","Ergonomic","Electronic","Rustic","Intelligent","Gorgeous","Incredible","Elegant","Fantastic","Practical","Modern","Recycled","Sleek","Bespoke","Awesome","Generic","Handcrafted","Handmade","Oriental","Licensed","Luxurious","Refined","Unbranded","Tasty"],material:["Steel","Bronze","Wooden","Concrete","Plastic","Cotton","Granite","Rubber","Metal","Soft","Fresh","Frozen"],product:["Chair","Car","Computer","Keyboard","Mouse","Bike","Ball","Gloves","Pants","Shirt","Table","Shoes","Hat","Towels","Soap","Tuna","Chicken","Fish","Cheese","Bacon","Pizza","Salad","Sausages","Chips"]}},company:{adjective:["Adaptive","Advanced","Ameliorated","Assimilated","Automated","Balanced","Business-focused","Centralized","Cloned","Compatible","Configurable","Cross-group","Cross-platform","Customer-focused","Customizable","Decentralized","De-engineered","Devolved","Digitized","Distributed","Diverse","Down-sized","Enhanced","Enterprise-wide","Ergonomic","Exclusive","Expanded","Extended","Face to face","Focused","Front-line","Fully-configurable","Function-based","Fundamental","Future-proofed","Grass-roots","Horizontal","Implemented","Innovative","Integrated","Intuitive","Inverse","Managed","Mandatory","Monitored","Multi-channelled","Multi-lateral","Multi-layered","Multi-tiered","Networked","Object-based","Open-architected","Open-source","Operative","Optimized","Optional","Organic","Organized","Persevering","Persistent","Phased","Polarised","Pre-emptive","Proactive","Profit-focused","Profound","Programmable","Progressive","Public-key","Quality-focused","Reactive","Realigned","Re-contextualized","Re-engineered","Reduced","Reverse-engineered","Right-sized","Robust","Seamless","Secured","Self-enabling","Sharable","Stand-alone","Streamlined","Switchable","Synchronised","Synergistic","Synergized","Team-oriented","Total","Triple-buffered","Universal","Up-sized","Upgradable","User-centric","User-friendly","Versatile","Virtual","Visionary","Vision-oriented"],bs_adjective:["clicks-and-mortar","value-added","vertical","proactive","robust","revolutionary","scalable","leading-edge","innovative","intuitive","strategic","e-business","mission-critical","sticky","one-to-one","24/7","end-to-end","global","B2B","B2C","granular","frictionless","virtual","viral","dynamic","24/365","best-of-breed","killer","magnetic","bleeding-edge","web-enabled","interactive","dot-com","sexy","back-end","real-time","efficient","front-end","distributed","seamless","extensible","turn-key","world-class","open-source","cross-platform","cross-media","synergistic","bricks-and-clicks","out-of-the-box","enterprise","integrated","impactful","wireless","transparent","next-generation","cutting-edge","user-centric","visionary","customized","ubiquitous","plug-and-play","collaborative","compelling","holistic","rich"],bs_noun:["synergies","web-readiness","paradigms","markets","partnerships","infrastructures","platforms","initiatives","channels","eyeballs","communities","ROI","solutions","e-tailers","e-services","action-items","portals","niches","technologies","content","vortals","supply-chains","convergence","relationships","architectures","interfaces","e-markets","e-commerce","systems","bandwidth","infomediaries","models","mindshare","deliverables","users","schemas","networks","applications","metrics","e-business","functionalities","experiences","web services","methodologies","blockchains"],bs_verb:["implement","utilize","integrate","streamline","optimize","evolve","transform","embrace","enable","orchestrate","leverage","reinvent","aggregate","architect","enhance","incentivize","morph","empower","envisioneer","monetize","harness","facilitate","seize","disintermediate","synergize","strategize","deploy","brand","grow","target","syndicate","synthesize","deliver","mesh","incubate","engage","maximize","benchmark","expedite","reintermediate","whiteboard","visualize","repurpose","innovate","scale","unleash","drive","extend","engineer","revolutionize","generate","exploit","transition","e-enable","iterate","cultivate","matrix","productize","redefine","recontextualize"],descriptor:["24 hour","24/7","3rd generation","4th generation","5th generation","6th generation","actuating","analyzing","asymmetric","asynchronous","attitude-oriented","background","bandwidth-monitored","bi-directional","bifurcated","bottom-line","clear-thinking","client-driven","client-server","coherent","cohesive","composite","context-sensitive","contextually-based","content-based","dedicated","demand-driven","didactic","directional","discrete","disintermediate","dynamic","eco-centric","empowering","encompassing","even-keeled","executive","explicit","exuding","fault-tolerant","foreground","fresh-thinking","full-range","global","grid-enabled","heuristic","high-level","holistic","homogeneous","human-resource","hybrid","impactful","incremental","intangible","interactive","intermediate","leading edge","local","logistical","maximized","methodical","mission-critical","mobile","modular","motivating","multimedia","multi-state","multi-tasking","national","needs-based","neutral","next generation","non-volatile","object-oriented","optimal","optimizing","radical","real-time","reciprocal","regional","responsive","scalable","secondary","solution-oriented","stable","static","systematic","systemic","system-worthy","tangible","tertiary","transitional","uniform","upward-trending","user-facing","value-added","web-enabled","well-modulated","zero administration","zero defect","zero tolerance"],name:["{{name.last_name}} {{company.suffix}}","{{name.last_name}}-{{name.last_name}}","{{name.last_name}}, {{name.last_name}} and {{name.last_name}}"],noun:["ability","access","adapter","algorithm","alliance","analyzer","application","approach","architecture","archive","artificial intelligence","array","attitude","benchmark","budgetary management","capability","capacity","challenge","circuit","collaboration","complexity","concept","conglomeration","contingency","core","customer loyalty","database","data-warehouse","definition","emulation","encoding","encryption","extranet","firmware","flexibility","focus group","forecast","frame","framework","function","functionalities","Graphic Interface","groupware","Graphical User Interface","hardware","help-desk","hierarchy","hub","implementation","info-mediaries","infrastructure","initiative","installation","instruction set","interface","internet solution","intranet","knowledge user","knowledge base","local area network","leverage","matrices","matrix","methodology","middleware","migration","model","moderator","monitoring","moratorium","neural-net","open architecture","open system","orchestration","paradigm","parallelism","policy","portal","pricing structure","process improvement","product","productivity","project","projection","protocol","secured line","service-desk","software","solution","standardization","strategy","structure","success","superstructure","support","synergy","system engine","task-force","throughput","time-frame","toolset","utilisation","website","workforce"],suffix:["Inc","and Sons","LLC","Group"]},database:{collation:["utf8_unicode_ci","utf8_general_ci","utf8_bin","ascii_bin","ascii_general_ci","cp1250_bin","cp1250_general_ci"],column:["id","title","name","email","phone","token","group","category","password","comment","avatar","status","createdAt","updatedAt"],engine:["InnoDB","MyISAM","MEMORY","CSV","BLACKHOLE","ARCHIVE"],type:["int","varchar","text","date","datetime","tinyint","time","timestamp","smallint","mediumint","bigint","decimal","float","double","real","bit","boolean","serial","blob","binary","enum","set","geometry","point"]},date:{month:{wide:["January","February","March","April","May","June","July","August","September","October","November","December"],wide_context:["January","February","March","April","May","June","July","August","September","October","November","December"],abbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],abbr_context:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},weekday:{wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],wide_context:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],abbr_context:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},finance:{account_type:["Checking","Savings","Money Market","Investment","Home Loan","Credit Card","Auto Loan","Personal Loan"],credit_card:{american_express:["34##-######-####L","37##-######-####L"],diners_club:["30[0-5]#-######-###L","36##-######-###L","54##-####-####-###L"],discover:["6011-####-####-###L","65##-####-####-###L","64[4-9]#-####-####-###L","6011-62##-####-####-###L","65##-62##-####-####-###L","64[4-9]#-62##-####-####-###L"],instapayment:["63[7-9]#-####-####-###L"],jcb:["3528-####-####-###L","3529-####-####-###L","35[3-8]#-####-####-###L"],laser:["6304###########L","6706###########L","6771###########L","6709###########L","6304#########{5,6}L","6706#########{5,6}L","6771#########{5,6}L","6709#########{5,6}L"],maestro:["5018-#{4}-#{4}-#{3}L","5020-#{4}-#{4}-#{3}L","5038-#{4}-#{4}-#{3}L","5893-#{4}-#{4}-#{3}L","6304-#{4}-#{4}-#{3}L","6759-#{4}-#{4}-#{3}L","676[1-3]-####-####-###L","5018#{11,15}L","5020#{11,15}L","5038#{11,15}L","5893#{11,15}L","6304#{11,15}L","6759#{11,15}L","676[1-3]#{11,15}L"],mastercard:["5[1-5]##-####-####-###L","6771-89##-####-###L"],solo:["6767-####-####-###L","6767-####-####-####-#L","6767-####-####-####-##L"],switch:["6759-####-####-###L","6759-####-####-####-#L","6759-####-####-####-##L"],visa:["4###########L","4###-####-####-###L"]},currency:{"UAE Dirham":{code:"AED",symbol:""},Afghani:{code:"AFN",symbol:""},Lek:{code:"ALL",symbol:"Lek"},"Armenian Dram":{code:"AMD",symbol:""},"Netherlands Antillian Guilder":{code:"ANG",symbol:""},Kwanza:{code:"AOA",symbol:""},"Argentine Peso":{code:"ARS",symbol:"$"},"Australian Dollar":{code:"AUD",symbol:"$"},"Aruban Guilder":{code:"AWG",symbol:""},"Azerbaijanian Manat":{code:"AZN",symbol:""},"Convertible Marks":{code:"BAM",symbol:"KM"},"Barbados Dollar":{code:"BBD",symbol:"$"},Taka:{code:"BDT",symbol:""},"Bulgarian Lev":{code:"BGN",symbol:""},"Bahraini Dinar":{code:"BHD",symbol:""},"Burundi Franc":{code:"BIF",symbol:""},"Bermudian Dollar (customarily known as Bermuda Dollar)":{code:"BMD",symbol:"$"},"Brunei Dollar":{code:"BND",symbol:"$"},"Boliviano boliviano":{code:"BOB",symbol:"Bs"},"Brazilian Real":{code:"BRL",symbol:"R$"},"Bahamian Dollar":{code:"BSD",symbol:"$"},Pula:{code:"BWP",symbol:"P"},"Belarussian Ruble":{code:"BYR",symbol:"p."},"Belize Dollar":{code:"BZD",symbol:"BZ$"},"Canadian Dollar":{code:"CAD",symbol:"$"},"Congolese Franc":{code:"CDF",symbol:""},"Swiss Franc":{code:"CHF",symbol:"CHF"},"Chilean Peso":{code:"CLP",symbol:"$"},"Yuan Renminbi":{code:"CNY",symbol:""},"Colombian Peso":{code:"COP",symbol:"$"},"Costa Rican Colon":{code:"CRC",symbol:""},"Cuban Peso":{code:"CUP",symbol:""},"Cuban Peso Convertible":{code:"CUC",symbol:"$"},"Cape Verde Escudo":{code:"CVE",symbol:""},"Czech Koruna":{code:"CZK",symbol:"K"},"Djibouti Franc":{code:"DJF",symbol:""},"Danish Krone":{code:"DKK",symbol:"kr"},"Dominican Peso":{code:"DOP",symbol:"RD$"},"Algerian Dinar":{code:"DZD",symbol:""},Kroon:{code:"EEK",symbol:""},"Egyptian Pound":{code:"EGP",symbol:""},Nakfa:{code:"ERN",symbol:""},"Ethiopian Birr":{code:"ETB",symbol:""},Euro:{code:"EUR",symbol:""},"Fiji Dollar":{code:"FJD",symbol:"$"},"Falkland Islands Pound":{code:"FKP",symbol:""},"Pound Sterling":{code:"GBP",symbol:""},Lari:{code:"GEL",symbol:""},Cedi:{code:"GHS",symbol:""},"Gibraltar Pound":{code:"GIP",symbol:""},Dalasi:{code:"GMD",symbol:""},"Guinea Franc":{code:"GNF",symbol:""},Quetzal:{code:"GTQ",symbol:"Q"},"Guyana Dollar":{code:"GYD",symbol:"$"},"Hong Kong Dollar":{code:"HKD",symbol:"$"},Lempira:{code:"HNL",symbol:"L"},"Croatian Kuna":{code:"HRK",symbol:"kn"},Gourde:{code:"HTG",symbol:""},Forint:{code:"HUF",symbol:"Ft"},Rupiah:{code:"IDR",symbol:"Rp"},"New Israeli Sheqel":{code:"ILS",symbol:""},"Bhutanese Ngultrum":{code:"BTN",symbol:"Nu"},"Indian Rupee":{code:"INR",symbol:""},"Iraqi Dinar":{code:"IQD",symbol:""},"Iranian Rial":{code:"IRR",symbol:""},"Iceland Krona":{code:"ISK",symbol:"kr"},"Jamaican Dollar":{code:"JMD",symbol:"J$"},"Jordanian Dinar":{code:"JOD",symbol:""},Yen:{code:"JPY",symbol:""},"Kenyan Shilling":{code:"KES",symbol:""},Som:{code:"KGS",symbol:""},Riel:{code:"KHR",symbol:""},"Comoro Franc":{code:"KMF",symbol:""},"North Korean Won":{code:"KPW",symbol:""},Won:{code:"KRW",symbol:""},"Kuwaiti Dinar":{code:"KWD",symbol:""},"Cayman Islands Dollar":{code:"KYD",symbol:"$"},Tenge:{code:"KZT",symbol:""},Kip:{code:"LAK",symbol:""},"Lebanese Pound":{code:"LBP",symbol:""},"Sri Lanka Rupee":{code:"LKR",symbol:""},"Liberian Dollar":{code:"LRD",symbol:"$"},"Lithuanian Litas":{code:"LTL",symbol:"Lt"},"Latvian Lats":{code:"LVL",symbol:"Ls"},"Libyan Dinar":{code:"LYD",symbol:""},"Moroccan Dirham":{code:"MAD",symbol:""},"Moldovan Leu":{code:"MDL",symbol:""},"Malagasy Ariary":{code:"MGA",symbol:""},Denar:{code:"MKD",symbol:""},Kyat:{code:"MMK",symbol:""},Tugrik:{code:"MNT",symbol:""},Pataca:{code:"MOP",symbol:""},Ouguiya:{code:"MRO",symbol:""},"Mauritius Rupee":{code:"MUR",symbol:""},Rufiyaa:{code:"MVR",symbol:""},Kwacha:{code:"MWK",symbol:""},"Mexican Peso":{code:"MXN",symbol:"$"},"Malaysian Ringgit":{code:"MYR",symbol:"RM"},Metical:{code:"MZN",symbol:"MT"},Naira:{code:"NGN",symbol:""},"Cordoba Oro":{code:"NIO",symbol:"C$"},"Norwegian Krone":{code:"NOK",symbol:"kr"},"Nepalese Rupee":{code:"NPR",symbol:""},"New Zealand Dollar":{code:"NZD",symbol:"$"},"Rial Omani":{code:"OMR",symbol:""},Balboa:{code:"PAB",symbol:"B/."},"Nuevo Sol":{code:"PEN",symbol:"S/."},Kina:{code:"PGK",symbol:""},"Philippine Peso":{code:"PHP",symbol:"Php"},"Pakistan Rupee":{code:"PKR",symbol:""},Zloty:{code:"PLN",symbol:"z"},Guarani:{code:"PYG",symbol:"Gs"},"Qatari Rial":{code:"QAR",symbol:""},"New Leu":{code:"RON",symbol:"lei"},"Serbian Dinar":{code:"RSD",symbol:"."},"Russian Ruble":{code:"RUB",symbol:""},"Rwanda Franc":{code:"RWF",symbol:""},"Saudi Riyal":{code:"SAR",symbol:""},"Solomon Islands Dollar":{code:"SBD",symbol:"$"},"Seychelles Rupee":{code:"SCR",symbol:""},"Sudanese Pound":{code:"SDG",symbol:""},"Swedish Krona":{code:"SEK",symbol:"kr"},"Singapore Dollar":{code:"SGD",symbol:"$"},"Saint Helena Pound":{code:"SHP",symbol:""},Leone:{code:"SLL",symbol:""},"Somali Shilling":{code:"SOS",symbol:"S"},"Surinam Dollar":{code:"SRD",symbol:"$"},Dobra:{code:"STN",symbol:"Db"},"El Salvador Colon":{code:"SVC",symbol:""},"Syrian Pound":{code:"SYP",symbol:""},Lilangeni:{code:"SZL",symbol:""},Baht:{code:"THB",symbol:""},Somoni:{code:"TJS",symbol:""},Manat:{code:"TMT",symbol:""},"Tunisian Dinar":{code:"TND",symbol:""},"Pa'anga":{code:"TOP",symbol:""},"Turkish Lira":{code:"TRY",symbol:""},"Trinidad and Tobago Dollar":{code:"TTD",symbol:"TT$"},"New Taiwan Dollar":{code:"TWD",symbol:"NT$"},"Tanzanian Shilling":{code:"TZS",symbol:""},Hryvnia:{code:"UAH",symbol:""},"Uganda Shilling":{code:"UGX",symbol:""},"US Dollar":{code:"USD",symbol:"$"},"Peso Uruguayo":{code:"UYU",symbol:"$U"},"Uzbekistan Sum":{code:"UZS",symbol:""},"Bolivar Fuerte":{code:"VEF",symbol:"Bs"},Dong:{code:"VND",symbol:""},Vatu:{code:"VUV",symbol:""},Tala:{code:"WST",symbol:""},"CFA Franc BEAC":{code:"XAF",symbol:""},Silver:{code:"XAG",symbol:""},Gold:{code:"XAU",symbol:""},"Bond Markets Units European Composite Unit (EURCO)":{code:"XBA",symbol:""},"European Monetary Unit (E.M.U.-6)":{code:"XBB",symbol:""},"European Unit of Account 9(E.U.A.-9)":{code:"XBC",symbol:""},"European Unit of Account 17(E.U.A.-17)":{code:"XBD",symbol:""},"East Caribbean Dollar":{code:"XCD",symbol:"$"},SDR:{code:"XDR",symbol:""},"UIC-Franc":{code:"XFU",symbol:""},"CFA Franc BCEAO":{code:"XOF",symbol:""},Palladium:{code:"XPD",symbol:""},"CFP Franc":{code:"XPF",symbol:""},Platinum:{code:"XPT",symbol:""},"Codes specifically reserved for testing purposes":{code:"XTS",symbol:""},"Yemeni Rial":{code:"YER",symbol:""},Rand:{code:"ZAR",symbol:"R"},"Lesotho Loti":{code:"LSL",symbol:""},"Namibia Dollar":{code:"NAD",symbol:"N$"},"Zambian Kwacha":{code:"ZMK",symbol:""},"Zimbabwe Dollar":{code:"ZWL",symbol:""}},transaction_type:["deposit","withdrawal","payment","invoice"]},hacker:{abbreviation:["ADP","AGP","AI","API","ASCII","CLI","COM","CSS","DNS","DRAM","EXE","FTP","GB","HDD","HEX","HTTP","IB","IP","JBOD","JSON","OCR","PCI","PNG","RAM","RSS","SAS","SCSI","SDD","SMS","SMTP","SQL","SSD","SSL","TCP","THX","TLS","UDP","USB","UTF8","VGA","XML","XSS"],adjective:["auxiliary","primary","back-end","digital","open-source","virtual","cross-platform","redundant","online","haptic","multi-byte","bluetooth","wireless","1080p","neural","optical","solid state","mobile"],ingverb:["backing up","bypassing","hacking","overriding","compressing","copying","navigating","indexing","connecting","generating","quantifying","calculating","synthesizing","transmitting","programming","parsing"],noun:["driver","protocol","bandwidth","panel","microchip","program","port","card","array","interface","system","sensor","firewall","hard drive","pixel","alarm","feed","monitor","application","transmitter","bus","circuit","capacitor","matrix"],phrase:["If we {{verb}} the {{noun}}, we can get to the {{abbreviation}} {{noun}} through the {{adjective}} {{abbreviation}} {{noun}}!","We need to {{verb}} the {{adjective}} {{abbreviation}} {{noun}}!","Try to {{verb}} the {{abbreviation}} {{noun}}, maybe it will {{verb}} the {{adjective}} {{noun}}!","You can't {{verb}} the {{noun}} without {{ingverb}} the {{adjective}} {{abbreviation}} {{noun}}!","Use the {{adjective}} {{abbreviation}} {{noun}}, then you can {{verb}} the {{adjective}} {{noun}}!","The {{abbreviation}} {{noun}} is down, {{verb}} the {{adjective}} {{noun}} so we can {{verb}} the {{abbreviation}} {{noun}}!","{{ingverb}} the {{noun}} won't do anything, we need to {{verb}} the {{adjective}} {{abbreviation}} {{noun}}!","I'll {{verb}} the {{adjective}} {{abbreviation}} {{noun}}, that should {{noun}} the {{abbreviation}} {{noun}}!"],verb:["back up","bypass","hack","override","compress","copy","navigate","index","connect","generate","quantify","calculate","synthesize","input","transmit","program","reboot","parse"]},internet:{avatar_uri:["0therplanet_128.jpg","1markiz_128.jpg","2fockus_128.jpg","8d3k_128.jpg","91bilal_128.jpg","9lessons_128.jpg","AM_Kn2_128.jpg","AlbertoCococi_128.jpg","BenouarradeM_128.jpg","BillSKenney_128.jpg","BrianPurkiss_128.jpg","BroumiYoussef_128.jpg","BryanHorsey_128.jpg","Chakintosh_128.jpg","ChrisFarina78_128.jpg","Elt_n_128.jpg","GavicoInd_128.jpg","HenryHoffman_128.jpg","IsaryAmairani_128.jpg","Karimmove_128.jpg","LucasPerdidao_128.jpg","ManikRathee_128.jpg","RussellBishop_128.jpg","S0ufi4n3_128.jpg","SULiik_128.jpg","Shriiiiimp_128.jpg","Silveredge9_128.jpg","Skyhartman_128.jpg","SlaapMe_128.jpg","Stievius_128.jpg","Talbi_ConSept_128.jpg","VMilescu_128.jpg","VinThomas_128.jpg","YoungCutlass_128.jpg","ZacharyZorbas_128.jpg","_dwite__128.jpg","_kkga_128.jpg","_pedropinho_128.jpg","_ragzor_128.jpg","_scottburgess_128.jpg","_shahedk_128.jpg","_victa_128.jpg","_vojto_128.jpg","_williamguerra_128.jpg","_yardenoon_128.jpg","a1chapone_128.jpg","a_brixen_128.jpg","a_harris88_128.jpg","aaronalfred_128.jpg","aaroni_128.jpg","aaronkwhite_128.jpg","abdots_128.jpg","abdulhyeuk_128.jpg","abdullindenis_128.jpg","abelcabans_128.jpg","abotap_128.jpg","abovefunction_128.jpg","adamawesomeface_128.jpg","adammarsbar_128.jpg","adamnac_128.jpg","adamsxu_128.jpg","adellecharles_128.jpg","ademilter_128.jpg","adhamdannaway_128.jpg","adhiardana_128.jpg","adityasutomo_128.jpg","adobi_128.jpg","adrienths_128.jpg","aeon56_128.jpg","afusinatto_128.jpg","agromov_128.jpg","agustincruiz_128.jpg","ah_lice_128.jpg","ahmadajmi_128.jpg","ahmetalpbalkan_128.jpg","ahmetsulek_128.jpg","aiiaiiaii_128.jpg","ainsleywagon_128.jpg","aio____128.jpg","airskylar_128.jpg","aislinnkelly_128.jpg","ajaxy_ru_128.jpg","aka_james_128.jpg","akashsharma39_128.jpg","akmalfikri_128.jpg","akmur_128.jpg","al_li_128.jpg","alagoon_128.jpg","alan_zhang__128.jpg","albertaugustin_128.jpg","alecarpentier_128.jpg","aleclarsoniv_128.jpg","aleinadsays_128.jpg","alek_djuric_128.jpg","aleksitappura_128.jpg","alessandroribe_128.jpg","alevizio_128.jpg","alexandermayes_128.jpg","alexivanichkin_128.jpg","algunsanabria_128.jpg","allagringaus_128.jpg","allfordesign_128.jpg","allthingssmitty_128.jpg","alsobrooks_128.jpg","alterchuca_128.jpg","aluisio_azevedo_128.jpg","alxleroydeval_128.jpg","alxndrustinov_128.jpg","amandabuzard_128.jpg","amanruzaini_128.jpg","amayvs_128.jpg","amywebbb_128.jpg","anaami_128.jpg","anasnakawa_128.jpg","anatolinicolae_128.jpg","andrea211087_128.jpg","andreas_pr_128.jpg","andresdjasso_128.jpg","andresenfredrik_128.jpg","andrewabogado_128.jpg","andrewarrow_128.jpg","andrewcohen_128.jpg","andrewofficer_128.jpg","andyisonline_128.jpg","andysolomon_128.jpg","andytlaw_128.jpg","angelceballos_128.jpg","angelcolberg_128.jpg","angelcreative_128.jpg","anjhero_128.jpg","ankitind_128.jpg","anoff_128.jpg","anthonysukow_128.jpg","antjanus_128.jpg","antongenkin_128.jpg","antonyryndya_128.jpg","antonyzotov_128.jpg","aoimedia_128.jpg","apriendeau_128.jpg","arashmanteghi_128.jpg","areandacom_128.jpg","areus_128.jpg","ariffsetiawan_128.jpg","ariil_128.jpg","arindam__128.jpg","arishi__128.jpg","arkokoley_128.jpg","aroon_sharma_128.jpg","arpitnj_128.jpg","artd_sign_128.jpg","artem_kostenko_128.jpg","arthurholcombe1_128.jpg","artvavs_128.jpg","ashernatali_128.jpg","ashocka18_128.jpg","atanism_128.jpg","atariboy_128.jpg","ateneupopular_128.jpg","attacks_128.jpg","aviddayentonbay_128.jpg","axel_128.jpg","badlittleduck_128.jpg","bagawarman_128.jpg","baires_128.jpg","balakayuriy_128.jpg","balintorosz_128.jpg","baliomega_128.jpg","baluli_128.jpg","bargaorobalo_128.jpg","barputro_128.jpg","bartjo_128.jpg","bartoszdawydzik_128.jpg","bassamology_128.jpg","batsirai_128.jpg","baumann_alex_128.jpg","baumannzone_128.jpg","bboy1895_128.jpg","bcrad_128.jpg","begreative_128.jpg","belyaev_rs_128.jpg","benefritz_128.jpg","benjamin_knight_128.jpg","bennyjien_128.jpg","benoitboucart_128.jpg","bereto_128.jpg","bergmartin_128.jpg","bermonpainter_128.jpg","bertboerland_128.jpg","besbujupi_128.jpg","beshur_128.jpg","betraydan_128.jpg","beweinreich_128.jpg","bfrohs_128.jpg","bighanddesign_128.jpg","bigmancho_128.jpg","billyroshan_128.jpg","bistrianiosip_128.jpg","blakehawksworth_128.jpg","blakesimkins_128.jpg","bluefx__128.jpg","bluesix_128.jpg","bobbytwoshoes_128.jpg","bobwassermann_128.jpg","bolzanmarco_128.jpg","borantula_128.jpg","borges_marcos_128.jpg","bowbrick_128.jpg","boxmodel_128.jpg","bpartridge_128.jpg","bradenhamm_128.jpg","brajeshwar_128.jpg","brandclay_128.jpg","brandonburke_128.jpg","brandonflatsoda_128.jpg","brandonmorreale_128.jpg","brenmurrell_128.jpg","brenton_clarke_128.jpg","bruno_mart_128.jpg","brunodesign1206_128.jpg","bryan_topham_128.jpg","bu7921_128.jpg","bublienko_128.jpg","buddhasource_128.jpg","buleswapnil_128.jpg","bungiwan_128.jpg","buryaknick_128.jpg","buzzusborne_128.jpg","byrnecore_128.jpg","byryan_128.jpg","cadikkara_128.jpg","calebjoyce_128.jpg","calebogden_128.jpg","canapud_128.jpg","carbontwelve_128.jpg","carlfairclough_128.jpg","carlosblanco_eu_128.jpg","carlosgavina_128.jpg","carlosjgsousa_128.jpg","carlosm_128.jpg","carlyson_128.jpg","caseycavanagh_128.jpg","caspergrl_128.jpg","catadeleon_128.jpg","catarino_128.jpg","cboller1_128.jpg","cbracco_128.jpg","ccinojasso1_128.jpg","cdavis565_128.jpg","cdharrison_128.jpg","ceekaytweet_128.jpg","cemshid_128.jpg","cggaurav_128.jpg","chaabane_wail_128.jpg","chacky14_128.jpg","chadami_128.jpg","chadengle_128.jpg","chaensel_128.jpg","chandlervdw_128.jpg","chanpory_128.jpg","charlesrpratt_128.jpg","charliecwaite_128.jpg","charliegann_128.jpg","chatyrko_128.jpg","cherif_b_128.jpg","chris_frees_128.jpg","chris_witko_128.jpg","chrismj83_128.jpg","chrisslowik_128.jpg","chrisstumph_128.jpg","christianoliff_128.jpg","chrisvanderkooi_128.jpg","ciaranr_128.jpg","cicerobr_128.jpg","claudioguglieri_128.jpg","cloudstudio_128.jpg","clubb3rry_128.jpg","cocolero_128.jpg","codepoet_ru_128.jpg","coderdiaz_128.jpg","codysanfilippo_128.jpg","cofla_128.jpg","colgruv_128.jpg","colirpixoil_128.jpg","collegeman_128.jpg","commadelimited_128.jpg","conspirator_128.jpg","constantx_128.jpg","coreyginnivan_128.jpg","coreyhaggard_128.jpg","coreyweb_128.jpg","craigelimeliah_128.jpg","craighenneberry_128.jpg","craigrcoles_128.jpg","creartinc_128.jpg","croakx_128.jpg","curiousoffice_128.jpg","curiousonaut_128.jpg","cybind_128.jpg","cynthiasavard_128.jpg","cyril_gaillard_128.jpg","d00maz_128.jpg","d33pthought_128.jpg","d_kobelyatsky_128.jpg","d_nny_m_cher_128.jpg","dactrtr_128.jpg","dahparra_128.jpg","dallasbpeters_128.jpg","damenleeturks_128.jpg","danillos_128.jpg","daniloc_128.jpg","danmartin70_128.jpg","dannol_128.jpg","danpliego_128.jpg","danro_128.jpg","dansowter_128.jpg","danthms_128.jpg","danvernon_128.jpg","danvierich_128.jpg","darcystonge_128.jpg","darylws_128.jpg","davecraige_128.jpg","davidbaldie_128.jpg","davidcazalis_128.jpg","davidhemphill_128.jpg","davidmerrique_128.jpg","davidsasda_128.jpg","dawidwu_128.jpg","daykiine_128.jpg","dc_user_128.jpg","dcalonaci_128.jpg","ddggccaa_128.jpg","de_ascanio_128.jpg","deeenright_128.jpg","demersdesigns_128.jpg","denisepires_128.jpg","depaulawagner_128.jpg","derekcramer_128.jpg","derekebradley_128.jpg","derienzo777_128.jpg","desastrozo_128.jpg","designervzm_128.jpg","dev_essentials_128.jpg","devankoshal_128.jpg","deviljho__128.jpg","devinhalladay_128.jpg","dgajjar_128.jpg","dgclegg_128.jpg","dhilipsiva_128.jpg","dhoot_amit_128.jpg","dhooyenga_128.jpg","dhrubo_128.jpg","diansigitp_128.jpg","dicesales_128.jpg","diesellaws_128.jpg","digitalmaverick_128.jpg","dimaposnyy_128.jpg","dingyi_128.jpg","divya_128.jpg","dixchen_128.jpg","djsherman_128.jpg","dmackerman_128.jpg","dmitriychuta_128.jpg","dnezkumar_128.jpg","dnirmal_128.jpg","donjain_128.jpg","doooon_128.jpg","doronmalki_128.jpg","dorphern_128.jpg","dotgridline_128.jpg","dparrelli_128.jpg","dpmachado_128.jpg","dreizle_128.jpg","drewbyreese_128.jpg","dshster_128.jpg","dss49_128.jpg","dudestein_128.jpg","duivvv_128.jpg","dutchnadia_128.jpg","dvdwinden_128.jpg","dzantievm_128.jpg","ecommerceil_128.jpg","eddiechen_128.jpg","edgarchris99_128.jpg","edhenderson_128.jpg","edkf_128.jpg","edobene_128.jpg","eduardostuart_128.jpg","ehsandiary_128.jpg","eitarafa_128.jpg","el_fuertisimo_128.jpg","elbuscainfo_128.jpg","elenadissi_128.jpg","elisabethkjaer_128.jpg","elliotlewis_128.jpg","elliotnolten_128.jpg","embrcecreations_128.jpg","emileboudeling_128.jpg","emmandenn_128.jpg","emmeffess_128.jpg","emsgulam_128.jpg","enda_128.jpg","enjoythetau_128.jpg","enricocicconi_128.jpg","envex_128.jpg","ernestsemerda_128.jpg","erwanhesry_128.jpg","estebanuribe_128.jpg","eugeneeweb_128.jpg","evandrix_128.jpg","evanshajed_128.jpg","exentrich_128.jpg","eyronn_128.jpg","fabbianz_128.jpg","fabbrucci_128.jpg","faisalabid_128.jpg","falconerie_128.jpg","falling_soul_128.jpg","falvarad_128.jpg","felipeapiress_128.jpg","felipecsl_128.jpg","ffbel_128.jpg","finchjke_128.jpg","findingjenny_128.jpg","fiterik_128.jpg","fjaguero_128.jpg","flashmurphy_128.jpg","flexrs_128.jpg","foczzi_128.jpg","fotomagin_128.jpg","fran_mchamy_128.jpg","francis_vega_128.jpg","franciscoamk_128.jpg","frankiefreesbie_128.jpg","fronx_128.jpg","funwatercat_128.jpg","g3d_128.jpg","gaborenton_128.jpg","gabrielizalo_128.jpg","gabrielrosser_128.jpg","ganserene_128.jpg","garand_128.jpg","gauchomatt_128.jpg","gauravjassal_128.jpg","gavr1l0_128.jpg","gcmorley_128.jpg","gearpixels_128.jpg","geneseleznev_128.jpg","geobikas_128.jpg","geran7_128.jpg","geshan_128.jpg","giancarlon_128.jpg","gipsy_raf_128.jpg","giuliusa_128.jpg","gizmeedevil1991_128.jpg","gkaam_128.jpg","gmourier_128.jpg","goddardlewis_128.jpg","gofrasdesign_128.jpg","gojeanyn_128.jpg","gonzalorobaina_128.jpg","grahamkennery_128.jpg","greenbes_128.jpg","gregkilian_128.jpg","gregrwilkinson_128.jpg","gregsqueeb_128.jpg","grrr_nl_128.jpg","gseguin_128.jpg","gt_128.jpg","gu5taf_128.jpg","guiiipontes_128.jpg","guillemboti_128.jpg","guischmitt_128.jpg","gusoto_128.jpg","h1brd_128.jpg","hafeeskhan_128.jpg","hai_ninh_nguyen_128.jpg","haligaliharun_128.jpg","hanna_smi_128.jpg","happypeter1983_128.jpg","harry_sistalam_128.jpg","haruintesettden_128.jpg","hasslunsford_128.jpg","haydn_woods_128.jpg","helderleal_128.jpg","hellofeverrrr_128.jpg","her_ruu_128.jpg","herbigt_128.jpg","herkulano_128.jpg","hermanobrother_128.jpg","herrhaase_128.jpg","heycamtaylor_128.jpg","heyimjuani_128.jpg","heykenneth_128.jpg","hfalucas_128.jpg","hgharrygo_128.jpg","hiemil_128.jpg","hjartstrorn_128.jpg","hoangloi_128.jpg","holdenweb_128.jpg","homka_128.jpg","horaciobella_128.jpg","hota_v_128.jpg","hsinyo23_128.jpg","hugocornejo_128.jpg","hugomano_128.jpg","iamgarth_128.jpg","iamglimy_128.jpg","iamjdeleon_128.jpg","iamkarna_128.jpg","iamkeithmason_128.jpg","iamsteffen_128.jpg","id835559_128.jpg","idiot_128.jpg","iduuck_128.jpg","ifarafonow_128.jpg","igorgarybaldi_128.jpg","illyzoren_128.jpg","ilya_pestov_128.jpg","imammuht_128.jpg","imcoding_128.jpg","imomenui_128.jpg","imsoper_128.jpg","increase_128.jpg","incubo82_128.jpg","instalox_128.jpg","ionuss_128.jpg","ipavelek_128.jpg","iqbalperkasa_128.jpg","iqonicd_128.jpg","irae_128.jpg","isaacfifth_128.jpg","isacosta_128.jpg","ismail_biltagi_128.jpg","isnifer_128.jpg","itolmach_128.jpg","itsajimithing_128.jpg","itskawsar_128.jpg","itstotallyamy_128.jpg","ivanfilipovbg_128.jpg","j04ntoh_128.jpg","j2deme_128.jpg","j_drake__128.jpg","jackiesaik_128.jpg","jacksonlatka_128.jpg","jacobbennett_128.jpg","jagan123_128.jpg","jakemoore_128.jpg","jamiebrittain_128.jpg","janpalounek_128.jpg","jarjan_128.jpg","jarsen_128.jpg","jasonmarkjones_128.jpg","javorszky_128.jpg","jay_wilburn_128.jpg","jayphen_128.jpg","jayrobinson_128.jpg","jcubic_128.jpg","jedbridges_128.jpg","jefffis_128.jpg","jeffgolenski_128.jpg","jehnglynn_128.jpg","jennyshen_128.jpg","jennyyo_128.jpg","jeremery_128.jpg","jeremiaha_128.jpg","jeremiespoken_128.jpg","jeremymouton_128.jpg","jeremyshimko_128.jpg","jeremyworboys_128.jpg","jerrybai1907_128.jpg","jervo_128.jpg","jesseddy_128.jpg","jffgrdnr_128.jpg","jghyllebert_128.jpg","jimmuirhead_128.jpg","jitachi_128.jpg","jjshaw14_128.jpg","jjsiii_128.jpg","jlsolerdeltoro_128.jpg","jm_denis_128.jpg","jmfsocial_128.jpg","jmillspaysbills_128.jpg","jnmnrd_128.jpg","joannefournier_128.jpg","joaoedumedeiros_128.jpg","jodytaggart_128.jpg","joe_black_128.jpg","joelcipriano_128.jpg","joelhelin_128.jpg","joemdesign_128.jpg","joetruesdell_128.jpg","joeymurdah_128.jpg","johannesneu_128.jpg","johncafazza_128.jpg","johndezember_128.jpg","johnriordan_128.jpg","johnsmithagency_128.jpg","joki4_128.jpg","jomarmen_128.jpg","jonathansimmons_128.jpg","jonkspr_128.jpg","jonsgotwood_128.jpg","jordyvdboom_128.jpg","joreira_128.jpg","josecarlospsh_128.jpg","josemarques_128.jpg","josep_martins_128.jpg","josevnclch_128.jpg","joshaustin_128.jpg","joshhemsley_128.jpg","joshmedeski_128.jpg","joshuaraichur_128.jpg","joshuasortino_128.jpg","jpenico_128.jpg","jpscribbles_128.jpg","jqiuss_128.jpg","juamperro_128.jpg","juangomezw_128.jpg","juanmamartinez_128.jpg","juaumlol_128.jpg","judzhin_miles_128.jpg","justinrgraham_128.jpg","justinrhee_128.jpg","justinrob_128.jpg","justme_timothyg_128.jpg","jwalter14_128.jpg","jydesign_128.jpg","kaelifa_128.jpg","kalmerrautam_128.jpg","kamal_chaneman_128.jpg","kanickairaj_128.jpg","kapaluccio_128.jpg","karalek_128.jpg","karlkanall_128.jpg","karolkrakowiak__128.jpg","karsh_128.jpg","karthipanraj_128.jpg","kaspernordkvist_128.jpg","katiemdaly_128.jpg","kaysix_dizzy_128.jpg","kazaky999_128.jpg","kennyadr_128.jpg","kerem_128.jpg","kerihenare_128.jpg","keryilmaz_128.jpg","kevinjohndayy_128.jpg","kevinoh_128.jpg","kevka_128.jpg","keyuri85_128.jpg","kianoshp_128.jpg","kijanmaharjan_128.jpg","kikillo_128.jpg","kimcool_128.jpg","kinday_128.jpg","kirangopal_128.jpg","kiwiupover_128.jpg","kkusaa_128.jpg","klefue_128.jpg","klimmka_128.jpg","knilob_128.jpg","kohette_128.jpg","kojourin_128.jpg","kolage_128.jpg","kolmarlopez_128.jpg","kolsvein_128.jpg","konus_128.jpg","koridhandy_128.jpg","kosmar_128.jpg","kostaspt_128.jpg","krasnoukhov_128.jpg","krystalfister_128.jpg","kucingbelang4_128.jpg","kudretkeskin_128.jpg","kuldarkalvik_128.jpg","kumarrajan12123_128.jpg","kurafire_128.jpg","kurtinc_128.jpg","kushsolitary_128.jpg","kvasnic_128.jpg","ky_128.jpg","kylefoundry_128.jpg","kylefrost_128.jpg","laasli_128.jpg","lanceguyatt_128.jpg","langate_128.jpg","larrybolt_128.jpg","larrygerard_128.jpg","laurengray_128.jpg","lawlbwoy_128.jpg","layerssss_128.jpg","leandrovaranda_128.jpg","lebinoclard_128.jpg","lebronjennan_128.jpg","leehambley_128.jpg","leeiio_128.jpg","leemunroe_128.jpg","leonfedotov_128.jpg","lepetitogre_128.jpg","lepinski_128.jpg","levisan_128.jpg","lewisainslie_128.jpg","lhausermann_128.jpg","liminha_128.jpg","lingeswaran_128.jpg","linkibol_128.jpg","linux29_128.jpg","lisovsky_128.jpg","llun_128.jpg","lmjabreu_128.jpg","loganjlambert_128.jpg","logorado_128.jpg","lokesh_coder_128.jpg","lonesomelemon_128.jpg","longlivemyword_128.jpg","looneydoodle_128.jpg","lososina_128.jpg","louis_currie_128.jpg","low_res_128.jpg","lowie_128.jpg","lu4sh1i_128.jpg","ludwiczakpawel_128.jpg","luxe_128.jpg","lvovenok_128.jpg","m4rio_128.jpg","m_kalibry_128.jpg","ma_tiax_128.jpg","mactopus_128.jpg","macxim_128.jpg","madcampos_128.jpg","madebybrenton_128.jpg","madebyvadim_128.jpg","madewulf_128.jpg","madshensel_128.jpg","madysondesigns_128.jpg","magoo04_128.jpg","magugzbrand2d_128.jpg","mahdif_128.jpg","mahmoudmetwally_128.jpg","maikelk_128.jpg","maiklam_128.jpg","malgordon_128.jpg","malykhinv_128.jpg","mandalareopens_128.jpg","manekenthe_128.jpg","mangosango_128.jpg","manigm_128.jpg","marakasina_128.jpg","marciotoledo_128.jpg","marclgonzales_128.jpg","marcobarbosa_128.jpg","marcomano__128.jpg","marcoramires_128.jpg","marcusgorillius_128.jpg","markjenkins_128.jpg","marklamb_128.jpg","markolschesky_128.jpg","markretzloff_128.jpg","markwienands_128.jpg","marlinjayakody_128.jpg","marosholly_128.jpg","marrimo_128.jpg","marshallchen__128.jpg","martinansty_128.jpg","martip07_128.jpg","mashaaaaal_128.jpg","mastermindesign_128.jpg","matbeedotcom_128.jpg","mateaodviteza_128.jpg","matkins_128.jpg","matt3224_128.jpg","mattbilotti_128.jpg","mattdetails_128.jpg","matthewkay__128.jpg","mattlat_128.jpg","mattsapii_128.jpg","mauriolg_128.jpg","maximseshuk_128.jpg","maximsorokin_128.jpg","maxlinderman_128.jpg","maz_128.jpg","mbilalsiddique1_128.jpg","mbilderbach_128.jpg","mcflydesign_128.jpg","mds_128.jpg","mdsisto_128.jpg","meelford_128.jpg","megdraws_128.jpg","mekal_128.jpg","meln1ks_128.jpg","melvindidit_128.jpg","mfacchinello_128.jpg","mgonto_128.jpg","mhaligowski_128.jpg","mhesslow_128.jpg","mhudobivnik_128.jpg","michaelabehsera_128.jpg","michaelbrooksjr_128.jpg","michaelcolenso_128.jpg","michaelcomiskey_128.jpg","michaelkoper_128.jpg","michaelmartinho_128.jpg","michalhron_128.jpg","michigangraham_128.jpg","michzen_128.jpg","mighty55_128.jpg","miguelkooreman_128.jpg","miguelmendes_128.jpg","mikaeljorhult_128.jpg","mikebeecham_128.jpg","mikemai2awesome_128.jpg","millinet_128.jpg","mirfanqureshi_128.jpg","missaaamy_128.jpg","mizhgan_128.jpg","mizko_128.jpg","mkginfo_128.jpg","mocabyte_128.jpg","mohanrohith_128.jpg","moscoz_128.jpg","motionthinks_128.jpg","moynihan_128.jpg","mr_shiznit_128.jpg","mr_subtle_128.jpg","mrebay007_128.jpg","mrjamesnoble_128.jpg","mrmartineau_128.jpg","mrxloka_128.jpg","mslarkina_128.jpg","msveet_128.jpg","mtolokonnikov_128.jpg","mufaddal_mw_128.jpg","mugukamil_128.jpg","muridrahhal_128.jpg","muringa_128.jpg","murrayswift_128.jpg","mutlu82_128.jpg","mutu_krish_128.jpg","mvdheuvel_128.jpg","mwarkentin_128.jpg","myastro_128.jpg","mylesb_128.jpg","mymyboy_128.jpg","n1ght_coder_128.jpg","n3dmax_128.jpg","n_tassone_128.jpg","nacho_128.jpg","naitanamoreno_128.jpg","namankreative_128.jpg","nandini_m_128.jpg","nasirwd_128.jpg","nastya_mane_128.jpg","nateschulte_128.jpg","nathalie_fs_128.jpg","naupintos_128.jpg","nbirckel_128.jpg","nckjrvs_128.jpg","necodymiconer_128.jpg","nehfy_128.jpg","nellleo_128.jpg","nelshd_128.jpg","nelsonjoyce_128.jpg","nemanjaivanovic_128.jpg","nepdud_128.jpg","nerdgr8_128.jpg","nerrsoft_128.jpg","nessoila_128.jpg","netonet_il_128.jpg","newbrushes_128.jpg","nfedoroff_128.jpg","nickfratter_128.jpg","nicklacke_128.jpg","nicolai_larsen_128.jpg","nicolasfolliot_128.jpg","nicoleglynn_128.jpg","nicollerich_128.jpg","nilshelmersson_128.jpg","nilshoenson_128.jpg","ninjad3m0_128.jpg","nitinhayaran_128.jpg","nomidesigns_128.jpg","normanbox_128.jpg","notbadart_128.jpg","noufalibrahim_128.jpg","noxdzine_128.jpg","nsamoylov_128.jpg","ntfblog_128.jpg","nutzumi_128.jpg","nvkznemo_128.jpg","nwdsha_128.jpg","nyancecom_128.jpg","oaktreemedia_128.jpg","okandungel_128.jpg","okansurreel_128.jpg","okcoker_128.jpg","oksanafrewer_128.jpg","okseanjay_128.jpg","oktayelipek_128.jpg","olaolusoga_128.jpg","olgary_128.jpg","omnizya_128.jpg","ooomz_128.jpg","operatino_128.jpg","opnsrce_128.jpg","orkuncaylar_128.jpg","oscarowusu_128.jpg","oskamaya_128.jpg","oskarlevinson_128.jpg","osmanince_128.jpg","osmond_128.jpg","ostirbu_128.jpg","osvaldas_128.jpg","otozk_128.jpg","ovall_128.jpg","overcloacked_128.jpg","overra_128.jpg","panchajanyag_128.jpg","panghal0_128.jpg","patrickcoombe_128.jpg","paulfarino_128.jpg","pcridesagain_128.jpg","peachananr_128.jpg","pechkinator_128.jpg","peejfancher_128.jpg","pehamondello_128.jpg","perfectflow_128.jpg","perretmagali_128.jpg","petar_prog_128.jpg","petebernardo_128.jpg","peter576_128.jpg","peterlandt_128.jpg","petrangr_128.jpg","phillapier_128.jpg","picard102_128.jpg","pierre_nel_128.jpg","pierrestoffe_128.jpg","pifagor_128.jpg","pixage_128.jpg","plasticine_128.jpg","plbabin_128.jpg","pmeissner_128.jpg","polarity_128.jpg","ponchomendivil_128.jpg","poormini_128.jpg","popey_128.jpg","posterjob_128.jpg","praveen_vijaya_128.jpg","prheemo_128.jpg","primozcigler_128.jpg","prinzadi_128.jpg","privetwagner_128.jpg","prrstn_128.jpg","psaikali_128.jpg","psdesignuk_128.jpg","puzik_128.jpg","pyronite_128.jpg","quailandquasar_128.jpg","r_garcia_128.jpg","r_oy_128.jpg","rachelreveley_128.jpg","rahmeen_128.jpg","ralph_lam_128.jpg","ramanathan_pdy_128.jpg","randomlies_128.jpg","rangafangs_128.jpg","raphaelnikson_128.jpg","raquelwilson_128.jpg","ratbus_128.jpg","rawdiggie_128.jpg","rdbannon_128.jpg","rdsaunders_128.jpg","reabo101_128.jpg","reetajayendra_128.jpg","rehatkathuria_128.jpg","reideiredale_128.jpg","renbyrd_128.jpg","rez___a_128.jpg","ricburton_128.jpg","richardgarretts_128.jpg","richwild_128.jpg","rickdt_128.jpg","rickyyean_128.jpg","rikas_128.jpg","ripplemdk_128.jpg","rmlewisuk_128.jpg","rob_thomas10_128.jpg","robbschiller_128.jpg","robergd_128.jpg","robinclediere_128.jpg","robinlayfield_128.jpg","robturlinckx_128.jpg","rodnylobos_128.jpg","rohixx_128.jpg","romanbulah_128.jpg","roxanejammet_128.jpg","roybarberuk_128.jpg","rpatey_128.jpg","rpeezy_128.jpg","rtgibbons_128.jpg","rtyukmaev_128.jpg","rude_128.jpg","ruehldesign_128.jpg","runningskull_128.jpg","russell_baylis_128.jpg","russoedu_128.jpg","ruzinav_128.jpg","rweve_128.jpg","ryandownie_128.jpg","ryanjohnson_me_128.jpg","ryankirkman_128.jpg","ryanmclaughlin_128.jpg","ryhanhassan_128.jpg","ryuchi311_128.jpg","s4f1_128.jpg","saarabpreet_128.jpg","sachacorazzi_128.jpg","sachingawas_128.jpg","safrankov_128.jpg","sainraja_128.jpg","salimianoff_128.jpg","salleedesign_128.jpg","salvafc_128.jpg","samgrover_128.jpg","samihah_128.jpg","samscouto_128.jpg","samuelkraft_128.jpg","sandywoodruff_128.jpg","sangdth_128.jpg","santi_urso_128.jpg","saschadroste_128.jpg","saschamt_128.jpg","sasha_shestakov_128.jpg","saulihirvi_128.jpg","sawalazar_128.jpg","sawrb_128.jpg","sbtransparent_128.jpg","scips_128.jpg","scott_riley_128.jpg","scottfeltham_128.jpg","scottgallant_128.jpg","scottiedude_128.jpg","scottkclark_128.jpg","scrapdnb_128.jpg","sdidonato_128.jpg","sebashton_128.jpg","sementiy_128.jpg","serefka_128.jpg","sergeyalmone_128.jpg","sergeysafonov_128.jpg","sethlouey_128.jpg","seyedhossein1_128.jpg","sgaurav_baghel_128.jpg","shadeed9_128.jpg","shalt0ni_128.jpg","shaneIxD_128.jpg","shanehudson_128.jpg","sharvin_128.jpg","shesgared_128.jpg","shinze_128.jpg","shoaib253_128.jpg","shojberg_128.jpg","shvelo96_128.jpg","silv3rgvn_128.jpg","silvanmuhlemann_128.jpg","simobenso_128.jpg","sindresorhus_128.jpg","sircalebgrove_128.jpg","skkirilov_128.jpg","slowspock_128.jpg","smaczny_128.jpg","smalonso_128.jpg","smenov_128.jpg","snowshade_128.jpg","snowwrite_128.jpg","sokaniwaal_128.jpg","solid_color_128.jpg","souperphly_128.jpg","souuf_128.jpg","sovesove_128.jpg","soyjavi_128.jpg","spacewood__128.jpg","spbroma_128.jpg","spedwig_128.jpg","sprayaga_128.jpg","sreejithexp_128.jpg","ssbb_me_128.jpg","ssiskind_128.jpg","sta1ex_128.jpg","stalewine_128.jpg","stan_128.jpg","stayuber_128.jpg","stefanotirloni_128.jpg","stefanozoffoli_128.jpg","stefooo_128.jpg","stefvdham_128.jpg","stephcoue_128.jpg","sterlingrules_128.jpg","stevedesigner_128.jpg","steynviljoen_128.jpg","strikewan_128.jpg","stushona_128.jpg","sulaqo_128.jpg","sunlandictwin_128.jpg","sunshinedgirl_128.jpg","superoutman_128.jpg","supervova_128.jpg","supjoey_128.jpg","suprb_128.jpg","sur4dye_128.jpg","surgeonist_128.jpg","suribbles_128.jpg","svenlen_128.jpg","swaplord_128.jpg","sweetdelisa_128.jpg","switmer777_128.jpg","swooshycueb_128.jpg","sydlawrence_128.jpg","syropian_128.jpg","tanveerrao_128.jpg","taybenlor_128.jpg","taylorling_128.jpg","tbakdesigns_128.jpg","teddyzetterlund_128.jpg","teeragit_128.jpg","tereshenkov_128.jpg","terpimost_128.jpg","terrorpixel_128.jpg","terryxlife_128.jpg","teylorfeliz_128.jpg","tgerken_128.jpg","tgormtx_128.jpg","thaisselenator__128.jpg","thaodang17_128.jpg","thatonetommy_128.jpg","the_purplebunny_128.jpg","the_winslet_128.jpg","thedamianhdez_128.jpg","thedjpetersen_128.jpg","thehacker_128.jpg","thekevinjones_128.jpg","themadray_128.jpg","themikenagle_128.jpg","themrdave_128.jpg","theonlyzeke_128.jpg","therealmarvin_128.jpg","thewillbeard_128.jpg","thiagovernetti_128.jpg","thibaut_re_128.jpg","thierrykoblentz_128.jpg","thierrymeier__128.jpg","thimo_cz_128.jpg","thinkleft_128.jpg","thomasgeisen_128.jpg","thomasschrijer_128.jpg","timgthomas_128.jpg","timmillwood_128.jpg","timothycd_128.jpg","timpetricola_128.jpg","tjrus_128.jpg","to_soham_128.jpg","tobysaxon_128.jpg","toddrew_128.jpg","tom_even_128.jpg","tomas_janousek_128.jpg","tonymillion_128.jpg","traneblow_128.jpg","travis_arnold_128.jpg","travishines_128.jpg","tristanlegros_128.jpg","trubeatto_128.jpg","trueblood_33_128.jpg","tumski_128.jpg","tur8le_128.jpg","turkutuuli_128.jpg","tweetubhai_128.jpg","twittypork_128.jpg","txcx_128.jpg","uberschizo_128.jpg","ultragex_128.jpg","umurgdk_128.jpg","unterdreht_128.jpg","urrutimeoli_128.jpg","uxalex_128.jpg","uxpiper_128.jpg","uxward_128.jpg","vanchesz_128.jpg","vaughanmoffitt_128.jpg","vc27_128.jpg","vicivadeline_128.jpg","victorDubugras_128.jpg","victor_haydin_128.jpg","victordeanda_128.jpg","victorerixon_128.jpg","victorquinn_128.jpg","victorstuber_128.jpg","vigobronx_128.jpg","vijaykarthik_128.jpg","vikashpathak18_128.jpg","vikasvinfotech_128.jpg","vimarethomas_128.jpg","vinciarts_128.jpg","vitor376_128.jpg","vitorleal_128.jpg","vivekprvr_128.jpg","vj_demien_128.jpg","vladarbatov_128.jpg","vladimirdevic_128.jpg","vladyn_128.jpg","vlajki_128.jpg","vm_f_128.jpg","vocino_128.jpg","vonachoo_128.jpg","vovkasolovev_128.jpg","vytautas_a_128.jpg","waghner_128.jpg","wake_gs_128.jpg","we_social_128.jpg","wearesavas_128.jpg","weavermedia_128.jpg","webtanya_128.jpg","weglov_128.jpg","wegotvices_128.jpg","wesleytrankin_128.jpg","wikiziner_128.jpg","wiljanslofstra_128.jpg","wim1k_128.jpg","wintopia_128.jpg","woodsman001_128.jpg","woodydotmx_128.jpg","wtrsld_128.jpg","xadhix_128.jpg","xalionmalik_128.jpg","xamorep_128.jpg","xiel_128.jpg","xilantra_128.jpg","xravil_128.jpg","xripunov_128.jpg","xtopherpaul_128.jpg","y2graphic_128.jpg","yalozhkin_128.jpg","yassiryahya_128.jpg","yayteejay_128.jpg","yecidsm_128.jpg","yehudab_128.jpg","yesmeck_128.jpg","yigitpinarbasi_128.jpg","zackeeler_128.jpg","zaki3d_128.jpg","zauerkraut_128.jpg","zforrester_128.jpg","zvchkelly_128.jpg"],domain_suffix:["com","biz","info","name","net","org"],emoji:{smiley:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],body:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],person:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],nature:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],food:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],travel:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],activity:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],object:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],symbol:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","#","*","0","1","2","3","4","5","6","7","8","9","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],flag:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},example_email:["example.org","example.com","example.net"],free_email:["gmail.com","yahoo.com","hotmail.com"],http_status_code:{informational:[100,101,102,103],success:[200,201,202,203,204,205,206,207,208,226],redirection:[300,301,302,303,304,305,306,307,308],clientError:[400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,421,422,423,424,425,426,428,429,431,451],serverError:[500,501,502,503,504,505,506,507,508,510,511]}},lorem:{supplemental:["abbas","abduco","abeo","abscido","absconditus","absens","absorbeo","absque","abstergo","absum","abundans","abutor","accedo","accendo","acceptus","accipio","accommodo","accusator","acer","acerbitas","acervus","acidus","acies","acquiro","acsi","adamo","adaugeo","addo","adduco","ademptio","adeo","adeptio","adfectus","adfero","adficio","adflicto","adhaero","adhuc","adicio","adimpleo","adinventitias","adipiscor","adiuvo","administratio","admiratio","admitto","admoneo","admoveo","adnuo","adopto","adsidue","adstringo","adsuesco","adsum","adulatio","adulescens","adultus","aduro","advenio","adversus","advoco","aedificium","aeger","aegre","aegrotatio","aegrus","aeneus","aequitas","aequus","aer","aestas","aestivus","aestus","aetas","aeternus","ager","aggero","aggredior","agnitio","agnosco","ago","ait","aiunt","alienus","alii","alioqui","aliqua","alius","allatus","alo","alter","altus","alveus","amaritudo","ambitus","ambulo","amicitia","amiculum","amissio","amita","amitto","amo","amor","amoveo","amplexus","amplitudo","amplus","ancilla","angelus","angulus","angustus","animadverto","animi","animus","annus","anser","ante","antea","antepono","antiquus","aperio","aperte","apostolus","apparatus","appello","appono","appositus","approbo","apto","aptus","apud","aqua","ara","aranea","arbitro","arbor","arbustum","arca","arceo","arcesso","arcus","argentum","argumentum","arguo","arma","armarium","armo","aro","ars","articulus","artificiose","arto","arx","ascisco","ascit","asper","aspicio","asporto","assentator","astrum","atavus","ater","atqui","atrocitas","atrox","attero","attollo","attonbitus","auctor","auctus","audacia","audax","audentia","audeo","audio","auditor","aufero","aureus","auris","aurum","aut","autem","autus","auxilium","avaritia","avarus","aveho","averto","avoco","baiulus","balbus","barba","bardus","basium","beatus","bellicus","bellum","bene","beneficium","benevolentia","benigne","bestia","bibo","bis","blandior","bonus","bos","brevis","cado","caecus","caelestis","caelum","calamitas","calcar","calco","calculus","callide","campana","candidus","canis","canonicus","canto","capillus","capio","capitulus","capto","caput","carbo","carcer","careo","caries","cariosus","caritas","carmen","carpo","carus","casso","caste","casus","catena","caterva","cattus","cauda","causa","caute","caveo","cavus","cedo","celebrer","celer","celo","cena","cenaculum","ceno","censura","centum","cerno","cernuus","certe","certo","certus","cervus","cetera","charisma","chirographum","cibo","cibus","cicuta","cilicium","cimentarius","ciminatio","cinis","circumvenio","cito","civis","civitas","clam","clamo","claro","clarus","claudeo","claustrum","clementia","clibanus","coadunatio","coaegresco","coepi","coerceo","cogito","cognatus","cognomen","cogo","cohaero","cohibeo","cohors","colligo","colloco","collum","colo","color","coma","combibo","comburo","comedo","comes","cometes","comis","comitatus","commemoro","comminor","commodo","communis","comparo","compello","complectus","compono","comprehendo","comptus","conatus","concedo","concido","conculco","condico","conduco","confero","confido","conforto","confugo","congregatio","conicio","coniecto","conitor","coniuratio","conor","conqueror","conscendo","conservo","considero","conspergo","constans","consuasor","contabesco","contego","contigo","contra","conturbo","conventus","convoco","copia","copiose","cornu","corona","corpus","correptius","corrigo","corroboro","corrumpo","coruscus","cotidie","crapula","cras","crastinus","creator","creber","crebro","credo","creo","creptio","crepusculum","cresco","creta","cribro","crinis","cruciamentum","crudelis","cruentus","crur","crustulum","crux","cubicularis","cubitum","cubo","cui","cuius","culpa","culpo","cultellus","cultura","cum","cunabula","cunae","cunctatio","cupiditas","cupio","cuppedia","cupressus","cur","cura","curatio","curia","curiositas","curis","curo","curriculum","currus","cursim","curso","cursus","curto","curtus","curvo","curvus","custodia","damnatio","damno","dapifer","debeo","debilito","decens","decerno","decet","decimus","decipio","decor","decretum","decumbo","dedecor","dedico","deduco","defaeco","defendo","defero","defessus","defetiscor","deficio","defigo","defleo","defluo","defungo","degenero","degero","degusto","deinde","delectatio","delego","deleo","delibero","delicate","delinquo","deludo","demens","demergo","demitto","demo","demonstro","demoror","demulceo","demum","denego","denique","dens","denuncio","denuo","deorsum","depereo","depono","depopulo","deporto","depraedor","deprecator","deprimo","depromo","depulso","deputo","derelinquo","derideo","deripio","desidero","desino","desipio","desolo","desparatus","despecto","despirmatio","infit","inflammatio","paens","patior","patria","patrocinor","patruus","pauci","paulatim","pauper","pax","peccatus","pecco","pecto","pectus","pecunia","pecus","peior","pel","ocer","socius","sodalitas","sol","soleo","solio","solitudo","solium","sollers","sollicito","solum","solus","solutio","solvo","somniculosus","somnus","sonitus","sono","sophismata","sopor","sordeo","sortitus","spargo","speciosus","spectaculum","speculum","sperno","spero","spes","spiculum","spiritus","spoliatio","sponte","stabilis","statim","statua","stella","stillicidium","stipes","stips","sto","strenuus","strues","studio","stultus","suadeo","suasoria","sub","subito","subiungo","sublime","subnecto","subseco","substantia","subvenio","succedo","succurro","sufficio","suffoco","suffragium","suggero","sui","sulum","sum","summa","summisse","summopere","sumo","sumptus","supellex","super","suppellex","supplanto","suppono","supra","surculus","surgo","sursum","suscipio","suspendo","sustineo","suus","synagoga","tabella","tabernus","tabesco","tabgo","tabula","taceo","tactus","taedium","talio","talis","talus","tam","tamdiu","tamen","tametsi","tamisium","tamquam","tandem","tantillus","tantum","tardus","tego","temeritas","temperantia","templum","temptatio","tempus","tenax","tendo","teneo","tener","tenuis","tenus","tepesco","tepidus","ter","terebro","teres","terga","tergeo","tergiversatio","tergo","tergum","termes","terminatio","tero","terra","terreo","territo","terror","tersus","tertius","testimonium","texo","textilis","textor","textus","thalassinus","theatrum","theca","thema","theologus","thermae","thesaurus","thesis","thorax","thymbra","thymum","tibi","timidus","timor","titulus","tolero","tollo","tondeo","tonsor","torqueo","torrens","tot","totidem","toties","totus","tracto","trado","traho","trans","tredecim","tremo","trepide","tres","tribuo","tricesimus","triduana","triginta","tripudio","tristis","triumphus","trucido","truculenter","tubineus","tui","tum","tumultus","tunc","turba","turbo","turpe","turpis","tutamen","tutis","tyrannus","uberrime","ubi","ulciscor","ullus","ulterius","ultio","ultra","umbra","umerus","umquam","una","unde","undique","universe","unus","urbanus","urbs","uredo","usitas","usque","ustilo","ustulo","usus","uter","uterque","utilis","utique","utor","utpote","utrimque","utroque","utrum","uxor","vaco","vacuus","vado","vae","valde","valens","valeo","valetudo","validus","vallum","vapulus","varietas","varius","vehemens","vel","velociter","velum","velut","venia","venio","ventito","ventosus","ventus","venustas","ver","verbera","verbum","vere","verecundia","vereor","vergo","veritas","vero","versus","verto","verumtamen","verus","vesco","vesica","vesper","vespillo","vester","vestigium","vestrum","vetus","via","vicinus","vicissitudo","victoria","victus","videlicet","video","viduata","viduo","vigilo","vigor","vilicus","vilis","vilitas","villa","vinco","vinculum","vindico","vinitor","vinum","vir","virga","virgo","viridis","viriliter","virtus","vis","viscus","vita","vitiosus","vitium","vito","vivo","vix","vobis","vociferor","voco","volaticus","volo","volubilis","voluntarius","volup","volutabrum","volva","vomer","vomica","vomito","vorago","vorax","voro","vos","votum","voveo","vox","vulariter","vulgaris","vulgivagus","vulgo","vulgus","vulnero","vulnus","vulpes","vulticulus","vultuosus","xiphias"],words:["alias","consequatur","aut","perferendis","sit","voluptatem","accusantium","doloremque","aperiam","eaque","ipsa","quae","ab","illo","inventore","veritatis","et","quasi","architecto","beatae","vitae","dicta","sunt","explicabo","aspernatur","aut","odit","aut","fugit","sed","quia","consequuntur","magni","dolores","eos","qui","ratione","voluptatem","sequi","nesciunt","neque","dolorem","ipsum","quia","dolor","sit","amet","consectetur","adipisci","velit","sed","quia","non","numquam","eius","modi","tempora","incidunt","ut","labore","et","dolore","magnam","aliquam","quaerat","voluptatem","ut","enim","ad","minima","veniam","quis","nostrum","exercitationem","ullam","corporis","nemo","enim","ipsam","voluptatem","quia","voluptas","sit","suscipit","laboriosam","nisi","ut","aliquid","ex","ea","commodi","consequatur","quis","autem","vel","eum","iure","reprehenderit","qui","in","ea","voluptate","velit","esse","quam","nihil","molestiae","et","iusto","odio","dignissimos","ducimus","qui","blanditiis","praesentium","laudantium","totam","rem","voluptatum","deleniti","atque","corrupti","quos","dolores","et","quas","molestias","excepturi","sint","occaecati","cupiditate","non","provident","sed","ut","perspiciatis","unde","omnis","iste","natus","error","similique","sunt","in","culpa","qui","officia","deserunt","mollitia","animi","id","est","laborum","et","dolorum","fuga","et","harum","quidem","rerum","facilis","est","et","expedita","distinctio","nam","libero","tempore","cum","soluta","nobis","est","eligendi","optio","cumque","nihil","impedit","quo","porro","quisquam","est","qui","minus","id","quod","maxime","placeat","facere","possimus","omnis","voluptas","assumenda","est","omnis","dolor","repellendus","temporibus","autem","quibusdam","et","aut","consequatur","vel","illum","qui","dolorem","eum","fugiat","quo","voluptas","nulla","pariatur","at","vero","eos","et","accusamus","officiis","debitis","aut","rerum","necessitatibus","saepe","eveniet","ut","et","voluptates","repudiandae","sint","et","molestiae","non","recusandae","itaque","earum","rerum","hic","tenetur","a","sapiente","delectus","ut","aut","reiciendis","voluptatibus","maiores","doloribus","asperiores","repellat"]},music:{genre:["Rock","Metal","Pop","Electronic","Folk","World","Country","Jazz","Funk","Soul","Hip Hop","Classical","Latin","Reggae","Stage And Screen","Blues","Non Music","Rap"],song_name:["White Christmas","Hey Jude","Every Breath You Take","Mack the Knife","Rock Around the Clock","I Want to Hold Your Hand","(I Can't Get No) Satisfaction","The Twist","(Everything I Do) I Do it For You","Bridge Over Troubled Water","When Doves Cry","Call Me","Bette Davis Eyes","I Will Always Love You","Over the Rainbow","American Pie","Flashdance. What a Feeling","The Way We Were","I Heard it Through the Grapevine","You've Lost That Lovin' Feelin'","Nothing Compares 2 U","Endless Love","Yeah!","Let's Get it On","That's What Friends Are For","You Light Up My Life","(Sittin' On) the Dock of the Bay","Joy to the World","Heartbreak Hotel","Theme From 'A Summer Place'","Aquarius/Let The Sunshine In","I Will Survive","It's Too Late","Respect","Sugar Sugar","Stayin' Alive","Maggie May","My Heart Will Go On","Eye of the Tiger","End of the Road","Another One Bites the Dust","Billie Jean","Let's Stay Together","Battle of New Orleans","Oh","Hound Dog","I Love Rock 'n' Roll","Smooth","Good Vibrations","Physical","Light My Fire","Low","Hey Ya!","Let it Be","Don't Be Cruel","Hotel California","We Belong Together","Le Freak","Raindrops Keep Falling On My Head","How High the Moon","My Girl","I Can't Stop Loving You","Killing Me Softly With His Song","Mona Lisa","In the Mood","She Loves You","The Letter","Mister Sandman","Careless Whisper","What's Love Got to Do With It?","I'm a Believer","Wooly Bully","Theme From 'Shaft'","Hot Stuff","Centerfold","Honky Tonk Woman","I'll Be There","Gangsta's Paradise","Yesterday","My Sharona","Tennessee Waltz","Reach Out (I'll Be There)","California Dreamin'","Jailhouse Rock","Irreplaceable","Dancing in the Street","Rolling In The Deep","Tie a Yellow Ribbon 'round the Old Oak Tree","Stand By Me","Sentimental Journey","The First Time Ever I Saw Your Face","Louie Louie","Another Brick in the Wall (part 2)","(Just Like) Starting Over","Night Fever","To Sir","You're So Vain","Be My Baby","Celebration","(They Long to Be) Close to You","Begin the Beguine","I Still Haven't Found What I'm Looking For","I Want You Back","Arthur's Theme (Best That You Can Do)","Boulevard of Broken Dreams","With Or Without You","Tonight's the Night (Gonna Be Alright)","Are You Lonesome Tonight?","Upside Down","Dancing Queen","Sweet Child O' Mine","Where Did Our Love Go","Unchained Melody","Rudolph","Take My Breath Away","I'll Make Love to You","Love Will Keep Us Together","When a Man Loves a Woman","Walk Like an Egyptian","Crazy in Love","Strangers in the Night","You Belong to Me","In Da Club","Say You","We Are the World","Johnny B Goode","Love Theme From 'A Star is Born' (Evergreen)","Shadow Dancing","Superstition","Beat It","Night & Day","Waterfalls","House of the Rising Sun","Paper Doll","Downtown","I Can't Help Myself (Sugar Pie","Kiss From a Rose","Believe","Ballad of the Green Berets","Proud Mary","Too Young","Umbrella","Swanee","Need You Tonight","Like a Rolling Stone","Lady","One Sweet Day","Lean On Me","Tik-Toc","Monday Monday","What'd I Say","How You Remind Me","Silly Love Songs","My Guy","Macarena","Goodnight","Just My Imagination (Running Away With Me)","The Sounds of Silence","Imagine","Me & Bobby McGee","Near You","What's Going On?","Suspicious Minds","Ode To Billie Joe","Wind Beneath My Wings","The Boy is Mine","Mr Tambourine Man","Faith","Green Onions","Mrs Robinson","How Deep is Your Love?","Hey There","Heart of Glass","Pennies From Heaven","Like a Virgin","Midnight Train to Georgia","Help!","Tossing & Turning","The Sign","Born to Be Wild","Layla","I Just Wanna Be Your Everything","War","96 Tears","I Get Around","Because You Loved Me","Summer in the City","Get Back","Secret Love","9 to 5","(Ghost) Riders in the Sky","The Loco-Motion","Play That Funky Music","Bohemian Rhapsody","Little Things Mean a Lot","Cry","All Shook Up","Up Where We Belong","Sledgehammer","Fire & Rain","Stop! in the Name of Love","Sweet Home Alabama","Another Day in Paradise","Bleeding Love","Lady Marmalade (Voulez-Vous Coucher Aver Moi Ce Soir?)","Whispering","Vogue","Under the Bridge","Sixteen Tons","Sugar Shack","Baby Love","What a Fool Believes","Lose Yourself","Hello Dolly","Brown Eyed Girl","Without You","Build Me Up Buttercup","We Found Love","Tears in Heaven","Family Affair","All I Wanna Do","Soul Man","Tequila","Rock With You","Livin' La Vida Loca","Best of My Love","Runaway","Alone Again (Naturally)","Can't Help Falling in Love","My Sweet Lord","Runaround Sue","Swinging On a Star","Gold Digger","Happy Together","Losing My Religion","Heart of Gold","Stardust","Will You Love Me Tomorrow","You Are the Sunshine of My Life","You Were Meant for Me","Take On Me","Hollaback Girl","God Bless America","I Swear","Sunshine of Your Love","Firework","Groovin'","Smells Like Teen Spirit","Big Girls Don't Cry","Jack & Diane","Addicted to Love","The Last Dance","Georgia On My Mind","Money For Nothing","Jump","Vaya Con Dios (may God Be With You)","You'll Never Know","That'll Be the Day","Girls Just Wanna Have Fun","Wheel of Fortune","When You Wish Upon a Star","Don't Fence Me In","Turn! Turn! Turn! (To Everything There is a Season)","Volare","Sweet Dreams (Are Made of This)","Whole Lotta Love","You've Got a Friend","Penny Lane","People Got to Be Free","Nature Boy","Sexyback","Crying","Single Ladies (Put A Ring On It)","Bad Girls","Too Close","I Got You Babe","We've Only Just Begun","Sh-Boom (Life Could Be a Dream)","Shining Star","Kansas City","Like a Prayer","Cheek to Cheek","Papa Was a Rolling Stone","Promiscuous","Love Shack","Funkytown","Crazy","Philadelphia Freedom","Temperature","Somebody That I Used to Know","All I Have to Do is Dream","Jessie's Girl","Rhinestone Cowboy","Blue Suede Shoes","Ebony & Ivory","I'll Never Smile Again","Keep On Loving You","Since U Been Gone","The Way You Look Tonight","Crazy Little Thing Called Love","The Great Pretender","Brown Sugar","Que sera sera (Whatever will be will be)","No One","Bad Day","Boom Boom Pow","Party Rock Anthem","Because of You","Chattanooga Choo Choo","A Whiter Shade of Pale","Love Me Tender","Higher Love","Footloose","Blurred Lines","I Just Called to Say I Love You","Come Together","It's Now Or Never","Under the Boardwalk","Don't You Want Me","You Can't Hurry Love","Fame","Fallin'","Poker Face","Bad Romance","Ruby Tuesday","All Night Long (All Night)","Baby Got Back","Whole Lotta Shakin' Goin' On","Frenesi","December 1963 (Oh What a Night)","Bad Moon Rising","Abracadabra","I Gotta Feeling","The Song From Moulin Rouge (Where Is Your Heart)","Waiting For a Girl Like You","Everybody Loves Somebody","I Can't Go For That (No Can Do)","Buttons & Bows","It's All in the Game","Love Train","Dance to the Music","Candle in the Wind '97","Honey","Kiss","I'll Take You There","Paint it Black","Band of Gold","Just the Way You Are","Spirit in the Sky","Vision of Love","Hips don't lie","Till The End of Time","Duke of Earl","YMCA","Oh My Papa (O Mein Papa)","Pistol Packin' Mama","Gonna Make You Sweat (Everybody Dance Now)","Dilemma","I Need You Now","Wanted","Jumpin' Jack Flash","Against All Odds (Take a Look At Me Now)","Tom Dooley","Goodbye Yellow Brick Road","Rhapsody in Blue","Bennie & the Jets","Call Me Maybe","You Really Got Me","God Bless the Child","I'm Sorry","Bad","I Can't Get Next to You","The Power of Love","Dreamlover","Only The Lonely (Know The Way I Feel)","We Are Family","At Last","Brand New Key","I've Heard That Song Before","Stay (I Missed You)","Do Ya Think I'm Sexy?","Tutti Frutti","This Ole House","Please Mr Postman","Can't Help Falling in Love","Good Times","Something","(I've Had) the Time of My Life","I Don't Want to Miss a Thing","Down Hearted Blues","Rag Doll","Blueberry Hill","Ain't No Sunshine","Wild Thing","Blaze of Glory","Crazy","Ray of Light","The Hustle","Grenade","Cathy's Clown","Minnie the Moocher","Love Is Blue (L'Amour Est Bleu)","Iris","The Boys of Summer","The Tide is High","She Drives Me Crazy","Fame","Stardust","Save the Best For Last","These Boots Are Made For Walking","I Feel Love","A Woman in Love","We Can Work it Out","The Reason","Locked Out Of Heaven","Do That to Me One More Time","That's the Way Love Goes","A Hard Day's Night","I Believe I Can Fly","Karma Chameleon","One O'Clock Jump","Mule Train","Car Wash","Rapture","Creep","Streets of Philadelphia","West End Girls","Leader of the Pack","T For Texas (Blue Yodel No 1)","Mama Told Me Not to Come","Just Dance","Mercy Mercy Me (The Ecology)","Livin' On a Prayer","Good Lovin'","50 Ways to Leave Your Lover","Stronger","I Can See Clearly Now","We Are the Champions","(I've Got a Gal In) Kalamazoo","No Scrubs","Big Girls Don't Cry","How Do You Mend a Broken Heart","I Got You (I Feel Good)","Don't Let the Stars Get in Your Eyes","The Girl From Ipanema","(Sexual) Healing","Tears of a Clown","We Will Rock You","Hold On","Bye Bye Love","Chapel of Love","White Rabbit","Rock the Boat","The Gypsy","Take The 'A' Train","Crimson & Clover","Crocodile Rock","Make Love to Me","Nothing's Gonna Stop Us Now","Say Say Say","The Christmas Song (Chestnuts Roasting On An Open Fire)","Un-Break My Heart","Cherish","I'll Be Missing You","Drops of Jupiter (Tell Me)","There goes my baby","You Send Me","If (They Made Me a King)","The Prisoner's Song","ABC","Do Wah Diddy Diddy","He's So Fine","A Boy Named Sue","Roll Over Beethoven","Sweet Georgia Brown","Earth Angel","Rehab","(You Keep Me) Hangin' On","This Diamond Ring","Be My Love","Rush Rush","You're Beautiful","Roll With It","Moonlight Serenade","Unbelievable","Peg o' My Heart","This Land is Your Land","Stranger On the Shore","Rum & Coca-Cola","Hit the Road","Without Me","Crazy For You","I Want to Know What Love Is","Bye Bye","Down Under","At the Hop","One Bad Apple","Kiss & Say Goodbye","For What It's Worth (Stop","The Long & Winding Road","Baby One More Time","Stairway to Heaven","How Do I Live?","Hello","Truly Madly Deeply","Great Balls of Fire","King of the Road","I Wanna Dance With Somebody (Who Loves Me)","Reunited","Help Me","Rags to Riches","(It's No) Sin","Say My Name","Nobody Does it Better","Paperback Writer","Don't Worry Be Happy","I Fall to Pieces","Body & Soul","You're Still the One","Stormy Weather (Keeps Rainin' All the Time)","Horse With No Name","American Woman","Chattanoogie Shoe-Shine Boy","Pick Up the Pieces","Everybody Wants to Rule the World","Blue Tango","Hurt So Good","Apologize","Let's Dance","(You're My) Soul & Inspiration","I Only Have Eyes For You","Wichita Lineman","Hanging by a Moment","Spinning Wheel","Look Away","Ironic","Don't Stop 'Til You Get Enough","Empire State Of Mind","Do You Love Me?","Jive Talkin'","You're the One That I Want","Sweet Soul Music","Hey There Delilah","A Whole New World (Aladdin's Theme)","Somethin' Stupid","Knock Three Times","Mickey","The Wanderer","Dancing in the Dark","It's Still Rock 'n' Roll to Me","Boogie Oogie Oogie","Can You Feel the Love Tonight","Harper Valley PTA","Seasons in the Sun","Come On-a My House","Viva La Vida","Walk On By","Family Affair","Drop it Like It's Hot","Private Eyes","Maniac","All My Lovin' (You're Never Gonna Get It)","Take a Bow","Ring of Fire","Save the Last Dance For Me","Make it With You","Don't Speak","I Shot the Sheriff","Say It Right","Sing","Twist & Shout","Twist & Shout","Walk This Way","A-Tisket A-Tasket","Let Me Love You","I Can Dream","Toxic","The Joker","Hero","In the Year 2525 (Exordium & Terminus)","Your Song","Oh Happy Day","Grease","Love In This Club","Angie","How Much is That Doggy in the Window?","Daydream Believer","Whip It","Boogie Woogie Bugle Boy","Down","Hanky Panky","Total Eclipse of the Heart","Cat's in the Cradle","Strange Fruit","Lady Marmalade (Voulez-Vous Coucher Aver Moi Ce Soir?)","Breathe","On My Own","Dizzy","Ticket to Ride","We Got The Beat","On the Atchison","Always On My Mind","Unforgettable","In the End","Just the Way You Are","Music","Can't Buy Me Love","Chain of Fools","Won't Get Fooled Again","Happy Days Are Here Again","Third Man Theme","Your Cheatin' Heart","Thriller","Venus","Time After Time","That Lucky Old Sun (Just Rolls Around Heaven All Day)","E.T.","Three Coins in the Fountain","Touch Me","You Ain't Seen Nothin' Yet","Gives You Hell","Knock On Wood","One of These Nights","Again","Doo Wop (That Thing)","Whoomp! (There it Is)","Magic","I'm Walking Behind You","We Didn't Start the Fire","Lola","Ghostbusters","Winchester Cathedral","Greatest Love of All","My Love","Wannabe","Miss You","I Feel Fine","Baby Baby","TSOP (The Sound of Philadelphia)","Loving You","This Guy's in Love With You","Till I Waltz Again With You","Why Do Fools Fall in Love?","Nights in White Satin","That's the Way (I Like It)","My Prayer","(Put Another Nickel In) Music! Music! Music!","Colors of the Wind","Morning Train (Nine to Five)","I Went to Your Wedding","Kiss Me","Gypsies","Cracklin' Rosie","Maybellene","Born in the USA","Here Without You","Mony Mony","Mmmbop","You Always Hurt the One You Love","Eight Days a Week","What Goes Around Comes Around","Kung Fu Fighting","Fantasy","Sir Duke","Ain't Misbehavin'","Need You Now","Last Train to Clarksville","Yakety Yak","I'll be seeing you","Hard to Say I'm Sorry","It's My Party","Love to Love You Baby","Miss You Much","Born to Run","Instant Karma","The Rose","Purple Rain","One","Groove is in the Heart","Gimme Some Lovin'","Beautiful Day","Escape (The Pina Colada Song)","Use Somebody","Fortunate Son","Afternoon Delight","Love's Theme","Sailing","Cherry Pink & Apple Blossom White","Georgy Girl","How to Save a Life","I Walk the Line","All You Need is Love","U Can't Touch This","All Out of Love","Where is the Love?","Revolution","The Love You Save","Black Or White","This Used to Be My Playground","Living For the City","School's Out","Disturbia","Riders On the Storm","Some Enchanted Evening","Weak","Maneater","More Than Words","Time of the Season","Mrs Brown You've Got a Lovely Daughter","If You Leave Me Now","Can't Get Enough of Your Love","Na Na Hey Hey (Kiss Him Goodbye)","Mr Brightside","Black Velvet","I'm Yours","My Blue Heaven","It Had to Be You","Tha Crossroads","Ac-cent-tchu-ate the Positive","Everyday People","We Are Young","Take Me Home","Smoke! Smoke! Smoke! (That Cigarette)","In the Summertime","The Tracks of My Tears","Fly Robin Fly","Love is a Many Splendoured Thing","Another Night","Long Tall Sally","You Sexy Thing","The Morning After","The Loco-Motion","Get Off of My Cloud","Roses Are Red","Thank You (Falettinme be Mice Elf Again)","Slow Poke","You Belong With Me","Stormy Weather (Keeps Rainin' All the Time)","Ain't No Mountain High Enough","Auf Wiederseh'n Sweetheart","Beauty & the Beast","St Louis Blues","Peggy Sue","U Got it Bad","Sweet Caroline (Good Times Never Seemed So Good)","Wedding Bell Blues","Freebird","Jump","Wipe Out","California Girls","Being With You","Makin' Whoopee","My Love","Shop Around","Smoke On the Water","Hungry Heart","That's Amore","My Life","Brandy (You're A Fine Girl)","Walk Don't Run","Surfin' USA","Ball of Confusion (That's What the World is Today)","Sunshine Superman","Frankenstein","Kiss You All Over","Wishing Well","Piano Man","Ben","In the Ghetto","Hang On Sloopy","Singing The Blues","Cry Like a Baby","I Honestly Love You","Brother","Lookin' Out My Back Door","Candy Man","Burn","Stagger Lee","Moonlight Cocktail","Coming Up","Pop Muzik","As Time Goes By","My Eyes Adored You","Strawberry Fields Forever","Some of These Days","I Think I Love You","Judy in Disguise (With Glasses)","All Along the Watchtower","A Thousand Miles","Fast Car","Red Red Wine","Live & Let Die","Come On Eileen","Right Back Where We Started From","Brother Louie","Ol' Man River","Band On the Run","Rich Girl","Green River","Got to Give it Up","Behind Closed Doors","Don't Go Breaking My Heart","I'm Looking Over a Four Leaf Clover","Mr Big Stuff","Tiger Rag","Kryptonite","Hey Paula","Go Your Own Way","Big Bad John","Wake Me Up Before You Go Go","Tangerine","Wayward Wind","Disco Lady","Spanish Harlem","Wicked Game","Rosanna","Papa Don't Preach","Somebody to Love","Kokomo","Manana (Is Soon Enough For Me)","Puttin' on the Ritz","One More Try","I'll Walk Alone","Shout","Woman","Ballerina","We Built This City","19th Nervous Breakdown","Working My Way Back to You","Superstar","Foolish Games","Get Down Tonight","On Bended Knee","Magic Carpet Ride","Only You (And You Alone)","A String of Pearls","A Tree in the Meadow","So Much in Love","Every Little Thing She Does is Magic","La Bamba","Tighten Up","Three Times a Lady","Airplanes","Wild Thing","Don't Leave Me This Way","Rock the Casbah","Feel Good Inc","Love Me Do","Kiss On My List","Give Me Everything","Have You Ever Really Loved a Woman?","Love Letters in the Sand","Ring My Bell","Love Child","I Feel For You","Bye","(Let Me Be Your) Teddy Bear","Soldier Boy","Papa's Got a Brand New Bag","Love Hangover","Venus","Spill the Wine","Royals","April Showers","Don't You (Forget About Me)","Travellin' Man","The Thing","You Make Me Feel Brand New","The Glow-Worm","You Don't Bring Me Flowers","Summertime Blues","Straight Up","Sunday","Wake Up Little Susie","She's a Lady","Over There","Little Darlin'","Rag Mop","Shake Down","Up Around the Bend","Harbour Lights","Chances Are","Mood Indigo","Pony Time","After You've Gone","I Wanna Love You","Da Doo Ron Ron (When He Walked Me Home)","If You Don't Know Me By Now","Green Tambourine","My Man","If I Didn't Care","St George & the Dragonette","Why Don't You Believe Me?","How Will I Know","Disco Duck","Lonely Boy","Never Gonna Give You Up","Before The Next Teardrop Falls","Running Scared","Let's Hear it For the Boy","Sleep Walk","Walk On the Wild Side","Memories Are Made of This","Open Arms","Stuck On You","Personality","Feel Like Making Love","Stars & Stripes Forever","Besame Mucho","Let Me Call You Sweetheart","La Bamba","Indian Reservation (The Lament Of The Cherokee Reservation Indian)","Cars","You Make Me Feel Like Dancing","Whatcha Say","Me & Mrs Jones","Bitter Sweet Symphony","Uncle Albert (Admiral Halsey)","More Than a Feeling","My Boyfriend's Back","People","He'll Have to Go","I Can Help","The Streak","Dreams","Hair","Cold","Nothin' on You","The End of the World","Caldonia Boogie (What Makes Your Big Head So Hard)","I Kissed A Girl","Incense & Peppermints","12th Street Rag","West End Blues","The Way You Move","Smoke Gets in Your Eyes","Want Ads","Long Cool Woman in a Black Dress","Hey Baby","(Your Love Keeps Lifting Me) Higher & Higher","He's a Rebel","Alone","Thrift Shop","Don't Let the Sun Go Down On Me","The Sweet Escape","Return to Sender","Here in My Heart","Wabash Cannonball","Ain't That a Shame","Travellin' Band","I'm Your Boogie Man","I Write the Songs","This Love","Lights","Will It Go Round In Circles","Purple Haze","Rock Your Baby","Delicado","Tammy","Check On It","Breaking Up is Hard to Do","1999","Prisoner of Love","Wild Wild West","Walk Like a Man","Ain't No Mountain High Enough","I Will Follow Him","Glamorous","Yellow Rose of Texas","That Old Black Magic","I'm So Lonesome I Could Cry","Up Up & Away","Baby Come Back","Let it Snow! Let it Snow! Let it Snow!","Pon De Replay","Because I Love You (The Postman Song)","Sleepy Lagoon","Baker Street","Dardanella","You Don't Have to Be a Star (To Be in My Show)","Leaving","Glory of Love","Theme From 'Greatest American Hero' (Believe It Or Not)","Shake You Down","Ole Buttermilk Sky","I Can't Get Started","Freak Me","Hot Child In The City","Man in the Mirror","Queen of Hearts","Let's Groove","Change the World","You make Me Wanna","Someday","Eve of Destruction","One of Us","Honky Tonk","Be Bop a Lula","Two Hearts","Paper Planes"]},name:{binary_gender:["Female","Male"],female_first_name:["Mary","Patricia","Linda","Barbara","Elizabeth","Jennifer","Maria","Susan","Margaret","Dorothy","Lisa","Nancy","Karen","Betty","Helen","Sandra","Donna","Carol","Ruth","Sharon","Michelle","Laura","Sarah","Kimberly","Deborah","Jessica","Shirley","Cynthia","Angela","Melissa","Brenda","Amy","Anna","Rebecca","Virginia","Kathleen","Pamela","Martha","Debra","Amanda","Stephanie","Carolyn","Christine","Marie","Janet","Catherine","Frances","Ann","Joyce","Diane","Alice","Julie","Heather","Teresa","Doris","Gloria","Evelyn","Jean","Cheryl","Mildred","Katherine","Joan","Ashley","Judith","Rose","Janice","Kelly","Nicole","Judy","Christina","Kathy","Theresa","Beverly","Denise","Tammy","Irene","Jane","Lori","Rachel","Marilyn","Andrea","Kathryn","Louise","Sara","Anne","Jacqueline","Wanda","Bonnie","Julia","Ruby","Lois","Tina","Phyllis","Norma","Paula","Diana","Annie","Lillian","Emily","Robin","Peggy","Crystal","Gladys","Rita","Dawn","Connie","Florence","Tracy","Edna","Tiffany","Carmen","Rosa","Cindy","Grace","Wendy","Victoria","Edith","Kim","Sherry","Sylvia","Josephine","Thelma","Shannon","Sheila","Ethel","Ellen","Elaine","Marjorie","Carrie","Charlotte","Monica","Esther","Pauline","Emma","Juanita","Anita","Rhonda","Hazel","Amber","Eva","Debbie","April","Leslie","Clara","Lucille","Jamie","Joanne","Eleanor","Valerie","Danielle","Megan","Alicia","Suzanne","Michele","Gail","Bertha","Darlene","Veronica","Jill","Erin","Geraldine","Lauren","Cathy","Joann","Lorraine","Lynn","Sally","Regina","Erica","Beatrice","Dolores","Bernice","Audrey","Yvonne","Annette","June","Samantha","Marion","Dana","Stacy","Ana","Renee","Ida","Vivian","Roberta","Holly","Brittany","Melanie","Loretta","Yolanda","Jeanette","Laurie","Katie","Kristen","Vanessa","Alma","Sue","Elsie","Beth","Jeanne","Vicki","Carla","Tara","Rosemary","Eileen","Terri","Gertrude","Lucy","Tonya","Ella","Stacey","Wilma","Gina","Kristin","Jessie","Natalie","Agnes","Vera","Willie","Charlene","Bessie","Delores","Melinda","Pearl","Arlene","Maureen","Colleen","Allison","Tamara","Joy","Georgia","Constance","Lillie","Claudia","Jackie","Marcia","Tanya","Nellie","Minnie","Marlene","Heidi","Glenda","Lydia","Viola","Courtney","Marian","Stella","Caroline","Dora","Jo","Vickie","Mattie","Terry","Maxine","Irma","Mabel","Marsha","Myrtle","Lena","Christy","Deanna","Patsy","Hilda","Gwendolyn","Jennie","Nora","Margie","Nina","Cassandra","Leah","Penny","Kay","Priscilla","Naomi","Carole","Brandy","Olga","Billie","Dianne","Tracey","Leona","Jenny","Felicia","Sonia","Miriam","Velma","Becky","Bobbie","Violet","Kristina","Toni","Misty","Mae","Shelly","Daisy","Ramona","Sherri","Erika","Katrina","Claire","Lindsey","Lindsay","Geneva","Guadalupe","Belinda","Margarita","Sheryl","Cora","Faye","Ada","Natasha","Sabrina","Isabel","Marguerite","Hattie","Harriet","Molly","Cecilia","Kristi","Brandi","Blanche","Sandy","Rosie","Joanna","Iris","Eunice","Angie","Inez","Lynda","Madeline","Amelia","Alberta","Genevieve","Monique","Jodi","Janie","Maggie","Kayla","Sonya","Jan","Lee","Kristine","Candace","Fannie","Maryann","Opal","Alison","Yvette","Melody","Luz","Susie","Olivia","Flora","Shelley","Kristy","Mamie","Lula","Lola","Verna","Beulah","Antoinette","Candice","Juana","Jeannette","Pam","Kelli","Hannah","Whitney","Bridget","Karla","Celia","Latoya","Patty","Shelia","Gayle","Della","Vicky","Lynne","Sheri","Marianne","Kara","Jacquelyn","Erma","Blanca","Myra","Leticia","Pat","Krista","Roxanne","Angelica","Johnnie","Robyn","Francis","Adrienne","Rosalie","Alexandra","Brooke","Bethany","Sadie","Bernadette","Traci","Jody","Kendra","Jasmine","Nichole","Rachael","Chelsea","Mable","Ernestine","Muriel","Marcella","Elena","Krystal","Angelina","Nadine","Kari","Estelle","Dianna","Paulette","Lora","Mona","Doreen","Rosemarie","Angel","Desiree","Antonia","Hope","Ginger","Janis","Betsy","Christie","Freda","Mercedes","Meredith","Lynette","Teri","Cristina","Eula","Leigh","Meghan","Sophia","Eloise","Rochelle","Gretchen","Cecelia","Raquel","Henrietta","Alyssa","Jana","Kelley","Gwen","Kerry","Jenna","Tricia","Laverne","Olive","Alexis","Tasha","Silvia","Elvira","Casey","Delia","Sophie","Kate","Patti","Lorena","Kellie","Sonja","Lila","Lana","Darla","May","Mindy","Essie","Mandy","Lorene","Elsa","Josefina","Jeannie","Miranda","Dixie","Lucia","Marta","Faith","Lela","Johanna","Shari","Camille","Tami","Shawna","Elisa","Ebony","Melba","Ora","Nettie","Tabitha","Ollie","Jaime","Winifred","Kristie"],female_middle_name:["Abigail","Adele","Alex","Alice","Alisha","Amber","Amelia","Amora","Anas","Angelou","Anika","Anise","Annabel","Anne","Aphrodite","Aretha","Arya","Ashton","Aster","Audrey","Avery","Bailee","Bay","Belle","Beth","Billie","Blair","Blaise","Blake","Blanche","Blue","Bree","Brielle","Brienne","Brooke","Caleen","Candice","Caprice","Carelyn","Caylen","Celine","Cerise","Cia","Claire","Claudia","Clementine","Coral","Coraline","Dahlia","Dakota","Dawn","Della","Demi","Denise","Denver","Devine","Devon","Diana","Dylan","Ebony","Eden","Eleanor","Elein","Elizabeth","Ellen","Elodie","Eloise","Ember","Emma","Erin","Eyre","Faith","Farrah","Fawn","Fayre","Fern","France","Francis","Frida","Genisis","Georgia","Grace","Gwen","Harley","Harper","Hazel","Helen","Hippolyta","Holly","Hope","Imani","Iowa","Ireland","Irene","Iris","Isa","Isla","Ivy","Jade","Jane","Jazz","Jean","Jess","Jett","Jo","Joan","Jolie","Jordan","Josie","Journey","Joy","Jules","Julien","Juliet","Juniper","Justice","Kali","Karma","Kat","Kate","Kennedy","Keva","Kylie","Lake","Lane","Lark","Layla","Lee","Leigh","Leona","Lexi","London","Lou","Louise","Love","Luna","Lux","Lynn","Lyric","Maddie","Mae","Marie","Matilda","Maude","Maybel","Meadow","Medusa","Mercy","Michelle","Mirabel","Monroe","Morgan","Nalia","Naomi","Nova","Olive","Paige","Parker","Pax","Pearl","Penelope","Phoenix","Quinn","Rae","Rain","Raven","Ray","Raye","Rebel","Reese","Reeve","Regan","Riley","River","Robin","Rory","Rose","Royal","Ruth","Rylie","Sage","Sam","Saturn","Scout","Serena","Sky","Skylar","Sofia","Sophia","Storm","Sue","Suzanne","Sydney","Taylen","Taylor","Teagan","Tempest","Tenley","Thea","Trinity","Valerie","Venus","Vera","Violet","Willow","Winter","Xena","Zaylee","Zion","Zoe"],first_name:["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aimee","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"],gender:["Asexual","Female to male trans man","Female to male transgender man","Female to male transsexual man","F2M","Gender neutral","Hermaphrodite","Intersex man","Intersex person","Intersex woman","Male to female trans woman","Male to female transgender woman","Male to female transsexual woman","Man","M2F","Polygender","T* man","T* woman","Two* person","Two-spirit person","Woman","Agender","Androgyne","Androgynes","Androgynous","Bigender","Cis","Cis Female","Cis Male","Cis Man","Cis Woman","Cisgender","Cisgender Female","Cisgender Male","Cisgender Man","Cisgender Woman","Female to Male","FTM","Gender Fluid","Gender Nonconforming","Gender Questioning","Gender Variant","Genderqueer","Intersex","Male to Female","MTF","Neither","Neutrois","Non-binary","Other","Pangender","Trans","Trans Female","Trans Male","Trans Man","Trans Person","Trans*Female","Trans*Male","Trans*Man","Trans*Person","Trans*Woman","Transexual","Transexual Female","Transexual Male","Transexual Man","Transexual Person","Transexual Woman","Transgender Female","Transgender Person","Transmasculine","Two-spirit"],last_name:["Abbott","Abernathy","Abshire","Adams","Altenwerth","Anderson","Ankunding","Armstrong","Auer","Aufderhar","Bahringer","Bailey","Balistreri","Barrows","Bartell","Bartoletti","Barton","Bashirian","Batz","Bauch","Baumbach","Bayer","Beahan","Beatty","Bechtelar","Becker","Bednar","Beer","Beier","Berge","Bergnaum","Bergstrom","Bernhard","Bernier","Bins","Blanda","Blick","Block","Bode","Boehm","Bogan","Bogisich","Borer","Bosco","Botsford","Boyer","Boyle","Bradtke","Brakus","Braun","Breitenberg","Brekke","Brown","Bruen","Buckridge","Carroll","Carter","Cartwright","Casper","Cassin","Champlin","Christiansen","Cole","Collier","Collins","Conn","Connelly","Conroy","Considine","Corkery","Cormier","Corwin","Cremin","Crist","Crona","Cronin","Crooks","Cruickshank","Cummerata","Cummings","Dach","D'Amore","Daniel","Dare","Daugherty","Davis","Deckow","Denesik","Dibbert","Dickens","Dicki","Dickinson","Dietrich","Donnelly","Dooley","Douglas","Doyle","DuBuque","Durgan","Ebert","Effertz","Emard","Emmerich","Erdman","Ernser","Fadel","Fahey","Farrell","Fay","Feeney","Feest","Feil","Ferry","Fisher","Flatley","Frami","Franecki","Franey","Friesen","Fritsch","Funk","Gaylord","Gerhold","Gerlach","Gibson","Gislason","Gleason","Gleichner","Glover","Goldner","Goodwin","Gorczany","Gottlieb","Goyette","Grady","Graham","Grant","Green","Greenfelder","Greenholt","Grimes","Gulgowski","Gusikowski","Gutkowski","Gutmann","Haag","Hackett","Hagenes","Hahn","Haley","Halvorson","Hamill","Hammes","Hand","Hane","Hansen","Harber","Harris","Hartmann","Harvey","Hauck","Hayes","Heaney","Heathcote","Hegmann","Heidenreich","Heller","Herman","Hermann","Hermiston","Herzog","Hessel","Hettinger","Hickle","Hilll","Hills","Hilpert","Hintz","Hirthe","Hodkiewicz","Hoeger","Homenick","Hoppe","Howe","Howell","Hudson","Huel","Huels","Hyatt","Jacobi","Jacobs","Jacobson","Jakubowski","Jaskolski","Jast","Jenkins","Jerde","Johns","Johnson","Johnston","Jones","Kassulke","Kautzer","Keebler","Keeling","Kemmer","Kerluke","Kertzmann","Kessler","Kiehn","Kihn","Kilback","King","Kirlin","Klein","Kling","Klocko","Koch","Koelpin","Koepp","Kohler","Konopelski","Koss","Kovacek","Kozey","Krajcik","Kreiger","Kris","Kshlerin","Kub","Kuhic","Kuhlman","Kuhn","Kulas","Kunde","Kunze","Kuphal","Kutch","Kuvalis","Labadie","Lakin","Lang","Langosh","Langworth","Larkin","Larson","Leannon","Lebsack","Ledner","Leffler","Legros","Lehner","Lemke","Lesch","Leuschke","Lind","Lindgren","Littel","Little","Lockman","Lowe","Lubowitz","Lueilwitz","Luettgen","Lynch","Macejkovic","MacGyver","Maggio","Mann","Mante","Marks","Marquardt","Marvin","Mayer","Mayert","McClure","McCullough","McDermott","McGlynn","McKenzie","McLaughlin","Medhurst","Mertz","Metz","Miller","Mills","Mitchell","Moen","Mohr","Monahan","Moore","Morar","Morissette","Mosciski","Mraz","Mueller","Muller","Murazik","Murphy","Murray","Nader","Nicolas","Nienow","Nikolaus","Nitzsche","Nolan","Oberbrunner","O'Connell","O'Conner","O'Hara","O'Keefe","O'Kon","Okuneva","Olson","Ondricka","O'Reilly","Orn","Ortiz","Osinski","Pacocha","Padberg","Pagac","Parisian","Parker","Paucek","Pfannerstill","Pfeffer","Pollich","Pouros","Powlowski","Predovic","Price","Prohaska","Prosacco","Purdy","Quigley","Quitzon","Rath","Ratke","Rau","Raynor","Reichel","Reichert","Reilly","Reinger","Rempel","Renner","Reynolds","Rice","Rippin","Ritchie","Robel","Roberts","Rodriguez","Rogahn","Rohan","Rolfson","Romaguera","Roob","Rosenbaum","Rowe","Ruecker","Runolfsdottir","Runolfsson","Runte","Russel","Rutherford","Ryan","Sanford","Satterfield","Sauer","Sawayn","Schaden","Schaefer","Schamberger","Schiller","Schimmel","Schinner","Schmeler","Schmidt","Schmitt","Schneider","Schoen","Schowalter","Schroeder","Schulist","Schultz","Schumm","Schuppe","Schuster","Senger","Shanahan","Shields","Simonis","Sipes","Skiles","Smith","Smitham","Spencer","Spinka","Sporer","Stamm","Stanton","Stark","Stehr","Steuber","Stiedemann","Stokes","Stoltenberg","Stracke","Streich","Stroman","Strosin","Swaniawski","Swift","Terry","Thiel","Thompson","Tillman","Torp","Torphy","Towne","Toy","Trantow","Tremblay","Treutel","Tromp","Turcotte","Turner","Ullrich","Upton","Vandervort","Veum","Volkman","Von","VonRueden","Waelchi","Walker","Walsh","Walter","Ward","Waters","Watsica","Weber","Wehner","Weimann","Weissnat","Welch","West","White","Wiegand","Wilderman","Wilkinson","Will","Williamson","Willms","Windler","Wintheiser","Wisoky","Wisozk","Witting","Wiza","Wolf","Wolff","Wuckert","Wunsch","Wyman","Yost","Yundt","Zboncak","Zemlak","Ziemann","Zieme","Zulauf"],male_first_name:["James","John","Robert","Michael","William","David","Richard","Charles","Joseph","Thomas","Christopher","Daniel","Paul","Mark","Donald","George","Kenneth","Steven","Edward","Brian","Ronald","Anthony","Kevin","Jason","Matthew","Gary","Timothy","Jose","Larry","Jeffrey","Frank","Scott","Eric","Stephen","Andrew","Raymond","Gregory","Joshua","Jerry","Dennis","Walter","Patrick","Peter","Harold","Douglas","Henry","Carl","Arthur","Ryan","Roger","Joe","Juan","Jack","Albert","Jonathan","Justin","Terry","Gerald","Keith","Samuel","Willie","Ralph","Lawrence","Nicholas","Roy","Benjamin","Bruce","Brandon","Adam","Harry","Fred","Wayne","Billy","Steve","Louis","Jeremy","Aaron","Randy","Howard","Eugene","Carlos","Russell","Bobby","Victor","Martin","Ernest","Phillip","Todd","Jesse","Craig","Alan","Shawn","Clarence","Sean","Philip","Chris","Johnny","Earl","Jimmy","Antonio","Danny","Bryan","Tony","Luis","Mike","Stanley","Leonard","Nathan","Dale","Manuel","Rodney","Curtis","Norman","Allen","Marvin","Vincent","Glenn","Jeffery","Travis","Jeff","Chad","Jacob","Lee","Melvin","Alfred","Kyle","Francis","Bradley","Jesus","Herbert","Frederick","Ray","Joel","Edwin","Don","Eddie","Ricky","Troy","Randall","Barry","Alexander","Bernard","Mario","Leroy","Francisco","Marcus","Micheal","Theodore","Clifford","Miguel","Oscar","Jay","Jim","Tom","Calvin","Alex","Jon","Ronnie","Bill","Lloyd","Tommy","Leon","Derek","Warren","Darrell","Jerome","Floyd","Leo","Alvin","Tim","Wesley","Gordon","Dean","Greg","Jorge","Dustin","Pedro","Derrick","Dan","Lewis","Zachary","Corey","Herman","Maurice","Vernon","Roberto","Clyde","Glen","Hector","Shane","Ricardo","Sam","Rick","Lester","Brent","Ramon","Charlie","Tyler","Gilbert","Gene","Marc","Reginald","Ruben","Brett","Angel","Nathaniel","Rafael","Leslie","Edgar","Milton","Raul","Ben","Chester","Cecil","Duane","Franklin","Andre","Elmer","Brad","Gabriel","Ron","Mitchell","Roland","Arnold","Harvey","Jared","Adrian","Karl","Cory","Claude","Erik","Darryl","Jamie","Neil","Jessie","Christian","Javier","Fernando","Clinton","Ted","Mathew","Tyrone","Darren","Lonnie","Lance","Cody","Julio","Kelly","Kurt","Allan","Nelson","Guy","Clayton","Hugh","Max","Dwayne","Dwight","Armando","Felix","Jimmie","Everett","Jordan","Ian","Wallace","Ken","Bob","Jaime","Casey","Alfredo","Alberto","Dave","Ivan","Johnnie","Sidney","Byron","Julian","Isaac","Morris","Clifton","Willard","Daryl","Ross","Virgil","Andy","Marshall","Salvador","Perry","Kirk","Sergio","Marion","Tracy","Seth","Kent","Terrance","Rene","Eduardo","Terrence","Enrique","Freddie","Wade","Austin","Stuart","Fredrick","Arturo","Alejandro","Jackie","Joey","Nick","Luther","Wendell","Jeremiah","Evan","Julius","Dana","Donnie","Otis","Shannon","Trevor","Oliver","Luke","Homer","Gerard","Doug","Kenny","Hubert","Angelo","Shaun","Lyle","Matt","Lynn","Alfonso","Orlando","Rex","Carlton","Ernesto","Cameron","Neal","Pablo","Lorenzo","Omar","Wilbur","Blake","Grant","Horace","Roderick","Kerry","Abraham","Willis","Rickey","Jean","Ira","Andres","Cesar","Johnathan","Malcolm","Rudolph","Damon","Kelvin","Rudy","Preston","Alton","Archie","Marco","Wm","Pete","Randolph","Garry","Geoffrey","Jonathon","Felipe","Bennie","Gerardo","Ed","Dominic","Robin","Loren","Delbert","Colin","Guillermo","Earnest","Lucas","Benny","Noel","Spencer","Rodolfo","Myron","Edmund","Garrett","Salvatore","Cedric","Lowell","Gregg","Sherman","Wilson","Devin","Sylvester","Kim","Roosevelt","Israel","Jermaine","Forrest","Wilbert","Leland","Simon","Guadalupe","Clark","Irving","Carroll","Bryant","Owen","Rufus","Woodrow","Sammy","Kristopher","Mack","Levi","Marcos","Gustavo","Jake","Lionel","Marty","Taylor","Ellis","Dallas","Gilberto","Clint","Nicolas","Laurence","Ismael","Orville","Drew","Jody","Ervin","Dewey","Al","Wilfred","Josh","Hugo","Ignacio","Caleb","Tomas","Sheldon","Erick","Frankie","Stewart","Doyle","Darrel","Rogelio","Terence","Santiago","Alonzo","Elias","Bert","Elbert","Ramiro","Conrad","Pat","Noah","Grady","Phil","Cornelius","Lamar","Rolando","Clay","Percy","Dexter","Bradford","Merle","Darin","Amos","Terrell","Moses","Irvin","Saul","Roman","Darnell","Randal","Tommie","Timmy","Darrin","Winston","Brendan","Toby","Van","Abel","Dominick","Boyd","Courtney","Jan","Emilio","Elijah","Cary","Domingo","Santos","Aubrey","Emmett","Marlon","Emanuel","Jerald","Edmond"],male_middle_name:["Ace","Aiden","Alexander","Ander","Anthony","Asher","August","Aziel","Bear","Beckham","Benjamin","Buddy","Calvin","Carter","Charles","Christopher","Clyde","Cooper","Daniel","David","Dior","Dylan","Elijah","Ellis","Emerson","Ethan","Ezra","Fletcher","Flynn","Gabriel","Grayson","Gus","Hank","Harrison","Hendrix","Henry","Houston","Hudson","Hugh","Isaac","Jack","Jackson","Jacob","Jakobe","James","Jaxon","Jaxtyn","Jayden","John","Joseph","Josiah","Jude","Julian","Karsyn","Kenji","Kobe","Kylo","Lennon","Leo","Levi","Liam","Lincoln","Logan","Louis","Lucas","Lucky","Luke","Mason","Mateo","Matthew","Maverick","Michael","Monroe","Nixon","Ocean","Oliver","Otis","Otto","Owen","Ozzy","Parker","Rocky","Samuel","Sebastian","Sonny","Teddy","Theo","Theodore","Thomas","Truett","Walter","Warren","Watson","William","Wison","Wyatt","Ziggy","Zyair"],middle_name:["Addison","Alex","Anderson","Angel","Arden","August","Austin","Avery","Bailey","Billie","Blake","Bowie","Brooklyn","Cameron","Charlie","Corey","Dakota","Drew","Elliott","Ellis","Emerson","Finley","Gray","Greer","Harper","Hayden","Jaden","James","Jamie","Jordan","Jules","Kai","Kendall","Kennedy","Kyle","Leslie","Logan","London","Marlowe","Micah","Nico","Noah","North","Parker","Phoenix","Quinn","Reagan","Reese","Reign","Riley","River","Robin","Rory","Rowan","Ryan","Sage","Sasha","Sawyer","Shawn","Shiloh","Skyler","Taylor"],name:["{{name.prefix}} {{name.first_name}} {{name.last_name}}","{{name.first_name}} {{name.last_name}} {{name.suffix}}","{{name.first_name}} {{name.last_name}}","{{name.first_name}} {{name.last_name}}","{{name.male_first_name}} {{name.last_name}}","{{name.female_first_name}} {{name.last_name}}"],prefix:["Mr.","Mrs.","Ms.","Miss","Dr."],suffix:["Jr.","Sr.","I","II","III","IV","V","MD","DDS","PhD","DVM"],title:{descriptor:["Lead","Senior","Direct","Corporate","Dynamic","Future","Product","National","Regional","District","Central","Global","Customer","Investor","Dynamic","International","Legacy","Forward","Internal","Human","Chief","Principal"],level:["Solutions","Program","Brand","Security","Research","Marketing","Directives","Implementation","Integration","Functionality","Response","Paradigm","Tactics","Identity","Markets","Group","Division","Applications","Optimization","Operations","Infrastructure","Intranet","Communications","Web","Branding","Quality","Assurance","Mobility","Accounts","Data","Creative","Configuration","Accountability","Interactions","Factors","Usability","Metrics"],job:["Supervisor","Associate","Executive","Liaison","Officer","Manager","Engineer","Specialist","Director","Coordinator","Administrator","Architect","Analyst","Designer","Planner","Orchestrator","Technician","Developer","Producer","Consultant","Assistant","Facilitator","Agent","Representative","Strategist"]}},phone_number:{formats:["!##-!##-####","(!##) !##-####","1-!##-!##-####","!##.!##.####","!##-!##-####","(!##) !##-####","1-!##-!##-####","!##.!##.####","!##-!##-#### x###","(!##) !##-#### x###","1-!##-!##-#### x###","!##.!##.#### x###","!##-!##-#### x####","(!##) !##-#### x####","1-!##-!##-#### x####","!##.!##.#### x####","!##-!##-#### x#####","(!##) !##-#### x#####","1-!##-!##-#### x#####","!##.!##.#### x#####"]},science:{chemicalElement:Object.freeze([{symbol:"H",name:"Hydrogen",atomicNumber:1},{symbol:"He",name:"Helium",atomicNumber:2},{symbol:"Li",name:"Lithium",atomicNumber:3},{symbol:"Be",name:"Beryllium",atomicNumber:4},{symbol:"B",name:"Boron",atomicNumber:5},{symbol:"C",name:"Carbon",atomicNumber:6},{symbol:"N",name:"Nitrogen",atomicNumber:7},{symbol:"O",name:"Oxygen",atomicNumber:8},{symbol:"F",name:"Fluorine",atomicNumber:9},{symbol:"Ne",name:"Neon",atomicNumber:10},{symbol:"Na",name:"Sodium",atomicNumber:11},{symbol:"Mg",name:"Magnesium",atomicNumber:12},{symbol:"Al",name:"Aluminium",atomicNumber:13},{symbol:"Si",name:"Silicon",atomicNumber:14},{symbol:"P",name:"Phosphorus",atomicNumber:15},{symbol:"S",name:"Sulfur",atomicNumber:16},{symbol:"Cl",name:"Chlorine",atomicNumber:17},{symbol:"Ar",name:"Argon",atomicNumber:18},{symbol:"K",name:"Potassium",atomicNumber:19},{symbol:"Ca",name:"Calcium",atomicNumber:20},{symbol:"Sc",name:"Scandium",atomicNumber:21},{symbol:"Ti",name:"Titanium",atomicNumber:22},{symbol:"V",name:"Vanadium",atomicNumber:23},{symbol:"Cr",name:"Chromium",atomicNumber:24},{symbol:"Mn",name:"Manganese",atomicNumber:25},{symbol:"Fe",name:"Iron",atomicNumber:26},{symbol:"Co",name:"Cobalt",atomicNumber:27},{symbol:"Ni",name:"Nickel",atomicNumber:28},{symbol:"Cu",name:"Copper",atomicNumber:29},{symbol:"Zn",name:"Zinc",atomicNumber:30},{symbol:"Ga",name:"Gallium",atomicNumber:31},{symbol:"Ge",name:"Germanium",atomicNumber:32},{symbol:"As",name:"Arsenic",atomicNumber:33},{symbol:"Se",name:"Selenium",atomicNumber:34},{symbol:"Br",name:"Bromine",atomicNumber:35},{symbol:"Kr",name:"Krypton",atomicNumber:36},{symbol:"Rb",name:"Rubidium",atomicNumber:37},{symbol:"Sr",name:"Strontium",atomicNumber:38},{symbol:"Y",name:"Yttrium",atomicNumber:39},{symbol:"Zr",name:"Zirconium",atomicNumber:40},{symbol:"Nb",name:"Niobium",atomicNumber:41},{symbol:"Mo",name:"Molybdenum",atomicNumber:42},{symbol:"Tc",name:"Technetium",atomicNumber:43},{symbol:"Ru",name:"Ruthenium",atomicNumber:44},{symbol:"Rh",name:"Rhodium",atomicNumber:45},{symbol:"Pd",name:"Palladium",atomicNumber:46},{symbol:"Ag",name:"Silver",atomicNumber:47},{symbol:"Cd",name:"Cadmium",atomicNumber:48},{symbol:"In",name:"Indium",atomicNumber:49},{symbol:"Sn",name:"Tin",atomicNumber:50},{symbol:"Sb",name:"Antimony",atomicNumber:51},{symbol:"Te",name:"Tellurium",atomicNumber:52},{symbol:"I",name:"Iodine",atomicNumber:53},{symbol:"Xe",name:"Xenon",atomicNumber:54},{symbol:"Cs",name:"Caesium",atomicNumber:55},{symbol:"Ba",name:"Barium",atomicNumber:56},{symbol:"La",name:"Lanthanum",atomicNumber:57},{symbol:"Ce",name:"Cerium",atomicNumber:58},{symbol:"Pr",name:"Praseodymium",atomicNumber:59},{symbol:"Nd",name:"Neodymium",atomicNumber:60},{symbol:"Pm",name:"Promethium",atomicNumber:61},{symbol:"Sm",name:"Samarium",atomicNumber:62},{symbol:"Eu",name:"Europium",atomicNumber:63},{symbol:"Gd",name:"Gadolinium",atomicNumber:64},{symbol:"Tb",name:"Terbium",atomicNumber:65},{symbol:"Dy",name:"Dysprosium",atomicNumber:66},{symbol:"Ho",name:"Holmium",atomicNumber:67},{symbol:"Er",name:"Erbium",atomicNumber:68},{symbol:"Tm",name:"Thulium",atomicNumber:69},{symbol:"Yb",name:"Ytterbium",atomicNumber:70},{symbol:"Lu",name:"Lutetium",atomicNumber:71},{symbol:"Hf",name:"Hafnium",atomicNumber:72},{symbol:"Ta",name:"Tantalum",atomicNumber:73},{symbol:"W",name:"Tungsten",atomicNumber:74},{symbol:"Re",name:"Rhenium",atomicNumber:75},{symbol:"Os",name:"Osmium",atomicNumber:76},{symbol:"Ir",name:"Iridium",atomicNumber:77},{symbol:"Pt",name:"Platinum",atomicNumber:78},{symbol:"Au",name:"Gold",atomicNumber:79},{symbol:"Hg",name:"Mercury",atomicNumber:80},{symbol:"Tl",name:"Thallium",atomicNumber:81},{symbol:"Pb",name:"Lead",atomicNumber:82},{symbol:"Bi",name:"Bismuth",atomicNumber:83},{symbol:"Po",name:"Polonium",atomicNumber:84},{symbol:"At",name:"Astatine",atomicNumber:85},{symbol:"Rn",name:"Radon",atomicNumber:86},{symbol:"Fr",name:"Francium",atomicNumber:87},{symbol:"Ra",name:"Radium",atomicNumber:88},{symbol:"Ac",name:"Actinium",atomicNumber:89},{symbol:"Th",name:"Thorium",atomicNumber:90},{symbol:"Pa",name:"Protactinium",atomicNumber:91},{symbol:"U",name:"Uranium",atomicNumber:92},{symbol:"Np",name:"Neptunium",atomicNumber:93},{symbol:"Pu",name:"Plutonium",atomicNumber:94},{symbol:"Am",name:"Americium",atomicNumber:95},{symbol:"Cm",name:"Curium",atomicNumber:96},{symbol:"Bk",name:"Berkelium",atomicNumber:97},{symbol:"Cf",name:"Californium",atomicNumber:98},{symbol:"Es",name:"Einsteinium",atomicNumber:99},{symbol:"Fm",name:"Fermium",atomicNumber:100},{symbol:"Md",name:"Mendelevium",atomicNumber:101},{symbol:"No",name:"Nobelium",atomicNumber:102},{symbol:"Lr",name:"Lawrencium",atomicNumber:103},{symbol:"Rf",name:"Rutherfordium",atomicNumber:104},{symbol:"Db",name:"Dubnium",atomicNumber:105},{symbol:"Sg",name:"Seaborgium",atomicNumber:106},{symbol:"Bh",name:"Bohrium",atomicNumber:107},{symbol:"Hs",name:"Hassium",atomicNumber:108},{symbol:"Mt",name:"Meitnerium",atomicNumber:109},{symbol:"Ds",name:"Darmstadtium",atomicNumber:110},{symbol:"Rg",name:"Roentgenium",atomicNumber:111},{symbol:"Cn",name:"Copernicium",atomicNumber:112},{symbol:"Nh",name:"Nihonium",atomicNumber:113},{symbol:"Fl",name:"Flerovium",atomicNumber:114},{symbol:"Mc",name:"Moscovium",atomicNumber:115},{symbol:"Lv",name:"Livermorium",atomicNumber:116},{symbol:"Ts",name:"Tennessine",atomicNumber:117},{symbol:"Og",name:"Oganesson",atomicNumber:118}]),unit:Object.freeze([{name:"meter",symbol:"m"},{name:"second",symbol:"s"},{name:"mole",symbol:"mol"},{name:"ampere",symbol:"A"},{name:"kelvin",symbol:"K"},{name:"candela",symbol:"cd"},{name:"kilogram",symbol:"kg"},{name:"radian",symbol:"rad"},{name:"hertz",symbol:"Hz"},{name:"newton",symbol:"N"},{name:"pascal",symbol:"Pa"},{name:"joule",symbol:"J"},{name:"watt",symbol:"W"},{name:"coulomb",symbol:"C"},{name:"volt",symbol:"V"},{name:"ohm",symbol:""},{name:"tesla",symbol:"T"},{name:"degree Celsius",symbol:"C"},{name:"lumen",symbol:"lm"},{name:"becquerel",symbol:"Bq"},{name:"gray",symbol:"Gy"},{name:"sievert",symbol:"Sv"}])},system:{directoryPaths:["/Applications","/bin","/boot","/boot/defaults","/dev","/etc","/etc/defaults","/etc/mail","/etc/namedb","/etc/periodic","/etc/ppp","/home","/home/user","/home/user/dir","/lib","/Library","/lost+found","/media","/mnt","/net","/Network","/opt","/opt/bin","/opt/include","/opt/lib","/opt/sbin","/opt/share","/private","/private/tmp","/private/var","/proc","/rescue","/root","/sbin","/selinux","/srv","/sys","/System","/tmp","/Users","/usr","/usr/X11R6","/usr/bin","/usr/include","/usr/lib","/usr/libdata","/usr/libexec","/usr/local/bin","/usr/local/src","/usr/obj","/usr/ports","/usr/sbin","/usr/share","/usr/src","/var","/var/log","/var/mail","/var/spool","/var/tmp","/var/yp"],mimeTypes:{"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}},team:{creature:["ants","bats","bears","bees","birds","buffalo","cats","chickens","cattle","dogs","dolphins","ducks","elephants","fishes","foxes","frogs","geese","goats","horses","kangaroos","lions","monkeys","owls","oxen","penguins","people","pigs","rabbits","sheep","tigers","whales","wolves","zebras","banshees","crows","black cats","chimeras","ghosts","conspirators","dragons","dwarves","elves","enchanters","exorcists","sons","foes","giants","gnomes","goblins","gooses","griffins","lycanthropes","nemesis","ogres","oracles","prophets","sorcerors","spiders","spirits","vampires","warlocks","vixens","werewolves","witches","worshipers","zombies","druids"],name:["{{address.state}} {{team.creature}}"]},vehicle:{bicycle_type:["Adventure Road Bicycle","BMX Bicycle","City Bicycle","Cruiser Bicycle","Cyclocross Bicycle","Dual-Sport Bicycle","Fitness Bicycle","Flat-Foot Comfort Bicycle","Folding Bicycle","Hybrid Bicycle","Mountain Bicycle","Recumbent Bicycle","Road Bicycle","Tandem Bicycle","Touring Bicycle","Track/Fixed-Gear Bicycle","Triathlon/Time Trial Bicycle","Tricycle"],fuel:["Diesel","Electric","Gasoline","Hybrid"],manufacturer:["Aston Martin","Audi","Bentley","BMW","Bugatti","Cadillac","Chevrolet","Chrysler","Dodge","Ferrari","Fiat","Ford","Honda","Hyundai","Jaguar","Jeep","Kia","Lamborghini","Land Rover","Maserati","Mazda","Mercedes Benz","Mini","Nissan","Polestar","Porsche","Rolls Royce","Smart","Tesla","Toyota","Volkswagen","Volvo"],model:["Fiesta","Focus","Taurus","Mustang","Explorer","Expedition","F-150","Model T","Ranchero","Volt","Cruze","Malibu","Impala","Camaro","Corvette","Colorado","Silverado","El Camino","CTS","XTS","ATS","Escalade","Alpine","Charger","LeBaron","PT Cruiser","Challenger","Durango","Grand Caravan","Wrangler","Grand Cherokee","Roadster","Model S","Model 3","Camry","Prius","Land Cruiser","Accord","Civic","Element","Sentra","Altima","A8","A4","Beetle","Jetta","Golf","911","Spyder","Countach","Mercielago","Aventador","1","2","Fortwo","V90","XC90","CX-9"],type:["Cargo Van","Convertible","Coupe","Crew Cab Pickup","Extended Cab Pickup","Hatchback","Minivan","Passenger Van","SUV","Sedan","Wagon"]},word:{adjective:["abandoned","able","absolute","adorable","adventurous","academic","acceptable","acclaimed","accomplished","accurate","aching","acidic","acrobatic","active","actual","adept","admirable","admired","adolescent","adorable","adored","advanced","afraid","affectionate","aged","aggravating","aggressive","agile","agitated","agonizing","agreeable","ajar","alarmed","alarming","alert","alienated","alive","all","altruistic","amazing","ambitious","ample","amused","amusing","anchored","ancient","angelic","angry","anguished","animated","annual","another","antique","anxious","any","apprehensive","appropriate","apt","arctic","arid","aromatic","artistic","ashamed","assured","astonishing","athletic","attached","attentive","attractive","austere","authentic","authorized","automatic","avaricious","average","aware","awesome","awful","awkward","babyish","bad","back","baggy","bare","barren","basic","beautiful","belated","beloved","beneficial","better","best","bewitched","big","big-hearted","biodegradable","bite-sized","bitter","black","black-and-white","bland","blank","blaring","bleak","blind","blissful","blond","blue","blushing","bogus","boiling","bold","bony","boring","bossy","both","bouncy","bountiful","bowed","brave","breakable","brief","bright","brilliant","brisk","broken","bronze","brown","bruised","bubbly","bulky","bumpy","buoyant","burdensome","burly","bustling","busy","buttery","buzzing","calculating","calm","candid","canine","capital","carefree","careful","careless","caring","cautious","cavernous","celebrated","charming","cheap","cheerful","cheery","chief","chilly","chubby","circular","classic","clean","clear","clear-cut","clever","close","closed","cloudy","clueless","clumsy","cluttered","coarse","cold","colorful","colorless","colossal","comfortable","common","compassionate","competent","complete","complex","complicated","composed","concerned","concrete","confused","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","coordinated","corny","corrupt","costly","courageous","courteous","crafty","crazy","creamy","creative","creepy","criminal","crisp","critical","crooked","crowded","cruel","crushing","cuddly","cultivated","cultured","cumbersome","curly","curvy","cute","cylindrical","damaged","damp","dangerous","dapper","daring","darling","dark","dazzling","dead","deadly","deafening","dear","dearest","decent","decimal","decisive","deep","defenseless","defensive","defiant","deficient","definite","definitive","delayed","delectable","delicious","delightful","delirious","demanding","dense","dental","dependable","dependent","descriptive","deserted","detailed","determined","devoted","different","difficult","digital","diligent","dim","dimpled","dimwitted","direct","disastrous","discrete","disfigured","disgusting","disloyal","dismal","distant","downright","dreary","dirty","disguised","dishonest","dismal","distant","distinct","distorted","dizzy","dopey","doting","double","downright","drab","drafty","dramatic","dreary","droopy","dry","dual","dull","dutiful","each","eager","earnest","early","easy","easy-going","ecstatic","edible","educated","elaborate","elastic","elated","elderly","electric","elegant","elementary","elliptical","embarrassed","embellished","eminent","emotional","empty","enchanted","enchanting","energetic","enlightened","enormous","enraged","entire","envious","equal","equatorial","essential","esteemed","ethical","euphoric","even","evergreen","everlasting","every","evil","exalted","excellent","exemplary","exhausted","excitable","excited","exciting","exotic","expensive","experienced","expert","extraneous","extroverted","extra-large","extra-small","fabulous","failing","faint","fair","faithful","fake","false","familiar","famous","fancy","fantastic","far","faraway","far-flung","far-off","fast","fat","fatal","fatherly","favorable","favorite","fearful","fearless","feisty","feline","female","feminine","few","fickle","filthy","fine","finished","firm","first","firsthand","fitting","fixed","flaky","flamboyant","flashy","flat","flawed","flawless","flickering","flimsy","flippant","flowery","fluffy","fluid","flustered","focused","fond","foolhardy","foolish","forceful","forked","formal","forsaken","forthright","fortunate","fragrant","frail","frank","frayed","free","french","fresh","frequent","friendly","frightened","frightening","frigid","frilly","frizzy","frivolous","front","frosty","frozen","frugal","fruitful","full","fumbling","functional","funny","fussy","fuzzy","gargantuan","gaseous","general","generous","gentle","genuine","giant","giddy","gigantic","gifted","giving","glamorous","glaring","glass","gleaming","gleeful","glistening","glittering","gloomy","glorious","glossy","glum","golden","good","good-natured","gorgeous","graceful","gracious","grand","grandiose","granular","grateful","grave","gray","great","greedy","green","gregarious","grim","grimy","gripping","grizzled","gross","grotesque","grouchy","grounded","growing","growling","grown","grubby","gruesome","grumpy","guilty","gullible","gummy","hairy","half","handmade","handsome","handy","happy","happy-go-lucky","hard","hard-to-find","harmful","harmless","harmonious","harsh","hasty","hateful","haunting","healthy","heartfelt","hearty","heavenly","heavy","hefty","helpful","helpless","hidden","hideous","high","high-level","hilarious","hoarse","hollow","homely","honest","honorable","honored","hopeful","horrible","hospitable","hot","huge","humble","humiliating","humming","humongous","hungry","hurtful","husky","icky","icy","ideal","idealistic","identical","idle","idiotic","idolized","ignorant","ill","illegal","ill-fated","ill-informed","illiterate","illustrious","imaginary","imaginative","immaculate","immaterial","immediate","immense","impassioned","impeccable","impartial","imperfect","imperturbable","impish","impolite","important","impossible","impractical","impressionable","impressive","improbable","impure","inborn","incomparable","incompatible","incomplete","inconsequential","incredible","indelible","inexperienced","indolent","infamous","infantile","infatuated","inferior","infinite","informal","innocent","insecure","insidious","insignificant","insistent","instructive","insubstantial","intelligent","intent","intentional","interesting","internal","international","intrepid","ironclad","irresponsible","irritating","itchy","jaded","jagged","jam-packed","jaunty","jealous","jittery","joint","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbo","junior","jumpy","juvenile","kaleidoscopic","keen","key","kind","kindhearted","kindly","klutzy","knobby","knotty","knowledgeable","knowing","known","kooky","kosher","lame","lanky","large","last","lasting","late","lavish","lawful","lazy","leading","lean","leafy","left","legal","legitimate","light","lighthearted","likable","likely","limited","limp","limping","linear","lined","liquid","little","live","lively","livid","loathsome","lone","lonely","long","long-term","loose","lopsided","lost","loud","lovable","lovely","loving","low","loyal","lucky","lumbering","luminous","lumpy","lustrous","luxurious","mad","made-up","magnificent","majestic","major","male","mammoth","married","marvelous","masculine","massive","mature","meager","mealy","mean","measly","meaty","medical","mediocre","medium","meek","mellow","melodic","memorable","menacing","merry","messy","metallic","mild","milky","mindless","miniature","minor","minty","miserable","miserly","misguided","misty","mixed","modern","modest","moist","monstrous","monthly","monumental","moral","mortified","motherly","motionless","mountainous","muddy","muffled","multicolored","mundane","murky","mushy","musty","muted","mysterious","naive","narrow","nasty","natural","naughty","nautical","near","neat","necessary","needy","negative","neglected","negligible","neighboring","nervous","new","next","nice","nifty","nimble","nippy","nocturnal","noisy","nonstop","normal","notable","noted","noteworthy","novel","noxious","numb","nutritious","nutty","obedient","obese","oblong","oily","oblong","obvious","occasional","odd","oddball","offbeat","offensive","official","old","old-fashioned","only","open","optimal","optimistic","opulent","orange","orderly","organic","ornate","ornery","ordinary","original","other","our","outlying","outgoing","outlandish","outrageous","outstanding","oval","overcooked","overdue","overjoyed","overlooked","palatable","pale","paltry","parallel","parched","partial","passionate","past","pastel","peaceful","peppery","perfect","perfumed","periodic","perky","personal","pertinent","pesky","pessimistic","petty","phony","physical","piercing","pink","pitiful","plain","plaintive","plastic","playful","pleasant","pleased","pleasing","plump","plush","polished","polite","political","pointed","pointless","poised","poor","popular","portly","posh","positive","possible","potable","powerful","powerless","practical","precious","present","prestigious","pretty","precious","previous","pricey","prickly","primary","prime","pristine","private","prize","probable","productive","profitable","profuse","proper","proud","prudent","punctual","pungent","puny","pure","purple","pushy","putrid","puzzled","puzzling","quaint","qualified","quarrelsome","quarterly","queasy","querulous","questionable","quick","quick-witted","quiet","quintessential","quirky","quixotic","quizzical","radiant","ragged","rapid","rare","rash","raw","recent","reckless","rectangular","ready","real","realistic","reasonable","red","reflecting","regal","regular","reliable","relieved","remarkable","remorseful","remote","repentant","required","respectful","responsible","repulsive","revolving","rewarding","rich","rigid","right","ringed","ripe","roasted","robust","rosy","rotating","rotten","rough","round","rowdy","royal","rubbery","rundown","ruddy","rude","runny","rural","rusty","sad","safe","salty","same","sandy","sane","sarcastic","sardonic","satisfied","scaly","scarce","scared","scary","scented","scholarly","scientific","scornful","scratchy","scrawny","second","secondary","second-hand","secret","self-assured","self-reliant","selfish","sentimental","separate","serene","serious","serpentine","several","severe","shabby","shadowy","shady","shallow","shameful","shameless","sharp","shimmering","shiny","shocked","shocking","shoddy","short","short-term","showy","shrill","shy","sick","silent","silky","silly","silver","similar","simple","simplistic","sinful","single","sizzling","skeletal","skinny","sleepy","slight","slim","slimy","slippery","slow","slushy","small","smart","smoggy","smooth","smug","snappy","snarling","sneaky","sniveling","snoopy","sociable","soft","soggy","solid","somber","some","spherical","sophisticated","sore","sorrowful","soulful","soupy","sour","spanish","sparkling","sparse","specific","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spotted","spry","square","squeaky","squiggly","stable","staid","stained","stale","standard","starchy","stark","starry","steep","sticky","stiff","stimulating","stingy","stormy","straight","strange","steel","strict","strident","striking","striped","strong","studious","stunning","stupendous","stupid","sturdy","stylish","subdued","submissive","substantial","subtle","suburban","sudden","sugary","sunny","super","superb","superficial","superior","supportive","sure-footed","surprised","suspicious","svelte","sweaty","sweet","sweltering","swift","sympathetic","tall","talkative","tame","tan","tangible","tart","tasty","tattered","taut","tedious","teeming","tempting","tender","tense","tepid","terrible","terrific","testy","thankful","that","these","thick","thin","third","thirsty","this","thorough","thorny","those","thoughtful","threadbare","thrifty","thunderous","tidy","tight","timely","tinted","tiny","tired","torn","total","tough","traumatic","treasured","tremendous","tragic","trained","tremendous","triangular","tricky","trifling","trim","trivial","troubled","true","trusting","trustworthy","trusty","truthful","tubby","turbulent","twin","ugly","ultimate","unacceptable","unaware","uncomfortable","uncommon","unconscious","understated","unequaled","uneven","unfinished","unfit","unfolded","unfortunate","unhappy","unhealthy","uniform","unimportant","unique","united","unkempt","unknown","unlawful","unlined","unlucky","unnatural","unpleasant","unrealistic","unripe","unruly","unselfish","unsightly","unsteady","unsung","untidy","untimely","untried","untrue","unused","unusual","unwelcome","unwieldy","unwilling","unwitting","unwritten","upbeat","upright","upset","urban","usable","used","useful","useless","utilized","utter","vacant","vague","vain","valid","valuable","vapid","variable","vast","velvety","venerated","vengeful","verifiable","vibrant","vicious","victorious","vigilant","vigorous","villainous","violet","violent","virtual","virtuous","visible","vital","vivacious","vivid","voluminous","wan","warlike","warm","warmhearted","warped","wary","wasteful","watchful","waterlogged","watery","wavy","wealthy","weak","weary","webbed","wee","weekly","weepy","weighty","weird","welcome","well-documented","well-groomed","well-informed","well-lit","well-made","well-off","well-to-do","well-worn","wet","which","whimsical","whirlwind","whispered","white","whole","whopping","wicked","wide","wide-eyed","wiggly","wild","willing","wilted","winding","windy","winged","wiry","wise","witty","wobbly","woeful","wonderful","wooden","woozy","wordy","worldly","worn","worried","worrisome","worse","worst","worthless","worthwhile","worthy","wrathful","wretched","writhing","wrong","wry","yawning","yearly","yellow","yellowish","young","youthful","yummy","zany","zealous","zesty","zigzag"],adverb:["abnormally","absentmindedly","accidentally","acidly","actually","adventurously","afterwards","almost","always","angrily","annually","anxiously","arrogantly","awkwardly","badly","bashfully","beautifully","bitterly","bleakly","blindly","blissfully","boastfully","boldly","bravely","briefly","brightly","briskly","broadly","busily","calmly","carefully","carelessly","cautiously","certainly","cheerfully","clearly","cleverly","closely","coaxingly","colorfully","commonly","continually","coolly","correctly","courageously","crossly","cruelly","curiously","daily","daintily","dearly","deceivingly","deeply","defiantly","deliberately","delightfully","diligently","dimly","doubtfully","dreamily","easily","elegantly","energetically","enormously","enthusiastically","equally","especially","even","evenly","eventually","exactly","excitedly","extremely","fairly","faithfully","famously","far","fast","fatally","ferociously","fervently","fiercely","fondly","foolishly","fortunately","frankly","frantically","freely","frenetically","frightfully","fully","furiously","generally","generously","gently","gladly","gleefully","gracefully","gratefully","greatly","greedily","happily","hastily","healthily","heavily","helpfully","helplessly","highly","honestly","hopelessly","hourly","hungrily","immediately","innocently","inquisitively","instantly","intensely","intently","interestingly","inwardly","irritably","jaggedly","jealously","joshingly","jovially","joyfully","joyously","jubilantly","judgementally","justly","keenly","kiddingly","kindheartedly","kindly","kissingly","knavishly","knottily","knowingly","knowledgeably","kookily","lazily","less","lightly","likely","limply","lively","loftily","longingly","loosely","loudly","lovingly","loyally","madly","majestically","meaningfully","mechanically","merrily","miserably","mockingly","monthly","more","mortally","mostly","mysteriously","naturally","nearly","neatly","needily","nervously","never","nicely","noisily","not","obediently","obnoxiously","oddly","offensively","officially","often","only","openly","optimistically","overconfidently","owlishly","painfully","partially","patiently","perfectly","physically","playfully","politely","poorly","positively","potentially","powerfully","promptly","properly","punctually","quaintly","quarrelsomely","queasily","queerly","questionably","questioningly","quicker","quickly","quietly","quirkily","quizzically","rapidly","rarely","readily","really","reassuringly","recklessly","regularly","reluctantly","repeatedly","reproachfully","restfully","righteously","rightfully","rigidly","roughly","rudely","sadly","safely","scarcely","scarily","searchingly","sedately","seemingly","seldom","selfishly","separately","seriously","shakily","sharply","sheepishly","shrilly","shyly","silently","sleepily","slowly","smoothly","softly","solemnly","solidly","sometimes","soon","speedily","stealthily","sternly","strictly","successfully","suddenly","surprisingly","suspiciously","sweetly","swiftly","sympathetically","tenderly","tensely","terribly","thankfully","thoroughly","thoughtfully","tightly","tomorrow","too","tremendously","triumphantly","truly","truthfully","ultimately","unabashedly","unaccountably","unbearably","unethically","unexpectedly","unfortunately","unimpressively","unnaturally","unnecessarily","upbeat","upliftingly","upright","upside-down","upward","upwardly","urgently","usefully","uselessly","usually","utterly","vacantly","vaguely","vainly","valiantly","vastly","verbally","very","viciously","victoriously","violently","vivaciously","voluntarily","warmly","weakly","wearily","well","wetly","wholly","wildly","willfully","wisely","woefully","wonderfully","worriedly","wrongly","yawningly","yearly","yearningly","yesterday","yieldingly","youthfully"],conjunction:["after","after all","although","and","as","as a result","as if","as long as","as much as","as soon as","as though","because","before","but","consequently","even","even if","even though","finally","for","for example","furthermore","hence","however","if","if only","if then","if when","in addition","in fact","in order that","inasmuch","incidentally","indeed","instead","just as","lest","likewise","meanwhile","nor","now","now since","now that","now when","once","or","provided","provided that","rather than","since","so","so that","supposing","that","though","until","whenever","whereas","wherever","which","who","yet"],interjection:["yuck","oh","phooey","blah","boo","whoa","yowza","huzzah","boo hoo","fooey","geez","pfft","ew","ah","yum","brr","hm","yahoo","aha","woot","drat","gah","meh","psst","aw","ugh","yippee","eek","gee","bah","gadzooks","duh","ha","mmm","tsk tsk","ouch","phew","ack","uh-huh","gosh","hmph","pish","zowie","er","ick","oof","um"],noun:["ATM","CD","SUV","TV","aardvark","abacus","abbey","abbreviation","abdomen","ability","abnormality","abolishment","abortion","abrogation","absence","abundance","abuse","academics","academy","accelerant","accelerator","accent","acceptance","access","accessory","accident","accommodation","accompanist","accomplishment","accord","accordance","accordion","account","accountability","accountant","accounting","accuracy","accusation","acetate","achievement","achiever","acid","acknowledgment","acorn","acoustics","acquaintance","acquisition","acre","acrylic","act","action","activation","activist","activity","actor","actress","acupuncture","ad","adaptation","adapter","addiction","addition","address","adjective","adjustment","admin","administration","administrator","admire","admission","adobe","adoption","adrenalin","adrenaline","adult","adulthood","advance","advancement","advantage","advent","adverb","advertisement","advertising","advice","adviser","advocacy","advocate","affair","affect","affidavit","affiliate","affinity","afoul","afterlife","aftermath","afternoon","aftershave","aftershock","afterthought","age","agency","agenda","agent","aggradation","aggression","aglet","agony","agreement","agriculture","aid","aide","aim","air","airbag","airbus","aircraft","airfare","airfield","airforce","airline","airmail","airman","airplane","airport","airship","airspace","alarm","alb","albatross","album","alcohol","alcove","alder","ale","alert","alfalfa","algebra","algorithm","alias","alibi","alien","allegation","allergist","alley","alliance","alligator","allocation","allowance","alloy","alluvium","almanac","almighty","almond","alpaca","alpenglow","alpenhorn","alpha","alphabet","altar","alteration","alternative","altitude","alto","aluminium","aluminum","amazement","amazon","ambassador","amber","ambience","ambiguity","ambition","ambulance","amendment","amenity","ammunition","amnesty","amount","amusement","anagram","analgesia","analog","analogue","analogy","analysis","analyst","analytics","anarchist","anarchy","anatomy","ancestor","anchovy","android","anesthesiologist","anesthesiology","angel","anger","angina","angiosperm","angle","angora","angstrom","anguish","animal","anime","anise","ankle","anklet","anniversary","announcement","annual","anorak","answer","ant","anteater","antecedent","antechamber","antelope","antennae","anterior","anthropology","antibody","anticipation","anticodon","antigen","antique","antiquity","antler","antling","anxiety","anybody","anyone","anything","anywhere","apartment","ape","aperitif","apology","app","apparatus","apparel","appeal","appearance","appellation","appendix","appetiser","appetite","appetizer","applause","apple","applewood","appliance","application","appointment","appreciation","apprehension","approach","appropriation","approval","apricot","apron","apse","aquarium","aquifer","arcade","arch","arch-rival","archaeologist","archaeology","archeology","archer","architect","architecture","archives","area","arena","argument","arithmetic","ark","arm","arm-rest","armadillo","armament","armchair","armoire","armor","armour","armpit","armrest","army","arrangement","array","arrest","arrival","arrogance","arrow","art","artery","arthur","artichoke","article","artifact","artificer","artist","ascend","ascent","ascot","ash","ashram","ashtray","aside","asparagus","aspect","asphalt","aspic","ass","assassination","assault","assembly","assertion","assessment","asset","assignment","assist","assistance","assistant","associate","association","assumption","assurance","asterisk","astrakhan","astrolabe","astrologer","astrology","astronomy","asymmetry","atelier","atheist","athlete","athletics","atmosphere","atom","atrium","attachment","attack","attacker","attainment","attempt","attendance","attendant","attention","attenuation","attic","attitude","attorney","attraction","attribute","auction","audience","audit","auditorium","aunt","authentication","authenticity","author","authorisation","authority","authorization","auto","autoimmunity","automation","automaton","autumn","availability","avalanche","avenue","average","avocado","award","awareness","awe","axis","azimuth","babe","baboon","babushka","baby","bachelor","back","back-up","backbone","backburn","backdrop","background","backpack","backup","backyard","bacon","bacterium","badge","badger","bafflement","bag","bagel","baggage","baggie","baggy","bagpipe","bail","bait","bake","baker","bakery","bakeware","balaclava","balalaika","balance","balcony","ball","ballet","balloon","balloonist","ballot","ballpark","bamboo","ban","banana","band","bandana","bandanna","bandolier","bandwidth","bangle","banjo","bank","bankbook","banker","banking","bankruptcy","banner","banquette","banyan","baobab","bar","barbecue","barbeque","barber","barbiturate","bargain","barge","baritone","barium","bark","barley","barn","barometer","barracks","barrage","barrel","barrier","barstool","bartender","base","baseball","baseboard","baseline","basement","basics","basil","basin","basis","basket","basketball","bass","bassinet","bassoon","bat","bath","bather","bathhouse","bathrobe","bathroom","bathtub","battalion","batter","battery","batting","battle","battleship","bay","bayou","beach","bead","beak","beam","bean","beancurd","beanie","beanstalk","bear","beard","beast","beastie","beat","beating","beauty","beaver","beck","bed","bedrock","bedroom","bee","beech","beef","beer","beet","beetle","beggar","beginner","beginning","begonia","behalf","behavior","behaviour","beheading","behest","behold","being","belfry","belief","believer","bell","belligerency","bellows","belly","belt","bench","bend","beneficiary","benefit","beret","berry","best-seller","bestseller","bet","beverage","beyond","bias","bibliography","bicycle","bid","bidder","bidding","bidet","bifocals","bijou","bike","bikini","bill","billboard","billing","billion","bin","binoculars","biology","biopsy","biosphere","biplane","birch","bird","bird-watcher","birdbath","birdcage","birdhouse","birth","birthday","biscuit","bit","bite","bitten","bitter","black","blackberry","blackbird","blackboard","blackfish","blackness","bladder","blade","blame","blank","blanket","blast","blazer","blend","blessing","blight","blind","blinker","blister","blizzard","block","blocker","blog","blogger","blood","bloodflow","bloom","bloomer","blossom","blouse","blow","blowgun","blowhole","blue","blueberry","blush","boar","board","boat","boatload","boatyard","bob","bobcat","body","bog","bolero","bolt","bomb","bomber","bombing","bond","bonding","bondsman","bone","bonfire","bongo","bonnet","bonsai","bonus","boogeyman","book","bookcase","bookend","booking","booklet","bookmark","boolean","boom","boon","boost","booster","boot","bootee","bootie","booty","border","bore","borrower","borrowing","bosom","boss","botany","bother","bottle","bottling","bottom","bottom-line","boudoir","bough","boulder","boulevard","boundary","bouquet","bourgeoisie","bout","boutique","bow","bower","bowl","bowler","bowling","bowtie","box","boxer","boxspring","boy","boycott","boyfriend","boyhood","boysenberry","bra","brace","bracelet","bracket","brain","brake","bran","branch","brand","brandy","brass","brassiere","bratwurst","bread","breadcrumb","breadfruit","break","breakdown","breakfast","breakpoint","breakthrough","breast","breastplate","breath","breeze","brewer","bribery","brick","bricklaying","bride","bridge","brief","briefing","briefly","briefs","brilliant","brink","brisket","broad","broadcast","broccoli","brochure","brocolli","broiler","broker","bronchitis","bronco","bronze","brooch","brood","brook","broom","brother","brother-in-law","brow","brown","brownie","browser","browsing","brunch","brush","brushfire","brushing","bubble","buck","bucket","buckle","buckwheat","bud","buddy","budget","buffalo","buffer","buffet","bug","buggy","bugle","builder","building","bulb","bulk","bull","bull-fighter","bulldozer","bullet","bump","bumper","bun","bunch","bungalow","bunghole","bunkhouse","burden","bureau","burglar","burial","burlesque","burn","burn-out","burning","burrito","burro","burrow","burst","bus","bush","business","businessman","bust","bustle","butane","butcher","butler","butter","butterfly","button","buy","buyer","buying","buzz","buzzard","c-clamp","cabana","cabbage","cabin","cabinet","cable","caboose","cacao","cactus","caddy","cadet","cafe","caffeine","caftan","cage","cake","calcification","calculation","calculator","calculus","calendar","calf","caliber","calibre","calico","call","calm","calorie","camel","cameo","camera","camp","campaign","campaigning","campanile","camper","campus","can","canal","cancer","candelabra","candidacy","candidate","candle","candy","cane","cannibal","cannon","canoe","canon","canopy","cantaloupe","canteen","canvas","cap","capability","capacity","cape","caper","capital","capitalism","capitulation","capon","cappelletti","cappuccino","captain","caption","captor","car","carabao","caramel","caravan","carbohydrate","carbon","carboxyl","card","cardboard","cardigan","care","career","cargo","caribou","carload","carnation","carnival","carol","carotene","carp","carpenter","carpet","carpeting","carport","carriage","carrier","carrot","carry","cart","cartel","carter","cartilage","cartload","cartoon","cartridge","carving","cascade","case","casement","cash","cashew","cashier","casino","casket","cassava","casserole","cassock","cast","castanet","castle","casualty","cat","catacomb","catalogue","catalysis","catalyst","catamaran","catastrophe","catch","catcher","category","caterpillar","cathedral","cation","catsup","cattle","cauliflower","causal","cause","causeway","caution","cave","caviar","cayenne","ceiling","celebration","celebrity","celeriac","celery","cell","cellar","cello","celsius","cement","cemetery","cenotaph","census","cent","center","centimeter","centre","centurion","century","cephalopod","ceramic","ceramics","cereal","ceremony","certainty","certificate","certification","cesspool","chafe","chain","chainstay","chair","chairlift","chairman","chairperson","chaise","chalet","chalice","chalk","challenge","chamber","champagne","champion","championship","chance","chandelier","change","channel","chaos","chap","chapel","chaplain","chapter","character","characteristic","characterization","chard","charge","charger","charity","charlatan","charm","charset","chart","charter","chasm","chassis","chastity","chasuble","chateau","chatter","chauffeur","chauvinist","check","checkbook","checking","checkout","checkroom","cheddar","cheek","cheer","cheese","cheesecake","cheetah","chef","chem","chemical","chemistry","chemotaxis","cheque","cherry","chess","chest","chestnut","chick","chicken","chicory","chief","chiffonier","child","childbirth","childhood","chili","chill","chime","chimpanzee","chin","chinchilla","chino","chip","chipmunk","chit-chat","chivalry","chive","chives","chocolate","choice","choir","choker","cholesterol","choosing","chop","chops","chopstick","chopsticks","chord","chorus","chow","chowder","chrome","chromolithograph","chronicle","chronograph","chronometer","chrysalis","chub","chuck","chug","church","churn","chutney","cicada","cigarette","cilantro","cinder","cinema","cinnamon","circadian","circle","circuit","circulation","circumference","circumstance","cirrhosis","cirrus","citizen","citizenship","citron","citrus","city","civilian","civilisation","civilization","claim","clam","clamp","clan","clank","clapboard","clarification","clarinet","clarity","clasp","class","classic","classification","classmate","classroom","clause","clave","clavicle","clavier","claw","clay","cleaner","clearance","clearing","cleat","cleavage","clef","cleft","clergyman","cleric","clerk","click","client","cliff","climate","climb","clinic","clip","clipboard","clipper","cloak","cloakroom","clock","clockwork","clogs","cloister","clone","close","closet","closing","closure","cloth","clothes","clothing","cloud","cloudburst","clove","clover","cloves","club","clue","cluster","clutch","co-producer","coach","coal","coalition","coast","coaster","coat","cob","cobbler","cobweb","cock","cockpit","cockroach","cocktail","cocoa","coconut","cod","code","codepage","codling","codon","codpiece","coevolution","cofactor","coffee","coffin","cohesion","cohort","coil","coin","coincidence","coinsurance","coke","cold","coleslaw","coliseum","collaboration","collagen","collapse","collar","collard","collateral","colleague","collection","collectivisation","collectivization","collector","college","collision","colloquy","colon","colonial","colonialism","colonisation","colonization","colony","color","colorlessness","colt","column","columnist","comb","combat","combination","combine","comeback","comedy","comestible","comfort","comfortable","comic","comics","comma","command","commander","commandment","comment","commerce","commercial","commission","commitment","committee","commodity","common","commonsense","commotion","communicant","communication","communion","communist","community","commuter","company","comparison","compass","compassion","compassionate","compensation","competence","competition","competitor","complaint","complement","completion","complex","complexity","compliance","complication","complicity","compliment","component","comportment","composer","composite","composition","compost","comprehension","compress","compromise","comptroller","compulsion","computer","comradeship","con","concentrate","concentration","concept","conception","concern","concert","conclusion","concrete","condition","conditioner","condominium","condor","conduct","conductor","cone","confectionery","conference","confidence","confidentiality","configuration","confirmation","conflict","conformation","confusion","conga","congo","congregation","congress","congressman","congressperson","conifer","connection","connotation","conscience","consciousness","consensus","consent","consequence","conservation","conservative","consideration","consignment","consist","consistency","console","consonant","conspiracy","conspirator","constant","constellation","constitution","constraint","construction","consul","consulate","consulting","consumer","consumption","contact","contact lens","contagion","container","content","contention","contest","context","continent","contingency","continuity","contour","contract","contractor","contrail","contrary","contrast","contribution","contributor","control","controller","controversy","convection","convenience","convention","conversation","conversion","convert","convertible","conviction","cook","cookbook","cookie","cooking","coonskin","cooperation","coordination","coordinator","cop","cop-out","cope","copper","copy","copying","copyright","copywriter","coral","cord","corduroy","core","cork","cormorant","corn","corner","cornerstone","cornet","cornflakes","cornmeal","corporal","corporation","corporatism","corps","corral","correspondence","correspondent","corridor","corruption","corsage","cosset","cost","costume","cot","cottage","cotton","couch","cougar","cough","council","councilman","councilor","councilperson","counsel","counseling","counselling","counsellor","counselor","count","counter","counter-force","counterpart","counterterrorism","countess","country","countryside","county","couple","coupon","courage","course","court","courthouse","courtroom","cousin","covariate","cover","coverage","coverall","cow","cowbell","cowboy","coyote","crab","crack","cracker","crackers","cradle","craft","craftsman","cranberry","crane","cranky","crap","crash","crate","cravat","craw","crawdad","crayfish","crayon","crazy","cream","creation","creationism","creationist","creative","creativity","creator","creature","creche","credential","credenza","credibility","credit","creditor","creek","creme brulee","crepe","crest","crew","crewman","crewmate","crewmember","crewmen","cria","crib","cribbage","cricket","cricketer","crime","criminal","crinoline","crisis","crisp","criteria","criterion","critic","criticism","crocodile","crocus","croissant","crook","crop","cross","cross-contamination","cross-stitch","crotch","croup","crow","crowd","crown","crucifixion","crude","cruelty","cruise","crumb","crunch","crusader","crush","crust","cry","crystal","crystallography","cub","cube","cuckoo","cucumber","cue","cuff-link","cuisine","cultivar","cultivator","culture","culvert","cummerbund","cup","cupboard","cupcake","cupola","curd","cure","curio","curiosity","curl","curler","currant","currency","current","curriculum","curry","curse","cursor","curtailment","curtain","curve","cushion","custard","custody","custom","customer","cut","cuticle","cutlet","cutover","cutting","cyclamen","cycle","cyclone","cyclooxygenase","cygnet","cylinder","cymbal","cynic","cyst","cytokine","cytoplasm","dad","daddy","daffodil","dagger","dahlia","daikon","daily","dairy","daisy","dam","damage","dame","damn","dance","dancer","dancing","dandelion","danger","dare","dark","darkness","darn","dart","dash","dashboard","data","database","date","daughter","dawn","day","daybed","daylight","dead","deadline","deal","dealer","dealing","dearest","death","deathwatch","debate","debris","debt","debtor","decade","decadence","decency","decimal","decision","decision-making","deck","declaration","declination","decline","decoder","decongestant","decoration","decrease","decryption","dedication","deduce","deduction","deed","deep","deer","default","defeat","defendant","defender","defense","deficit","definition","deformation","degradation","degree","delay","deliberation","delight","delivery","demand","democracy","democrat","demon","demur","den","denim","denominator","density","dentist","deodorant","department","departure","dependency","dependent","deployment","deposit","deposition","depot","depression","depressive","depth","deputy","derby","derivation","derivative","derrick","descendant","descent","description","desert","design","designation","designer","desire","desk","desktop","dessert","destination","destiny","destroyer","destruction","detail","detainee","detainment","detection","detective","detector","detention","determination","detour","devastation","developer","developing","development","developmental","deviance","deviation","device","devil","dew","dhow","diabetes","diadem","diagnosis","diagram","dial","dialect","dialogue","diam","diamond","diaper","diaphragm","diarist","diary","dibble","dick","dickey","dictaphone","dictator","diction","dictionary","die","diesel","diet","difference","differential","difficulty","diffuse","dig","digestion","digestive","digger","digging","digit","dignity","dilapidation","dill","dilution","dime","dimension","dimple","diner","dinghy","dining","dinner","dinosaur","dioxide","dip","diploma","diplomacy","dipstick","direction","directive","director","directory","dirndl","dirt","disability","disadvantage","disagreement","disappointment","disarmament","disaster","discharge","discipline","disclaimer","disclosure","disco","disconnection","discount","discourse","discovery","discrepancy","discretion","discrimination","discussion","disdain","disease","disembodiment","disengagement","disguise","disgust","dish","dishwasher","disk","disparity","dispatch","displacement","display","disposal","disposer","disposition","dispute","disregard","disruption","dissemination","dissonance","distance","distinction","distortion","distribution","distributor","district","divalent","divan","diver","diversity","divide","dividend","divider","divine","diving","division","divorce","doc","dock","doctor","doctorate","doctrine","document","documentary","documentation","doe","dog","doggie","dogsled","dogwood","doing","doll","dollar","dollop","dolman","dolor","dolphin","domain","dome","domination","donation","donkey","donor","donut","door","doorbell","doorknob","doorpost","doorway","dory","dose","dot","double","doubling","doubt","doubter","dough","doughnut","down","downfall","downforce","downgrade","download","downstairs","downtown","downturn","dozen","draft","drag","dragon","dragonfly","dragonfruit","dragster","drain","drainage","drake","drama","dramaturge","drapes","draw","drawbridge","drawer","drawing","dream","dreamer","dredger","dress","dresser","dressing","drill","drink","drinking","drive","driver","driveway","driving","drizzle","dromedary","drop","drudgery","drug","drum","drummer","drunk","dryer","duck","duckling","dud","dude","due","duel","dueling","duffel","dugout","dulcimer","dumbwaiter","dump","dump truck","dune","dune buggy","dungarees","dungeon","duplexer","duration","durian","dusk","dust","dust storm","duster","duty","dwarf","dwell","dwelling","dynamics","dynamite","dynamo","dynasty","dysfunction","e-book","e-mail","e-reader","eagle","eaglet","ear","eardrum","earmuffs","earnings","earplug","earring","earrings","earth","earthquake","earthworm","ease","easel","east","eating","eaves","eavesdropper","ecclesia","echidna","eclipse","ecliptic","ecology","economics","economy","ecosystem","ectoderm","ectodermal","ecumenist","eddy","edge","edger","edible","editing","edition","editor","editorial","education","eel","effacement","effect","effective","effectiveness","effector","efficacy","efficiency","effort","egg","egghead","eggnog","eggplant","ego","eicosanoid","ejector","elbow","elderberry","election","electricity","electrocardiogram","electronics","element","elephant","elevation","elevator","eleventh","elf","elicit","eligibility","elimination","elite","elixir","elk","ellipse","elm","elongation","elver","email","emanate","embarrassment","embassy","embellishment","embossing","embryo","emerald","emergence","emergency","emergent","emery","emission","emitter","emotion","emphasis","empire","employ","employee","employer","employment","empowerment","emu","enactment","encirclement","enclave","enclosure","encounter","encouragement","encyclopedia","end","endive","endoderm","endorsement","endothelium","endpoint","enemy","energy","enforcement","engagement","engine","engineer","engineering","enigma","enjoyment","enquiry","enrollment","enterprise","entertainment","enthusiasm","entirety","entity","entrance","entree","entrepreneur","entry","envelope","environment","envy","enzyme","epauliere","epee","ephemera","ephemeris","ephyra","epic","episode","epithelium","epoch","eponym","epoxy","equal","equality","equation","equinox","equipment","equity","equivalent","era","eraser","erection","erosion","error","escalator","escape","escort","espadrille","espalier","essay","essence","essential","establishment","estate","estimate","estrogen","estuary","eternity","ethernet","ethics","ethnicity","ethyl","euphonium","eurocentrism","evaluation","evaluator","evaporation","eve","evening","evening-wear","event","everybody","everyone","everything","eviction","evidence","evil","evocation","evolution","ex-husband","ex-wife","exaggeration","exam","examination","examiner","example","exasperation","excellence","exception","excerpt","excess","exchange","excitement","exclamation","excursion","excuse","execution","executive","executor","exercise","exhaust","exhaustion","exhibit","exhibition","exile","existence","exit","exocrine","expansion","expansionism","expectancy","expectation","expedition","expense","experience","experiment","experimentation","expert","expertise","explanation","exploration","explorer","explosion","export","expose","exposition","exposure","expression","extension","extent","exterior","external","extinction","extreme","extremist","eye","eyeball","eyebrow","eyebrows","eyeglasses","eyelash","eyelashes","eyelid","eyelids","eyeliner","eyestrain","eyrie","fabric","face","facelift","facet","facility","facsimile","fact","factor","factory","faculty","fahrenheit","fail","failure","fairness","fairy","faith","faithful","fall","fallacy","falling-out","fame","familiar","familiarity","family","fan","fang","fanlight","fanny","fanny-pack","fantasy","farm","farmer","farming","farmland","farrow","fascia","fashion","fat","fate","father","father-in-law","fatigue","fatigues","faucet","fault","fav","fava","favor","favorite","fawn","fax","fear","feast","feather","feature","fedelini","federation","fedora","fee","feed","feedback","feeding","feel","feeling","fellow","felony","female","fen","fence","fencing","fender","feng","fennel","ferret","ferry","ferryboat","fertilizer","festival","fetus","few","fiber","fiberglass","fibre","fibroblast","fibrosis","ficlet","fiction","fiddle","field","fiery","fiesta","fifth","fig","fight","fighter","figure","figurine","file","filing","fill","fillet","filly","film","filter","filth","final","finance","financing","finding","fine","finer","finger","fingerling","fingernail","finish","finisher","fir","fire","fireman","fireplace","firewall","firm","first","fish","fishbone","fisherman","fishery","fishing","fishmonger","fishnet","fisting","fit","fitness","fix","fixture","flag","flair","flame","flan","flanker","flare","flash","flat","flatboat","flavor","flax","fleck","fledgling","fleece","flesh","flexibility","flick","flicker","flight","flint","flintlock","flip-flops","flock","flood","floodplain","floor","floozie","flour","flow","flower","flu","flugelhorn","fluke","flume","flung","flute","fly","flytrap","foal","foam","fob","focus","fog","fold","folder","folk","folklore","follower","following","fondue","font","food","foodstuffs","fool","foot","footage","football","footnote","footprint","footrest","footstep","footstool","footwear","forage","forager","foray","force","ford","forearm","forebear","forecast","forehead","foreigner","forelimb","forest","forestry","forever","forgery","fork","form","formal","formamide","format","formation","former","formicarium","formula","fort","forte","fortnight","fortress","fortune","forum","foundation","founder","founding","fountain","fourths","fowl","fox","foxglove","fraction","fragrance","frame","framework","fratricide","fraud","fraudster","freak","freckle","freedom","freelance","freezer","freezing","freight","freighter","frenzy","freon","frequency","fresco","friction","fridge","friend","friendship","fries","frigate","fright","fringe","fritter","frock","frog","front","frontier","frost","frosting","frown","fruit","frustration","fry","fuck","fuel","fugato","fulfillment","full","fun","function","functionality","fund","funding","fundraising","funeral","fur","furnace","furniture","furry","fusarium","futon","future","gadget","gaffe","gaffer","gain","gaiters","gale","gall-bladder","gallery","galley","gallon","galoshes","gambling","game","gamebird","gaming","gamma-ray","gander","gang","gap","garage","garb","garbage","garden","garlic","garment","garter","gas","gasket","gasoline","gasp","gastronomy","gastropod","gate","gateway","gather","gathering","gator","gauge","gauntlet","gavel","gazebo","gazelle","gear","gearshift","geek","gel","gelatin","gelding","gem","gemsbok","gender","gene","general","generation","generator","generosity","genetics","genie","genius","genocide","genre","gentleman","geography","geology","geometry","geranium","gerbil","gesture","geyser","gherkin","ghost","giant","gift","gig","gigantism","giggle","ginger","gingerbread","ginseng","giraffe","girdle","girl","girlfriend","git","glacier","gladiolus","glance","gland","glass","glasses","glee","glen","glider","gliding","glimpse","globe","glockenspiel","gloom","glory","glove","glow","glucose","glue","glut","glutamate","gnat","gnu","go-kart","goal","goat","gobbler","god","goddess","godfather","godmother","godparent","goggles","going","gold","goldfish","golf","gondola","gong","good","good-bye","goodbye","goodie","goodness","goodnight","goodwill","goose","gopher","gorilla","gosling","gossip","governance","government","governor","gown","grab-bag","grace","grade","gradient","graduate","graduation","graffiti","graft","grain","gram","grammar","gran","grand","grandchild","granddaughter","grandfather","grandma","grandmom","grandmother","grandpa","grandparent","grandson","granny","granola","grant","grape","grapefruit","graph","graphic","grasp","grass","grasshopper","grassland","gratitude","gravel","gravitas","gravity","gravy","gray","grease","great-grandfather","great-grandmother","greatness","greed","green","greenhouse","greens","grenade","grey","grid","grief","grill","grin","grip","gripper","grit","grocery","ground","group","grouper","grouse","grove","growth","grub","guacamole","guarantee","guard","guava","guerrilla","guess","guest","guestbook","guidance","guide","guideline","guilder","guilt","guilty","guinea","guitar","guitarist","gum","gumshoe","gun","gunpowder","gutter","guy","gym","gymnast","gymnastics","gynaecology","gyro","habit","habitat","hacienda","hacksaw","hackwork","hail","hair","haircut","hake","half","half-brother","half-sister","halibut","hall","halloween","hallway","halt","ham","hamburger","hammer","hammock","hamster","hand","hand-holding","handball","handful","handgun","handicap","handle","handlebar","handmaiden","handover","handrail","handsaw","hanger","happening","happiness","harald","harbor","harbour","hard-hat","hardboard","hardcover","hardening","hardhat","hardship","hardware","hare","harm","harmonica","harmonise","harmonize","harmony","harp","harpooner","harpsichord","harvest","harvester","hash","hashtag","hassock","haste","hat","hatbox","hatchet","hatchling","hate","hatred","haunt","haven","haversack","havoc","hawk","hay","haze","hazel","hazelnut","head","headache","headlight","headline","headphones","headquarters","headrest","health","health-care","hearing","hearsay","heart","heart-throb","heartache","heartbeat","hearth","hearthside","heartwood","heat","heater","heating","heaven","heavy","hectare","hedge","hedgehog","heel","heifer","height","heir","heirloom","helicopter","helium","hell","hellcat","hello","helmet","helo","help","hemisphere","hemp","hen","hepatitis","herb","herbs","heritage","hermit","hero","heroine","heron","herring","hesitation","heterosexual","hexagon","heyday","hiccups","hide","hierarchy","high","high-rise","highland","highlight","highway","hike","hiking","hill","hint","hip","hippodrome","hippopotamus","hire","hiring","historian","history","hit","hive","hobbit","hobby","hockey","hoe","hog","hold","holder","hole","holiday","home","homeland","homeownership","hometown","homework","homicide","homogenate","homonym","homosexual","homosexuality","honesty","honey","honeybee","honeydew","honor","honoree","hood","hoof","hook","hop","hope","hops","horde","horizon","hormone","horn","hornet","horror","horse","horseradish","horst","hose","hosiery","hospice","hospital","hospitalisation","hospitality","hospitalization","host","hostel","hostess","hotdog","hotel","hound","hour","hourglass","house","houseboat","household","housewife","housework","housing","hovel","hovercraft","howard","howitzer","hub","hubcap","hubris","hug","hugger","hull","human","humanity","humidity","hummus","humor","humour","hunchback","hundred","hunger","hunt","hunter","hunting","hurdle","hurdler","hurricane","hurry","hurt","husband","hut","hutch","hyacinth","hybridisation","hybridization","hydrant","hydraulics","hydrocarb","hydrocarbon","hydrofoil","hydrogen","hydrolyse","hydrolysis","hydrolyze","hydroxyl","hyena","hygienic","hype","hyphenation","hypochondria","hypothermia","hypothesis","ice","ice-cream","iceberg","icebreaker","icecream","icicle","icing","icon","icy","id","idea","ideal","identification","identity","ideology","idiom","idiot","igloo","ignorance","ignorant","ikebana","illegal","illiteracy","illness","illusion","illustration","image","imagination","imbalance","imitation","immigrant","immigration","immortal","impact","impairment","impala","impediment","implement","implementation","implication","import","importance","impostor","impress","impression","imprisonment","impropriety","improvement","impudence","impulse","in-joke","in-laws","inability","inauguration","inbox","incandescence","incarnation","incense","incentive","inch","incidence","incident","incision","inclusion","income","incompetence","inconvenience","increase","incubation","independence","independent","index","indication","indicator","indigence","individual","industrialisation","industrialization","industry","inequality","inevitable","infancy","infant","infarction","infection","infiltration","infinite","infix","inflammation","inflation","influence","influx","info","information","infrastructure","infusion","inglenook","ingrate","ingredient","inhabitant","inheritance","inhibition","inhibitor","initial","initialise","initialize","initiative","injunction","injury","injustice","ink","inlay","inn","innervation","innocence","innocent","innovation","input","inquiry","inscription","insect","insectarium","insert","inside","insight","insolence","insomnia","inspection","inspector","inspiration","installation","instance","instant","instinct","institute","institution","instruction","instructor","instrument","instrumentalist","instrumentation","insulation","insurance","insurgence","insurrection","integer","integral","integration","integrity","intellect","intelligence","intensity","intent","intention","intentionality","interaction","interchange","interconnection","intercourse","interest","interface","interferometer","interior","interject","interloper","internet","interpretation","interpreter","interval","intervenor","intervention","interview","interviewer","intestine","introduction","intuition","invader","invasion","invention","inventor","inventory","inverse","inversion","investigation","investigator","investment","investor","invitation","invite","invoice","involvement","iridescence","iris","iron","ironclad","irony","irrigation","ischemia","island","isogloss","isolation","issue","item","itinerary","ivory","jack","jackal","jacket","jackfruit","jade","jaguar","jail","jailhouse","jalapeo","jam","jar","jasmine","jaw","jazz","jealousy","jeans","jeep","jelly","jellybeans","jellyfish","jerk","jet","jewel","jeweller","jewellery","jewelry","jicama","jiffy","job","jockey","jodhpurs","joey","jogging","joint","joke","jot","journal","journalism","journalist","journey","joy","judge","judgment","judo","jug","juggernaut","juice","julienne","jumbo","jump","jumper","jumpsuit","jungle","junior","junk","junker","junket","jury","justice","justification","jute","kale","kamikaze","kangaroo","karate","kayak","kazoo","kebab","keep","keeper","kendo","kennel","ketch","ketchup","kettle","kettledrum","key","keyboard","keyboarding","keystone","kick","kick-off","kid","kidney","kielbasa","kill","killer","killing","kilogram","kilometer","kilt","kimono","kinase","kind","kindness","king","kingdom","kingfish","kiosk","kiss","kit","kitchen","kite","kitsch","kitten","kitty","kiwi","knee","kneejerk","knickers","knife","knife-edge","knight","knitting","knock","knot","know-how","knowledge","knuckle","koala","kohlrabi","kumquat","lab","label","labor","laboratory","laborer","labour","labourer","lace","lack","lacquerware","lad","ladder","ladle","lady","ladybug","lag","lake","lamb","lambkin","lament","lamp","lanai","land","landform","landing","landmine","landscape","lane","language","lantern","lap","laparoscope","lapdog","laptop","larch","lard","larder","lark","larva","laryngitis","lasagna","lashes","last","latency","latex","lathe","latitude","latte","latter","laugh","laughter","laundry","lava","law","lawmaker","lawn","lawsuit","lawyer","lay","layer","layout","lead","leader","leadership","leading","leaf","league","leaker","leap","learning","leash","leather","leave","leaver","lecture","leek","leeway","left","leg","legacy","legal","legend","legging","legislation","legislator","legislature","legitimacy","legume","leisure","lemon","lemonade","lemur","lender","lending","length","lens","lentil","leopard","leprosy","leptocephalus","lesbian","lesson","letter","lettuce","level","lever","leverage","leveret","liability","liar","liberty","libido","library","licence","license","licensing","licorice","lid","lie","lieu","lieutenant","life","lifestyle","lifetime","lift","ligand","light","lighting","lightning","lightscreen","ligula","likelihood","likeness","lilac","lily","limb","lime","limestone","limit","limitation","limo","line","linen","liner","linguist","linguistics","lining","link","linkage","linseed","lion","lip","lipid","lipoprotein","lipstick","liquid","liquidity","liquor","list","listening","listing","literate","literature","litigation","litmus","litter","littleneck","liver","livestock","living","lizard","llama","load","loading","loaf","loafer","loan","lobby","lobotomy","lobster","local","locality","location","lock","locker","locket","locomotive","locust","lode","loft","log","loggia","logic","login","logistics","logo","loincloth","lollipop","loneliness","longboat","longitude","look","lookout","loop","loophole","loquat","lord","loss","lot","lotion","lottery","lounge","louse","lout","love","lover","lox","loyalty","luck","luggage","lumber","lumberman","lunch","luncheonette","lunchmeat","lunchroom","lung","lunge","lust","lute","luxury","lychee","lycra","lye","lymphocyte","lynx","lyocell","lyre","lyrics","lysine","mRNA","macadamia","macaroni","macaroon","macaw","machine","machinery","macrame","macro","macrofauna","madam","maelstrom","maestro","magazine","maggot","magic","magnet","magnitude","maid","maiden","mail","mailbox","mailer","mailing","mailman","main","mainland","mainstream","maintainer","maintenance","maize","major","major-league","majority","makeover","maker","makeup","making","male","malice","mall","mallard","mallet","malnutrition","mama","mambo","mammoth","man","manacle","management","manager","manatee","mandarin","mandate","mandolin","mangle","mango","mangrove","manhunt","maniac","manicure","manifestation","manipulation","mankind","manner","manor","mansard","manservant","mansion","mantel","mantle","mantua","manufacturer","manufacturing","many","map","maple","mapping","maracas","marathon","marble","march","mare","margarine","margin","mariachi","marimba","marines","marionberry","mark","marker","market","marketer","marketing","marketplace","marksman","markup","marmalade","marriage","marsh","marshland","marshmallow","marten","marxism","mascara","mask","masonry","mass","massage","mast","master","masterpiece","mastication","mastoid","mat","match","matchmaker","mate","material","maternity","math","mathematics","matrix","matter","mattock","mattress","max","maximum","maybe","mayonnaise","mayor","meadow","meal","mean","meander","meaning","means","meantime","measles","measure","measurement","meat","meatball","meatloaf","mecca","mechanic","mechanism","med","medal","media","median","medication","medicine","medium","meet","meeting","melatonin","melody","melon","member","membership","membrane","meme","memo","memorial","memory","men","menopause","menorah","mention","mentor","menu","merchandise","merchant","mercury","meridian","meringue","merit","mesenchyme","mess","message","messenger","messy","metabolite","metal","metallurgist","metaphor","meteor","meteorology","meter","methane","method","methodology","metric","metro","metronome","mezzanine","microlending","micronutrient","microphone","microwave","mid-course","midden","middle","middleman","midline","midnight","midwife","might","migrant","migration","mile","mileage","milepost","milestone","military","milk","milkshake","mill","millennium","millet","millimeter","million","millisecond","millstone","mime","mimosa","min","mincemeat","mind","mine","mineral","mineshaft","mini","mini-skirt","minibus","minimalism","minimum","mining","minion","minister","mink","minnow","minor","minor-league","minority","mint","minute","miracle","mirror","miscarriage","miscommunication","misfit","misnomer","misogyny","misplacement","misreading","misrepresentation","miss","missile","mission","missionary","mist","mistake","mister","misunderstand","miter","mitten","mix","mixer","mixture","moai","moat","mob","mobile","mobility","mobster","moccasins","mocha","mochi","mode","model","modeling","modem","modernist","modernity","modification","molar","molasses","molding","mole","molecule","mom","moment","monastery","monasticism","money","monger","monitor","monitoring","monk","monkey","monocle","monopoly","monotheism","monsoon","monster","month","monument","mood","moody","moon","moonlight","moonscape","moonshine","moose","mop","morale","morbid","morbidity","morning","moron","morphology","morsel","mortal","mortality","mortgage","mortise","mosque","mosquito","most","motel","moth","mother","mother-in-law","motion","motivation","motive","motor","motorboat","motorcar","motorcycle","mound","mountain","mouse","mouser","mousse","moustache","mouth","mouton","movement","mover","movie","mower","mozzarella","mud","muffin","mug","mukluk","mule","multimedia","murder","muscat","muscatel","muscle","musculature","museum","mushroom","music","music-box","music-making","musician","muskrat","mussel","mustache","mustard","mutation","mutt","mutton","mycoplasma","mystery","myth","mythology","nail","name","naming","nanoparticle","napkin","narrative","nasal","nation","nationality","native","naturalisation","nature","navigation","necessity","neck","necklace","necktie","nectar","nectarine","need","needle","neglect","negligee","negotiation","neighbor","neighborhood","neighbour","neighbourhood","neologism","neon","neonate","nephew","nerve","nest","nestling","nestmate","net","netball","netbook","netsuke","network","networking","neurobiologist","neuron","neuropathologist","neuropsychiatry","news","newsletter","newspaper","newsprint","newsstand","nexus","nibble","nicety","niche","nick","nickel","nickname","niece","night","nightclub","nightgown","nightingale","nightlife","nightlight","nightmare","ninja","nit","nitrogen","nobody","nod","node","noir","noise","nonbeliever","nonconformist","nondisclosure","nonsense","noodle","noodles","noon","norm","normal","normalisation","normalization","north","nose","notation","note","notebook","notepad","nothing","notice","notion","notoriety","nougat","noun","nourishment","novel","nucleotidase","nucleotide","nudge","nuke","number","numeracy","numeric","numismatist","nun","nurse","nursery","nursing","nurture","nut","nutmeg","nutrient","nutrition","nylon","nymph","oak","oar","oasis","oat","oatmeal","oats","obedience","obesity","obi","object","objection","objective","obligation","oboe","observation","observatory","obsession","obsidian","obstacle","occasion","occupation","occurrence","ocean","ocelot","octagon","octave","octavo","octet","octopus","odometer","odyssey","oeuvre","off-ramp","offence","offense","offer","offering","office","officer","official","offset","oil","okra","oldie","oleo","olive","omega","omelet","omission","omnivore","oncology","onion","online","onset","opening","opera","operating","operation","operator","ophthalmologist","opinion","opium","opossum","opponent","opportunist","opportunity","opposite","opposition","optimal","optimisation","optimist","optimization","option","orange","orangutan","orator","orchard","orchestra","orchid","order","ordinary","ordination","ore","oregano","organ","organisation","organising","organization","organizing","orient","orientation","origin","original","originality","ornament","osmosis","osprey","ostrich","other","otter","ottoman","ounce","outback","outcome","outfielder","outfit","outhouse","outlaw","outlay","outlet","outline","outlook","output","outrage","outrigger","outrun","outset","outside","oval","ovary","oven","overcharge","overclocking","overcoat","overexertion","overflight","overhead","overheard","overload","overnighter","overshoot","oversight","overview","overweight","owl","owner","ownership","ox","oxford","oxygen","oyster","ozone","pace","pacemaker","pack","package","packaging","packet","pad","paddle","paddock","pagan","page","pagoda","pail","pain","paint","painter","painting","paintwork","pair","pajamas","palace","palate","palm","pamphlet","pan","pancake","pancreas","panda","panel","panic","pannier","panpipe","pansy","panther","panties","pantologist","pantology","pantry","pants","pantsuit","panty","pantyhose","papa","papaya","paper","paperback","paperwork","parable","parachute","parade","paradise","paragraph","parallelogram","paramecium","paramedic","parameter","paranoia","parcel","parchment","pard","pardon","parent","parenthesis","parenting","park","parka","parking","parliament","parole","parrot","parser","parsley","parsnip","part","participant","participation","particle","particular","partner","partnership","partridge","party","pass","passage","passbook","passenger","passing","passion","passive","passport","password","past","pasta","paste","pastor","pastoralist","pastry","pasture","pat","patch","pate","patent","patentee","path","pathogenesis","pathology","pathway","patience","patient","patina","patio","patriarch","patrimony","patriot","patrol","patroller","patrolling","patron","pattern","patty","pattypan","pause","pavement","pavilion","paw","pawnshop","pay","payee","payment","payoff","pea","peace","peach","peacoat","peacock","peak","peanut","pear","pearl","peasant","pecan","pecker","pedal","peek","peen","peer","peer-to-peer","pegboard","pelican","pelt","pen","penalty","pence","pencil","pendant","pendulum","penguin","penicillin","peninsula","penis","pennant","penny","pension","pentagon","peony","people","pepper","pepperoni","percent","percentage","perception","perch","perennial","perfection","performance","perfume","period","periodical","peripheral","permafrost","permission","permit","perp","perpendicular","persimmon","person","personal","personality","personnel","perspective","pest","pet","petal","petition","petitioner","petticoat","pew","pharmacist","pharmacopoeia","phase","pheasant","phenomenon","phenotype","pheromone","philanthropy","philosopher","philosophy","phone","phosphate","photo","photodiode","photograph","photographer","photography","photoreceptor","phrase","phrasing","physical","physics","physiology","pianist","piano","piccolo","pick","pickax","pickaxe","picket","pickle","pickup","picnic","picture","picturesque","pie","piece","pier","piety","pig","pigeon","piglet","pigpen","pigsty","pike","pilaf","pile","pilgrim","pilgrimage","pill","pillar","pillbox","pillow","pilot","pimp","pimple","pin","pinafore","pince-nez","pine","pineapple","pinecone","ping","pink","pinkie","pinot","pinstripe","pint","pinto","pinworm","pioneer","pipe","pipeline","piracy","pirate","piss","pistol","pit","pita","pitch","pitcher","pitching","pith","pizza","place","placebo","placement","placode","plagiarism","plain","plaintiff","plan","plane","planet","planning","plant","plantation","planter","planula","plaster","plasterboard","plastic","plate","platelet","platform","platinum","platter","platypus","play","player","playground","playroom","playwright","plea","pleasure","pleat","pledge","plenty","plier","pliers","plight","plot","plough","plover","plow","plowman","plug","plugin","plum","plumber","plume","plunger","plywood","pneumonia","pocket","pocket-watch","pocketbook","pod","podcast","poem","poet","poetry","poignance","point","poison","poisoning","poker","polarisation","polarization","pole","polenta","police","policeman","policy","polish","politician","politics","poll","polliwog","pollutant","pollution","polo","polyester","polyp","pomegranate","pomelo","pompom","poncho","pond","pony","pool","poor","pop","popcorn","poppy","popsicle","popularity","population","populist","porcelain","porch","porcupine","pork","porpoise","port","porter","portfolio","porthole","portion","portrait","position","possession","possibility","possible","post","postage","postbox","poster","posterior","postfix","pot","potato","potential","pottery","potty","pouch","poultry","pound","pounding","poverty","powder","power","practice","practitioner","prairie","praise","pray","prayer","precedence","precedent","precipitation","precision","predecessor","preface","preference","prefix","pregnancy","prejudice","prelude","premeditation","premier","premise","premium","preoccupation","preparation","prescription","presence","present","presentation","preservation","preserves","presidency","president","press","pressroom","pressure","pressurisation","pressurization","prestige","presume","pretzel","prevalence","prevention","prey","price","pricing","pride","priest","priesthood","primary","primate","prince","princess","principal","principle","print","printer","printing","prior","priority","prison","prisoner","privacy","private","privilege","prize","prizefight","probability","probation","probe","problem","procedure","proceedings","process","processing","processor","proctor","procurement","produce","producer","product","production","productivity","profession","professional","professor","profile","profit","progenitor","program","programme","programming","progress","progression","prohibition","project","proliferation","promenade","promise","promotion","prompt","pronoun","pronunciation","proof","proof-reader","propaganda","propane","property","prophet","proponent","proportion","proposal","proposition","proprietor","prose","prosecution","prosecutor","prospect","prosperity","prostacyclin","prostanoid","prostrate","protection","protein","protest","protocol","providence","provider","province","provision","prow","proximal","proximity","prune","pruner","pseudocode","pseudoscience","psychiatrist","psychoanalyst","psychologist","psychology","ptarmigan","pub","public","publication","publicity","publisher","publishing","pudding","puddle","puffin","pug","puggle","pulley","pulse","puma","pump","pumpernickel","pumpkin","pumpkinseed","pun","punch","punctuation","punishment","pup","pupa","pupil","puppet","puppy","purchase","puritan","purity","purple","purpose","purr","purse","pursuit","push","pusher","put","puzzle","pyramid","pyridine","quadrant","quail","qualification","quality","quantity","quart","quarter","quartet","quartz","queen","query","quest","question","questioner","questionnaire","quiche","quicksand","quiet","quill","quilt","quince","quinoa","quit","quiver","quota","quotation","quote","rabbi","rabbit","raccoon","race","racer","racing","racism","racist","rack","radar","radiator","radio","radiosonde","radish","raffle","raft","rag","rage","raid","rail","railing","railroad","railway","raiment","rain","rainbow","raincoat","rainmaker","rainstorm","rainy","raise","raisin","rake","rally","ram","rambler","ramen","ramie","ranch","rancher","randomisation","randomization","range","ranger","rank","rap","rape","raspberry","rat","rate","ratepayer","rating","ratio","rationale","rations","raven","ravioli","rawhide","ray","rayon","razor","reach","reactant","reaction","read","reader","readiness","reading","real","reality","realization","realm","reamer","rear","reason","reasoning","rebel","rebellion","reboot","recall","recapitulation","receipt","receiver","reception","receptor","recess","recession","recipe","recipient","reciprocity","reclamation","recliner","recognition","recollection","recommendation","reconsideration","record","recorder","recording","recovery","recreation","recruit","rectangle","red","redesign","redhead","redirect","rediscovery","reduction","reef","refectory","reference","referendum","reflection","reform","refreshments","refrigerator","refuge","refund","refusal","refuse","regard","regime","region","regionalism","register","registration","registry","regret","regulation","regulator","rehospitalisation","rehospitalization","reindeer","reinscription","reject","relation","relationship","relative","relaxation","relay","release","reliability","relief","religion","relish","reluctance","remains","remark","reminder","remnant","remote","removal","renaissance","rent","reorganisation","reorganization","repair","reparation","repayment","repeat","replacement","replica","replication","reply","report","reporter","reporting","repository","representation","representative","reprocessing","republic","republican","reputation","request","requirement","resale","rescue","research","researcher","resemblance","reservation","reserve","reservoir","reset","residence","resident","residue","resist","resistance","resolution","resolve","resort","resource","respect","respite","response","responsibility","rest","restaurant","restoration","restriction","restroom","restructuring","result","resume","retailer","retention","rethinking","retina","retirement","retouching","retreat","retrospect","retrospective","retrospectivity","return","reunion","revascularisation","revascularization","reveal","revelation","revenant","revenge","revenue","reversal","reverse","review","revitalisation","revitalization","revival","revolution","revolver","reward","rhetoric","rheumatism","rhinoceros","rhubarb","rhyme","rhythm","rib","ribbon","rice","riddle","ride","rider","ridge","riding","rifle","right","rim","ring","ringworm","riot","rip","ripple","rise","riser","risk","rite","ritual","river","riverbed","rivulet","road","roadway","roar","roast","robe","robin","robot","robotics","rock","rocker","rocket","rocket-ship","rod","role","roll","roller","romaine","romance","roof","room","roommate","rooster","root","rope","rose","rosemary","roster","rostrum","rotation","round","roundabout","route","router","routine","row","rowboat","rowing","rubber","rubbish","rubric","ruby","ruckus","rudiment","ruffle","rug","rugby","ruin","rule","ruler","ruling","rum","rumor","run","runaway","runner","running","runway","rush","rust","rutabaga","rye","sabre","sac","sack","saddle","sadness","safari","safe","safeguard","safety","saffron","sage","sail","sailboat","sailing","sailor","saint","sake","salad","salami","salary","sale","salesman","salmon","salon","saloon","salsa","salt","salute","samovar","sampan","sample","samurai","sanction","sanctity","sanctuary","sand","sandal","sandbar","sandpaper","sandwich","sanity","sardine","sari","sarong","sash","satellite","satin","satire","satisfaction","sauce","saucer","sauerkraut","sausage","savage","savannah","saving","savings","savior","saviour","savory","saw","saxophone","scaffold","scale","scallion","scallops","scalp","scam","scanner","scarecrow","scarf","scarification","scenario","scene","scenery","scent","schedule","scheduling","schema","scheme","schizophrenic","schnitzel","scholar","scholarship","school","schoolhouse","schooner","science","scientist","scimitar","scissors","scooter","scope","score","scorn","scorpion","scotch","scout","scow","scrambled","scrap","scraper","scratch","screamer","screen","screening","screenwriting","screw","screw-up","screwdriver","scrim","scrip","script","scripture","scrutiny","sculpting","sculptural","sculpture","sea","seabass","seafood","seagull","seal","seaplane","search","seashore","seaside","season","seat","seaweed","second","secrecy","secret","secretariat","secretary","secretion","section","sectional","sector","security","sediment","seed","seeder","seeker","seep","segment","seizure","selection","self","self-confidence","self-control","self-esteem","seller","selling","semantics","semester","semicircle","semicolon","semiconductor","seminar","senate","senator","sender","senior","sense","sensibility","sensitive","sensitivity","sensor","sentence","sentencing","sentiment","sepal","separation","septicaemia","sequel","sequence","serial","series","sermon","serum","serval","servant","server","service","servitude","sesame","session","set","setback","setting","settlement","settler","severity","sewer","sex","sexuality","shack","shackle","shade","shadow","shadowbox","shakedown","shaker","shallot","shallows","shame","shampoo","shanty","shape","share","shareholder","shark","shaw","shawl","shear","shearling","sheath","shed","sheep","sheet","shelf","shell","shelter","sherbet","sherry","shield","shift","shin","shine","shingle","ship","shipper","shipping","shipyard","shirt","shirtdress","shit","shoat","shock","shoe","shoe-horn","shoehorn","shoelace","shoemaker","shoes","shoestring","shofar","shoot","shootdown","shop","shopper","shopping","shore","shoreline","short","shortage","shorts","shortwave","shot","shoulder","shout","shovel","show","show-stopper","shower","shred","shrimp","shrine","shutdown","sibling","sick","sickness","side","sideboard","sideburns","sidecar","sidestream","sidewalk","siding","siege","sigh","sight","sightseeing","sign","signal","signature","signet","significance","signify","signup","silence","silica","silicon","silk","silkworm","sill","silly","silo","silver","similarity","simple","simplicity","simplification","simvastatin","sin","singer","singing","singular","sink","sinuosity","sip","sir","sister","sister-in-law","sitar","site","situation","size","skate","skating","skean","skeleton","ski","skiing","skill","skin","skirt","skull","skullcap","skullduggery","skunk","sky","skylight","skyline","skyscraper","skywalk","slang","slapstick","slash","slate","slave","slavery","slaw","sled","sledge","sleep","sleepiness","sleeping","sleet","sleuth","slice","slide","slider","slime","slip","slipper","slippers","slope","slot","sloth","slump","smell","smelting","smile","smith","smock","smog","smoke","smoking","smolt","smuggling","snack","snail","snake","snakebite","snap","snarl","sneaker","sneakers","sneeze","sniffle","snob","snorer","snow","snowboarding","snowflake","snowman","snowmobiling","snowplow","snowstorm","snowsuit","snuck","snug","snuggle","soap","soccer","socialism","socialist","society","sociology","sock","socks","soda","sofa","softball","softdrink","softening","software","soil","soldier","sole","solicitation","solicitor","solidarity","solidity","soliloquy","solitaire","solution","solvency","sombrero","somebody","someone","someplace","somersault","something","somewhere","son","sonar","sonata","song","songbird","sonnet","soot","sophomore","soprano","sorbet","sorghum","sorrel","sorrow","sort","soul","soulmate","sound","soundness","soup","source","sourwood","sousaphone","south","southeast","souvenir","sovereignty","sow","soy","soybean","space","spacing","spade","spaghetti","span","spandex","spank","sparerib","spark","sparrow","spasm","spat","spatula","spawn","speaker","speakerphone","speaking","spear","spec","special","specialist","specialty","species","specification","spectacle","spectacles","spectrograph","spectrum","speculation","speech","speed","speedboat","spell","spelling","spelt","spending","sphere","sphynx","spice","spider","spiderling","spike","spill","spinach","spine","spiral","spirit","spiritual","spirituality","spit","spite","spleen","splendor","split","spokesman","spokeswoman","sponge","sponsor","sponsorship","spool","spoon","spork","sport","sportsman","spot","spotlight","spouse","sprag","sprat","spray","spread","spreadsheet","spree","spring","sprinkles","sprinter","sprout","spruce","spud","spume","spur","spy","spyglass","square","squash","squatter","squeegee","squid","squirrel","stab","stability","stable","stack","stacking","stadium","staff","stag","stage","stain","stair","staircase","stake","stalk","stall","stallion","stamen","stamina","stamp","stance","stand","standard","standardisation","standardization","standing","standoff","standpoint","star","starboard","start","starter","state","statement","statin","station","station-wagon","statistic","statistics","statue","status","statute","stay","steak","stealth","steam","steamroller","steel","steeple","stem","stench","stencil","step","step-aunt","step-brother","step-daughter","step-father","step-grandfather","step-grandmother","step-mother","step-sister","step-son","step-uncle","stepdaughter","stepmother","stepping-stone","stepson","stereo","stew","steward","stick","sticker","stiletto","still","stimulation","stimulus","sting","stinger","stir-fry","stitch","stitcher","stock","stock-in-trade","stockings","stole","stomach","stone","stonework","stool","stop","stopsign","stopwatch","storage","store","storey","storm","story","story-telling","storyboard","stot","stove","strait","strand","stranger","strap","strategy","straw","strawberry","strawman","stream","street","streetcar","strength","stress","stretch","strife","strike","string","strip","stripe","strobe","stroke","structure","strudel","struggle","stucco","stud","student","studio","study","stuff","stumbling","stump","stupidity","sturgeon","sty","style","styling","stylus","sub","subcomponent","subconscious","subcontractor","subexpression","subgroup","subject","submarine","submitter","subprime","subroutine","subscription","subsection","subset","subsidence","subsidiary","subsidy","substance","substitution","subtitle","suburb","subway","success","succotash","suck","sucker","suede","suet","suffocation","sugar","suggestion","suicide","suit","suitcase","suite","sulfur","sultan","sum","summary","summer","summit","sun","sunbeam","sunbonnet","sundae","sunday","sundial","sunflower","sunglasses","sunlamp","sunlight","sunrise","sunroom","sunset","sunshine","superiority","supermarket","supernatural","supervision","supervisor","supper","supplement","supplier","supply","support","supporter","suppression","supreme","surface","surfboard","surge","surgeon","surgery","surname","surplus","surprise","surround","surroundings","surrounds","survey","survival","survivor","sushi","suspect","suspenders","suspension","sustainment","sustenance","swallow","swamp","swan","swanling","swath","sweat","sweater","sweatshirt","sweatshop","sweatsuit","sweets","swell","swim","swimming","swimsuit","swine","swing","switch","switchboard","switching","swivel","sword","swordfight","swordfish","sycamore","symbol","symmetry","sympathy","symptom","syndicate","syndrome","synergy","synod","synonym","synthesis","syrup","system","t-shirt","tab","tabby","tabernacle","table","tablecloth","tablet","tabletop","tachometer","tackle","taco","tactics","tactile","tadpole","tag","tail","tailbud","tailor","tailspin","take-out","takeover","tale","talent","talk","talking","tam-o'-shanter","tamale","tambour","tambourine","tan","tandem","tangerine","tank","tank-top","tanker","tankful","tap","tape","tapioca","target","taro","tarragon","tart","task","tassel","taste","tatami","tattler","tattoo","tavern","tax","taxi","taxicab","taxpayer","tea","teacher","teaching","team","teammate","teapot","tear","tech","technician","technique","technologist","technology","tectonics","teen","teenager","teepee","telephone","telescreen","teletype","television","tell","teller","temp","temper","temperature","temple","tempo","temporariness","temporary","temptation","temptress","tenant","tendency","tender","tenement","tenet","tennis","tenor","tension","tensor","tent","tentacle","tenth","tepee","teriyaki","term","terminal","termination","terminology","termite","terrace","terracotta","terrapin","terrarium","territory","terror","terrorism","terrorist","test","testament","testimonial","testimony","testing","text","textbook","textual","texture","thanks","thaw","theater","theft","theism","theme","theology","theory","therapist","therapy","thermals","thermometer","thermostat","thesis","thickness","thief","thigh","thing","thinking","thirst","thistle","thong","thongs","thorn","thought","thousand","thread","threat","threshold","thrift","thrill","throat","throne","thrush","thrust","thug","thumb","thump","thunder","thunderbolt","thunderhead","thunderstorm","thyme","tiara","tic","tick","ticket","tide","tie","tiger","tights","tile","till","tilt","timbale","timber","time","timeline","timeout","timer","timetable","timing","timpani","tin","tinderbox","tinkle","tintype","tip","tire","tissue","titanium","title","toad","toast","toaster","tobacco","today","toe","toenail","toffee","tofu","tog","toga","toilet","tolerance","tolerant","toll","tom-tom","tomatillo","tomato","tomb","tomography","tomorrow","ton","tonality","tone","tongue","tonic","tonight","tool","toot","tooth","toothbrush","toothpaste","toothpick","top","top-hat","topic","topsail","toque","toreador","tornado","torso","torte","tortellini","tortilla","tortoise","tosser","total","tote","touch","tough-guy","tour","tourism","tourist","tournament","tow-truck","towel","tower","town","townhouse","township","toy","trace","trachoma","track","tracking","tracksuit","tract","tractor","trade","trader","trading","tradition","traditionalism","traffic","trafficker","tragedy","trail","trailer","trailpatrol","train","trainer","training","trait","tram","tramp","trance","transaction","transcript","transfer","transformation","transit","transition","translation","transmission","transom","transparency","transplantation","transport","transportation","trap","trapdoor","trapezium","trapezoid","trash","travel","traveler","tray","treasure","treasury","treat","treatment","treaty","tree","trek","trellis","tremor","trench","trend","triad","trial","triangle","tribe","tributary","trick","trigger","trigonometry","trillion","trim","trinket","trip","tripod","tritone","triumph","trolley","trombone","troop","trooper","trophy","trouble","trousers","trout","trove","trowel","truck","trumpet","trunk","trust","trustee","truth","try","tsunami","tub","tuba","tube","tuber","tug","tugboat","tuition","tulip","tumbler","tummy","tuna","tune","tune-up","tunic","tunnel","turban","turf","turkey","turmeric","turn","turning","turnip","turnover","turnstile","turret","turtle","tusk","tussle","tutu","tuxedo","tweet","tweezers","twig","twilight","twine","twins","twist","twister","twitter","type","typeface","typewriter","typhoon","ukulele","ultimatum","umbrella","unblinking","uncertainty","uncle","underclothes","underestimate","underground","underneath","underpants","underpass","undershirt","understanding","understatement","undertaker","underwear","underweight","underwire","underwriting","unemployment","unibody","uniform","uniformity","union","unique","unit","unity","universe","university","update","upgrade","uplift","upper","upstairs","upward","urge","urgency","urn","usage","use","user","usher","usual","utensil","utilisation","utility","utilization","vacation","vaccine","vacuum","vagrant","valance","valentine","validate","validity","valley","valuable","value","vampire","van","vanadyl","vane","vanilla","vanity","variability","variable","variant","variation","variety","vascular","vase","vault","vaulting","veal","vector","vegetable","vegetarian","vegetarianism","vegetation","vehicle","veil","vein","veldt","vellum","velocity","velodrome","velvet","vendor","veneer","vengeance","venison","venom","venti","venture","venue","veranda","verb","verdict","verification","vermicelli","vernacular","verse","version","vertigo","verve","vessel","vest","vestment","vet","veteran","veterinarian","veto","viability","vibe","vibraphone","vibration","vibrissae","vice","vicinity","victim","victory","video","view","viewer","vignette","villa","village","vine","vinegar","vineyard","vintage","vintner","vinyl","viola","violation","violence","violet","violin","virginal","virtue","virus","visa","viscose","vise","vision","visit","visitor","visor","vista","visual","vitality","vitamin","vitro","vivo","vixen","vodka","vogue","voice","void","vol","volatility","volcano","volleyball","volume","volunteer","volunteering","vomit","vote","voter","voting","voyage","vulture","wad","wafer","waffle","wage","wagon","waist","waistband","wait","waiter","waiting","waitress","waiver","wake","walk","walker","walking","walkway","wall","wallaby","wallet","walnut","walrus","wampum","wannabe","want","war","warden","wardrobe","warfare","warlock","warlord","warm-up","warming","warmth","warning","warrant","warren","warrior","wasabi","wash","washbasin","washcloth","washer","washtub","wasp","waste","wastebasket","wasting","watch","watcher","watchmaker","water","waterbed","watercress","waterfall","waterfront","watermelon","waterskiing","waterspout","waterwheel","wave","waveform","wax","way","weakness","wealth","weapon","wear","weasel","weather","web","webinar","webmail","webpage","website","wedding","wedge","weed","weeder","weedkiller","week","weekend","weekender","weight","weird","welcome","welfare","well","well-being","west","western","wet-bar","wetland","wetsuit","whack","whale","wharf","wheat","wheel","whelp","whey","whip","whirlpool","whirlwind","whisker","whiskey","whisper","whistle","white","whole","wholesale","wholesaler","whorl","wick","widget","widow","width","wife","wifi","wild","wildebeest","wilderness","wildlife","will","willingness","willow","win","wind","wind-chime","windage","window","windscreen","windshield","wine","winery","wing","wingman","wingtip","wink","winner","winter","wire","wiretap","wiring","wisdom","wiseguy","wish","wisteria","wit","witch","witch-hunt","withdrawal","witness","wok","wolf","woman","wombat","wonder","wont","wood","woodchuck","woodland","woodshed","woodwind","wool","woolens","word","wording","work","workbench","worker","workforce","workhorse","working","workout","workplace","workshop","world","worm","worry","worship","worshiper","worth","wound","wrap","wraparound","wrapper","wrapping","wreck","wrecker","wren","wrench","wrestler","wriggler","wrinkle","wrist","writer","writing","wrong","xylophone","yacht","yahoo","yak","yam","yang","yard","yarmulke","yarn","yawl","year","yeast","yellow","yellowjacket","yesterday","yew","yin","yoga","yogurt","yoke","yolk","young","youngster","yourself","youth","yoyo","yurt","zampone","zebra","zebrafish","zen","zephyr","zero","ziggurat","zinc","zipper","zither","zombie","zone","zoo","zoologist","zoology","zoot-suit","zucchini"],preposition:["a","abaft","aboard","about","above","absent","across","afore","after","against","along","alongside","amid","amidst","among","amongst","an","anenst","anti","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","concerning","considering","despite","down","during","except","excepting","excluding","failing","following","for","forenenst","from","given","in","including","inside","into","lest","like","mid","midst","minus","modulo","near","next","notwithstanding","of","off","on","onto","opposite","out","outside","over","pace","past","per","plus","pro","qua","regarding","round","sans","save","since","than","the","through","throughout","till","times","to","toward","towards","under","underneath","unlike","until","unto","up","upon","versus","via","vice","with","within","without","worth"],verb:["abandon","abase","abate","abbreviate","abdicate","abduct","abet","abhor","abide","abjure","abnegate","abolish","abominate","abort","abound","abrade","abridge","abrogate","abscond","abseil","absent","absolve","absorb","abstain","abstract","abuse","abut","accede","accelerate","accent","accentuate","accept","access","accessorise","accessorize","acclaim","acclimate","acclimatise","acclimatize","accommodate","accompany","accomplish","accord","accost","account","accouter","accoutre","accredit","accrue","acculturate","accumulate","accuse","accustom","ace","ache","achieve","acidify","acknowledge","acquaint","acquiesce","acquire","acquit","act","action","activate","actualise","actualize","actuate","adapt","add","addle","address","adduce","adhere","adjoin","adjourn","adjudge","adjudicate","adjure","adjust","administer","admire","admit","admonish","adopt","adore","adorn","adsorb","adulterate","adumbrate","advance","advantage","advertise","advise","advocate","aerate","affect","affiliate","affirm","affix","afflict","afford","afforest","affront","age","agglomerate","aggravate","aggregate","agitate","agonise","agonize","agree","aid","ail","aim","air","airbrush","airdrop","airfreight","airlift","alarm","alert","alienate","alight","align","allay","allege","alleviate","allocate","allot","allow","alloy","allude","ally","alphabetise","alphabetize","alter","alternate","amalgamate","amass","amaze","amble","ambush","ameliorate","amend","amortise","amortize","amount","amplify","amputate","amuse","anaesthetise","anaesthetize","analyse","anchor","anesthetize","anger","angle","anglicise","anglicize","animate","anneal","annex","annihilate","annotate","announce","annoy","annul","anodise","anodize","anoint","anonymise","anonymize","answer","antagonise","antagonize","antedate","anthologise","anthologize","anticipate","ape","apologise","apologize","apostrophise","apostrophize","appal","appall","appeal","appear","appease","append","appertain","applaud","apply","appoint","apportion","appraise","appreciate","apprehend","apprentice","apprise","approach","appropriate","approve","approximate","aquaplane","arbitrate","arc","arch","archive","argue","arise","arm","arouse","arraign","arrange","array","arrest","arrive","arrogate","arse","art","articulate","ascend","ascertain","ascribe","ask","asphyxiate","aspirate","aspire","assail","assassinate","assault","assay","assemble","assent","assert","assess","assign","assimilate","assist","associate","assuage","assume","assure","asterisk","astonish","astound","atomise","atomize","atone","atrophy","attach","attack","attain","attempt","attend","attenuate","attest","attract","attribute","auction","audit","audition","augment","augur","authenticate","author","authorise","authorize","autograph","automate","autosave","autowind","avail","avenge","aver","average","avert","avoid","avow","await","awake","awaken","award","awe","ax","axe","baa","babble","baby","babysit","back","backcomb","backdate","backfill","backfire","backlight","backpack","backspace","backtrack","badger","baffle","bag","bail","bait","bake","balance","bale","ball","balloon","ballot","balls","bamboozle","ban","band","bandage","bandy","bang","bangs","banish","bank","bankroll","bankrupt","banter","baptise","baptize","bar","barbecue","bare","barf","bargain","barge","bark","barnstorm","barrack","barrel","barricade","barter","base","bash","bask","bastardise","bastardize","baste","bat","batch","bath","bathe","batten","batter","battle","baulk","bawl","bay","bayonet","be","beach","beam","bean","bear","beard","beat","beatbox","beatboxer","beatify","beautify","beaver","beckon","become","bed","bedazzle","bedeck","bedevil","beef","beep","beetle","befall","befit","befog","befriend","beg","beget","beggar","begin","begrudge","beguile","behave","behead","behold","behoove","behove","belabor","belabour","belay","belch","belie","believe","belittle","bellow","belly","bellyache","belong","belt","bemoan","bemuse","benchmark","bend","benefit","bequeath","berate","bereave","berth","beseech","beset","besiege","besmirch","bespatter","bespeak","best","bestir","bestow","bestride","bet","betake","betide","betoken","betray","better","bewail","beware","bewilder","bewitch","bias","bicker","bicycle","bid","bide","biff","bifurcate","big","bike","bilk","bill","billet","billow","bin","bind","binge","biodegrade","bird","bisect","bitch","bite","bitmap","bivouac","bivvy","blab","blabber","black","blackball","blacken","blacklist","blackmail","blag","blame","blanch","blank","blanket","blare","blaspheme","blast","blather","blaze","blazon","bleach","bleat","bleed","bleep","blemish","blench","blend","bless","blight","blind","blindfold","blindfolded","blindside","blink","bliss","blister","blitz","bloat","block","blockade","blog","blood","bloom","bloop","blossom","blot","blow","blub","blubber","bludge","bludgeon","bluff","blunder","blunt","blur","blurt","blush","bluster","board","boast","bob","bobble","bode","bodge","bog","boggle","boil","bolster","bolt","bomb","bombard","bond","bone","bonk","boo","boob","boogie","book","bookmark","boom","boomerang","boost","boot","bootleg","booze","bop","border","bore","born","borrow","boss","botch","bother","bottle","bottleful","bottom","bounce","bound","bow","bowdlerise","bowdlerize","bowl","bowlful","box","boycott","braai","brace","braces","bracket","brag","braid","brain","brainstorm","brainwash","braise","brake","branch","brand","brandish","brave","brawl","bray","brazen","breach","break","breakfast","breast","breastfeed","breathalyse","breathalyze","breathe","breed","breeze","brew","bribe","brick","bridge","bridle","brief","brighten","brim","bring","bristle","broach","broadcast","broaden","broadside","broil","broker","brood","brook","browbeat","brown","browse","bruise","bruit","brush","brutalise","brutalize","bubble","buck","bucket","bucketful","buckle","bud","buddy","budge","budget","buff","buffer","buffet","bug","bugger","build","bulge","bulk","bulldoze","bullshit","bully","bum","bumble","bump","bunch","bundle","bung","bungle","bunk","bunker","bunt","buoy","burble","burden","burgeon","burglarize","burgle","burn","burnish","burp","burrow","burst","bury","bus","bushwhack","busk","bust","bustle","busy","butcher","butt","butter","button","buttonhole","buttress","buy","buzz","buzzing","bypass","cable","cache","cackle","caddie","cadge","cage","cajole","cake","calcify","calculate","calibrate","call","calm","calve","camouflage","camp","campaign","can","canalise","canalize","cancel","cane","cannibalise","cannibalize","cannon","cannulate","canoe","canonise","canonize","canoodle","canst","cant","canter","canvass","cap","caper","capitalise","capitalize","capitulate","capsize","captain","caption","captivate","capture","caramelise","caramelize","carbonise","carbonize","carburise","carburize","card","care","careen","career","caress","caricature","carjack","carol","carom","carouse","carp","carpet","carpool","carry","cart","cartwheel","carve","cascade","case","cash","cashier","casserole","cast","castigate","castrate","catalog","catalogue","catalyse","catalyze","catapult","catch","categorise","categorize","cater","caterwaul","catnap","caucus","caulk","cause","cauterise","cauterize","caution","cave","cavil","cavort","caw","cc","cease","cede","celebrate","cement","censor","censure","centralise","centralize","centre","certificate","certify","chafe","chaff","chain","chair","chalk","challenge","champ","champion","chance","change","channel","chant","chaperon","chaperone","char","characterise","characterize","charbroil","charge","chargesheet","chargrill","charm","chart","charter","chase","chasten","chastise","chat","chatter","chauffeur","cheapen","cheat","cheater","check","checkmate","cheek","cheep","cheer","cherish","chew","chicken","chide","chill","chillax","chime","chink","chip","chirp","chisel","chivvy","chlorinate","choke","chomp","choose","chop","choreograph","chortle","chorus","christen","chromakey","chronicle","chuck","chuckle","chug","chunder","chunter","churn","cinch","circle","circulate","circumcise","circumnavigate","circumscribe","circumvent","cite","civilise","civilize","clack","claim","clam","clamber","clamor","clamour","clamp","clang","clank","clap","clarify","clash","clasp","class","classify","clatter","claw","clean","cleanse","clear","cleave","clench","clerk","click","climax","climb","clinch","cling","clink","clinking","clip","cloak","clobber","clock","clog","clone","clonk","close","closet","clot","clothe","cloud","clout","clown","club","cluck","clue","clump","clunk","cluster","clutch","clutter","coach","coagulate","coalesce","coarsen","coast","coat","coax","cobble","cock","cocoon","coddle","code","codify","coerce","coexist","cogitate","cohabit","cohere","coil","coin","coincide","collaborate","collapse","collar","collate","collect","collectivise","collectivize","collide","colligate","collocate","collude","colonise","colonize","colorize","colour","comb","combat","combine","combust","come","comfort","command","commandeer","commemorate","commence","commend","comment","commentate","commercialise","commercialize","commingle","commiserate","commission","commit","commune","communicate","commute","compact","compare","compartmentalise","compartmentalize","compel","compensate","compete","compile","complain","complement","complete","complicate","compliment","comply","comport","compose","compost","compound","comprehend","compress","comprise","compromise","compute","computerise","computerize","con","conceal","concede","conceive","concentrate","conceptualise","conceptualize","concern","concertina","conciliate","conclude","concoct","concrete","concur","concuss","condemn","condense","condescend","condition","condone","conduct","cone","confer","confess","confide","configure","confine","confirm","confiscate","conflate","conflict","conform","confound","confront","confuse","confute","congeal","congratulate","congregate","conjecture","conjoin","conjugate","conjure","conk","connect","connive","connote","conquer","conscientise","conscientize","conscript","consecrate","consent","conserve","consider","consign","consist","console","consolidate","consort","conspire","constitute","constrain","constrict","construct","construe","consult","consume","consummate","contact","contain","contaminate","contemplate","contend","content","contest","contextualise","contextualize","continue","contort","contract","contradict","contraindicate","contrast","contravene","contribute","contrive","control","controvert","convalesce","convene","converge","converse","convert","convey","convict","convince","convoke","convulse","coo","cook","cool","coop","cooperate","coordinate","cop","cope","coppice","copulate","copy","copyright","cordon","core","cork","corkscrew","corner","corral","correct","correlate","correspond","corrode","corrupt","coruscate","cosh","cosset","cost","cosy","cotton","couch","cough","counsel","count","countenance","counter","counteract","counterbalance","counterfeit","countermand","counterpoint","countersign","couple","courier","course","court","covenant","cover","covet","cow","cower","cox","cozy","crack","crackle","cradle","craft","cram","cramp","crane","crank","crap","crash","crate","crave","crawl","crayon","creak","creaking","cream","crease","create","credential","credit","creep","cremate","creolise","creolize","creosote","crest","crew","crib","crick","criminalise","criminalize","crimp","cringe","crinkle","cripple","crisp","criticise","criticize","critique","croak","crochet","crook","croon","crop","cross","crouch","crow","crowd","crown","crucify","cruise","crumble","crumple","crunch","crusade","crush","cry","crystallise","crystallize","cube","cuckold","cuddle","cudgel","cue","cuff","cull","culminate","cultivate","culture","cup","curate","curb","curdle","cure","curl","curry","curse","curtail","curtain","curtsy","curve","cushion","cuss","customise","customize","cut","cwtch","cycle","dab","dabble","dally","dam","damage","dammit","damn","damp","dampen","dance","dandle","dangle","dare","darken","darn","dart","dash","date","daub","daunt","dawdle","dawn","daydream","dazzle","deactivate","deaden","deadhead","deafen","deal","debar","debase","debate","debilitate","debit","debrief","debug","debunk","debut","decamp","decant","decapitate","decay","deceive","decelerate","decentralise","decentralize","decide","decimalise","decimalize","decimate","decipher","deck","declaim","declare","declassify","decline","declutter","decode","decommission","decompose","decompress","deconsecrate","deconstruct","decontaminate","decontrol","decorate","decouple","decoy","decrease","decree","decriminalise","decriminalize","decry","decrypt","dedicate","deduce","deduct","deejay","deem","deepen","deface","defame","default","defeat","defecate","defect","defend","defer","defile","define","deflate","deflect","deflower","defog","defoliate","deforest","deform","defrag","defragment","defraud","defray","defrock","defrost","defuse","defy","degenerate","deglaze","degrade","degrease","dehumanise","dehumanize","dehydrate","deify","deign","delay","delegate","delete","deliberate","delight","delimit","delineate","deliquesce","deliver","delouse","delude","deluge","delve","demand","demarcate","demean","demerge","demilitarise","demilitarize","demineralise","demineralize","demist","demo","demob","demobilise","demobilize","democratise","democratize","demolish","demonise","demonize","demonstrate","demoralise","demoralize","demote","demotivate","demur","demystify","denationalise","denationalize","denigrate","denitrify","denominate","denote","denounce","dent","denude","deny","depart","depend","depersonalise","depersonalize","depict","deplane","deplete","deplore","deploy","depopulate","deport","depose","deposit","deprave","deprecate","depreciate","depress","depressurise","depressurize","deprive","depute","deputise","deputize","deracinate","derail","dereference","deregulate","deride","derive","derogate","descale","descend","describe","descry","desecrate","desegregate","deselect","desensitise","desensitize","desert","deserve","design","designate","desire","desist","deskill","desolate","despair","despise","despoil","destabilise","destabilize","destock","destroy","detach","detail","detain","detect","deter","deteriorate","determine","detest","dethrone","detonate","detour","detoxify","detract","detrain","devalue","devastate","develop","deviate","devise","devoice","devolve","devote","devour","diagnose","dial","dice","dicker","dictate","diddle","die","diet","differ","differentiate","diffract","diffuse","dig","digest","digitalise","digitalize","digitise","digitize","dignify","digress","dilate","dilute","diluted","dim","diminish","dimple","dine","ding","dink","dip","diphthongise","diphthongize","direct","dirty","dis","disable","disabuse","disadvantage","disaffiliate","disafforest","disagree","disallow","disambiguate","disappear","disappoint","disapprove","disarm","disarrange","disassemble","disassociate","disavow","disband","disbar","disbelieve","disburse","discard","discern","discharge","discipline","disclaim","disclose","discolor","discolour","discomfit","discomfort","discompose","disconcert","disconnect","discontinue","discount","discourage","discourse","discover","discredit","discriminate","discuss","disdain","disembark","disembowel","disenfranchise","disengage","disentangle","disestablish","disfigure","disgorge","disgrace","disguise","disgust","dish","dishearten","dishonor","dishonour","disillusion","disincentivise","disincentivize","disinfect","disinherit","disinhibit","disintegrate","disinter","disinvest","dislike","dislocate","dislodge","dismantle","dismay","dismember","dismiss","dismount","disobey","disorient","disorientate","disown","disparage","dispatch","dispel","dispense","disperse","displace","display","displease","disport","dispose","dispossess","disprove","dispute","disqualify","disregard","disrespect","disrobe","disrupt","dissect","dissemble","disseminate","dissent","dissimulate","dissipate","dissociate","dissolve","dissuade","distance","distend","distil","distill","distinguish","distort","distract","distress","distribute","distrust","disturb","disunite","ditch","dither","dive","diverge","diversify","divert","divest","divide","divine","divorce","divulge","divvy","do","dob","dock","doctor","document","dodge","doff","dog","dole","doll","dollarise","dollarize","domesticate","dominate","don","donate","doodle","doom","doorstep","dop","dope","dose","doss","dot","dote","double","doubt","douche","douse","dovetail","down","downchange","downgrade","downlink","download","downplay","downshift","downsize","dowse","doze","draft","drag","dragoon","drain","dramatise","dramatize","drape","draught","draw","drawl","dread","dream","dredge","drench","dress","dribble","drift","drill","drink","drip","drive","drivel","drizzle","drone","drool","droop","drop","drown","drowse","drug","drum","dry","dub","duck","duckie","ducks","duel","duff","dull","dumb","dumbfound","dummy","dump","dunk","dunt","dupe","duplicate","dust","dwarf","dwell","dwindle","dye","dynamite","earmark","earn","earth","ease","eat","eavesdrop","ebb","echo","eclipse","economise","economize","eddy","edge","edify","edit","editorialise","editorialize","educate","eff","efface","effect","effectuate","egg","ejaculate","eject","eke","elaborate","elapse","elbow","elect","electrify","electrocute","electroplate","elevate","elicit","elide","eliminate","elongate","elope","elucidate","elude","email","emanate","emancipate","emasculate","embalm","embargo","embark","embarrass","embed","embellish","embezzle","embitter","emblazon","embody","embolden","emboss","embrace","embroider","embroil","emcee","emend","emerge","emigrate","emit","emote","empathise","empathize","emphasise","emphasize","employ","empower","empty","emulate","emulsify","enable","enact","encamp","encapsulate","encase","encash","enchant","encircle","enclose","encode","encompass","encounter","encourage","encroach","encrypt","encumber","end","endanger","endear","endeavor","endeavour","endorse","endow","endure","energise","energize","enervate","enfeeble","enfold","enforce","enfranchise","engage","engender","engineer","engorge","engrave","engross","engulf","enhance","enjoin","enjoy","enlarge","enlighten","enlist","enliven","enmesh","ennoble","enquire","enrage","enrapture","enrich","enrol","enroll","ensconce","enshrine","enshroud","enslave","ensnare","ensue","ensure","entail","entangle","enter","entertain","enthral","enthrall","enthrone","enthuse","entice","entitle","entomb","entrance","entrap","entreat","entrench","entrust","entwine","enumerate","enunciate","envelop","envisage","envision","envy","epitomise","epitomize","equal","equalise","equalize","equate","equip","equivocate","eradicate","erase","erect","erode","err","erupt","escalate","escape","eschew","escort","espouse","espy","essay","establish","esteem","estimate","etch","eulogise","eulogize","euthanise","euthanize","evacuate","evade","evaluate","evangelise","evangelize","evaporate","even","eventuate","evict","evidence","evince","eviscerate","evoke","evolve","exacerbate","exact","exaggerate","exalt","examine","exasperate","excavate","exceed","excel","except","excerpt","exchange","excise","excite","exclaim","exclude","excommunicate","excoriate","excrete","exculpate","excuse","execute","exemplify","exempt","exercise","exert","exeunt","exfoliate","exhale","exhaust","exhibit","exhilarate","exhort","exhume","exile","exist","exit","exonerate","exorcise","exorcize","expand","expatiate","expect","expectorate","expedite","expel","expend","experience","experiment","expiate","expire","explain","explicate","explode","exploit","explore","export","expose","expostulate","expound","express","expropriate","expunge","expurgate","extemporise","extemporize","extend","exterminate","externalise","externalize","extinguish","extirpate","extol","extort","extract","extradite","extrapolate","extricate","extrude","exude","exult","eye","eyeball","eyeglasses","fabricate","face","facilitate","factor","factorise","factorize","fade","faff","fail","faint","fake","fall","falsify","falter","familiarise","familiarize","fan","fancy","fantasise","fantasize","fare","farewell","farm","farrow","fart","fascinate","fashion","fast","fasten","father","fathom","fatten","fault","favor","favour","fawn","fax","faze","fear","feast","feather","feature","federate","feed","feel","feign","feint","fell","fellate","feminise","feminize","fence","fend","ferment","ferret","ferry","fertilise","fertilize","fess","fester","festoon","fetch","fete","fetishise","fetishize","fetter","feud","fib","fictionalise","fictionalize","fiddle","fidget","field","fight","figure","filch","file","filibuster","fill","fillet","film","filter","finagle","finalise","finalize","finance","find","fine","finesse","finger","fingerprint","finish","fire","firebomb","firm","fish","fishtail","fit","fix","fizz","fizzle","flag","flagellate","flail","flake","flame","flank","flap","flare","flash","flat","flatline","flatten","flatter","flaunt","flavour","flay","fleck","flee","fleece","flesh","flex","flick","flicker","flight","flinch","fling","flip","flirt","flit","float","flock","flog","flood","floodlight","floor","flop","floss","flounce","flounder","flour","flourish","flout","flow","flower","flub","fluctuate","fluff","flummox","flunk","flush","fluster","flutter","fly","foal","foam","fob","focalise","focalize","focus","fog","foil","foist","fold","follow","foment","fondle","fool","foot","forage","forbear","forbid","force","ford","forearm","forecast","foreclose","foregather","foreground","foresee","foreshadow","foreshorten","forestall","foretell","forewarn","forfeit","forfend","forgather","forge","forget","forgive","forgo","fork","form","formalise","formalize","format","formulate","fornicate","forsake","forswear","fortify","forward","forwards","fossick","fossilise","fossilize","foster","foul","found","founder","fox","fracture","fragment","frame","franchise","frank","fraternise","fraternize","fray","freak","free","freelance","freeload","freestyle","freewheel","freeze","freight","frequent","freshen","fret","frighten","fringe","frisk","fritter","frizz","frizzle","frogmarch","frolic","front","frost","froth","frown","fruit","frustrate","fry","fuck","fudge","fuel","fulfil","fulfill","fulminate","fumble","fume","fumigate","function","fund","funk","funnel","furl","furlough","furnish","furrow","further","fuse","fuss","gab","gabble","gad","gag","gain","gainsay","gall","gallivant","gallop","galumph","galvanise","galvanize","gamble","gambol","gang","gape","garage","garden","gargle","garland","garner","garnish","garrison","garrote","garrotte","gas","gash","gasp","gatecrash","gather","gauge","gawk","gawp","gaze","gazump","gazunder","gear","gee","gel","geld","gen","generalise","generalize","generate","gentrify","genuflect","germinate","gerrymander","gestate","gesticulate","gesture","get","ghost","ghostwrite","gibber","gift","giggle","gild","ginger","gird","girdle","give","gladden","glamorise","glamorize","glance","glare","glass","glaze","gleam","glean","glide","glimmer","glimmering","glimpse","glint","glisten","glister","glitter","gloat","globalise","globalize","glom","glorify","glory","gloss","glow","glower","glue","glug","glut","gnash","gnaw","go","goad","gob","gobble","goggle","goldbrick","goof","google","goose","gore","gorge","gossip","gouge","govern","grab","grace","grade","graduate","graft","grant","grapple","grasp","grass","grate","gratify","gravitate","graze","grease","green","greet","grey","grieve","grill","grimace","grin","grind","grip","gripe","grit","grizzle","groan","grok","groom","grope","gross","grouch","ground","group","grouse","grout","grovel","grow","growl","grub","grudge","grumble","grunt","guarantee","guard","guess","guest","guffaw","guide","guillotine","guilt","gulp","gum","gun","gurgle","gurn","gush","gussy","gust","gut","gutter","guzzle","gybe","gyp","gyrate","hack","haemorrhage","haggle","hail","hallmark","halloo","hallucinate","halt","halve","ham","hammer","hamper","hamstring","hand","handcuff","handicap","handle","hang","hanker","happen","harangue","harass","harbor","harbour","harden","hare","hark","harm","harmonise","harmonize","harness","harp","harpoon","harrow","harrumph","harry","harvest","hash","hassle","hasten","hatch","hate","haul","haunt","have","haw","hawk","hazard","haze","head","headbutt","headhunt","headline","heal","heap","hear","hearken","hearten","heat","heave","heckle","hector","hedge","heed","heel","heft","heighten","heist","help","hem","hemorrhage","herald","herd","hesitate","hew","hex","hibernate","hiccough","hiccup","hide","hie","highball","highlight","hightail","hijack","hike","hinder","hinge","hint","hire","hiss","hit","hitch","hitchhike","hive","hoard","hoax","hobble","hobnob","hock","hoe","hog","hoick","hoist","hold","hole","holiday","holler","hollow","holster","home","homeschool","homestead","hone","honeymoon","honk","honour","hoodwink","hoof","hook","hoon","hoot","hoover","hop","hope","horn","horrify","horse","horsewhip","hose","hosepipe","hospitalise","hospitalize","host","hot","hotfoot","hound","house","hover","howl","huddle","huff","hug","hull","hum","humanise","humanize","humble","humiliate","humour","hump","hunch","hunger","hunker","hunt","hurdle","hurl","hurry","hurt","hurtle","husband","hush","husk","hustle","hybridise","hybridize","hydrate","hydroplane","hype","hyperventilate","hyphenate","hypnotise","hypnotize","hypothesise","hypothesize","ice","iconify","idealise","idealize","ideate","identify","idle","idolise","idolize","ignite","ignore","illuminate","illumine","illustrate","imagine","imagineer","imbibe","imbue","imitate","immerse","immigrate","immobilise","immobilize","immolate","immortalise","immortalize","immunise","immunize","immure","impact","impair","impale","impanel","impart","impeach","impede","impel","imperil","impersonate","impinge","implant","implement","implicate","implode","implore","imply","import","importune","impose","impound","impoverish","impregnate","impress","imprint","imprison","improve","improvise","impugn","inactivate","inaugurate","incapacitate","incarcerate","incarnate","incense","incentivise","incentivize","inch","incinerate","incise","incite","incline","include","incommode","inconvenience","incorporate","increase","incriminate","incubate","inculcate","incur","indemnify","indent","index","indicate","indict","individualise","individualize","individuate","indoctrinate","induce","induct","indulge","industrialise","industrialize","infantilise","infantilize","infect","infer","infest","infill","infiltrate","inflame","inflate","inflect","inflict","influence","inform","infringe","infuriate","infuse","ingest","ingratiate","inhabit","inhale","inhere","inherit","inhibit","initial","initialise","initialize","initiate","inject","injure","ink","inlay","innovate","inoculate","input","inscribe","inseminate","insert","inset","insinuate","insist","inspect","inspire","install","instance","instigate","instil","instill","institute","institutionalise","institutionalize","instruct","insulate","insult","insure","integrate","intend","intensify","inter","interact","interbreed","intercede","intercept","interchange","interconnect","intercut","interest","interface","interfere","interject","interlace","interleave","interlink","interlock","intermarry","intermesh","intermingle","intermix","intern","internalise","internalize","internationalise","internationalize","interpenetrate","interpolate","interpose","interpret","interrelate","interrogate","interrupt","intersect","intersperse","intertwine","intervene","interview","interweave","interwork","intimate","intimidate","intone","intoxicate","intrigue","introduce","intrude","intubate","intuit","inundate","inure","invade","invalid","invalidate","inveigh","inveigle","invent","inventory","invert","invest","investigate","invigilate","invigorate","invite","invoice","invoke","involve","ionise","ionize","irk","iron","irradiate","irrigate","irritate","irrupt","isolate","issue","italicise","italicize","itch","itemise","itemize","iterate","jab","jabber","jack","jackknife","jail","jam","jangle","jar","jaw","jaywalk","jazz","jeer","jell","jeopardise","jeopardize","jerk","jest","jet","jettison","jib","jibe","jig","jiggle","jilt","jingle","jink","jinx","jive","jockey","jog","joggle","join","joint","joke","jol","jolly","jolt","josh","jostle","jot","journey","joust","judder","judge","juggle","juice","jumble","jump","junk","justify","jut","juxtapose","keel","keelhaul","keen","keep","ken","key","keyboard","kibitz","kick","kid","kidnap","kill","kindle","kink","kip","kiss","kit","kite","klap","kludge","knacker","knead","knee","kneecap","kneel","knife","knight","knit","knock","knot","know","knuckle","kowtow","kvetch","label","labour","lace","lacerate","lack","lacquer","lactate","ladder","ladle","lag","lam","lamb","lambast","lambaste","lament","lamp","lampoon","lance","land","lands","landscape","languish","lap","lapse","lard","large","lark","lash","lasso","last","latch","lather","laud","laugh","launch","launder","lavish","lay","layer","laze","leach","lead","leaf","leaflet","leak","lean","leap","leapfrog","learn","lease","leash","leave","leaven","lech","lecture","leer","leg","legalise","legalize","legislate","legitimise","legitimize","lend","lengthen","lessen","let","letter","letterbox","level","lever","leverage","levitate","levy","liaise","libel","liberalise","liberalize","liberate","license","lick","lie","lift","ligate","light","lighten","like","liken","limber","lime","limit","limp","line","linger","link","lionise","lionize","liquefy","liquidate","liquidise","liquidize","lisp","list","listen","litigate","litter","live","liven","load","loads","loaf","loan","loathe","lob","lobby","lobotomise","lobotomize","localise","localize","locate","lock","lodge","loft","log","loiter","loll","lollop","long","look","looks","loom","loop","loose","loosen","loot","lop","lope","lord","lose","lounge","lour","louse","love","low","lowball","lower","lubricate","luck","lug","lull","lumber","lump","lunch","lunge","lurch","lure","lurk","lust","luxuriate","lynch","macerate","machine","madden","magic","magnetise","magnetize","magnify","mail","maim","mainline","mainstream","maintain","major","make","malfunction","malign","malinger","maltreat","man","manacle","manage","mandate","mangle","manhandle","manicure","manifest","manipulate","manoeuvre","mantle","manufacture","manure","map","mar","march","marginalise","marginalize","marinate","mark","market","maroon","marry","marshal","martyr","marvel","masculinise","masculinize","mash","mask","masquerade","mass","massacre","massage","master","mastermind","masticate","masturbate","match","mate","materialise","materialize","matriculate","matter","mature","maul","maunder","max","maximise","maximize","mean","meander","measure","mechanise","mechanize","medal","meddle","mediate","medicate","meditate","meet","meld","mellow","melt","memorialise","memorialize","memorise","memorize","menace","mend","menstruate","mention","meow","mercerise","mercerize","merchandise","merge","merit","mesh","mesmerise","mesmerize","mess","message","metabolise","metabolize","metamorphose","mete","meter","methinks","mew","mewl","miaow","microblog","microchip","micromanage","microwave","micturate","migrate","militarise","militarize","militate","milk","mill","mime","mimic","mince","mind","mine","mingle","miniaturise","miniaturize","minimise","minimize","minister","minor","mint","minute","mirror","misapply","misappropriate","misbehave","miscalculate","miscarry","miscast","misconceive","misconstrue","miscount","misdiagnose","misdial","misdirect","misfile","misfire","misgovern","mishandle","mishear","mishit","misinform","misinterpret","misjudge","miskey","mislay","mislead","mismanage","mismatch","misname","misplace","misplay","mispronounce","misquote","misread","misreport","misrepresent","miss","mission","misspell","misspend","mist","mistake","mistime","mistreat","mistrust","misunderstand","misuse","mitigate","mitre","mix","moan","mob","mobilise","mobilize","mock","mod","model","moderate","modernise","modernize","modify","modulate","moisten","moisturise","moisturize","mold","molder","molest","mollify","mollycoddle","molt","monitor","monopolise","monopolize","moo","mooch","moon","moonlight","moonwalk","moor","moot","mop","mope","moralise","moralize","morph","mortar","mortgage","mortify","mosey","mosh","mothball","mother","motion","motivate","motor","mould","moulder","moult","mount","mourn","mouse","mouth","move","movies","mow","muck","muddle","muddy","muff","muffle","mug","mulch","mull","multicast","multiply","multitask","mumble","mumbling","mummify","munch","murder","murmur","murmuring","murmurings","muscle","muse","mushroom","muss","muster","mutate","mute","mutilate","mutiny","mutter","muzzle","mystify","nab","nag","nail","name","namecheck","nap","narrate","narrow","narrowcast","nasalise","nasalize","nationalise","nationalize","natter","naturalise","naturalize","nauseate","navigate","near","nearer","nearest","neaten","necessitate","neck","necklace","need","needle","negate","negative","neglect","negotiate","neigh","nerve","nest","nestle","net","nettle","network","neuter","neutralise","neutralize","nibble","nick","nickname","niggle","nip","nitrify","nix","nobble","nod","nominalize","nominate","norm","normalise","normalize","nose","nosedive","nosh","notarise","notarize","notch","note","notice","notify","nourish","nudge","nuke","nullify","numb","number","nurse","nurture","nut","nuzzle","obey","obfuscate","object","objectify","oblige","obliterate","obscure","observe","obsess","obstruct","obtain","obtrude","obviate","occasion","occlude","occupy","occur","off","offend","offer","officiate","offload","offset","offshore","ogle","oil","okay","omit","ooze","open","operate","opine","oppose","oppress","opt","optimise","optimize","option","orbit","orchestrate","ordain","order","organise","organize","orient","orientate","originate","ornament","orphan","oscillate","ossify","ostracise","ostracize","oust","out","outbid","outclass","outdistance","outdo","outface","outfit","outflank","outfox","outgrow","outgun","outlast","outlaw","outline","outlive","outmaneuver","outmanoeuvre","outnumber","outpace","outperform","outplay","outpoint","output","outrage","outrank","outrun","outsell","outshine","outsmart","outsource","outstay","outstrip","outvote","outweigh","outwit","overachieve","overact","overawe","overbalance","overbook","overburden","overcharge","overcome","overcompensate","overcook","overdevelop","overdo","overdose","overdraw","overdub","overeat","overemphasize","overestimate","overexpose","overextend","overfeed","overflow","overfly","overgeneralise","overgeneralize","overgraze","overhang","overhaul","overhear","overheat","overindulge","overlap","overlay","overlie","overload","overlook","overpay","overplay","overpower","overprint","overproduce","overrate","overreach","overreact","override","overrule","overrun","oversee","oversell","overshadow","overshoot","oversimplify","oversleep","overspend","overstate","overstay","overstep","overstock","overstretch","overtake","overtax","overthrow","overtrain","overturn","overuse","overvalue","overwhelm","overwinter","overwork","overwrite","ovulate","owe","own","oxidise","oxidize","oxygenate","pace","pacify","pack","package","packetise","packetize","pad","paddle","padlock","page","paginate","pailful","pain","paint","pair","pal","palatalise","palatalize","pale","pall","palliate","palm","palpate","palpitate","pamper","pan","pander","panel","panhandle","panic","pant","paper","parachute","parade","parallel","paralyse","paralyze","paraphrase","parboil","parcel","parch","pardon","pare","park","parlay","parley","parody","parole","parrot","parry","parse","part","partake","participate","particularise","particularize","partition","partner","party","pass","passivise","passivize","paste","pasteurise","pasteurize","pasture","pat","patch","patent","patrol","patronise","patronize","patter","pattern","pause","pave","paw","pawn","pay","peak","peal","peck","pedal","peddle","pedestrianise","pedestrianize","pee","peek","peel","peep","peer","peg","pelt","pen","penalise","penalize","pencil","penetrate","pension","people","pep","pepper","perambulate","perceive","perch","percolate","perfect","perforate","perform","perfume","perish","perjure","perk","perm","permeate","permit","perpetrate","perpetuate","perplex","persecute","persevere","persist","personalise","personalize","personify","perspire","persuade","pertain","perturb","peruse","pervade","pervert","pester","pet","peter","petition","petrify","phase","philosophise","philosophize","phone","photocopy","photograph","photoshop","photosynthesise","photosynthesize","phrase","pick","picket","pickle","picnic","picture","picturise","picturize","piddle","piece","pierce","pig","pigeonhole","piggyback","pike","pile","pilfer","pill","pillage","pillory","pillow","pilot","pimp","pin","pinch","pine","ping","pinion","pink","pinpoint","pioneer","pip","pipe","pique","pirate","pirouette","piss","pit","pitch","pity","pivot","pixelate","pixellate","placate","place","plagiarise","plagiarize","plague","plait","plan","plane","plant","plaster","plasticise","plasticize","plate","plateau","play","plead","please","pledge","plight","plod","plonk","plop","plot","plough","pluck","plug","plumb","plummet","plump","plunder","plunge","plunk","pluralise","pluralize","ply","poach","pocket","point","poise","poison","poke","polarise","polarize","pole","poleax","poleaxe","police","polish","politicise","politicize","poll","pollard","pollinate","pollute","polymerise","polymerize","ponce","ponder","pong","pontificate","pony","poo","pooh","pool","poop","pootle","pop","popularise","popularize","populate","pore","port","portend","portion","portray","pose","posit","position","possess","posset","post","postmark","postpone","postulate","posture","pot","potter","pounce","pound","pour","pout","powder","power","practice","practise","praise","praises","prance","prang","prate","prattle","pray","preach","precede","precipitate","precis","preclude","predate","predecease","predetermine","predicate","predict","predispose","predominate","preen","preface","prefer","prefigure","prefix","preheat","prejudge","prejudice","preload","premaster","premiere","preoccupy","prep","prepare","prepone","preregister","presage","prescind","prescribe","preselect","presell","present","preserve","preset","preside","press","pressure","pressurise","pressurize","presume","presuppose","pretend","pretest","prettify","prevail","prevaricate","prevent","preview","prey","price","prick","prickle","pride","prime","primp","print","prioritise","prioritize","prise","privatise","privatize","privilege","prize","probate","probe","proceed","process","proclaim","procrastinate","procreate","proctor","procure","prod","produce","profane","profess","professionalise","professionalize","proffer","profile","profit","program","programme","progress","prohibit","project","proliferate","prolong","promenade","promise","promote","prompt","promulgate","pronounce","proof","proofread","prop","propagandise","propagandize","propagate","propel","prophesy","propitiate","propose","proposition","propound","proscribe","prosecute","proselytise","proselytize","prospect","prosper","prostitute","prostrate","protect","protest","protrude","prove","provide","provision","provoke","prowl","prune","pry","psych","psychoanalyse","publicise","publicize","publish","pucker","puff","puke","pull","pullulate","pulp","pulsate","pulse","pulverise","pulverize","pummel","pump","pun","punch","punctuate","puncture","punish","punt","pupate","purchase","purge","purify","purl","purloin","purport","purr","purse","pursue","purvey","push","pussyfoot","put","putrefy","putt","putter","puzzle","quack","quadruple","quaff","quail","quake","qualify","quantify","quarantine","quarrel","quarry","quarter","quarterback","quash","quaver","queer","quell","quench","query","quest","question","queue","quibble","quicken","quiet","quieten","quintuple","quip","quirk","quit","quiver","quiz","quote","quoth","rabbit","race","rack","radiate","radicalise","radicalize","radio","raffle","rag","rage","raid","rail","railroad","rain","raise","rake","rally","ram","ramble","ramp","rampage","randomise","randomize","range","rank","rankle","ransack","ransom","rant","rap","rape","rappel","rasp","rasterise","rasterize","rat","ratchet","rate","ratify","ration","rationalise","rationalize","rattle","ravage","rave","ravel","ravish","raze","razz","reach","reacquaint","react","reactivate","read","readdress","readies","readjust","readmit","ready","reaffirm","realign","realise","realize","reallocate","ream","reanimate","reap","reappear","reapply","reappoint","reappraise","rear","rearm","rearrange","reason","reassemble","reassert","reassess","reassign","reassure","reawaken","rebel","reboot","reborn","rebound","rebrand","rebuff","rebuild","rebuke","rebut","recall","recant","recap","recapitulate","recapture","recast","recede","receive","recess","recharge","reciprocate","recite","reckon","reclaim","reclassify","recline","recognise","recognize","recoil","recollect","recommence","recommend","recompense","reconcile","recondition","reconfigure","reconfirm","reconnect","reconnoitre","reconquer","reconsider","reconstitute","reconstruct","reconvene","record","recount","recoup","recover","recreate","recrudesce","recruit","rectify","recuperate","recur","recycle","redact","redden","redecorate","redeem","redefine","redeploy","redesign","redevelop","redial","redirect","rediscover","redistribute","redistrict","redo","redouble","redound","redraft","redraw","redress","reduce","reduplicate","reef","reek","reel","ref","refer","referee","reference","refill","refinance","refine","refit","reflate","reflect","refloat","refocus","reform","reformat","reformulate","refract","refrain","refresh","refrigerate","refuel","refund","refurbish","refuse","refute","regain","regale","regard","regenerate","register","regress","regret","regroup","regularise","regularize","regulate","regurgitate","rehabilitate","rehash","rehear","rehearse","reheat","rehome","rehouse","reign","reignite","reimburse","rein","reincarnate","reinforce","reinstate","reinterpret","reintroduce","reinvent","reinvest","reinvigorate","reissue","reiterate","reject","rejig","rejigger","rejoice","rejoin","rejuvenate","rekindle","relapse","relate","relaunch","relax","relay","release","relegate","relent","relieve","relinquish","relish","relive","reload","relocate","rely","remain","remainder","remake","remand","remap","remark","remarry","remaster","remediate","remedy","remember","remind","reminisce","remit","remix","remodel","remonstrate","remortgage","remould","remount","remove","remunerate","rename","rend","render","rendezvous","renege","renew","renounce","renovate","rent","reoccur","reoffend","reopen","reorder","reorganise","reorganize","reorient","repackage","repair","repatriate","repay","repeal","repeat","repel","repent","rephrase","replace","replay","replenish","replicate","reply","report","repose","repossess","represent","repress","reprieve","reprimand","reprint","reproach","reprocess","reproduce","reprove","repudiate","repulse","repurpose","request","require","requisition","requite","rerun","reschedule","rescind","rescue","research","researches","resect","resell","resemble","resent","reserve","reset","resettle","reshape","reshuffle","reside","resign","resist","resit","resize","reskill","resolve","resonate","resort","resound","resource","respect","respire","respond","respray","rest","restart","restate","restock","restore","restrain","restrict","restring","restructure","result","resume","resupply","resurface","resurrect","resuscitate","retail","retain","retake","retaliate","retard","retch","retell","retest","rethink","retire","retool","retort","retouch","retrace","retract","retrain","retreat","retrench","retrieve","retrofit","retry","return","reunify","reunite","reuse","rev","revalue","revamp","reveal","revel","revenge","reverberate","revere","reverse","revert","review","revile","revise","revisit","revitalise","revitalize","revive","revivify","revoke","revolt","revolutionise","revolutionize","revolve","reward","rewind","rewire","reword","rework","rewrite","rhapsodise","rhapsodize","rhyme","rib","rick","ricochet","rid","riddle","ride","ridge","ridicule","riffle","rifle","rig","right","rightsize","rile","rim","ring","rinse","riot","rip","ripen","riposte","ripple","rise","risk","ritualise","ritualize","rival","rivet","roam","roar","roast","rob","robe","rock","rocket","roger","roll","romance","romanticise","romanticize","romp","roof","room","roost","root","rope","rosin","roster","rot","rotate","rouge","rough","roughen","roughhouse","round","rouse","roust","rout","route","rove","row","rub","rubberneck","rubbish","ruck","rue","ruffle","ruin","ruins","rule","rumble","ruminate","rummage","rumor","rumour","rumple","run","rupture","rush","rust","rustle","sabotage","sack","sacrifice","sadden","saddle","safeguard","sag","sail","salaam","salivate","sally","salt","salute","salvage","salve","sample","sanctify","sanction","sand","sandbag","sandblast","sandpaper","sandwich","sanitise","sanitize","sap","sashay","sass","sate","satiate","satirise","satirize","satisfy","saturate","saunter","savage","save","savor","savour","saw","say","scald","scale","scallop","scalp","scamper","scan","scandalise","scandalize","scapegoat","scar","scare","scarf","scarify","scarper","scatter","scattering","scavenge","scent","schedule","schematise","schematize","scheme","schlep","schlepp","schmooze","school","schtup","schuss","scoff","scold","scoop","scoot","scope","scorch","score","scorn","scotch","scour","scourge","scout","scowl","scrabble","scram","scramble","scrap","scrape","scratch","scrawl","scream","screech","screen","screw","scribble","scrimp","script","scroll","scrounge","scrub","scrummage","scrunch","scruple","scrutinise","scrutinize","scud","scuff","scuffle","scull","sculpt","scupper","scurry","scuttle","scythe","seal","sealift","sear","search","season","seat","secede","seclude","second","secrete","section","secularise","secularize","secure","sedate","seduce","see","seed","seek","seep","seethe","segment","segregate","segue","seize","select","sell","sellotape","semaphore","send","sensationalise","sensationalize","sense","sensitise","sensitize","sentence","sentimentalise","sentimentalize","separate","sequence","sequester","sequestrate","serenade","serialise","serialize","sermonise","sermonize","serve","service","set","settle","sever","sew","sex","sexualise","sexualize","shack","shackle","shade","shadow","shaft","shag","shake","shalt","sham","shamble","shame","shampoo","shanghai","shape","share","sharpen","shatter","shave","shear","sheathe","shed","sheer","shell","shellac","shelter","shelve","shepherd","shield","shift","shimmer","shimmy","shin","shine","shinny","ship","shipwreck","shirk","shit","shiver","shock","shoe","shoehorn","shoo","shoot","shop","shoplift","shore","short","shorten","shortlist","shoulder","shout","shove","shovel","show","showboat","showcase","shower","shred","shriek","shrill","shrink","shrivel","shroom","shroud","shrug","shtup","shuck","shudder","shuffle","shun","shunt","shush","shut","shuttle","shy","sic","sick","sicken","side","sideline","sidestep","sideswipe","sidetrack","sidle","sieve","sift","sigh","sight","sightsee","sign","signal","signify","signpost","silence","silhouette","silt","silver","simmer","simper","simplify","simulate","simulcast","sin","sing","singe","single","sink","sip","siphon","sire","sit","site","situate","size","sizzle","skate","skateboard","skedaddle","sketch","skew","skewer","ski","skid","skim","skimp","skin","skip","skipper","skirmish","skirt","skitter","skive","skivvy","skulk","sky","skyjack","skyrocket","slack","slacken","slag","slake","slam","slander","slant","slap","slash","slate","slather","slaughter","slave","slaver","slay","sledge","sleek","sleep","sleepwalk","sleet","slew","slice","slick","slide","slight","slim","sling","slink","slip","slit","slither","slob","slobber","slog","slop","slope","slosh","slot","slouch","slough","slow","slug","sluice","slum","slumber","slump","slur","slurp","smack","smart","smarten","smash","smear","smell","smelt","smile","smirk","smite","smoke","smooch","smoodge","smooth","smother","smoulder","smudge","smuggle","snack","snaffle","snag","snaggle","snake","snap","snare","snarf","snarl","snatch","sneak","sneer","sneeze","snicker","sniff","sniffle","snigger","snip","snipe","snitch","snivel","snog","snooker","snoop","snooper","snooze","snore","snorkel","snort","snow","snowball","snowplough","snowplow","snub","snuff","snuffle","snuffling","snuggle","soak","soap","soar","sob","sober","socialise","socialize","sock","sod","sodomise","sodomize","soften","soil","sojourn","solace","solder","soldier","sole","solemnise","solemnize","solicit","solidify","soliloquize","solve","somersault","soothe","sorrow","sort","sough","sound","soundproof","soup","sour","source","souse","sow","space","span","spangle","spank","spar","spare","spark","sparkle","spatter","spattering","spawn","spay","speak","spear","spearhead","spec","specialise","specialize","specify","spectacles","spectate","speculate","speed","spell","spellcheck","spend","spew","spice","spiff","spike","spill","spin","spiral","spirit","spit","spite","splash","splatter","splay","splice","splinter","split","splosh","splurge","splutter","spoil","sponge","sponsor","spoof","spook","spool","spoon","sport","sports","spot","spotlight","spout","sprain","sprawl","spray","spread","spreadeagle","spring","springboard","sprinkle","sprint","spritz","sprout","spruce","spur","spurn","spurt","sputter","spy","squabble","squall","squander","square","squash","squat","squawk","squeak","squeal","squeeze","squelch","squint","squirm","squirrel","squirt","squish","stab","stabilise","stabilize","stable","stables","stack","staff","stage","stagger","stagnate","stain","stake","stalk","stall","stammer","stamp","stampede","stanch","stand","standardise","standardize","staple","star","starch","stare","start","startle","starve","stash","state","statement","station","staunch","stave","stay","steady","steal","steam","steamroller","steel","steep","steepen","steer","stem","stencil","step","stereotype","sterilise","sterilize","stew","stick","stickybeak","stiff","stiffen","stifle","stigmatise","stigmatize","still","stimulate","sting","stinger","stink","stint","stipple","stipulate","stir","stitch","stock","stockpile","stoke","stomach","stomp","stone","stonewall","stoop","stop","stopper","store","storm","storyboard","stow","straddle","strafe","straggle","straighten","strain","strand","strangle","strap","stratify","stravage","stravaig","stray","streak","stream","streamline","strengthen","stress","stretch","stretcher","strew","stride","strike","string","strip","strive","stroke","stroll","structure","struggle","strum","strut","stub","stud","study","stuff","stultify","stumble","stump","stun","stunt","stupefy","stutter","style","stymie","sub","subcontract","subdivide","subdue","subedit","subject","subjugate","sublet","sublimate","submerge","submit","subordinate","suborn","subpoena","subscribe","subside","subsidise","subsidize","subsist","substantiate","substitute","subsume","subtend","subtitle","subtract","subvert","succeed","succor","succour","succumb","suck","sucker","suckle","suction","sue","suffer","suffice","suffocate","suffuse","sugar","suggest","suit","sulk","sulks","sully","sum","summarise","summarize","summon","summons","sun","sunbathe","sunder","sunset","sup","superimpose","superintend","superpose","supersede","supersize","supersized","supervene","supervise","supplant","supplement","supply","support","suppose","suppress","suppurate","surcharge","surf","surface","surge","surmise","surmount","surpass","surprise","surrender","surround","survey","survive","suspect","suspend","suspenders","suss","sustain","suture","swab","swaddle","swagger","swallow","swamp","swan","swank","swap","swarm","swat","swath","swathe","sway","swear","sweat","sweep","sweeps","sweeten","swell","swelter","swerve","swig","swill","swim","swindle","swing","swipe","swirl","swish","switch","swivel","swoon","swoop","swoosh","swot","symbolise","symbolize","sympathise","sympathize","symptomize","synchronise","synchronize","syndicate","synthesise","synthesize","syringe","systematise","systematize","tab","table","tabulate","tack","tackle","tag","tail","tailgate","tailor","taint","take","talk","tally","tame","tamp","tamper","tan","tangle","tango","tank","tankful","tantalise","tantalize","tap","tape","taper","tar","target","tarmac","tarnish","tarry","tart","task","taste","tattle","tattoo","taunt","tauten","tax","taxi","taxicab","teach","team","tear","tease","tee","teem","teeter","teethe","telecast","telecommute","teleconference","telegraph","telemeter","teleoperate","telephone","teleport","telescope","televise","telex","tell","telnet","temp","temper","temporise","temporize","tempt","tenant","tend","tender","tenderise","tenderize","tense","tension","tergiversate","term","terminate","terraform","terrify","terrorise","terrorize","test","testify","tether","text","thank","thatch","thaw","theorise","theorize","thicken","thin","think","thirst","thrash","thread","threaten","thresh","thrill","thrive","throb","throbbing","throng","throttle","throw","thrust","thud","thumb","thump","thunder","thwack","thwart","tick","ticket","tickle","tide","tidy","tie","tighten","tile","till","tilt","time","timetable","tinge","tingle","tingling","tinker","tinkle","tinkling","tint","tip","tippex","tipple","tiptoe","tire","titillate","titivate","title","titrate","titter","toady","toast","toboggan","toddle","toe","tog","toggle","toil","toke","tolerate","toll","tone","tongue","tonify","tool","toot","tootle","top","topple","torch","torment","torpedo","torture","toss","tot","total","tote","totter","touch","tough","toughen","tour","tousle","tout","tow","towel","tower","toy","trace","track","trade","traduce","traffic","trail","train","traipse","trammel","tramp","trample","trampoline","tranquilize","tranquillize","transact","transcend","transcribe","transfer","transfigure","transfix","transform","transfuse","transgress","transit","translate","transliterate","transmit","transmogrify","transmute","transpire","transplant","transport","transpose","trap","trash","traumatise","traumatize","travel","traverse","trawl","tread","treasure","treat","treble","trek","tremble","trembling","trepan","trespass","trial","trick","trickle","trifle","trigger","trill","trim","trip","triple","triumph","trivialise","trivialize","troll","tromp","troop","trot","trouble","troubleshoot","trounce","trouser","truant","truck","trudge","trump","trumpet","truncate","trundle","truss","trust","try","tuck","tug","tugboat","tumble","tune","tunnel","turbocharge","turf","turn","tussle","tut","tutor","twang","tweak","tweet","twiddle","twig","twin","twine","twinkle","twirl","twist","twitch","twitter","twittering","type","typecast","typeset","typify","tyrannise","tyrannize","ulcerate","ululate","ump","umpire","unbalance","unban","unbend","unblock","unbuckle","unburden","unbutton","uncoil","uncork","uncouple","uncover","uncurl","undelete","underachieve","underbid","undercharge","undercook","undercut","underestimate","underestimation","underexpose","undergo","underlie","underline","undermine","underpay","underperform","underpin","underplay","underrate","underscore","undersell","undershoot","underspend","understand","understate","understudy","undertake","undervalue","underwrite","undo","undock","undress","undulate","unearth","unfasten","unfold","unfreeze","unfurl","unhand","unhinge","unhitch","unhook","unify","uninstall","unionise","unionize","unite","unlace","unlearn","unleash","unload","unlock","unloose","unloosen","unmask","unnerve","unpack","unpick","unplug","unravel","unroll","unsaddle","unscramble","unscrew","unseat","unsettle","unsubscribe","untangle","untie","unveil","unwind","unwrap","unzip","up","upbraid","upchange","upchuck","update","upend","upgrade","uphold","upholster","uplift","upload","uproot","upsell","upset","upshift","upskill","upstage","urge","urinate","use","usher","usurp","utilise","utilize","utter","vacate","vacation","vaccinate","vacillate","vacuum","valet","validate","value","vamoose","vandalise","vandalize","vanish","vanquish","vaporise","vaporize","varnish","vary","vault","veer","veg","vegetate","veil","vend","veneer","venerate","vent","ventilate","venture","verbalise","verbalize","verge","verify","versify","vest","vet","veto","vex","vibrate","victimise","victimize","vide","video","videotape","vie","view","viewing","vilify","vindicate","violate","visit","visualise","visualize","vitiate","vitrify","vocalize","voice","void","volley","volumise","volumize","volunteer","vomit","vote","vouch","vouchsafe","vow","voyage","vulgarise","vulgarize","wad","waddle","wade","waffle","waft","wag","wage","wager","waggle","wail","wait","waive","wake","wakeboard","waken","walk","wall","wallop","wallow","wallpaper","waltz","wander","wane","wangle","wank","want","warble","ward","warm","warn","warp","warrant","wash","wassail","waste","watch","water","waterproof","waterski","wave","waver","wax","waylay","weaken","wean","weaponise","weaponize","wear","weary","weasel","weather","weatherise","weatherize","weave","wed","wedge","wee","weed","weekend","weep","weigh","weight","weird","welch","welcome","weld","well","welly","welsh","wend","westernise","westernize","wet","whack","wheedle","wheel","wheeze","whelp","whet","whiff","while","whilst","whimper","whine","whinge","whinny","whip","whirl","whirr","whirring","whisk","whisper","whispering","whistle","whiten","whitewash","whittle","whiz","whizz","whoop","whoosh","whup","wick","widen","widow","wield","wig","wiggle","wildcat","will","wilt","wimp","win","wince","winch","wind","winds","windsurf","wine","wing","wink","winkle","winnow","winter","wipe","wire","wiretap","wise","wisecrack","wish","withdraw","wither","withhold","withstand","witness","witter","wobble","wolf","wonder","woo","woof","word","work","worm","worry","worsen","worship","worst","wound","wow","wowee","wrangle","wrap","wreak","wreathe","wreck","wrench","wrest","wrestle","wriggle","wring","wrinkle","writ","write","writhe","wrong","wrought","xerox","yack","yak","yank","yap","yaw","yawn","yearn","yell","yellow","yelp","yield","yodel","yoke","yomp","yowl","yuppify","zap","zero","zigzag","zing","zip","zone","zoom"]}},de=new class{constructor(e){var t;if(this.definitions=this.initDefinitions(),this.fake=new E(this).fake,this.unique=(new re).unique,this.mersenne=new W,this.random=new J(this),this.helpers=new F(this),this.datatype=new I(this),this.address=new g(this),this.animal=new b(this),this.color=new w(this),this.commerce=new S(this),this.company=new C(this),this.database=new T(this),this.date=new N(this),this.finance=new D(this),this.git=new $(this),this.hacker=new B(this),this.image=new O(this),this.internet=new z(this),this.lorem=new P(this),this.music=new G(this),this.name=new m(this),this.phone=new V(this),this.science=new X(this),this.system=new Q(this),this.vehicle=new se(this),this.word=new le(this),!e)throw new d("Options with at least one entry in locales must be provided");if(0===Object.keys(null!=(t=e.locales)?t:{}).length)throw new d("At least one entry in locales must be provided in the locales parameter");this.locales=e.locales,this.locale=e.locale||"en",this.localeFallback=e.localeFallback||"en"}get locale(){return this._locale}set locale(e){if(!this.locales[e])throw new d(`Locale ${e} is not supported. You might want to add the requested locale first to \`faker.locales\`.`);this._locale=e}get localeFallback(){return this._localeFallback}set localeFallback(e){if(!this.locales[e])throw new d(`Locale ${e} is not supported. You might want to add the requested locale first to \`faker.locales\`.`);this._localeFallback=e}initDefinitions(){let e=e=>{var t;return null!=(t=this.locales[this.locale][e])?t:this.locales[this.localeFallback][e]},t=(e,t)=>{var n,a,i;return null!=(i=null==(n=this.locales[this.locale][e])?void 0:n[t])?i:null==(a=this.locales[this.localeFallback][e])?void 0:a[t]};return new Proxy({},{get(n,a){let i=n[a];return i||(ce.includes(a)?e(a):(i=(n=>{if(e(n))return new Proxy({},{get:(e,a)=>t(n,a)})})(a),n[a]=i,i))}})}seed(e=Math.ceil(Math.random()*Number.MAX_SAFE_INTEGER)){return Array.isArray(e)&&e.length?this.mersenne.seed_array(e):!Array.isArray(e)&&!isNaN(e)&&this.mersenne.seed(e),e}setLocale(e){this.locale=e}}({locale:"en",localeFallback:"en",locales:{en:ue}}),pe=n(17477),he=n(99164),me=n(97949),fe=(n(77569),n(51358)),ge=n(39800),be=n(34822),ye=(n(59582),n(79914)),ve=n.n(ye),ke=n(69199),xe=n(82850);function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Se(e){return function(e){if(Array.isArray(e))return Ce(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var i=t&&t.prototype instanceof d?t:d,r=Object.create(i.prototype),s=new S(a||[]);return r._invoke=function(e,t,n){var a="suspendedStart";return function(i,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===i)throw r;return T()}for(n.method=i,n.arg=r;;){var s=n.delegate;if(s){var o=k(s,n);if(o){if(o===u)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=c(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),r}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function p(){}function h(){}var m={};o(m,i,(function(){return this}));var f=Object.getPrototypeOf,g=f&&f(f(C([])));g&&g!==t&&n.call(g,i)&&(m=g);var b=h.prototype=d.prototype=Object.create(m);function y(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function a(i,r,s,o){var l=c(e[i],e,r);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==we(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){a("next",e,s,o)}),(function(e){a("throw",e,s,o)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return a("throw",e,s,o)}))}o(l.arg)}var i;this._invoke=function(e,n){function r(){return new t((function(t,i){a(e,n,t,i)}))}return i=i?i.then(r,r):r()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=c(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=h,o(b,"constructor",h),o(h,"constructor",p),p.displayName=o(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},y(v.prototype),o(v.prototype,r,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,a,i,r){void 0===r&&(r=Promise);var s=new v(l(t,n,a,i),r);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(b),o(b,s,"Generator"),o(b,i,(function(){return this})),o(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return s.type="throw",s.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],s=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var o=n.call(r,"catchLoc"),l=n.call(r,"finallyLoc");if(o&&l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var s=r?r.completion:{};return s.type=e,s.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var i=a.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function _e(e,t,n,a,i,r,s){try{var o=e[r](s),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,i)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var r=e.apply(t,n);function s(e){_e(r,a,i,s,o,"next",e)}function o(e){_e(r,a,i,s,o,"throw",e)}s(void 0)}))}}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Re=new(n(33846).Z),Me=(0,ke.Z)(),De={width:{max:3840,ideal:1280,min:320},height:{max:2160,ideal:720,min:180}},$e=null,Be=null;const Le={components:{},data:function(){return{initUrl:"meetings",fallBackRoute:"appMeetingList",statusMessage:"",recordingStatus:"",uuid:null,prevRoute:null,meeting:{type:{},category:{},config:{},user:{},attachments:[]},meetingBackup:{},preRequisites:{},eventHandlerFns:{},pageConfigs:{autoHideFooter:!1,speechDetection:!1,backgroundBlur:!1,mirroredVideo:!0},pageQueries:{callType:"",autoStart:!1,muteCamera:!1,muteMicrophone:!1,iframe:!1},meetingConfigs:{debugMode:!1,forceTurn:!1,rtcLibrary:"rtcmc",canToggleAudio:!0,canToggleVideo:!0,canShareFiles:!0,canShareScreen:!0,canShareLink:!0,canUseWhiteboard:!0,canUseHandGesture:!0,canToggleLayout:!0,enableChat:!0,muteParticipantsOnStart:!1,askHostBeforeJoining:!1,layout:"fullpage",lastLayout:"fullpage",recordingFormatAudio:"audio/webm",recordingFormatVideo:"video/webm",maxParticipantCount:1e3,canRecord:!0,enableAutoRecording:!1,autoUploadRecording:!1,autoUploadRecorded:!1,canStopAutoRecording:!1,recordingTimeSlice:5e3,canTakeSnapshot:!0,anyoneCanTakeSnapshot:!1,enableSnapshotAlert:!1,snapshotAlertToUserOnly:!1,snapshotAlertToModerators:!1,autoEndMeeting:!1,alertBeforeAutoEnd:!1,canSnoozeAutoEnd:!1,canCancelAutoEnd:!1,alertBeforeAutoEndTime:1,endTimeSnoozePeriod:1},meetingRules:{sendAudio:!0,sendVideo:!0,receiveAudio:!0,receiveVideo:!0},mediaConstraints:{audio:!0,video:!0},mediaDevices:{cams:[],mics:[],speakers:[],camsLoaded:!1,micsLoaded:!1,hasWebcam:!1,hasMicrophone:!1,hasSpeaker:!1,hasWebcamPermission:!1,hasMicrophonePermission:!1,resolutions:[{uuid:"ld180p",label:"180p",constraints:{width:320,height:180,aspectRatio:1.7777777778}},{uuid:"ld240p",label:"QVGA",constraints:{width:320,height:240}},{uuid:"sd360p",label:"360p",constraints:{width:640,height:360,aspectRatio:1.7777777778}},{uuid:"sd480p",label:"VGA",constraints:{width:640,height:480}},{uuid:"sd600p",label:"SVGA",constraints:{width:800,height:600}},{uuid:"hd720p",label:"HD",constraints:{width:1280,height:720,aspectRatio:1.7777777778}},{uuid:"fhd1080p",label:"FHD",constraints:{width:1920,height:1080,aspectRatio:1.7777777778}},{uuid:"4k",label:"4K",constraints:{width:3840,height:2160,aspectRatio:1.7777777778}}]},selectedDevices:{cam:null,mic:null,speaker:null,enableCamera:!0,enableMicrophone:!0,videoMuted:!1,audioMuted:!1,facingMode:null,resolution:null},recordingConfigs:{type:"video",mimeType:"video/webm",timeSlice:5e3,disableLogs:!1},feedsList:[],membersLive:[],liveParticipants:[],recordedFilesToUpload:[],snoozeOpts:[{uuid:5,name:5,type:"m"},{uuid:10,name:10,type:"m"},{uuid:15,name:15,type:"m"},{uuid:30,name:30,type:"m"},{uuid:60,name:1,type:"h"}],feedsCount:0,participantsCount:0,numberOfBroadcastViewers:0,recordingDuration:0,meetingDuration:0,isLoading:!1,isSidebarLoading:!1,isSilentLoading:!1,isRoomOnline:!1,isMeetingLive:!1,isHandUp:!1,isSpeaking:!1,isFocused:!1,isLayoutCompact:!1,isOffline:!1,hasGreenroom:!0,greenroomStarted:!1,showBulkActions:!1,showFileSharing:!1,showWhiteboard:!1,showMeetingInfo:!1,showAgenda:!1,showFlipClock:!0,localStream:null,localBlurredStream:null,localScreenStream:null,localWhiteboardStream:null,canvasDesigner:null,autoEndingToast:null,fileSharingConnection:null,recorder:null,afterSessionIsCreated:null,duplicateTab:!1,hasNativeShare:!!navigator.share,stopNavigation:!1,stopNavigationMessage:"",defaultConfigs:{},defaultUser:{uuid:"",username:"",name:"",profile:{name:"",avatar:"",cover:""}}}},computed:Ne(Ne({},(0,i.Se)("config",["configs","uiConfigs","vars"])),{},{user:function(){return this.defaultUser},startDateTimeIsFuture:function(){var e=this.meeting&&this.showFlipClock&&this.isStartDateTimeInFuture();return e?this.startCountDown():window.countdownInterval&&clearInterval(window.countdownInterval),e},liveMembersCount:function(){return this.membersLive.length-1},allFeedsCount:function(){var e=this.localStream?1:"webinar"===this.meeting.type.uuid||"podcast"===this.meeting.type.uuid?0:1;return this.feedsCount+e+(this.localScreenStream?1:0)+(this.localWhiteboardStream?1:0)}}),watch:{},methods:Ne(Ne(Ne({},(0,i.nv)("config",["GetConfig","SetUiConfig"])),(0,i.nv)("common",["Init","Get","Custom","GetPreRequisite"])),{},{configPageUrl:function(){return this.$router.resolve({name:"appMeetingSingleConfig",params:{subUuid:this.uuid}}).href},snapshotsPageUrl:function(){return this.$router.resolve({name:"appMeetingSnapshots",params:{uuid:this.uuid}}).href},recordingsPageUrl:function(){return this.$router.resolve({name:"appMeetingRecordings",params:{uuid:this.uuid}}).href},toggleFullScreen:function(e){r.Z.isEnabled&&(e?r.Z.request():r.Z.exit())},toggleFooterAutoHide:function(){this.pageConfigs.autoHideFooter=!this.pageConfigs.autoHideFooter,this.$gaEvent("engagement","toggleAutoHideFooter")},toggleBackgroundBlur:function(){this.$gaEvent("engagement","toggleBackgroundBlur"),this.pageConfigs.backgroundBlur?this.unblurLocalStream():this.blurLocalStream()},toggleLayout:function(e){this.meetingConfigs.layout=e||this.meetingConfigs.layout,this.meetingConfigs.lastLayout=this.meetingConfigs.layout,"grid"!==this.meetingConfigs.layout&&(this.isLayoutCompact=!1,this.changeFocus()),(0,me.RY)("".concat(this.vars.localStorageKey,"_selected_layout"),this.meetingConfigs.layout),this.$gaEvent("engagement","toggleLayout",e)},toggleFileSharing:function(){this.showAgenda=!1,this.showBulkActions=!1,this.showFileSharing=!this.showFileSharing,this.$gaEvent("engagement","toggleFileSharing")},toggleAgenda:function(){this.showFileSharing=!1,this.showBulkActions=!1,this.showAgenda=!this.showAgenda,this.$gaEvent("engagement","toggleAgenda")},toggleMeetingInfo:function(){this.showMeetingInfo=!this.showMeetingInfo,this.$gaEvent("engagement","toggleMeetingInfo")},toggleCompactLayout:function(){this.isLayoutCompact=!this.isLayoutCompact,this.$gaEvent("engagement","toggleCompactLayout")},toggleBulkActions:function(){this.showAgenda=!1,this.showFileSharing=!1,this.showBulkActions=!this.showBulkActions,this.$gaEvent("engagement","toggleBulkActions")},toggleWhiteboard:function(){this.$gaEvent("engagement","toggleWhiteboard"),this.showWhiteboard?(this.meetingConfigs.layout=this.meetingConfigs.lastLayout,this.showWhiteboard=!1):(this.canvasDesigner||this.captureWhiteboardStream(),this.meetingConfigs.lastLayout=this.meetingConfigs.layout,this.meetingConfigs.layout="grid",this.showWhiteboard=!0)},stopWhiteboard:function(){var e=this;formUtil.confirmAction().then((function(t){t.value?(e.meetingConfigs.layout=e.meetingConfigs.lastLayout,e.showWhiteboard=!1,e.destroyWhiteboard()):(t.dismiss,be.bG.DismissReason.cancel)}))},toggleBackgroundSize:function(e){var t=e.target;t.classList.contains("background-size-contain")?t.classList.remove("background-size-contain"):t.classList.add("background-size-contain")},toggleObjectFit:function(e){var t=e.target;t.classList.contains("object-fit-contain")?t.classList.remove("object-fit-contain"):t.classList.add("object-fit-contain")},changeFocus:function(e){if(this.feedsList.length)if(this.isFocused=!1,this.feedsList.forEach((function(e){e.isFocused=!1})),e)if(_.isObject(e)){var t=this.feedsList.findIndex((function(t){return t.id==e.id}));this.feedsList[t].isFocused=!0}else this.isFocused=e;else this.feedsList[0].isFocused=!0},share:function(){this.shareURL(null,!0)},shareURL:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.meeting){this.$gaEvent("engagement","shareURL","Shown");var a=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");a+=this.meeting.identifier?"/m/".concat(this.meeting.identifier):"/app/live/meetings/".concat(this.meeting.uuid);var i=this.meeting.identifier?'<span class="text-nowrap">'.concat($t("meeting.meeting_code"),':</span> <strong class="ml-2 text-wrap-pre-line text-word-break-all"> ').concat(this.meeting.identifier,"</strong>"):null;(0,he.BN)({title:$t("meeting.user_inviting_msg",{attribute:this.user.name}),alertTitle:i,alertHtml:"".concat($t("misc.share_alert.text"),"<br>")+"<small class='text-muted'>".concat(a,"</small><br>"),url:a},(function(){t.$gaEvent("engagement","shareURL","Copied"),t.$toasted.success($t("meeting.url_has_been_copied"),t.$toastConfig)}),n)}},toggleHandUp:function(){var e=this;this.$gaEvent("engagement","toggleHandUp"),window.lowerHandTimer&&(clearTimeout(window.lowerHandTimer),window.lowerHandTimer=null),this.localStream?(this.isHandUp=!this.isHandUp,$e.sendMessage({event:"remoteHandToggled",data:{id:this.localStream.id,isHandUp:this.isHandUp}}),this.isHandUp&&(window.lowerHandTimer=setTimeout((function(){e.toggleHandUp()}),3e4))):this.localVideo=null},takeSnapshotOfStream:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.meetingConfigs.canTakeSnapshot){this.$gaEvent("engagement","takeSnapshot");var a=null,i="".concat(this.user.username," stream by self"),r=!1;if(n){if(!(a=this.$refs[e]))return;r="localScreenStreamElement"!==e&&"localWhiteboardStreamElement"!==e&&this.pageConfigs.mirroredVideo}else{var s=this.$refs.feedsElements.find((function(t){return t.id==e.id}));if(!s)return;a=s.getElementsByClassName("".concat(e.id,"-video"))[0],i="".concat(e.user.username," stream by ").concat(this.user.username),r=e.mirroredVideo}var o=this.takeSnapshot(a,r);if((0,he.Kf)(),this.meeting.canModerate||this.meetingConfigs.anyoneCanTakeSnapshot)this.meetingAction({action:"snapshots",loaderVar:"isSilentLoading",method:"post",data:{image:o,name:i},callback:function(e){t.$toasted.info($t("meeting.snapshot_taken"),Ne(Ne({},t.$toastConfig.info),{},{duration:1e4,icon:{name:"fa-download"},action:{text:"View / Download",href:e.fullUrl,target:"_blank"}})),t.isSilentLoading=!1}}),this.informAboutSnapshot(e);else if(n){var l=new Image;l.src=o;var c=window.open("");c.document.write(l.outerHTML)}}},takeSnapshot:function(e,t){var n=this,a=document.createElement("canvas");a.id="snapshotCanvas";var i=null,r=a.getContext("2d"),s=function(){var n=(e.videoWidth||e.clientWidth)/(e.videoHeight||e.clientHeight),i=e.videoWidth-100,s=parseInt(i/n,10);a.width=2*i,a.height=2*s,t&&(r.translate(a.width,0),r.scale(-1,1))};s(),r.drawImage(e,0,0,a.width,a.height),i=a.toDataURL("image/png");e.srcObject;return this.eventHandlerFns.loadedmetadataFn=function(){s(),r.drawImage(e,0,0,a.width,a.height),i=a.toDataURL("image/png")},e.addEventListener("loadedmetadata",this.eventHandlerFns.loadedmetadataFn),window.setTimeout((function(){e.removeEventListener("loadedmetadata",n.eventHandlerFns.loadedmetadataFn),n.eventHandlerFns.loadedmetadataFn=null,a=null}),1e3),i},banRemoteUser:function(e){var t=this;this.feedsList.length&&e&&(formUtil.confirmAction().then((function(n){if(n.value){var a=t.feedsList.find((function(t){return t.id==e.id}));a&&($e.removeFeed(a.id),$e.sendMessage({event:"userBanned",data:e}),t.Custom({url:"/".concat(t.initUrl,"/").concat(t.uuid,"/invitees/").concat(e.user.uuid,"/block"),method:"post"}).then((function(e){t.$toasted.success(e.message,t.$toastConfig)})).catch((function(e){Re.error("error: ",e),formUtil.handleErrors(e)})))}else n.dismiss,be.bG.DismissReason.cancel})),_.isObject(e)?this.feedsList[selectedIndex].isFocused=!0:this.isFocused=e)},toggleRemoteAVSource:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"audio",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"temporary",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.feedsList.length&&n){if(!e)return this.showBulkActions=!1,"permanent"===a&&(n&&"both"!==n&&"audio"!==n||this.feedsList.forEach((function(e){e.canToggleAudio=i})),n&&"both"!==n&&"video"!==n||this.feedsList.forEach((function(e){e.canToggleVideo=i}))),void $e.sendMessage({event:"toggleRemoteAV",data:{userUuid:"all",target:n,type:a,enable:i},callback:function(){t.$toasted.success($t("meeting.action_successful"),t.$toastConfig)}});var r=this.feedsList.findIndex((function(t){return t.id==e.id}));-1!==r&&("permanent"===a&&(n&&"both"!==n&&"audio"!==n||(this.feedsList[r].canToggleAudio=i),n&&"both"!==n&&"video"!==n||(this.feedsList[r].canToggleVideo=i)),$e.sendMessage({event:"toggleRemoteAV",data:{userUuid:e.user.uuid,target:n,type:a,enable:i},callback:function(){t.$toasted.success($t("meeting.action_successful"),t.$toastConfig)}}))}},informAboutSnapshot:function(e){this.meetingConfigs.enableSnapshotAlert&&$e.sendMessage({event:"snapshotTaken",data:{byUser:this.user,ofUser:e.extra,item:e}})},informAboutMeetingUpdate:function(e){this.meeting.canModerate&&$e.sendMessage({event:"meetingUpdated",data:e})},isStartDateTimeInFuture:function(){var e;return(null===(e=this.meeting)||void 0===e?void 0:e.startDateTime)&&moment(this.meeting.startDateTime,this.vars.serverDateTimeFormat).isAfter(ge.zO({moment:!0}))},startCountDown:function(){var e=this;window.countdownInterval&&clearInterval(window.countdownInterval),window.countdownInterval=window.setInterval((function(){e.isStartDateTimeInFuture()?e.showFlipClock=!0:(e.showFlipClock&&!document.hasFocus()&&(0,he.si)(),e.showFlipClock=!1)}),1e3)},stopAutoEndMeeting:function(){window.autoEndMeetingTimeout&&(clearTimeout(window.autoEndMeetingTimeout),window.autoEndMeetingTimeout=null),this.autoEndingToast&&this.autoEndingToast.close&&_.isFunction(this.autoEndingToast.close)&&(be.TT.close(),this.autoEndingToast=null)},startAutoEndMeeting:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;window.autoEndMeetingTimeout&&(clearTimeout(window.autoEndMeetingTimeout),window.autoEndMeetingTimeout=null),window.autoEndMeetingTimeout=setTimeout((function(){e.meeting.canModerate?e.endMeeting(!1):e.getOffline(!1)}),1e3*t)},startMeetingTimer:function(){var e=this;if(window.meetingDurationInterval&&(this.meetingDuration=null,clearInterval(window.meetingDurationInterval)),this.meeting&&"live"===this.meeting.status){var t=moment(this.meeting.startedAt,this.vars.serverDateTimeFormat).valueOf();window.meetingDurationInterval=window.setInterval((function(){var n=ge.zO({moment:!0}).valueOf();e.meetingDuration=(0,me.n5)((n-t)/1e3),function(){if(!e.meeting||"live"!==e.meeting.status)return e.stopAutoEndMeeting(),void e.stopMeetingTimer();if(e.meetingConfigs.autoEndMeeting&&e.meeting.estimatedEndTime){var t=e.meetingConfigs.alertBeforeAutoEndTime||5,n=moment(e.meeting.estimatedEndTime,e.vars.serverDateTimeFormat),a=ge.zO({moment:!0}),i=((n.valueOf()-a.valueOf())/1e3).toFixed(0);if(i<=0)window.autoEndMeetingTimeout&&(clearInterval(window.autoEndMeetingTimeout),window.autoEndMeetingTimeout=null),e.meeting.canModerate?e.endMeeting(!1):e.getOffline();else if(i<=60*t){var r=(0,me.n5)(i)+" "+$t("list.general.durations.seconds");if(i>=60?r=(0,me.n5)(i)+" "+$t("list.general.durations.minutes"):i>=3600&&(r=(0,me.n5)(i)+" "+$t("list.general.durations.hours")),e.meetingConfigs.alertBeforeAutoEnd)if(window.autoEndMeetingTimeout&&e.autoEndingToast&&be.bG.isVisible()&&be.bG.isTimerRunning())be.TT.update({title:$t("meeting.auto_ending_msg",{attribute:r})});else{if(!e.autoEndingToast&&be.bG.isVisible())return;if(e.autoEndingToast&&e.autoEndingToast.close&&_.isFunction(e.autoEndingToast.close)&&(be.TT.close(),e.autoEndingToast=null),e.meeting.canModerate){var s={iconHtml:'<i class="far fa-clock"></i>',title:$t("meeting.auto_ending_msg",{attribute:r}),timer:1e3*i,showConfirmButton:!1,showDenyButton:!1,position:"bottom"};e.meetingConfigs.canSnoozeAutoEnd&&(s.showConfirmButton=!0,s.confirmButtonText=$t("meeting.snooze")),e.meetingConfigs.canCancelAutoEnd&&(s.showDenyButton=!0,s.denyButtonText=$t("meeting.keep_meeting_live")),e.autoEndingToast=be.TT.fire(s).then((function(t){t.isConfirmed&&e.meetingConfigs.canSnoozeAutoEnd?(e.stopAutoEndMeeting(),e.meeting.estimatedEndTime=moment(e.meeting.estimatedEndTime,e.vars.serverDateTimeFormat).add(10,"minutes").format(e.vars.serverDateTimeFormat),e.meetingAction("snooze-end-time",{period:e.meetingConfigs.endTimeSnoozePeriod||5},{alert:!1,inform:{endTimeSnoozed:!0}}),be.TT.close(),e.autoEndingToast=null):t.isDenied&&e.meetingConfigs.canCancelAutoEnd&&(e.stopAutoEndMeeting(),e.meetingConfigs.autoEndMeeting=!1,e.meetingAction("cancel-auto-end",null,{alert:!1,inform:{autoEndCancelled:!0}}),be.TT.close(),e.autoEndingToast=null)}))}else e.autoEndingToast=be.TT.fire({iconHtml:'<i class="far fa-clock"></i>',title:$t("meeting.auto_ending_msg",{attribute:r}),timer:1e3*i,showConfirmButton:!1,position:"bottom"})}window.autoEndMeetingTimeout&&e.autoEndingToast||(e.stopAutoEndMeeting(),e.startAutoEndMeeting(i))}else i>60*t?e.autoEndingToast&&e.autoEndingToast.close&&_.isFunction(e.autoEndingToast.close)&&(be.TT.close(),e.autoEndingToast=null):e.stopAutoEndMeeting()}}()}),1e3)}},stopMeetingTimer:function(){window.meetingDurationInterval&&(this.meetingDuration=null,clearInterval(window.meetingDurationInterval))},addStreamToRecord:function(e){if(this.meetingConfigs.canRecord&&this.meeting.canModerate&&"started"===this.recordingStatus&&e){var t=this.recorder;if(t){var n=t.getInternalRecorder();n&&n.addStreams(e)}}},startRecording:function(e){var t=this;if(this.$gaEvent("engagement","startRecording"),this.meetingConfigs.canRecord&&this.meeting.canModerate){this.recordingStatus="started",this.recordingConfigs.disableLogs=!this.meetingConfigs.debugMode;var n=this.recorder;if(!n){var a=[],i=[],r=uuid();$e.getAllStreams().forEach((function(e){a.push(e.stream)}));var s=this.getLocalStreamToPublish();s.stream&&a.push(s.stream),this.localScreenStream&&a.push(this.localScreenStream),this.localWhiteboardStream&&a.push(this.localWhiteboardStream),this.meetingConfigs.autoUploadRecording&&(this.recordingConfigs.ondataavailable=function(e){i.push(e),t.uploadRecording({uuid:r,chunk:!0,blob:e,order:i.length})}),n=u(a,this.recordingConfigs),this.recorder=n,n.startRecording();var o=(new Date).getTime();window.recordingDurationInterval&&(this.recordingDuration=null,clearInterval(window.recordingDurationInterval)),window.recordingDurationInterval=window.setInterval((function(){t.recordingDuration=(0,me.n5)(((new Date).getTime()-o)/1e3)}),1e3)}}},pauseRecording:function(){this.$gaEvent("engagement","pauseRecording");var e=this.recorder;e?(this.recordingStatus="paused",e.pauseRecording(),window.recordingDurationInterval&&clearInterval(window.recordingDurationInterval)):this.$toasted.error("No recorder found!",this.$toastConfig.error)},resumeRecording:function(){var e=this;this.$gaEvent("engagement","resumeRecording");var t=this.recorder;if(t){this.recordingStatus="started",t.resumeRecording();var n=(new Date).getTime(),a=(0,me.Fq)(this.recordingDuration||"00:00");window.recordingDurationInterval&&clearInterval(window.recordingDurationInterval),window.recordingDurationInterval=window.setInterval((function(){e.recordingDuration=(0,me.n5)(a+((new Date).getTime()-n)/1e3)}),1e3)}else this.$toasted.error("No recorder found!",this.$toastConfig.error)},stopRecording:function(){var e=this;this.$gaEvent("engagement","stopRecording"),this.checkPendingUploads();var t=this.recorder;t?(this.recordingStatus="ended",t.stopRecording((function(){window.recordingDurationInterval&&(e.recordingDuration=null,clearInterval(window.recordingDurationInterval),window.recordingDurationInterval=null);var n=($t("meeting.meeting_recording")+"-"+ge.zO({moment:!0}).unix()).kebabCase()+".webm";u.getSeekableBlob(t.getBlob(),(function(a){e.checkPendingUploads(),e.meetingConfigs.autoUploadRecording?(t.reset(),e.recorder=null):e.meetingConfigs.autoUploadRecorded?e.uploadRecorded(a,t,n):swtAlert.fire({title:$t("meeting.recorded_meeting"),allowOutsideClick:!1,allowEscapeKey:!1,position:"bottom",showDenyButton:!0,showCancelButton:!0,confirmButtonText:'<i class="fas fa-download"></i> '.concat($t("general.download")),denyButtonText:'<i class="fas fa-upload"></i> '.concat($t("general.upload")),cancelButtonText:"".concat($t("general.cancel")),customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger",denyButton:"btn btn-primary"}}).then((function(i){if(i.isConfirmed){var r=URL.createObjectURL(a),s=document.createElement("a");u.invokeSaveAsDialog(a,n),s.style.display="none",s.href=r,s.download=n,document.body.appendChild(s),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(s),e.recordingStatus=""}),100),t.reset(),e.recorder=null,e.checkPendingUploads()}else{if(!i.isDenied)return i.dismiss,be.bG.DismissReason.cancel,t.reset(),e.recorder=null,void e.checkPendingUploads();e.uploadRecorded(a,t,n),e.checkPendingUploads()}})),e.checkPendingUploads()}))}))):this.$toasted.error("No recorder found!",this.$toastConfig.error)},checkPendingUploads:_.throttle((function(){this.recordedFilesToUpload.filter((function(e){return"waiting"===e.status||"uploading"===e.status})).length?(this.stopNavigation=!0,this.stopNavigationMessage=$t("meeting.uploads_pending_message")):(this.stopNavigation=!1,this.stopNavigationMessage=""),this.uploadRecording()}),500,{leading:!0,trailing:!1}),uploadRecording:function(e){var t=this,n=_.throttle((function(){var e=t.recordedFilesToUpload.filter((function(e){return"waiting"===e.status&&e.chunk})),n=t.recordedFilesToUpload.filter((function(e){return"uploading"===e.status&&e.chunk}));if(e.length)for(var a=[],i=o().CancelToken,r=5-n.length,s=function(e){var n=t.recordedFilesToUpload[e];if(a[e]=function(e){n.progress=Math.round(100*e.loaded/e.total)},"waiting"===n.status){r-=1;var s=new FormData;s.append("file",n.blob),s.append("mime",n.mime),s.append("request_uuid",n.requestUuid),s.append("order",n.order),s.append("chunk",n.chunk),n.status="uploading";var o=new i((function(e){n.cancel=e}));xe.cT({url:"/".concat(t.initUrl,"/").concat(t.uuid,"/recordings"),data:s,silent:!0},a[e],o).then((function(e){n.status="uploaded",delete n.cancel,t.checkPendingUploads(),setTimeout((function(){t.recordedFilesToUpload.splice(t.recordedFilesToUpload.findIndex((function(e){return e.uuid===n.uuid})),1),t.checkPendingUploads()}),3e3)})).catch((function(e){if(e.response&&e.response.data){var a=e.response.data||{},i=a.errors?formUtil.assignErrors(a.errors):{};n.error=i.message,n.status="error"}else n.status="cancelled";t.checkPendingUploads()}))}},l=t.recordedFilesToUpload.length-1;l>=0&&r>0;l--)s(l)}),1e3,{leading:!0,trailing:!1});if(e&&e.uuid){var a=($t("meeting.meeting_recording")+"-"+ge.zO({moment:!0}).unix()).kebabCase()+".webm";this.recordedFilesToUpload||(this.recordedFilesToUpload=[]),this.recordedFilesToUpload.unshift({uuid:uuid(),chunk:e.chunk,blob:e.blob,mime:e.blob.type,requestUuid:e.uuid,order:e.order,status:"waiting",name:a,progress:0,error:null,download:null}),n(),this.checkPendingUploads()}else n()},uploadRecorded:function(e,t,n){var a=this,i=function(e){var t=URL.createObjectURL(e),i=document.createElement("a");u.invokeSaveAsDialog(e,n),i.style.display="none",i.href=t,i.download=n,document.body.appendChild(i),setTimeout((function(){document.body.removeChild(i),window.URL.revokeObjectURL(i),a.recorded=!1}),100)},r=this.recordingConfigs&&this.recordingConfigs.mimeType?this.recordingConfigs.mimeType:"video/webm",s=new File([e],n,{type:r});s.size>this.defaultConfigs.system.postMaxSize?this.$toasted.error(this.$t("global.file_too_large",{attribute:s.name}),this.$toastConfig.error):(this.recordedFilesToUpload||(this.recordedFilesToUpload=[]),this.recordedFilesToUpload.unshift({uuid:uuid(),chunk:!1,blob:e,file:s,status:"waiting",progress:0,error:null}),function(){if(a.recordedFilesToUpload.filter((function(e){return"waiting"===e.status&&!e.chunk})).length){var e=[],t=o().CancelToken;a.recordedFilesToUpload.forEach((function(n,r){var s=a.recordedFilesToUpload[r];if(s.download=i,e[r]=function(e){s.progress=Math.round(100*e.loaded/e.total)},"waiting"===s.status){var o=new FormData;o.append("file",s.file),o.append("mime",s.file.type),o.append("request_uuid",s.uuid),s.status="uploading";var l=new t((function(e){s.cancel=e}));xe.cT({url:"/".concat(a.initUrl,"/").concat(a.uuid,"/recordings"),data:o,silent:!0},e[r],l).then((function(e){s.status="uploaded",delete s.cancel,a.checkPendingUploads(),setTimeout((function(){a.recordedFilesToUpload.splice(a.recordedFilesToUpload.findIndex((function(e){return e.uuid===s.uuid})),1),a.checkPendingUploads()}),3e3)})).catch((function(e){if(e.response&&e.response.data){var t=e.response.data||{},n=t.errors?formUtil.assignErrors(t.errors):{};s.error=n.message,s.status="error",a.$toasted.error(n.message,a.$toastConfig.error)}else s.status="cancelled";a.checkPendingUploads()}))}}))}}()),this.checkPendingUploads(),t.reset(),this.recorder=null},stopStream:function(e){if(e)try{e.getTracks().forEach((function(e){e.enabled=!1,e.stop()}))}catch(e){Re.error(e)}},captureLocalStream:function(e){var t,n,a,i=this,r=e.success,s=e.failed;if((0,me.RY)("".concat(this.vars.localStorageKey,"_selected_device"),this.selectedDevices),this.meetingRules.sendVideo||(this.selectedDevices.enableCamera=!1),this.meetingRules.sendAudio||(this.selectedDevices.enableMicrophone=!1),this.mediaConstraints.video=this.selectedDevices.enableCamera,this.mediaConstraints.audio=this.selectedDevices.enableMicrophone,!this.mediaConstraints.video&&!this.mediaConstraints.audio)return this.stopStream(this.localStream||(null===(a=this.$refs.localStreamElement)||void 0===a?void 0:a.srcObject)),this.localStream=null,this.$refs.localStreamElement.srcObject=null,void(_.isFunction(r)&&r());var o=null===(t=this.selectedDevices.mic)||void 0===t?void 0:t.deviceId,l=null===(n=this.selectedDevices.cam)||void 0===n?void 0:n.deviceId,c={};if(this.mediaConstraints.audio&&(c.audio={deviceId:o?{exact:o}:void 0}),this.mediaConstraints.video){if(c.video=Ne({},De),this.selectedDevices.resolution){var u=this.mediaDevices.resolutions.find((function(e){return e.uuid===i.selectedDevices.resolution}));u&&(c.video.width={exact:u.constraints.width},c.video.height={exact:u.constraints.height})}this.selectedDevices.facingMode?c.video.facingMode={exact:this.selectedDevices.facingMode}:c.video.deviceId=l?{exact:l}:void 0}Re.log("captureLocalStream gumConstraints",c),navigator.mediaDevices.getUserMedia(c).then((function(e){var t,n=i.localStream||(null===(t=i.$refs.localStreamElement)||void 0===t?void 0:t.srcObject);return i.localStream=e,i.$refs.localStreamElement.srcObject=e,i.stopStream(n),_.isFunction(r)&&r(e),e})).catch((function(e){_.isFunction(r)&&s(e),Re.error("getUserMedia error: ",e.message,e.name),"NotFoundError"===e.name||"NotReadableError"===e.name?i.$toasted.error($t("meeting.media_devices.not_found_or_unreadable"),i.$toastConfig.error):"OverconstrainedError"===e.name?(i.$toasted.error($t("meeting.media_devices.reset_and_try_again"),i.$toastConfig.error),i.selectedDevices.resolution=null):"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?i.$toasted.error($t("meeting.media_devices.permission_denied"),i.$toastConfig.error):i.$toasted.error($t("meeting.media_devices.unknown_error"),i.$toastConfig.error),(0,me.KR)("".concat(i.vars.localStorageKey,"_selected_device"))}))},startGreenroom:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Re.log("StartGreenroom called!"),this.statusMessage=this.$t("meeting.status_message.connecting"),this.greenroomStarted||this.checkLastSelectedDevices(),this.captureLocalStream({success:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.greenroomStarted=!0,e.statusMessage=e.$t("meeting.status_message.ready"),_.isFunction(t.callback)&&t.callback(n)},failed:function(t){Re.error(t),e.statusMessage=e.$t("meeting.status_message.failed")}})},updateGreenroom:function(){var e=this;this.startGreenroom({callback:function(){e.isMeetingLive&&!e.localBlurredStream&&(e.statusMessage=$t("meeting.status_message.live"),e.updatePublishedFeed({stream:e.localStream,info:{from:"cam",mirroredVideo:e.pageConfigs.mirroredVideo},mediaConstraints:e.mediaConstraints}))}})},toggleLocalCamera:function(e,t){this.statusMessage=this.$t("meeting.status_message.connecting"),this.localBlurredStream&&!t&&this.unblurLocalStream(),this.selectedDevices.enableCamera=null!=t?t:!this.selectedDevices.enableCamera,this.updateGreenroom()},toggleLocalMicrophone:function(e,t){this.statusMessage=this.$t("meeting.status_message.connecting"),this.selectedDevices.enableMicrophone=null!=t?t:!this.selectedDevices.enableMicrophone,this.updateGreenroom()},changeLocalVideoDevice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.statusMessage=this.$t("meeting.status_message.changing_device"),this.selectedDevices.cam=e,this.selectedDevices.enableCamera=!0,this.selectedDevices.facingMode=null,this.updateGreenroom()},changeLocalVideoResolution:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.statusMessage=this.$t("meeting.status_message.changing_device"),this.selectedDevices.resolution=this.selectedDevices.resolution===e.uuid?null:e.uuid,this.selectedDevices.enableCamera=!0,this.updateGreenroom()},changeLocalAudioDevice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.statusMessage=this.$t("meeting.status_message.changing_device"),this.selectedDevices.mic=e,this.selectedDevices.enableMicrophone=!0,this.updateGreenroom()},switchFacingMode:function(){this.statusMessage=this.$t("meeting.status_message.changing_device"),this.selectedDevices.facingMode="user"===this.selectedDevices.facingMode?"environment":"user",this.selectedDevices.cam=null,this.selectedDevices.enableCamera=!0,this.updateGreenroom()},blurLocalStream:function(){var e=this,t=this,n=this.$refs.localStreamElement,a=this.$refs.localBlurredStreamElement,i=!0,r=a.getContext("2d");this.pageConfigs.backgroundBlur=!0;var s,o;s=n.videoWidth||n.clientWidth,o=n.videoHeight||n.clientHeight,n.width=s,n.height=o,a.width=s,a.height=o,r.fillStyle="black",r.fillRect(0,0,a.width,a.height),n.addEventListener("playing",(function(e){i=!0})),n.addEventListener("emptied",(function(e){i=!1})),n.addEventListener("suspend",(function(e){i=!1}));var u=function(){var t=Ie(Te().mark((function t(){var n;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,l.N_N(),t.next=4,c.zD({architecture:"MobileNetV1",multiplier:.75,outputStride:16,quantBytes:2});case 4:Be=t.sent,e.localBlurredStream=a.captureStream(),n=e.localStream.getAudioTracks()[0],e.localBlurredStream&&n&&(Re.log("blurLocalStream - Audio Track added!"),e.localBlurredStream.addTrack(n)),e.isMeetingLive&&e.updatePublishedFeed({stream:e.localBlurredStream,info:{from:"cam",mirroredVideo:!1},mediaConstraints:e.mediaConstraints}),d(Be),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),Re.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}(),d=function(){var r=Ie(Te().mark((function r(s){var o;return Te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.pageConfigs.backgroundBlur&&s&&t.selectedDevices.enableCamera&&i)){r.next=7;break}return r.next=3,s.segmentPerson(n,{flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:3,scoreThreshold:.2,nmsRadius:20,minKeypointScore:.3,refineSteps:10});case 3:o=r.sent,c.YT(a,n,o,10,3,t.pageConfigs.mirroredVideo),r.next=0;break;case 7:t.pageConfigs.backgroundBlur&&s&&t.selectedDevices.enableCamera?window.setTimeout((function(){d(s)}),1e3):e.unblurLocalStream();case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();u()},unblurLocalStream:function(){this.pageConfigs.backgroundBlur=!1,Be&&(Be.dispose(),Be=null),this.localBlurredStream&&(this.isMeetingLive&&this.updatePublishedFeed({stream:this.localStream,info:{from:"cam",mirroredVideo:this.pageConfigs.mirroredVideo},mediaConstraints:this.mediaConstraints}),this.localBlurredStream.getVideoTracks().forEach((function(e){e.stop()})),this.localBlurredStream=null)},captureScreenStream:function(e){var t=this,n=e.constraints,a=e.success,i=e.failed;this.stopSharingScreen();var r=n||{video:{cursor:"always"},audio:!1};navigator.mediaDevices.getDisplayMedia(r).then((function(e){t.localScreenStream=e,t.$refs.localScreenStreamElement.srcObject=e,_.isFunction(a)&&a(e)})).catch((function(e){_.isFunction(a)&&i(e),Re.log("getDisplayMedia error: ",e.message,e.name)}))},shareScreen:function(){var e=this;this.captureScreenStream({success:function(t){t.getTracks().forEach((function(t){t.addEventListener("ended",e.stopSharingScreen)})),e.publishFeed({stream:e.localScreenStream,info:{from:"screen",mirroredVideo:!1},callback:function(){e.addStreamToRecord(e.localScreenStream)}})},failed:function(t){e.statusMessage=e.$t("meeting.status_message.failed")}})},stopSharingScreen:function(){var e,t=this;Re.log("stopSharingScreen called");var n=this.localScreenStream||(null===(e=this.$refs.localScreenStreamElement)||void 0===e?void 0:e.srcObject);if(n){this.updatePublishedFeed({stream:null,info:{from:"screen",mirroredVideo:!1},action:"remove"});try{n.getTracks().forEach((function(e){e.removeEventListener("ended",t.stopSharingScreen),e.enabled=!1,e.stop()}))}catch(e){Re.error(e)}this.localScreenStream=null,this.$refs.localScreenStreamElement.srcObject=null}},captureWhiteboardStream:function(){var e=this;this.canvasDesigner||this.initCanvasDesigner();var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main-canvas",n=e.canvasDesigner.iframe;if(n){var a=n.contentDocument?n.contentDocument:n.contentWindow.document;if(a){var i=a.getElementById(t);return i}}},n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(t){if(t){var n=t.getContext("2d");e||(n.fillStyle="white",n.fillRect(0,0,t.width,t.height));var a=n.globalAlpha;n.globalAlpha=0,n.fillRect(0,0,1,1),n.globalAlpha=a}},a=t();n(a);var i=t("temp-canvas");n(i)};this.$refs.whiteboard&&CanvasDesigner&&(this.canvasDesigner.addSyncListener((function(e){$e.sendMessage({type:"whiteboard",data:e})})),this.canvasDesigner.setSelected("pencil"),this.canvasDesigner.setTools({pencil:!0,text:!0,image:!0,pdf:!0,eraser:!0,line:!0,arrow:!0,dragSingle:!0,dragMultiple:!0,arc:!0,rectangle:!0,quadratic:!0,bezier:!0,marker:!0,zoom:!1,lineWidth:!0,colorsPicker:!0,extraOptions:!1,code:!1,undo:!0}),this.canvasDesigner.iframe||this.canvasDesigner.appendTo(this.$refs.whiteboard,(function(){n();var a,i=t();(a=i.captureStream(30))&&(e.localWhiteboardStream=a,e.$refs.localWhiteboardStreamElement.srcObject=a,"janus"===e.meetingConfigs.rtcLibrary&&e.localWhiteboardStream.getTracks().forEach((function(e){e.addEventListener("mute",(function(e){n(!0)}))})),n(),e.publishFeed({stream:e.localWhiteboardStream,info:{from:"whiteboard",mirroredVideo:!1},callback:function(){window.setTimeout((function(){n()}),2e3),e.addStreamToRecord(e.localWhiteboardStream)}}))})))},destroyWhiteboard:function(){var e;this.canvasDesigner&&(this.canvasDesigner.destroy(),this.canvasDesigner=null);var t=this.localWhiteboardStream||(null===(e=this.$refs.localWhiteboardStreamElement)||void 0===e?void 0:e.srcObject);t&&(this.updatePublishedFeed({stream:null,info:{from:"whiteboard",mirroredVideo:!1},action:"remove"}),this.stopStream(t),this.localWhiteboardStream=null,this.$refs.localWhiteboardStreamElement.srcObject=null)},toggleRemoteAudio:function(e){if(this.feedsList.length&&e){var t=this.feedsList.findIndex((function(t){return t.id==e.id}));this.feedsList[t].audioMuted=!this.feedsList[t].audioMuted;var n=this.$refs.feedsElements;if(n){var a=n.find((function(t){return t.id==e.id})),i=a.getElementsByClassName("".concat(e.id,"-audio"))[0];i&&(i.muted=this.feedsList[t].audioMuted)}}},getRTCSessionOptions:function(){return{room:this.meeting.roomId,user:this.user,config:Ne({maxParticipants:this.meetingConfigs.maxParticipantCount},this.pageConfigs),meeting:this.meeting,meetingRules:this.meetingRules,meetingConfigs:this.meetingConfigs,mediaConstraints:this.mediaConstraints}},getLocalStreamToPublish:function(){var e=this.localStream,t=this.pageConfigs.mirroredVideo;return this.pageConfigs.backgroundBlur&&this.localBlurredStream&&(e=this.localBlurredStream,t=!1),{stream:e,mirroredVideo:t}},startMeeting:function(){var e=this.getRTCSessionOptions();$e.startMeeting(e)},joinMeeting:function(){var e=this.getRTCSessionOptions();$e.joinMeeting(e)},leaveMeeting:function(){var e=this;this.closeRTCAPI({callback:function(){$e.leaveMeeting({feeds:e.getFeedsToRemove()})}})},publishFeed:function(e){var t=e.stream,n=e.info,a=void 0===n?null:n,i=e.callback;try{$e.publishFeed({stream:t,info:a}),i&&i()}catch(e){Re.error("error: ",e),formUtil.handleErrors(e)}},updatePublishedFeed:function(e){var t=e.stream,n=e.info,a=void 0===n?null:n,i=e.mediaConstraints,r=void 0===i?null:i,s=e.action,o=e.callback;try{$e.updatePublishedFeed({stream:t,info:a,mediaConstraints:r,action:s}),o&&o()}catch(e){Re.error("error: ",e),formUtil.handleErrors(e)}},checkRoomStatus:function(){var e=this;if(!$e)return this.isRoomOnline=!1,void window.setTimeout((function(){e.checkRoomStatus()}),1e3);$e.roomExists({room:this.meeting.roomId,yes:function(){e.isRoomOnline=!0},no:function(){e.isRoomOnline=!1}})},onSessionCreated:function(){this.statusMessage=$t("meeting.status_message.ready"),this.meeting.roomId&&"live"===this.meeting.status&&(this.checkRoomStatus(),this.afterSessionIsCreated&&"function"==typeof this.afterSessionIsCreated&&this.afterSessionIsCreated()),this.isSidebarLoading=!1},onCreateRoomError:function(e){this.isLoading=!1,this.isSidebarLoading=!1,formUtil.handleErrors(e)},onSessionCreateError:function(e){this.isLoading=!1,this.isSidebarLoading=!1,formUtil.handleErrors(e)},onRoomCreated:function(e){var t=this;this.isMeetingLive=!0,this.toggleLayout(this.meetingConfigs.lastLayout),this.statusMessage=$t("meeting.status_message.going_live"),this.updatePage(!0),this.whisperChannel(window.meetingChannel,"MeetingRoomCreated",{roomId:e}),this.meetingAction({action:"alert",loaderVar:"isSidebarLoading",params:{type:"MeetingRoomCreated",data:{roomId:e}},callback:function(){}});var n=this.getLocalStreamToPublish();n.stream?(this.publishFeed({stream:n.stream,info:{from:"cam",mirroredVideo:n.mirroredVideo},callback:function(){t.statusMessage=$t("meeting.status_message.live"),t.meetingConfigs.enableAutoRecording&&setTimeout((function(){t.startRecording(null,n.stream)}),1e3)}}),this.isSidebarLoading=!1):this.statusMessage=$t("meeting.status_message.live")},onRoomJoined:function(){var e=this;if(this.isMeetingLive=!0,this.toggleLayout(this.meetingConfigs.lastLayout),this.statusMessage=$t("meeting.status_message.going_live"),this.updatePage(),this.meetingRules.sendAudio||this.meetingRules.sendVideo){var t=this.getLocalStreamToPublish();if(!t.stream)return void(this.statusMessage=$t("meeting.status_message.live"));this.publishFeed({stream:t.stream,info:{from:"cam",mirroredVideo:t.mirroredVideo},callback:function(){e.statusMessage=$t("meeting.status_message.live")}})}else this.statusMessage=$t("meeting.status_message.live");this.isSidebarLoading=!1},onRoomFullError:function(){this.isLoading=!1,this.isSidebarLoading=!1,this.$toasted.error($t("meeting.room_full"),this.$toastConfig.error)},onJoinRoomError:function(){this.isLoading=!1,this.isSidebarLoading=!1,this.$toasted.error($t("meeting.unable_to_join"),this.$toastConfig.error),this.checkRoomStatus()},onRoomNotFound:function(){this.isLoading=!1,this.isSidebarLoading=!1,this.$toasted.error($t("meeting.room_not_found"),this.$toastConfig.error),this.checkRoomStatus()},onStreamAdded:function(e){var t=this;Re.log("onStreamAdded",e);var n=this.feedsList.find((function(t){return t.id==e.id&&t.isScreen===e.isScreen&&t.isWhiteboard===e.isWhiteboard})),a={user:e.user,canModerate:!!e.canModerate,canToggleAudio:!!e.canToggleAudio,canToggleVideo:!!e.canToggleVideo,isHost:!!e.isHost,isInitiator:!!e.isInitiator,mirroredVideo:!!e.mirroredVideo,isScreen:!!e.isScreen,isWhiteboard:!!e.isWhiteboard,isHandUp:!!e.isHandUp,isTalking:!!e.isTalking},i=e.stream.getAudioTracks()[0],r=null,s=null;e.kind&&"audio"!==e.kind||!i||((r=new MediaStream).addTrack(i),a.hasAudio=i.enabled);var o=e.stream.getVideoTracks()[0],l=null,c=null;if(e.kind&&"video"!==e.kind||!o||((l=new MediaStream).addTrack(o),a.hasVideo=o.enabled),n)Re.log("onStreamAdded - existingFeed",n),Object.assign(n,a),n.audio=r||n.audio,n.video=l||n.video,s=n.audio,c=n.video;else{var u=Ne({id:e.id,userId:e.userId,isFocused:!this.feedsCount,audioMuted:!1,videoMuted:!1,hasAudio:!1,hasVideo:!1},a);u.audio=r,u.video=l,s=u.audio,c=u.video,Re.log("onStreamAdded - newFeed",u),this.feedsList.push(u),this.feedsCount=this.feedsCount+1}this.addStreamToRecord(e.stream),setTimeout((function(){t.setFeedElementSrc({feed:e,audioStream:s,videoStream:c})}),500)},onStreamRemoved:function(e){Re.log("onStreamRemoved",e);var t=this.feedsList.findIndex((function(t){return t.id==e.id}));if(-1!==t){var n=this.feedsList[t];if(e.kind&&"audio"!==e.kind||(n.hasAudio=!1),e.kind&&"video"!==e.kind||(n.hasVideo=!1),!n.hasAudio&&!n.hasVideo)return this.feedsList.splice(t,1),this.feedsCount=this.feedsCount-1,void this.changeFocus();this.setFeedElementSrc({feed:e,audioStream:n.hasAudio?n.audio:null,videoStream:n.hasVideo?n.video:null})}},onStreamUpdated:function(e){Re.log("onStreamUpdated",e);var t=-1;if(e.id)t=this.feedsList.findIndex((function(t){return t.id==e.id}));else{if(!e.userId||!e.from)return;t=this.feedsList.findIndex((function(t){return t.userId===e.userId&&("screen"===e.from&&t.isScreen||"whiteboard"===e.from&&t.isWhiteboard||"cam"===e.from&&!t.isScreen&&!t.isWhiteboard)}))}if(-1!==t){var n=this.feedsList[t];if(e.info&&e.info.hasOwnProperty("mirroredVideo")&&(n.mirroredVideo=e.info.mirroredVideo),n.paused=!1,"paused"===e.type)n.paused=!0,n.hasAudio=!1,n.hasVideo=!1,this.setFeedElementSrc({feed:n,audioStream:null,videoStream:null});else if("meta-updated"===e.type){if(!e.data)return;_.isObject(e.data)&&e.data.key?n[e.data.key]=e.data.value:Array.isArray(e.data)&&e.data.length&&e.data.forEach((function(e){n[e.key]=e.value}))}else e.kind&&"audio"!==e.kind||(n.hasAudio=!!n.audio),e.kind&&"video"!==e.kind||(n.hasVideo=!!n.video),this.setFeedElementSrc({feed:n,audioStream:n.audio,videoStream:n.video});Re.log("onStreamUpdated - updated ",n)}},onFeedRemoved:function(e){var t=this;Re.log("onFeedRemoved",e);var n=[];e.id?n=this.feedsList.filter((function(t){return t.id==e.id})):e.userId&&(n=this.feedsList.filter((function(t){return t.userId===e.userId}))),n.length&&(n.forEach((function(e){var n=t.feedsList.findIndex((function(t){return t.id==e.id}));t.feedsList.splice(n,1),t.feedsCount=t.feedsCount-1})),this.changeFocus())},onParticipantsCountChecked:function(e){this.participantsCount=e},onNumberOfBroadcastViewersUpdated:function(e){this.numberOfBroadcastViewers=e},onLeftMeeting:function(){var e=this;this.isLoading=!1,this.isSidebarLoading=!0,(this.meetingRules.sendAudio||this.meetingRules.sendVideo)&&this.startGreenroom(),this.statusMessage=$t("meeting.status_message.disconnected");var t=this.getRTCSessionOptions();$e.initSession(t),this.meeting&&"live"===this.meeting.status&&this.meetingAction({action:"leave",loaderVar:"isSidebarLoading",callback:function(){e.isSidebarLoading=!1}})},onRemoteHandToggled:function(e){Re.log("onRemoteHandToggled",e);var t=this.feedsList.findIndex((function(t){return t.id==e.id}));if(-1!==t){var n=this.feedsList[t];n.isHandUp=!!e.isHandUp,n.isHandUp&&this.$toasted.info($t("meeting.handup_notification",{attribute:n.user.name}),this.$toastConfig.info)}},onDataChannelOpened:function(e){Re.log("onDataChannelOpened",e),this.canvasDesigner&&this.canvasDesigner.pointsLength>0&&setTimeout((function(){$e.sendMessage({type:"whiteboard",data:"sync-canvas-points"})}),1e3)},onWhiteboardMessageReceived:function(e){var t=e.data;Re.log("onWhiteboardMessageReceived",t),this.canvasDesigner&&("sync-canvas-points"!==t?this.canvasDesigner.syncData(t):this.canvasDesigner.sync())},onJoiningRequest:function(e){var t,n=e.participantId,a=e.userId,i=e.userPreferences;Re.log("onJoiningRequest",n,a,i),swtAlert.fire({title:$t("meeting.user_trying_to_join",{attribute:(null==i||null===(t=i.extra)||void 0===t?void 0:t.name)||a}),allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:$t("general.accept"),cancelButtonText:$t("general.reject")}).then((function(e){return e.value?void $e.acceptJoiningRequest({participantId:n,userId:a,userPreferences:i}):(e.dismiss,void be.bG.DismissReason.cancel)}))},onMeetingUpdated:function(e){var t=this;if(Re.log("onMeetingUpdated",e),e.dateUpdated){var n=function(e){return ge.q7(e,t.vars.serverDateTimeFormat)};this.updateMeetingBackup(e),this.meeting.status=e.status,this.meeting.startDateTime=n(e.startDateTime),e.plannedStartDateTime&&(this.meeting.plannedStartDateTime=n(e.plannedStartDateTime)),e.startedAt&&(this.meeting.startedAt=n(e.startedAt)),e.estimatedEndTime&&(this.meeting.estimatedEndTime=n(e.estimatedEndTime)),e.endedAt&&(this.meeting.endedAt=n(e.endedAt))}e.endTimeSnoozed&&this.autoEndingToast&&this.autoEndingToast.close&&_.isFunction(this.autoEndingToast.close)&&(this.stopAutoEndMeeting(),be.TT.close(),this.autoEndingToast=null),e.autoEndCancelled&&this.autoEndingToast&&this.autoEndingToast.close&&_.isFunction(this.autoEndingToast.close)&&(this.stopAutoEndMeeting(),this.meetingConfigs.autoEndMeeting=!1,be.TT.close(),this.autoEndingToast=null)},onMeetingEnded:function(){this.getOffline()},onSnapshotTaken:function(e){Re.log("onSnapshotTaken",e),this.meetingConfigs.enableSnapshotAlert&&e&&e.byUser&&e.ofUser&&(this.meetingConfigs.snapshotAlertToUserOnly?this.meetingConfigs.snapshotAlertToModerators?this.meeting.canModerate&&(this.$toasted.info($t("meeting.snapshot_taken_notification_user",{by_user:e.byUser.name,of_user:e.ofUser.name}),this.$toastConfig.info),(0,he.Kf)()):this.userUuid===e.ofUser.uuid&&(this.$toasted.info($t("meeting.snapshot_taken_notification_your",{by_user:e.byUser.name}),this.$toastConfig.info),(0,he.Kf)()):(this.userUuid===e.ofUser.uuid?this.$toasted.info($t("meeting.snapshot_taken_notification_your",{by_user:e.byUser.name}),this.$toastConfig.info):this.$toasted.info($t("meeting.snapshot_taken_notification_user",{by_user:e.byUser.name,of_user:e.ofUser.name}),this.$toastConfig.info),(0,he.Kf)()))},onUserBanned:function(e){if(Re.log("on onUserBanned",e),feedItem&&(e.user.uuid===this.userUuid&&(this.getOffline(),this.$toasted.info($t("meeting.ban_notification"),this.$toastConfig.info)),this.feedsList.length)){var t=this.feedsList.find((function(t){return t.id==e.id}));t&&$e.removeFeed(t.id)}},onToggleRemoteAV:function(e){var t=this;Re.log("on onToggleRemoteAV",e),"all"!==e.userUuid&&e.userUuid!==this.userUuid||(this.unblurLocalStream(),window.setTimeout((function(){e.target&&"both"!==e.target&&"audio"!==e.target||(Re.log("this.defaultConfigs.meeting",t.defaultConfigs.meeting),t.defaultConfigs.meeting.canToggleAudio&&(t.toggleLocalMicrophone(null,!!e.enable),t.$toasted.info(e.enable?$t("meeting.audio_unmuted_by_moderator"):$t("meeting.audio_muted_by_moderator"),t.$toastConfig.info))),e.target&&"both"!==e.target&&"video"!==e.target||t.defaultConfigs.meeting.canToggleVideo&&(t.toggleLocalCamera(null,!!e.enable),t.$toasted.info(e.enable?$t("meeting.video_unmuted_by_moderator"):$t("meeting.video_muted_by_moderator"),t.$toastConfig.info)),e.type&&"permanent"!==e.type||(e.target&&"both"!==e.target&&"audio"!==e.target||t.defaultConfigs.meeting.canToggleAudio&&(t.meetingConfigs.canToggleAudio=!!e.enable),e.target&&"both"!==e.target&&"video"!==e.target||t.defaultConfigs.meeting.canToggleAudio&&(t.meetingConfigs.canToggleVideo=!!e.enable))}),1e3))},updateMeetingRules:function(){var e={};"video_conference"===this.meeting.type.uuid?(e={sendAudio:!0,sendVideo:!0,receiveAudio:!0,receiveVideo:!0,session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!1}},this.hasGreenroom=!0):"audio_conference"===this.meeting.type.uuid?(e={sendAudio:!0,sendVideo:!1,receiveAudio:!0,receiveVideo:!1,session:{audio:!0,video:!1,screen:!1,data:!0,oneway:!1}},this.hasGreenroom=!0):"webinar"===this.meeting.type.uuid?(e=this.meeting.canModerate?{sendAudio:!0,sendVideo:!0,receiveAudio:!1,receiveVideo:!1,session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!0,broadcast:!1}}:{sendAudio:!1,sendVideo:!1,receiveAudio:!0,receiveVideo:!0,session:{audio:!1,video:!1,screen:!1,data:!0,oneway:!0,broadcast:!1}},this.hasGreenroom=this.meeting.canModerate):"podcast"===this.meeting.type.uuid?(e=this.meeting.canModerate?{sendAudio:!0,sendVideo:!1,receiveAudio:!1,receiveVideo:!1,session:{audio:!0,video:!1,screen:!1,data:!0,oneway:!0,broadcast:!1}}:{sendAudio:!1,sendVideo:!1,receiveAudio:!0,receiveVideo:!1,session:{audio:!1,video:!1,screen:!1,data:!0,oneway:!0,broadcast:!1}},this.hasGreenroom=this.meeting.canModerate):"live_class"===this.meeting.type.uuid&&(e={sendAudio:!0,sendVideo:!0,receiveAudio:!0,receiveVideo:!0,session:{audio:!0,video:!0,screen:!1,data:!0,oneway:!1,broadcast:!0}},this.hasGreenroom=!0),Object.assign(this.meetingRules,e)},updateMeetingTimezone:function(e){var t=this,n=function(e){return ge.q7(e,t.vars.serverDateTimeFormat)};return this.updateMeetingBackup(e),e.startDateTime=n(e.startDateTime),e.plannedStartDateTime&&(e.plannedStartDateTime=n(e.plannedStartDateTime)),e.startedAt&&(e.startedAt=n(e.startedAt)),e.estimatedEndTime&&(e.estimatedEndTime=n(e.estimatedEndTime)),e},updateMeetingBackup:function(e){var t=_.cloneDeep(e);this.meetingBackup.status=t.status,this.meetingBackup.startDateTime=t.startDateTime,this.meetingBackup.plannedStartDateTime=t.plannedStartDateTime,this.meetingBackup.startedAt=t.startedAt,this.meetingBackup.estimatedEndTime=t.estimatedEndTime,this.meetingBackup.endedAt=t.endedAt},updatePage:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.meetingConfigs.recordingFormatAudio||"audio/webm",n=this.meetingConfigs.recordingFormatVideo||"video/webm",a=this.recordingConfigs.type,i=this.recordingConfigs.mimeType;"video_conference"===this.meeting.type.uuid?(this.meetingConfigs.canToggleAudio=!0,this.meetingConfigs.canToggleVideo=!0,a="video",i=n):"audio_conference"===this.meeting.type.uuid?(this.meetingConfigs.canToggleAudio=!0,this.meetingConfigs.canToggleVideo=!1,a="audio",i=t):"webinar"===this.meeting.type.uuid?(e||this.meeting.canModerate?(this.meetingConfigs.canToggleAudio=!0,this.meetingConfigs.canToggleVideo=!0):(this.meetingConfigs.canToggleAudio=!1,this.meetingConfigs.canToggleVideo=!1,this.meetingConfigs.canShareFiles=!1,this.meetingConfigs.canShareScreen=!1,this.meetingConfigs.canRecord=!1,this.meetingConfigs.canUseWhiteboard=!1,this.meetingConfigs.canUseHandGesture=!1),a="video",i=n):"live_class"===this.meeting.type.uuid?(e||this.meeting.canModerate?(this.meetingConfigs.canToggleAudio=!0,this.meetingConfigs.canToggleVideo=!0):(this.meetingConfigs.canToggleAudio=!0,this.meetingConfigs.canToggleVideo=!0,this.meetingConfigs.canShareFiles=!0,this.meetingConfigs.canShareScreen=!1,this.meetingConfigs.canRecord=!1,this.meetingConfigs.canUseWhiteboard=!1,this.meetingConfigs.canUseHandGesture=!0,this.meetingConfigs.canToggleLayout=!1,this.meetingConfigs.layout="gallery"),a="video",i=n):"podcast"===this.meeting.type.uuid&&(e||this.meeting.canModerate?(this.meetingConfigs.canToggleAudio=!0,this.meetingConfigs.canToggleVideo=!1,this.meetingConfigs.canUseWhiteboard=!1,this.meetingConfigs.canUseHandGesture=!1):(this.meetingConfigs.canToggleAudio=!1,this.meetingConfigs.canToggleVideo=!1,this.meetingConfigs.canShareFiles=!1,this.meetingConfigs.canShareScreen=!1,this.meetingConfigs.canRecord=!1,this.meetingConfigs.canUseWhiteboard=!1,this.meetingConfigs.canUseHandGesture=!1),a="audio",i=t),this.recordingConfigs.type=a,this.recordingConfigs.mimeType=i,this.recordingConfigs.timeSlice=this.meetingConfigs.recordingTimeSlice||5e3,this.meetingConfigs.canUseWhiteboard&&((0,me.ve)("/js/canvas-designer/webrtc-handler.js"),(0,me.ve)("/js/canvas-designer/canvas-designer-widget.js"))},getMeeting:function(){var e=this;return this.isLoading=!0,window.Echo?this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/pam"),method:"get",params:{isPam:!0}}).then((function(t){var n,a;if(t.isInstantMeeting&&(e.fallBackRoute="appInstantMeetingList"),!t.identifier||!t.isPam||e.$route.query&&e.$route.query.identifier&&e.$route.query.identifier===t.identifier||e.$router.replace({name:e.$route.name,params:e.$route.params,query:Ne(Ne({},e.$route.query),{},{identifier:t.identifier})}),t.isPaid&&!t.hasPaid)return e.$toasted.error($t("meeting.could_not_join_paid_meeting_without_payment"),e.$toastConfig.error),void setTimeout((function(){e.$router.push({name:"appMeetingPayment",params:{uuid:t.uuid},query:{join:!0}})}),1e3);Object.assign(e.meetingConfigs,t.config);var i=(0,me.L2)("".concat(e.vars.localStorageKey,"_selected_layout"),!1);return e.meetingConfigs.lastLayout=i||e.meetingConfigs.layout,e.meetingConfigs.enableChat=e.meetingConfigs.enableChat&&(null===(n=e.defaultConfigs.chat)||void 0===n?void 0:n.enabled)&&(null===(a=e.subscriptions)||void 0===a?void 0:a.userPrivate),e.isSidebarLoading=!0,e.isLoading=!1,t=e.updateMeetingTimezone(t),Object.assign(e.meeting,t),e.updateMeetingRules(),e.updatePage(),e.isMobile()&&(e.selectedDevices.facingMode="user"),(e.meetingRules.sendAudio||e.meetingRules.sendVideo)&&e.initMediaDevices(),e.joinChannel(),e.updateUsername(!1,e.initRTCAPI),t})).catch((function(t){return Re.error(t),e.isLoading=!1,formUtil.handleErrors(t),t})):(this.$toasted.error(this.$t("config.pusher.credential_required"),this.$toastConfig.error),void this.$router.push({name:this.fallBackRoute}))},getOnline:function(){var e=this;this.isSidebarLoading=!0,this.showAgenda=!1,this.statusMessage=$t("meeting.status_message.connecting");this.meeting.status;this.$gaEvent("engagement","meeting_getOnline"),this.meetingAction({action:"join",loaderVar:"isSidebarLoading",callback:function(){e.meeting.canModerate?e.startMeeting():e.joinMeeting(),e.startMeetingTimer()}})},getOffline:function(){this.recorder&&window.recordingDurationInterval&&this.stopRecording(),this.isLoading=!0,this.isMeetingLive=!1,this.showAgenda=!1,this.showWhiteboard=!1,this.meetingConfigs.layout=this.meetingConfigs.lastLayout,this.statusMessage=$t("meeting.status_message.disconnecting"),this.$gaEvent("engagement","meeting_getOffline"),this.leaveMeeting()},endMeeting:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isLoading=!0,this.isMeetingLive=!1,this.showAgenda=!1,this.showWhiteboard=!1,this.meetingConfigs.layout=this.meetingConfigs.lastLayout,this.statusMessage=$t("meeting.status_message.disconnecting"),this.$gaEvent("engagement","meeting_endMeeting"),this.leaveMeeting(),this.meeting&&"live"===this.meeting.status?this.meetingAction({action:"end",loaderVar:"isSidebarLoading",alert:e?"confirm":null,callback:function(e){e&&e.meeting&&$e.sendMessage({event:"meetingEnded",data:{status:e.meeting.status}})}}):$e.sendMessage({event:"meetingEnded",data:{status:"ended"}})},cancelMeeting:function(){this.meetingAction({action:"cancel",loaderVar:"isSidebarLoading",alert:"input",title:$t("meeting.reason_for_cancellation"),inputPlaceholder:$t("meeting.reason_for_cancellation"),fieldName:"cancellationReason"})},snoozeMeeting:function(e){this.meetingAction({action:"snooze",loaderVar:"isSidebarLoading",data:{period:e},alert:"confirm"})},meetingAction:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.loaderVar||"isLoading";if(t.action){var a=function(a){e[n]=!0;var i=a||t.data;("end"!==t.action||e.meeting&&"live"===e.meeting.status)&&e.Custom({url:"/".concat(e.initUrl,"/").concat(e.uuid,"/").concat(t.action),method:t.method||"post",data:i,silent:!!t.silent}).then((function(a){if(a.meeting){e.updateMeetingBackup(a.meeting),a.meeting=e.updateMeetingTimezone(a.meeting),Object.assign(e.meeting,a.meeting);var i=Ne(Ne({},e.meetingBackup),{},{dateUpdated:!0});t.inform&&(i=Ne(Ne({},i),t.inform)),e.informAboutMeetingUpdate(i)}t.callback?t.callback(a):e[n]=!1})).catch((function(a){Re.error(a),t.callback&&t.sameCallbackIfError?t.callback(a):e[n]=!1,formUtil.handleErrors(a)}))};"confirm"===t.alert||!0===t.alert?formUtil.confirmAction().then((function(t){t.value?a():(e[n]=!1,t.dismiss,be.bG.DismissReason.cancel)})):"input"===t.alert?swtAlert.fire({title:t.title,input:"text",inputPlaceholder:t.inputPlaceholder,showCancelButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:"Proceed!",cancelButtonText:"Go Back!"}).then((function(i){if(i.value){var r={};r[t.fieldName]=i.value,a(r)}else e[n]=!1,i.dismiss,be.bG.DismissReason.cancel})):a()}else this[n]=!1},joinChannel:function(){window.Echo&&(this.meeting.isPam?window.meetingChannel=window.Echo.channel("MeetingGuest.".concat(this.uuid)):(window.meetingChannel=window.Echo.join("Meeting.".concat(this.uuid)),window.meetingChannel.here(this.afterJoiningChannel).joining(this.newMemberJoining).leaving(this.memberLeaving)),window.meetingChannel.listen("MeetingStatusChanged",this.meetingStatusChanged).listen("MeetingRoomCreated",this.meetingRoomCreated).listen("PublicMeetingRoomCreated",this.meetingRoomCreated))},whisperChannel:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e&&e.whisper&&t&&e.whisper(t,n)},afterJoiningChannel:function(e){this.membersLive=e},newMemberJoining:function(e){this.membersLive.push(e)},memberLeaving:function(e){this.membersLive=this.membersLive.filter((function(t){return t.uuid!==e.uuid}))},meetingStatusChanged:function(e){var t=this,n=function(e){return ge.q7(e,t.vars.serverDateTimeFormat)};if(e.uuid===this.meeting.uuid){if(this.meeting.status===e.status&&!e.delayed&&!e.updated)return;if(e.updated&&this.stopAutoEndMeeting(),this.updateMeetingBackup(e),this.meeting.status=e.status,this.meeting.startDateTime=n(e.startDateTime),this.meeting.plannedStartDateTime&&(this.meeting.plannedStartDateTime=n(e.plannedStartDateTime)),this.meeting.startedAt&&(this.meeting.startedAt=n(e.startedAt)),this.meeting.estimatedEndTime&&(this.meeting.estimatedEndTime=n(e.estimatedEndTime)),this.meeting.status===e.status&&!e.delayed)return;var a=e.status;"scheduled"===a&&e.delayed&&(a="delayed");this.$toasted.success($t({live:"meeting.is_live_now",delayed:"meeting.meeting_delayed",cancelled:"meeting.meeting_cancelled",ended:"meeting.meeting_ended"}[a]),this.$toastConfig)}},meetingRoomCreated:function(e){if(e){var t=e.data?e.data:e;this.meeting.roomId=t.roomId,this.checkRoomStatus()}},initRTCAPI:function(){var e=this;return Ie(Te().mark((function t(){var n,a,i;return Te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="rtcmc",t.next=3,e.getRTCSessionOptions();case 3:return a=t.sent,i=[{urls:["stun:stun.l.google.com:19302","stun:stun1.l.google.com:19302","stun:stun2.l.google.com:19302","stun:stun3.l.google.com:19302","stun:stun4.l.google.com:19302"]}],e.defaultConfigs.iceServers.length&&(i=Se(e.defaultConfigs.iceServers)),t.next=8,Me.init({library:n,config:{debug:e.meetingConfigs.debugMode,signalServer:e.defaultConfigs.signalServers.url,iceServers:i,mediaServers:e.defaultConfigs.mediaServers,opaqueId:"KMConnect"+e.user.username},callbacks:{sessionCreated:e.onSessionCreated,sessionCreateError:e.onSessionCreateError,createRoomError:e.onCreateRoomError,roomCreated:e.onRoomCreated,roomFullError:e.onRoomFullError,joinRoomError:e.onJoinRoomError,roomNotFound:e.onRoomNotFound,roomJoined:e.onRoomJoined,streamAdded:e.onStreamAdded,streamUpdated:e.onStreamUpdated,streamRemoved:e.onStreamRemoved,feedRemoved:e.onFeedRemoved,participantsCountChecked:e.onParticipantsCountChecked,numberOfBroadcastViewersUpdated:e.onNumberOfBroadcastViewersUpdated,leftMeeting:e.onLeftMeeting,remoteHandToggled:e.onRemoteHandToggled,dataChannelOpened:e.onDataChannelOpened,whiteboardMessageReceived:e.onWhiteboardMessageReceived,joiningRequest:e.onJoiningRequest,meetingUpdated:e.onMeetingUpdated,meetingEnded:e.onMeetingEnded,snapshotTaken:e.onSnapshotTaken,userBanned:e.onUserBanned,toggleRemoteAV:e.onToggleRemoteAV},options:a});case 8:$e=t.sent,e.fileSharingConnection=$e;case 10:case"end":return t.stop()}}),t)})))()},getFeedsToRemove:function(){var e=this,t=[];return this.localStream&&(t.push({stream:this.localStream}),this.localBlurredStream&&(this.localBlurredStream.getVideoTracks().forEach((function(e){e.stop()})),this.localBlurredStream=null),this.localStream=null),this.localScreenStream&&(t.push({stream:this.localScreenStream,stopFn:function(t){t.getTracks().forEach((function(t){t.removeEventListener("ended",e.stopSharingScreen),t.enabled=!1,t.stop()}))}}),this.$refs.localScreenStreamElement.srcObject=null,this.localScreenStream=null),this.localWhiteboardStream&&(t.push({stream:this.localWhiteboardStream}),this.localWhiteboardStream=null,this.$refs.localWhiteboardStreamElement.srcObject=null),t},stopAllFeeds:function(){this.getFeedsToRemove().forEach((function(e){"function"==typeof e.stopFn?e.stopFn(e.stream):"function"==typeof e.stream.getTracks?e.stream.getTracks().forEach((function(e){return e.stop()})):"function"==typeof e.stream.stop&&e.stream.stop()}))},closeRTCAPI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stopAutoEndMeeting(),this.pageConfigs.backgroundBlur&&this.unblurLocalStream(),this.autoEndingToast&&_.isEmpty(this.autoEndingToast)&&(be.TT.close(),this.autoEndingToast=null),this.feedsCount=0,this.feedsList.splice(0),e.callback&&"function"==typeof e.callback?e.callback():$e.close({feeds:this.getFeedsToRemove()})},initMediaDevices:function(){var e=this;!1===ve().isWebRTCSupported&&this.$toasted.error(this.$t("meeting.broadcast.webrtc_not_supported"),this.$toastConfig.error),this.statusMessage=this.$t("meeting.status_message.awaiting_permission");var t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;e.statusMessage=e.$t("meeting.status_message.init_devices"),ve().load((function(){if(t.audio)if(!0===ve().hasMicrophone){e.mediaDevices.hasMicrophone=!0,e.mediaDevices.hasMicrophonePermission=!0,e.mediaDevices.mics.splice(0);var a=ve().audioInputDevices;a=a.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t})),Object.assign(e.mediaDevices.mics,a,{length:a.length}),e.selectedDevices.mic=e.mediaDevices.mics[0]}else e.mediaDevices.hasMicrophone=!1,e.selectedDevices.mic=null;if(t.video)if(!0===ve().hasWebcam){e.mediaDevices.hasWebcam=!0,e.mediaDevices.hasWebcamPermission=!0,e.mediaDevices.cams.splice(0);var i=ve().videoInputDevices;i=i.filter((function(e,t,n){return n.findIndex((function(t){return t.id===e.id}))===t})),Object.assign(e.mediaDevices.cams,i,{length:i.length}),e.selectedDevices.cam=e.mediaDevices.cams[0]}else e.mediaDevices.hasWebcam=!1,e.selectedDevices.cam=null;n&&n()}))},n={audio:!1,video:!1},a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.hasOwnProperty("audio")&&(n.audio=!0),a.hasOwnProperty("video")&&(n.video=!0),n.audio&&n.video&&t(n,e.startGreenroom)};!ve().MediaDevices.length||ve().MediaDevices[0]&&ve().MediaDevices[0].isCustomLabel?(navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){e.getTracks().forEach((function(e){e.stop()})),a({audio:!0})})).catch((function(t){e.statusMessage=e.$t("meeting.status_message.failed"),Re.log("getUserMedia error: ",t.message,t.name),"NotAllowedError"!==t.name&&"PermissionDeniedError"!==t.name||(e.mediaDevices.hasMicrophonePermission=!1),a({audio:!0})})),navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){e.getTracks().forEach((function(e){e.stop()})),a({video:!0})})).catch((function(t){e.statusMessage=e.$t("meeting.status_message.failed"),Re.log("getUserMedia error: ",t.message,t.name),"NotAllowedError"!==t.name&&"PermissionDeniedError"!==t.name||(e.mediaDevices.hasWebcamPermission=!1),a({video:!0})}))):a({audio:!0,video:!0})},initCanvasDesigner:function(){this.canvasDesigner=new CanvasDesigner,this.canvasDesigner.widgetHtmlURL="/js/canvas-designer/widget.html",this.canvasDesigner.widgetJsURL="/js/canvas-designer/widget.min.js"},initNetworkListener:function(){var e=this,t=this;window.addEventListener("offline",(function(n){t.isOffline=!0,t.isMeetingLive=!1,t.showAgenda=!1,t.showWhiteboard=!1,t.meetingConfigs.layout=t.meetingConfigs.lastLayout,t.closeRTCAPI(),(e.meetingRules.sendAudio||e.meetingRules.sendVideo)&&e.startGreenroom()})),window.addEventListener("online",(function(e){t.isOffline=!1,location.reload()}))},checkLastSelectedDevices:function(){var e=(0,me.L2)("".concat(this.vars.localStorageKey,"_selected_device"),!0);if(e){var t=e.cam?this.mediaDevices.cams.find((function(t){return t.id===e.cam.id})):null;this.selectedDevices.cam=t||this.selectedDevices.cam;var n=e.mic?this.mediaDevices.mics.find((function(t){return t.id===e.mic.id})):null;this.selectedDevices.mic=n||this.selectedDevices.mic,this.selectedDevices.enableCamera=e.enableCamera,this.selectedDevices.enableMicrophone=e.enableMicrophone,("audio"===this.pageQueries.callType||this.pageQueries.muteCamera)&&(this.selectedDevices.enableCamera=!1),(this.meetingConfigs.muteParticipantsOnStart||this.pageQueries.muteMicrophone)&&(this.selectedDevices.enableMicrophone=!1),this.selectedDevices.resolution=e.resolution,this.selectedDevices.facingMode=e.facingMode}},setFeedElementSrc:function(e){var t=e.feed,n=e.audioStream,a=void 0===n?null:n,i=e.videoStream,r=void 0===i?null:i;if(t){var s=this.$refs.feedsElements;if(s){var o=s.find((function(e){return e.id==t.id})),l=o.getElementsByClassName("".concat(t.id,"-audio"))[0],c=o.getElementsByClassName("".concat(t.id,"-video"))[0];if(l){var u=l.srcObject;(u!==a||u&&a&&u.id!==a.id)&&(l.srcObject=a)}if(c){var d=c.srcObject;(d!==r||d&&r&&d.id!==r.id)&&(c.srcObject=r)}}}},updateUsername:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1?arguments[1]:void 0;swtAlert.fire({title:$t("misc.ask_name.title"),showCancelButton:t,allowOutsideClick:!1,allowEscapeKey:!1,confirmButtonText:$t("misc.ask_name.confirm_btn"),cancelButtonText:$t("misc.ask_name.cancel_btn_2"),input:"text",inputValue:this.defaultUser.name,inputPlaceholder:this.defaultUser.name}).then((function(t){if(t.value){var a=(0,me.L2)("".concat(e.vars.localStorageKey,"_guest_user_data"),!0)||{};(a=Ne(Ne({},e.defaultUser),a)).username=(0,fe.toSnakeCase)(t.value),a.name=t.value,a.profile.name=t.value,Object.assign(e.defaultUser,a),(0,me.RY)("".concat(e.vars.localStorageKey,"_guest_user_data"),a),n&&_.isFunction(n)&&n()}else t.dismiss,be.bG.DismissReason.cancel}))},setDefaultGuestUserData:function(){var e=(0,me.L2)("".concat(this.vars.localStorageKey,"_guest_user_data"),!0);if(!e||!e.uuid){uuid();var t=de.internet.userName(),n=de.name.firstName()+" "+de.name.lastName();e={uuid,username:t,name:n,profile:{name:n,avatar:de.image.animals(300,300,!0)}}}Object.assign(this.defaultUser,e),(0,me.RY)("".concat(this.vars.localStorageKey,"_guest_user_data"),e)},beforeUnload:function(e){this.stopNavigation&&(e.returnValue=this.stopNavigationMessage)},destroyPage:function(){window.countdownInterval&&clearInterval(window.countdownInterval),window.meetingKeepAliveTimer&&clearInterval(window.meetingKeepAliveTimer),window.recordingDurationInterval&&clearInterval(window.recordingDurationInterval),this.SetUiConfig({pageHeaderShow:!0,pageFooterShow:!0}),this.closeRTCAPI(),window.Echo&&(window.meetingChannel&&(window.meetingChannel.stopListening("MeetingStatusChanged"),window.meetingChannel.stopListening("NewMessage")),window.Echo.leave("Meeting.".concat(this.uuid))),r.Z.isEnabled&&(r.Z.off("change"),r.Z.off("error"))},doInit:function(){this.Init({url:this.initUrl}),window.isDuplicate()?this.duplicateTab=!0:this.getMeeting()}}),beforeRouteEnter:function(e,t,n){e.params.uuid?n((function(e){e.prevRoute=t})):n({name:"appMeetingView"===t?t:"AppMeetingList"})},created:function(){var e=this;document.body.classList.add("meeting-page"),this.uuid=this.$route.params.uuid,this.pageQueries.objForEach((function(t,n){e.$route.query.hasOwnProperty(n)&&(e.pageQueries[n]="true"===e.$route.query[n]||"false"!==e.$route.query[n]&&e.$route.query[n])})),this.pageQueries.autoStart&&(this.afterSessionIsCreated=function(){window.setTimeout(e.getOnline,1e3),e.afterSessionIsCreated=null}),this.configs.meeting&&Object.assign(this.meetingConfigs,this.configs.meeting),Re.setDebug(this.meetingConfigs.debugMode),this.SetUiConfig({pageHeaderShow:!1,pageFooterShow:!1}),this.setDefaultGuestUserData(),navigator.connection&&"cellular"===navigator.connection.type&&navigator.connection.downlinkMax<=.115&&alert("2G is not supported. Please use a better internet service.")},mounted:function(){var e=this;r.Z.isEnabled&&(r.Z.on("change",(function(){e.SetUiConfig({fullScreen:r.Z.isFullscreen})})),r.Z.on("error",(function(e){Re.error("Failed to enable fullscreen",e)})),this.SetUiConfig({fullScreen:!1})),this.GetConfig({params:{pam:!0,meeting:this.uuid}}).then((function(t){t&&t.pusher?(e.isLoading=!1,window.Echo||(0,pe.s)(),Object.assign(e.defaultConfigs,t),Object.assign(e.meetingConfigs,t.meeting),e.doInit()):(e.$toasted.error($t("meeting.pam_meeting_error"),e.$toastConfig.error),e.$router.push({name:"login",query:{ref:e.$route.fullPath}}))})).catch((function(t){e.isLoading=!1,formUtil.handleErrors(t)})),window.addEventListener("beforeunload",this.beforeUnload),this.checkIfOffline(),this.initNetworkListener()},beforeRouteLeave:function(e,t,n){var a=this,i=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(a.isLoading=!0,a.destroyPage(),window.removeEventListener("beforeunload",a.beforeUnload),window.isMeetingPageDestroyed=!0,a.meeting&&"live"===a.meeting.status?a.Custom({url:"/".concat(a.initUrl,"/").concat(a.uuid,"/leave"),method:"post"}).then((function(e){n()})).catch((function(e){Re.error("error: ",e),n()})):n())};this.stopNavigation?formUtil.unsavedCheckAlert({},{unsaved:!0},i,{title:this.stopNavigationMessage}):this.feedsCount?formUtil.unsavedCheckAlert({},{unsaved:!0},i,{title:this.$t("meeting.is_live")}):i()},beforeDestroy:function(){window.isMeetingPageDestroyed||(this.isLoading=!0,this.destroyPage(),this.meeting&&"live"===this.meeting.status&&this.Custom({url:"/".concat(this.initUrl,"/").concat(this.uuid,"/leave"),method:"post"}),window.isMeetingPageDestroyed=!0),this.stopAllFeeds()},destroyed:function(){document.body.classList.remove("meeting-page")},filters:{decimal:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(e).toFixed(t)}}};var Fe=n(94226),Oe=n(65034),je=n(74703),ze=n(65167),Pe=n.n(ze);const We={mixins:[Fe.Z,Le],components:{AppLogo:Oe.Z,AnimatedNumber:je.Z,FlipCountdown:Pe()},watch:{locked:function(e,t){if(e){var n=this.$route.fullPath;this.$router.push({name:"authLock",query:{ref:n}})}}}};var Ge=n(93379),Ve=n.n(Ge),Ue=n(82465),He={insert:"head",singleton:!1};Ve()(Ue.Z,He);Ue.Z.locals;const qe=(0,n(51900).Z)(We,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-container",{class:["meeting-page-container",{"is-in-iframe":e.pageQueries.iframe},{"has-feeds":e.feedsCount},e.meetingConfigs.layout+"-layout",{"auto-hide-footer":e.pageConfigs.autoHideFooter},{"show-agenda":e.showAgenda},{"show-whiteboard":e.showWhiteboard},{"show-file-sharing":e.showFileSharing},{"show-bulk-actions":e.showBulkActions},{pulse:"started"===e.recordingStatus}],attrs:{"with-loader":"","is-loading":e.isLoading,"loader-color":e.vars.loaderColor,"overlay-color":e.uiConfigs.pageColorSchemeType,"loader-size":"screen","data-page-background-color":e.uiConfigs.pageBackgroundColor,"data-card-background-color":e.uiConfigs.pageContainerBackgroundColor}},[e.duplicateTab&&!e.pageQueries.iframe?n("card",{staticClass:"duplicate-tab",attrs:{"body-classes":"d-flex justify-content-center align-items-center"}},[n("h2",[e._v(e._s(e.$t("meeting.duplicate_tab")))])]):e.meeting&&!e.meeting.isBlocked?[e.meetingConfigs.canUseWhiteboard&&e.isMeetingLive?n("card",{staticClass:"whiteboard-container",attrs:{"body-classes":"whiteboard-wrapper",shadow:""}},[n("div",{staticClass:"meeting-whiteboard-container"},[n("div",{ref:"whiteboard",staticClass:"whiteboard",attrs:{id:"whiteboard"}})])]):e._e(),e._v(" "),n("div",{class:["meeting-room",{"has-min-2-feed":e.allFeedsCount>=2},{"has-min-3-feed":e.allFeedsCount>=3},{"has-min-4-feed":e.allFeedsCount>=4},{"has-min-5-feed":e.allFeedsCount>=5},{"compact-layout":e.isLayoutCompact}]},[e.feedsCount?[e._l(e.feedsList,(function(t){return[n("div",{key:""+t.id,ref:"feedsElements",refInFor:!0,class:["stream-item",{"mirrored-video":t.mirroredVideo},{"is-focused":t.isFocused},{"is-speaking":t.isSpeaking},{"is-screen":t.isScreen},{"is-whiteboard":t.isWhiteboard},{"is-talking":t.isTalking},{"has-no-video":!t.video||!t.hasVideo||t.videoMuted},{"has-stream-cover":t.user.cover}],attrs:{id:t.id}},[n("audio",{class:t.id+"-audio",attrs:{playsinline:"",autoplay:"",muted:!t.hasAudio||t.audioMuted}}),e._v(" "),n("div",{staticClass:"stream-video"},[n("video",{class:t.id+"-video",attrs:{playsinline:"",autoplay:"",muted:""},domProps:{muted:!0},on:{dblclick:e.toggleObjectFit}})]),e._v(" "),t.video&&t.hasVideo&&!t.videoMuted?e._e():n("div",{staticClass:"stream-no-video"},[t.user.cover?n("div",{staticClass:"stream-cover",style:"background-image: url("+t.user.cover+")",on:{dblclick:e.toggleBackgroundSize}}):n("div",{staticClass:"user-avatar-box"},[n("user-avatar",{attrs:{user:t.user}}),e._v(" "),t.audio&&t.hasAudio&&!t.audioMuted?n("div",{staticClass:"audio-pusle-wrapper"},[n("div",{staticClass:"audio-pusle"},[n("i",{staticClass:"far fa-circle-dot fa-beat"})])]):e._e()],1)]),e._v(" "),t.user?n("div",{staticClass:"stream-caption"},[n("user-avatar",{attrs:{user:t.user,"has-shadow":""}}),e._v(" "),t.isScreen?n("h6",[e._v(e._s(t.user.name)+"'s "+e._s(e.$t("meeting.screen")))]):t.isWhiteboard?n("h6",[e._v(e._s(t.user.name)+"'s "+e._s(e.$t("meeting.whiteboard")))]):n("h6",[e._v(e._s(t.user.name))])],1):e._e(),e._v(" "),n("div",{staticClass:"stream-controls"},[t.isHost?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.host")}},[n("i",{staticClass:"fas fa-user-tie text-info"})]):t.canModerate?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.moderator")}},[n("i",{staticClass:"fas fa-user-cog text-info"})]):e._e(),e._v(" "),t.isHandUp?n("div",{staticClass:"status-icon"},[n("i",{staticClass:"fas fa-hand-paper enabled-text"})]):e._e(),e._v(" "),t.audio&&t.hasAudio?n("div",{staticClass:"status-icon"},[t.audioMuted?n("i",{staticClass:"fas fa-volume-off disabled-text"}):n("i",{staticClass:"fas fa-volume-up"})]):e._e(),e._v(" "),n("base-dropdown",{staticClass:"custom-control-dropdown",attrs:{tag:"div",position:"right"}},[n("button",{staticClass:"btn action custom-control-dropdown-btn btn-sm",attrs:{slot:"title"},slot:"title"},[n("i",{staticClass:"fas fa-ellipsis-v"})]),e._v(" "),t.audio&&t.hasAudio?n("button",{staticClass:"dropdown-item btn-sm",on:{click:function(n){return e.toggleRemoteAudio(t)}}},[t.audioMuted?[n("i",{staticClass:"fas fa-volume-off disabled-text"}),e._v("\n                                        "+e._s(e.$t("meeting.unmute_for_me"))+"\n                                    ")]:[n("i",{staticClass:"fas fa-volume-up enabled-text"}),e._v("\n                                        "+e._s(e.$t("meeting.mute_for_me"))+"\n                                    ")]],2):e._e(),e._v(" "),"grid"===e.meetingConfigs.layout||t.isFocused?e._e():n("button",{staticClass:"dropdown-item btn-sm",on:{click:function(n){return e.changeFocus(t)}}},[n("i",{staticClass:"fas fa-expand enabled-text"}),e._v("\n                                    "+e._s(e.$t("meeting.maximize"))+"\n                                ")]),e._v(" "),e.meetingConfigs.canTakeSnapshot&&(e.meetingConfigs.anyoneCanTakeSnapshot||e.meeting.canModerate)?n("button",{staticClass:"dropdown-item btn-sm",on:{click:function(n){return e.takeSnapshotOfStream(t)}}},[n("i",{staticClass:"fas fa-image enabled-text"}),e._v("\n                                    "+e._s(e.$t("meeting.take_snapshot"))+"\n                                ")]):e._e()])],1)])]}))]:e._e(),e._v(" "),e.hasGreenroom?n("div",{class:["stream-item local-stream-item",{"mirrored-video":e.pageConfigs.mirroredVideo},{"is-speaking":e.isSpeaking},{"is-focused":"cam"===e.isFocused},{"is-blurred":!!e.localBlurredStream},{"has-no-video":!e.selectedDevices.enableCamera||e.selectedDevices.videoMuted},{"has-stream-cover":e.user.profile.cover}]},[n("div",{staticClass:"stream-video"},[n("video",{ref:"localStreamElement",attrs:{playsinline:"",autoplay:"",muted:""},domProps:{muted:!0},on:{dblclick:e.toggleObjectFit}}),e._v(" "),n("canvas",{ref:"localBlurredStreamElement",on:{dblclick:e.toggleObjectFit}})]),e._v(" "),!e.selectedDevices.enableCamera||e.selectedDevices.videoMuted?n("div",{staticClass:"stream-no-video"},[e.user.profile.cover?n("div",{staticClass:"stream-cover",style:"background-image: url("+e.user.profile.cover+")",on:{dblclick:e.toggleBackgroundSize}}):n("div",{staticClass:"user-avatar-box"},[n("user-avatar",{attrs:{user:e.user}}),e._v(" "),e.selectedDevices.mic&&e.selectedDevices.enableMicrophone&&!e.selectedDevices.audioMuted?n("div",{staticClass:"audio-pusle-wrapper"},[n("div",{staticClass:"audio-pusle"},[n("i",{staticClass:"far fa-circle-dot fa-beat"})])]):e._e()],1)]):e._e(),e._v(" "),e.isMeetingLive?n("div",{staticClass:"stream-caption"},[n("user-avatar",{attrs:{user:e.user,"has-shadow":""}}),e._v(" "),n("h6",[e._v(e._s(e.$t("meeting.you")))])],1):e._e(),e._v(" "),e.isMeetingLive?n("div",{staticClass:"stream-controls"},[e.meeting.isHost?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.host")}},[n("i",{staticClass:"fas fa-user-tie text-info"})]):e.meeting.canModerate?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.moderator")}},[n("i",{staticClass:"fas fa-user-cog text-info"})]):e._e(),e._v(" "),e.isHandUp?n("div",{staticClass:"status-icon"},[n("i",{staticClass:"fas fa-hand-paper enabled-text"})]):e._e(),e._v(" "),e.selectedDevices.mic&&e.meetingConfigs.canToggleAudio?n("div",{staticClass:"status-icon"},[e.selectedDevices.enableMicrophone?n("i",{staticClass:"fas fa-volume-up"}):n("i",{staticClass:"fas fa-volume-off disabled-text"})]):e._e(),e._v(" "),"grid"!==e.meetingConfigs.layout&&"cam"!==e.isFocused?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"controls-btn",attrs:{title:e.$t("meeting.maximize")},on:{click:function(t){return e.changeFocus("cam")}}},[n("i",{staticClass:"fas fa-expand enabled-text"})]):e._e(),e._v(" "),e.meetingConfigs.canTakeSnapshot?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"controls-btn",attrs:{title:e.$t("meeting.take_snapshot")},on:{click:function(t){return e.takeSnapshotOfStream("localStreamElement",!0)}}},[n("i",{staticClass:"fas fa-image enabled-text"})]):e._e()]):e._e()]):e._e(),e._v(" "),n("div",{class:["stream-item is-screen local-stream-item",e.localScreenStream?"":"d-none",{"is-focused":"screen"===e.isFocused}]},[n("div",{staticClass:"stream-video"},[n("video",{ref:"localScreenStreamElement",attrs:{playsinline:"",autoplay:"",muted:""},domProps:{muted:!0}})]),e._v(" "),n("div",{staticClass:"stream-caption"},[n("user-avatar",{attrs:{user:e.user,"has-shadow":""}}),e._v(" "),n("h6",[e._v(e._s(e.$t("meeting.your_screen")))])],1),e._v(" "),n("div",{staticClass:"stream-controls"},[e.meeting.isHost?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.host")}},[n("i",{staticClass:"fas fa-user-tie text-info"})]):e.meeting.canModerate?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.moderator")}},[n("i",{staticClass:"fas fa-user-cog text-info"})]):e._e(),e._v(" "),e.isHandUp?n("div",{staticClass:"status-icon"},[n("i",{staticClass:"fas fa-hand-paper enabled-text"})]):e._e(),e._v(" "),"grid"!==e.meetingConfigs.layout&&"screen"!==e.isFocused?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"controls-btn",attrs:{title:e.$t("meeting.maximize")},on:{click:function(t){return e.changeFocus("screen")}}},[n("i",{staticClass:"fas fa-expand enabled-text"})]):e._e(),e._v(" "),e.meetingConfigs.canTakeSnapshot&&(e.meetingConfigs.anyoneCanTakeSnapshot||e.meeting.canModerate)?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"controls-btn",attrs:{title:e.$t("meeting.take_snapshot")},on:{click:function(t){return e.takeSnapshotOfStream("localScreenStreamElement",!0)}}},[n("i",{staticClass:"fas fa-image enabled-text"})]):e._e()])]),e._v(" "),n("div",{class:["stream-item is-whiteboard local-stream-item",e.localWhiteboardStream?"":"d-none",{"is-focused":"whiteboard"===e.isFocused}]},[n("div",{staticClass:"stream-video"},[n("video",{ref:"localWhiteboardStreamElement",attrs:{playsinline:"",autoplay:"",muted:""},domProps:{muted:!0}})]),e._v(" "),n("div",{staticClass:"stream-caption"},[n("user-avatar",{attrs:{user:e.user,"has-shadow":""}}),e._v(" "),n("h6",[e._v(e._s(e.$t("meeting.your_whiteboard")))])],1),e._v(" "),n("div",{staticClass:"stream-controls"},[e.meeting.isHost?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.host")}},[n("i",{staticClass:"fas fa-user-tie text-info"})]):e.meeting.canModerate?n("div",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"status-icon",attrs:{title:e.$t("meeting.moderator")}},[n("i",{staticClass:"fas fa-user-cog text-info"})]):e._e(),e._v(" "),e.isHandUp?n("div",{staticClass:"status-icon"},[n("i",{staticClass:"fas fa-hand-paper enabled-text"})]):e._e(),e._v(" "),"grid"!==e.meetingConfigs.layout&&"screen"!==e.isFocused?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"controls-btn",attrs:{title:e.$t("meeting.maximize")},on:{click:function(t){return e.changeFocus("screen")}}},[n("i",{staticClass:"fas fa-expand enabled-text"})]):e._e(),e._v(" "),e.meetingConfigs.canTakeSnapshot&&(e.meetingConfigs.anyoneCanTakeSnapshot||e.meeting.canModerate)?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"controls-btn",attrs:{title:e.$t("meeting.take_snapshot")},on:{click:function(t){return e.takeSnapshotOfStream("localWhiteboardStreamElement",!0)}}},[n("i",{staticClass:"fas fa-image enabled-text"})]):e._e()])]),e._v(" "),e.hasGreenroom||e.isMeetingLive?e._e():[e.meeting.cover?n("div",{staticClass:"greenroom-cover",style:"background-image: url("+e.meeting.cover+")",attrs:{"data-greenroom-background-color":e.uiConfigs.leftSidebarColor},on:{dblclick:e.toggleBackgroundSize}}):n("div",{staticClass:"greenroom-cover",attrs:{"data-greenroom-background-color":e.uiConfigs.leftSidebarColor}})],e._v(" "),e.statusMessage?n("div",{staticClass:"status-message-wrapper"},[n("div",{staticClass:"status-message"},[e._v("\n                    "+e._s(e.statusMessage)+"\n                ")])]):e._e()],2),e._v(" "),e.isMeetingLive?e._e():n("card",{staticClass:"waiting-room rounded-0 border-0",attrs:{"body-classes":"d-flex flex-column justify-content-center align-items-center",shadow:""}},[n("animated-loader",{attrs:{"is-loading":e.isSidebarLoading,"loader-color":e.vars.loaderColor,"overlay-color":e.uiConfigs.pageColorSchemeType}}),e._v(" "),"scheduled"===e.meeting.status?[e.startDateTimeIsFuture?n("flip-countdown",{staticClass:"countdown-container my-3",attrs:{deadline:e.meeting.startDateTime}}):[n("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                        "+e._s(e.$t("meeting.starting_any_time_now"))+"\n                    ")])],e._v(" "),n("div",{staticClass:"text-center my-3"},[n("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("meeting.scheduled_for")))]),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"text-muted-lg m-l-5",attrs:{title:e._f("momentDateTime")(e.meeting.startDateTime)}},[e._v(e._s(e._f("momentCalendar")(e.meeting.startDateTime,{sameElse:e.vars.defaultDateTimeFormat})))])]),e._v(" "),e.liveMembersCount>0?n("div",{staticClass:"text-muted text-center my-3"},[n("span",{staticClass:"text-xs text-success mr-1"},[n("i",{staticClass:"fas fa-circle"})]),e._v(" "),n("animated-number",{attrs:{number:e.liveMembersCount,delay:100}}),e._v(" "),e.liveMembersCount>1?n("span",[e._v(e._s(e.$t("meeting.members_online")))]):n("span",[e._v(e._s(e.$t("meeting.member_online")))])],1):e._e()]:"live"===e.meeting.status?[e.isRoomOnline?[n("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                        "+e._s(e.$t("meeting.is_live_now"))+"\n                    ")]),e._v(" "),n("div",{staticClass:"d-flex justify-content-center flex-wrap my-3"},[n("base-button",{attrs:{type:"button",design:"primary",size:"lg"},on:{click:e.getOnline}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("meeting.get_live")})))])],1)]:[e.meeting.canModerate?[n("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                            "+e._s(e.$t("meeting.waiting_for_you_to_start"))+"\n                        ")]),e._v(" "),n("div",{staticClass:"d-flex justify-content-center flex-wrap my-3"},[n("base-button",{attrs:{type:"button",design:"primary",size:"lg"},on:{click:e.getOnline}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("meeting.get_live")})))])],1)]:[n("h5",{staticClass:"text-muted text-center my-3"},[e._v("\n                            "+e._s(e.$t("meeting.starting_any_time_now"))+"\n                        ")]),e._v(" "),n("div",{staticClass:"d-flex justify-content-center flex-wrap my-3"},[n("base-button",{attrs:{type:"button",design:"dark",size:"lg"},on:{click:e.checkRoomStatus}},[n("i",{staticClass:"fas fa-rotate mr-1"}),e._v("\n                                "+e._s(e.$t("general.refresh"))+"\n                            ")])],1)]],e._v(" "),e.liveMembersCount>0?n("div",{staticClass:"text-muted text-center my-3"},[n("span",{staticClass:"text-xs text-success mr-1"},[n("i",{staticClass:"fas fa-circle"})]),e._v(" "),n("animated-number",{attrs:{number:e.liveMembersCount,delay:100}}),e._v(" "),e.liveMembersCount>1?n("span",[e._v(e._s(e.$t("meeting.members_online")))]):n("span",[e._v(e._s(e.$t("meeting.member_online")))])],1):e._e()]:"cancelled"===e.meeting.status?[n("h4",{staticClass:"text-muted text-center my-3"},[e._v("\n                    "+e._s(e.$t("meeting.meeting_cancelled"))+"\n                ")])]:"ended"===e.meeting.status?[n("h4",{staticClass:"text-muted text-center my-3"},[e._v("\n                    "+e._s(e.$t("meeting.meeting_ended"))+"\n                ")])]:e._e(),e._v(" "),e.isOffline?n("div",{staticClass:"offline-mask"},[n("h1",[e._v(e._s(e.$t("general.offline_message")))])]):e._e()],2),e._v(" "),e.meeting.isInstantMeeting?e._e():n("card",{staticClass:"agenda-container rounded-0",attrs:{"body-classes":"p-0",shadow:""}},[n("close-button",{attrs:{"parent-class":""},on:{click:e.toggleAgenda}}),e._v(" "),n("h4",{staticClass:"meeting-title p-3 mb-3 pr-5 border-bottom"},[e._v(e._s(e.meeting.title))]),e._v(" "),n("vue-scroll",{ref:"vue-scroll-agenda",attrs:{id:"vue-scroll-agenda"}},[n("div",{staticClass:"agenda-wrapper px-3 mb-150"},[n("div",{staticClass:"d-flex justify-content-between"},[n("span",{staticClass:"badge badge-info"},[e._v(e._s(e.meeting.type.name))]),e._v(" "),n("span",{staticClass:"badge badge-light"},[e._v(e._s(e.meeting.category.name))])]),e._v(" "),n("view-paragraph",{staticClass:"mt-4",attrs:{label:e.$t("meeting.props.agenda"),value:e.meeting.agenda,"label-classes":"text font-weight-600"}}),e._v(" "),e.meeting.description?n("view-paragraph",{staticClass:"mt-4",attrs:{label:e.$t("meeting.props.description"),value:e.meeting.description,html:"","label-classes":"text font-weight-600"}}):e._e(),e._v(" "),e.meeting.attachments?n("view-uploads",{class:["mt-4",e.uiConfigs.colorSchemeType],attrs:{label:e.$t("upload.attachments"),"name-label":e.$t("upload.attachment"),value:e.meeting.attachments,"download-button-classes":"text-gray","url-prefix":"/meetings/"+e.uuid+"/downloads"}}):e._e()],1)])],1),e._v(" "),n("footer",{staticClass:"meeting-footer",attrs:{"data-footer-background-color":e.uiConfigs.leftSidebarColor}},[n("div",{staticClass:"logo-wrapper"},[n("app-logo",{attrs:{place:"sidebar",size:"sm",tag:"span"}})],1),e._v(" "),n("div",{staticClass:"meeting-actions meeting-actions-center"},[e.meetingConfigs.canToggleAudio?[n("base-dropdown",{staticClass:"more-actions",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up fullwidth-on-mobile",position:"left"},scopedSlots:e._u([{key:"title",fn:function(){return[e.selectedDevices.enableMicrophone?n("button",{staticClass:"btn action",attrs:{type:"button"}},[n("i",{staticClass:"fas fa-microphone"})]):n("button",{staticClass:"btn action disabled-text",attrs:{type:"button"}},[n("i",{staticClass:"fas fa-microphone-slash"})])]},proxy:!0}],null,!1,1263712370)},[e._v(" "),n("div",{staticClass:"mb-2 px-3 text-sm text-muted"},[e._v(e._s(e.$t("meeting.media_devices.audio_input")))]),e._v(" "),e._l(e.mediaDevices.mics,(function(t){return n("button",{key:t.id,staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(n){return e.changeLocalAudioDevice(t)}}},[e._v("\n                            "+e._s(t.label)+" "),e.selectedDevices.mic&&t.id===e.selectedDevices.mic.id?n("i",{staticClass:"fas fa-check min-width-auto text-dark ml-3"}):e._e()])})),e._v(" "),n("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center border-top",attrs:{type:"button"},on:{click:e.toggleLocalMicrophone}},[e.selectedDevices.enableMicrophone?[e._v(e._s(e.$t("meeting.mute_audio"))+" "),n("i",{staticClass:"fas fa-microphone-slash min-width-auto text-dark ml-3"})]:[e._v(e._s(e.$t("meeting.unmute_audio"))+" "),n("i",{staticClass:"fas fa-microphone min-width-auto text-dark ml-3"})]],2)],2)]:e._e(),e._v(" "),e.meetingConfigs.canToggleVideo?[n("base-dropdown",{staticClass:"more-actions",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up fullwidth-on-mobile video-dropdown",position:"left"},scopedSlots:e._u([{key:"title",fn:function(){return[e.selectedDevices.enableCamera?n("button",{staticClass:"btn action grid-toggle-btn",attrs:{type:"button"}},[n("i",{staticClass:"fas fa-video"})]):n("button",{staticClass:"btn action grid-toggle-btn disabled-text",attrs:{type:"button"}},[n("i",{staticClass:"fas fa-video-slash"})])]},proxy:!0}],null,!1,1861019309)},[e._v(" "),n("div",{staticClass:"mb-2 px-3 text-sm text-muted"},[e._v(e._s(e.$t("meeting.media_devices.video_input")))]),e._v(" "),e._l(e.mediaDevices.cams,(function(t){return n("button",{key:t.id,staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(n){return e.changeLocalVideoDevice(t)}}},[e._v("\n                            "+e._s(t.label)+" "),e.selectedDevices.cam&&t.id===e.selectedDevices.cam.id?n("i",{staticClass:"fas fa-check min-width-auto text-dark ml-3"}):e._e()])})),e._v(" "),n("div",{staticClass:"border-top p-3"},[n("div",{staticClass:"mb-2 text-sm text-muted"},[e._v(e._s(e.$t("meeting.media_devices.video_resolution")))]),e._v(" "),n("div",{staticClass:"d-flex justify-content-stretch"},[e._l(e.mediaDevices.resolutions,(function(t){return[e.selectedDevices.resolution===t.uuid?n("button",{key:t.uuid,staticClass:"btn btn-sm btn-light",attrs:{type:"button"},on:{click:function(n){return e.changeLocalVideoResolution(t)}}},[e._v(e._s(t.label))]):n("button",{key:t.uuid,staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(n){return e.changeLocalVideoResolution(t)}}},[e._v(e._s(t.label))])]}))],2)]),e._v(" "),e.pageQueries.iframe?e._e():n("button",{staticClass:"dropdown-item d-flex d-md-none justify-content-between align-items-center border-top",attrs:{type:"button"},on:{click:e.switchFacingMode}},[e._v("\n                            "+e._s(e.$t("meeting.switch_to"))+"\n                            "),"user"===e.selectedDevices.facingMode?[e._v(e._s(e.$t("meeting.facing_mode_user")))]:"environment"===e.selectedDevices.facingMode?[e._v(e._s(e.$t("meeting.facing_mode_environment")))]:[e._v(e._s(e.$t("meeting.facing_mode_auto")))],e._v(" "),n("i",{staticClass:"fas fa-camera-rotate min-width-auto text-dark ml-3"})],2),e._v(" "),n("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center border-top",attrs:{type:"button"},on:{click:e.toggleLocalCamera}},[e.selectedDevices.enableCamera?[e._v(e._s(e.$t("meeting.mute_video"))+" "),n("i",{staticClass:"fas fa-video-slash min-width-auto text-dark ml-3"})]:[e._v(e._s(e.$t("meeting.unmute_video"))+" "),n("i",{staticClass:"fas fa-video min-width-auto text-dark ml-3"})]],2)],2)]:e._e(),e._v(" "),e.isMeetingLive?[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text",attrs:{type:"button",title:e.$t("meeting.leave_meeting")},on:{click:e.getOffline}},[n("i",{staticClass:"fas fa-phone-slash"})]),e._v(" "),e.meetingConfigs.canShareScreen&&e.meetingConfigs.pamCanShareScreenForGuest?[e.localScreenStream?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action disabled-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.stop_sharing_screen")},on:{click:e.stopSharingScreen}},[n("i",{staticClass:"fas fa-minus-square"})]):n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.share_screen")},on:{click:e.shareScreen}},[n("i",{staticClass:"fas fa-desktop"})])]:e._e(),e._v(" "),e.meetingConfigs.canUseWhiteboard&&e.meetingConfigs.pamCanUseWhiteboardForGuest&&!e.pageQueries.iframe?[e.showWhiteboard?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.hide_whiteboard")},on:{click:e.toggleWhiteboard}},[n("i",{staticClass:"fas fa-chalkboard-teacher"})]):e._e(),e._v(" "),e.showWhiteboard?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action danger-text d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.clear_hide_whiteboard")},on:{click:e.stopWhiteboard}},[n("i",{staticClass:"fas fa-chalkboard-teacher mr-0"}),n("i",{staticClass:"fas fa-times font-size-xs ml-1 font-size-xs text-danger"})]):n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action d-none d-md-inline-block",attrs:{type:"button",title:e.$t("meeting.show_whiteboard")},on:{click:e.toggleWhiteboard}},[n("i",{staticClass:"fas fa-chalkboard-teacher"})])]:e._e(),e._v(" "),e.meetingConfigs.canUseHandGesture&&!e.pageQueries.iframe?[e.isHandUp?n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action success-text",attrs:{type:"button",title:e.$t("meeting.lower_hand")},on:{click:e.toggleHandUp}},[n("i",{staticClass:"far fa-hand-paper"})]):n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action",attrs:{type:"button",title:e.$t("meeting.raise_hand")},on:{click:e.toggleHandUp}},[n("i",{staticClass:"fas fa-hand-paper"})])]:e._e()]:e._e()],2),e._v(" "),n("div",{staticClass:"meeting-actions meeting-actions-right"},[e.meetingConfigs.canToggleLayout&&e.feedsCount&&!e.showWhiteboard?n("base-dropdown",{staticClass:"more-actions d-none d-md-inline-block",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up",position:"right"}},[n("button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.d500",modifiers:{hover:!0,d500:!0}}],staticClass:"btn action grid-toggle-btn d-none d-md-inline-block",attrs:{slot:"title",type:"button",title:e.$t("meeting.change_layout")},slot:"title"},[n("i",{staticClass:"fas fa-th-large"})]),e._v(" "),n("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("grid")}}},[e._v("\n                        "+e._s(e.$t("meeting.grid_layout"))+" "),n("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"grid"===e.meetingConfigs.layout}})]),e._v(" "),n("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("gallery")}}},[e._v("\n                        "+e._s(e.$t("meeting.gallery_layout"))+" "),n("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"gallery"===e.meetingConfigs.layout}})]),e._v(" "),n("button",{staticClass:"dropdown-item d-flex justify-content-between align-items-center",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("fullpage")}}},[e._v("\n                        "+e._s(e.$t("meeting.fullpage_layout"))+" "),"fullpage"===e.meetingConfigs.layout?n("i",{staticClass:"fas fa-check min-width-auto text-light",class:{"text-dark":"fullpage"===e.meetingConfigs.layout}}):e._e()])]):e._e(),e._v(" "),n("base-dropdown",{staticClass:"more-actions",attrs:{tag:"div",direction:"up","menu-classes":"show-dropdown-up fullwidth-on-mobile",position:"right"}},[n("button",{staticClass:"btn action more-actions-btn",attrs:{slot:"title",type:"button"},slot:"title"},[n("i",{staticClass:"fas fa-ellipsis-v"})]),e._v(" "),e.feedsCount?n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.getOffline}},[n("i",{staticClass:"fas fa-phone-slash"}),e._v(" "+e._s(e.$t("meeting.leave_meeting")))]):n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:function(t){return e.$router.push({name:e.fallBackRoute})}}},[n("i",{staticClass:"fas fa-chevron-left"}),e._v(" "+e._s(e.$t("general.back")))]),e._v(" "),n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.updateUsername}},[n("i",{staticClass:"fas fa-user"}),e._v(" "+e._s(e.$t("meeting.update_username")))]),e._v(" "),n("div",{staticClass:"dropdown-divider my-1",attrs:{role:"separator"}}),e._v(" "),e.meeting.isInstantMeeting?e._e():n("button",{staticClass:"dropdown-item agenda-toggle-btn",attrs:{type:"button"},on:{click:e.toggleAgenda}},[n("i",{staticClass:"fas fa-quote-left"}),e._v(" "+e._s(e.$t(e.showAgenda?"global.hide":"global.show",{attribute:e.$t("general.agenda")})))]),e._v(" "),n("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:e.toggleFooterAutoHide}},[n("i",{staticClass:"fas fa-hourglass-start"}),e._v(" "+e._s(e.$t("meeting.toggle_autohide")))]),e._v(" "),"grid"===e.meetingConfigs.layout?n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.toggleCompactLayout}},[n("i",{staticClass:"fas fa-th-large"}),e._v(" "+e._s(e.$t("meeting.toggle_compact_layout")))]):e._e(),e._v(" "),e.meetingRules.sendVideo&&e.selectedDevices.enableCamera?n("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:e.toggleBackgroundBlur}},[n("i",{staticClass:"fas fa-crosshairs"}),e._v(" "+e._s(e.$t(e.pageConfigs.backgroundBlur?"meeting.toggle_blur_off":"meeting.toggle_blur_on")))]):e._e(),e._v(" "),e.uiConfigs.fullScreen?n("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:function(t){return e.toggleFullScreen(!1)}}},[n("i",{staticClass:"fas fa-compress"}),e._v(" "+e._s(e.$t("config.ui.toggle_fullscreen")))]):n("button",{staticClass:"dropdown-item d-none d-md-block",attrs:{type:"button"},on:{click:function(t){return e.toggleFullScreen(!0)}}},[n("i",{staticClass:"fas fa-expand"}),e._v(" "+e._s(e.$t("config.ui.toggle_fullscreen")))]),e._v(" "),n("div",{staticClass:"dropdown-divider d-md-none my-1",attrs:{role:"separator"}}),e._v(" "),e.meetingConfigs.canToggleLayout&&e.feedsCount?[n("button",{staticClass:"dropdown-item d-md-none",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("grid")}}},[n("i",{staticClass:"fas fa-check text-light",class:{"text-dark":"grid"===e.meetingConfigs.layout}}),e._v(" "+e._s(e.$t("meeting.grid_layout")))]),e._v(" "),n("button",{staticClass:"dropdown-item d-md-none",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("gallery")}}},[n("i",{staticClass:"fas fa-check text-light",class:{"text-dark":"gallery"===e.meetingConfigs.layout}}),e._v(" "+e._s(e.$t("meeting.gallery_layout")))]),e._v(" "),n("button",{staticClass:"dropdown-item d-md-none",attrs:{type:"button"},on:{click:function(t){return e.toggleLayout("fullpage")}}},[n("i",{staticClass:"fas fa-check text-light",class:{"text-dark":"fullpage"===e.meetingConfigs.layout}}),e._v(" "+e._s(e.$t("meeting.fullpage_layout")))])]:e._e(),e._v(" "),n("div",{staticClass:"dropdown-divider my-1",attrs:{role:"separator"}}),e._v(" "),e.meetingConfigs.canShareLink&&e.meetingConfigs.pamCanShareLinkForGuest?[n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.shareURL}},[n("i",{staticClass:"fas fa-share-alt"}),e._v(" "+e._s(e.$t("general.share_url")))]),e._v(" "),e.hasNativeShare?n("button",{staticClass:"dropdown-item",attrs:{type:"button"},on:{click:e.share}},[n("i",{staticClass:"fas fa-share-alt"}),e._v(" "+e._s(e.$t("general.share")))]):e._e()]:e._e()],2)],1)])]:n("card",{staticClass:"d-flex justify-content-center align-items-center min-height-90vh",attrs:{shadow:""}},[n("h2",{staticClass:"text-center text-danger my-3"},[e._v("\n            "+e._s(e.$t("meeting.not_allowed"))+"\n        ")]),e._v(" "),e.isLoading?e._e():n("div",{staticClass:"d-flex justify-content-center"},[n("base-button",{attrs:{type:"button",design:"light",size:"lg"},on:{click:function(t){return e.$router.push({name:e.fallBackRoute})}}},[e._v(e._s(e.$t("global.click_to",{attribute:e.$t("general.go_back")})))])],1)])],2)}),[],!1,null,null,null).exports},65167:function(e){"undefined"!=typeof self&&self,e.exports=function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);t.default={name:"flipCountdown",props:{deadline:{type:String},stop:{type:Boolean},showDays:{type:Boolean,required:!1,default:!0},showHours:{type:Boolean,required:!1,default:!0},showMinutes:{type:Boolean,required:!1,default:!0},showSeconds:{type:Boolean,required:!1,default:!0},labels:{type:Object,required:!1,default:function(){return{days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"}}},countdownSize:{type:String,required:!1},labelSize:{type:String,required:!1}},data:function(){var e=a();return{now:Math.trunc((new Date).getTime()/1e3),date:null,interval:null,diff:0,show:!1,timeData:[{current:0,previous:0,label:this.labels.days,elementId:"flip-card-days-"+e,show:this.showDays},{current:0,previous:0,label:this.labels.hours,elementId:"flip-card-hours-"+e,show:this.showHours},{current:0,previous:0,label:this.labels.minutes,elementId:"flip-card-minutes-"+e,show:this.showMinutes},{current:0,previous:0,label:this.labels.seconds,elementId:"flip-card-seconds-"+e,show:this.showSeconds}]}},created:function(){var e=this;if(!this.deadline)throw new Error("Missing props 'deadline'");var t=this.deadline;if(this.date=Math.trunc(Date.parse(t.replace(/-/g,"/"))/1e3),!this.date)throw new Error("Invalid props value, correct the 'deadline'");this.interval=setInterval((function(){e.now=Math.trunc((new Date).getTime()/1e3)}),1e3)},mounted:function(){0!==this.diff&&(this.show=!0)},computed:{seconds:function(){return Math.trunc(this.diff)%60},minutes:function(){return Math.trunc(this.diff/60)%60},hours:function(){return Math.trunc(this.diff/60/60)%24},days:function(){return Math.trunc(this.diff/60/60/24)}},watch:{deadline:function(e,t){var n=this.deadline;if(this.date=Math.trunc(Date.parse(n.replace(/-/g,"/"))/1e3),!this.date)throw new Error("Invalid props value, correct the 'deadline'")},now:function(e){this.diff=this.date-this.now,this.diff<=0||this.stop?(this.diff=0,this.updateTime(3,0)):this.updateAllCards()},diff:function(e){0===e&&(this.$emit("timeElapsed"),this.updateAllCards())}},filters:{twoDigits:function(e){return e.toString().length<=1?"0"+e.toString():e.toString()}},methods:{updateAllCards:function(){this.updateTime(0,this.days),this.updateTime(1,this.hours),this.updateTime(2,this.minutes),this.updateTime(3,this.seconds)},updateTime:function(e,t){if(!(e>=this.timeData.length||void 0===t)){window.requestAnimationFrame&&(this.frame=requestAnimationFrame(this.updateTime.bind(this)));var n=this.timeData[e],a=t<0?0:t,i=document.querySelector("#"+n.elementId);if(a!==n.current&&(n.previous=n.current,n.current=a,i&&(i.classList.remove("flip"),i.offsetWidth,i.classList.add("flip")),0===e)){var r=i.querySelectorAll("span b");if(r){var s=!0,o=!1,l=void 0;try{for(var c,u=r[Symbol.iterator]();!(s=(c=u.next()).done);s=!0){var d=c.value,p=d.classList[0];if(t/1e3>=1){if(!p.includes("-4digits")){var h=p+"-4digits";d.classList.add(h),d.classList.remove(p)}}else if(p.includes("-4digits")){var m=p.replace("-4digits","");d.classList.add(m),d.classList.remove(p)}}}catch(e){o=!0,l=e}finally{try{!s&&u.return&&u.return()}finally{if(o)throw l}}}}}}},beforeDestroy:function(){window.cancelAnimationFrame&&cancelAnimationFrame(this.frame)},destroyed:function(){clearInterval(this.interval)}}},function(e,t,n){"use strict";function a(e){n(2)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n.n(i);for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);var o=n(10),l=n(11),c=a,u=Object(l.a)(r.a,o.a,o.b,!1,c,"data-v-cff81de8",null);t.default=u.exports},function(e,t,n){var a=n(3);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals),(0,n(5).default)("49966720",a,!0,{})},function(e,t,n){(e.exports=n(4)(!1)).push([e.i,"\n.flip-clock[data-v-cff81de8] {\n  text-align: center;\n  perspective: 600px;\n  margin: 0 auto;\n}\n.flip-clock *[data-v-cff81de8],\n.flip-clock *[data-v-cff81de8]:before,\n.flip-clock *[data-v-cff81de8]:after {\n  box-sizing: border-box;\n}\n.flip-clock__piece[data-v-cff81de8] {\n  display: inline-block;\n  margin: 0 0.2vw;\n}\n@media (min-width: 1000px) {\n.flip-clock__piece[data-v-cff81de8] {\n    margin: 0 5px;\n}\n}\n.flip-clock__slot[data-v-cff81de8] {\n  font-size: 1rem;\n  line-height: 1.5;\n  display: block;\n}\n.flip-card[data-v-cff81de8] {\n  display: block;\n  position: relative;\n  padding-bottom: 0.72em;\n  font-size: 2.25rem;\n  line-height: 0.95;\n}\n@media (min-width: 1000px) {\n.flip-clock__slot[data-v-cff81de8] {\n    font-size: 1.2rem;\n}\n.flip-card[data-v-cff81de8] {\n    font-size: 3rem;\n}\n}\n.flip-card__top[data-v-cff81de8],\n.flip-card__bottom[data-v-cff81de8],\n.flip-card__back-bottom[data-v-cff81de8],\n.flip-card__back[data-v-cff81de8]::before,\n.flip-card__back[data-v-cff81de8]::after {\n  display: block;\n  color: #cca900;\n  background: #222;\n  padding: 0.23em 0.15em 0.4em;\n  border-radius: 0.15em 0.15em 0 0;\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n  transform-style: preserve-3d;\n  width: 2.1em;\n  height: 0.72em;\n}\n.flip-card__top-4digits[data-v-cff81de8],\n.flip-card__bottom-4digits[data-v-cff81de8],\n.flip-card__back-bottom-4digits[data-v-cff81de8],\n.flip-card__back-4digits[data-v-cff81de8]::before,\n.flip-card__back-4digits[data-v-cff81de8]::after {\n  display: block;\n  color: #cca900;\n  background: #222;\n  padding: 0.23em 0.15em 0.4em;\n  border-radius: 0.15em 0.15em 0 0;\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n  transform-style: preserve-3d;\n  width: 2.65em;\n  height: 0.72em;\n}\n.flip-card__bottom[data-v-cff81de8],\n.flip-card__back-bottom[data-v-cff81de8],\n.flip-card__bottom-4digits[data-v-cff81de8],\n.flip-card__back-bottom-4digits[data-v-cff81de8] {\n  color: #ffdc00;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  border-top: solid 1px #000;\n  background: #393939;\n  border-radius: 0 0 0.15em 0.15em;\n  pointer-events: none;\n  overflow: hidden;\n  z-index: 2;\n}\n.flip-card__back-bottom[data-v-cff81de8],\n.flip-card__back-bottom-4digits[data-v-cff81de8] {\n  z-index: 1;\n}\n.flip-card__bottom[data-v-cff81de8]::after,\n.flip-card__back-bottom[data-v-cff81de8]::after,\n.flip-card__bottom-4digits[data-v-cff81de8]::after,\n.flip-card__back-bottom-4digits[data-v-cff81de8]::after {\n  display: block;\n  margin-top: -0.72em;\n}\n.flip-card__back[data-v-cff81de8]::before,\n.flip-card__bottom[data-v-cff81de8]::after,\n.flip-card__back-bottom[data-v-cff81de8]::after,\n.flip-card__back-4digits[data-v-cff81de8]::before,\n.flip-card__bottom-4digits[data-v-cff81de8]::after,\n.flip-card__back-bottom-4digits[data-v-cff81de8]::after {\n  content: attr(data-value);\n}\n.flip-card__back[data-v-cff81de8],\n.flip-card__back-4digits[data-v-cff81de8] {\n  position: absolute;\n  top: 0;\n  height: 100%;\n  left: 0%;\n  pointer-events: none;\n}\n.flip-card__back[data-v-cff81de8]::before,\n.flip-card__back-4digits[data-v-cff81de8]::before {\n  position: relative;\n  overflow: hidden;\n  z-index: -1;\n}\n.flip .flip-card__back[data-v-cff81de8]::before,\n.flip .flip-card__back-4digits[data-v-cff81de8]::before {\n  z-index: 1;\n  animation: flipTop-data-v-cff81de8 0.3s cubic-bezier(0.37, 0.01, 0.94, 0.35);\n  animation-fill-mode: both;\n  transform-origin: center bottom;\n}\n.flip .flip-card__bottom[data-v-cff81de8],\n.flip .flip-card__bottom-4digits[data-v-cff81de8] {\n  transform-origin: center top;\n  animation-fill-mode: both;\n  animation: flipBottom-data-v-cff81de8 0.6s cubic-bezier(0.15, 0.45, 0.28, 1);\n}\n@keyframes flipTop-data-v-cff81de8 {\n0% {\n    transform: rotateX(0deg);\n    z-index: 2;\n}\n0%,\n  99% {\n    opacity: 1;\n}\n100% {\n    transform: rotateX(-90deg);\n    opacity: 0;\n}\n}\n@keyframes flipBottom-data-v-cff81de8 {\n0%,\n  50% {\n    z-index: -1;\n    transform: rotateX(90deg);\n    opacity: 0;\n}\n51% {\n    opacity: 1;\n}\n100% {\n    opacity: 1;\n    transform: rotateX(0deg);\n    z-index: 5;\n}\n}\n",""])},function(e,t,n){"use strict";function a(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var r=i(a);return[n].concat(a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot).concat(e," */")}))).concat([r]).join("\n")}return[n].join("\n")}function i(e){return"/*# ".concat("sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e)))))," */")}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=a(t,e);return t[2]?"@media ".concat(t[2],"{").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(a[r]=!0)}for(var s=0;s<e.length;s++){var o=e[s];null!=o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="(".concat(o[2],") and (").concat(n,")")),t.push(o))}},t}},function(e,t,n){"use strict";function a(e,t,n,a){f=n,b=a||{};var r=Object(c.a)(e,t);return i(r),function(t){for(var n=[],a=0;a<r.length;a++){var s=r[a];(o=d[s.id]).refs--,n.push(o)}for(t?i(r=Object(c.a)(e,t)):r=[],a=0;a<n.length;a++){var o;if(0===(o=n[a]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete d[o.id]}}}}function i(e){for(var t=0;t<e.length;t++){var n=e[t],a=d[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(s(n.parts[i]));a.parts.length>n.parts.length&&(a.parts.length=n.parts.length)}else{var r=[];for(i=0;i<n.parts.length;i++)r.push(s(n.parts[i]));d[n.id]={id:n.id,refs:1,parts:r}}}}function r(){var e=document.createElement("style");return e.type="text/css",p.appendChild(e),e}function s(e){var t,n,a=document.querySelector("style["+y+'~="'+e.id+'"]');if(a){if(f)return g;a.parentNode.removeChild(a)}if(v){var i=m++;a=h||(h=r()),t=o.bind(null,a,i,!1),n=o.bind(null,a,i,!0)}else a=r(),t=l.bind(null,a),n=function(){a.parentNode.removeChild(a)};return t(e),function(a){if(a){if(a.css===e.css&&a.media===e.media&&a.sourceMap===e.sourceMap)return;t(e=a)}else n()}}function o(e,t,n,a){var i=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=k(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function l(e,t){var n=t.css,a=t.media,i=t.sourceMap;if(a&&e.setAttribute("media",a),b.ssrId&&e.setAttribute(y,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var c=n(6),u="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!u)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var d={},p=u&&(document.head||document.getElementsByTagName("head")[0]),h=null,m=0,f=!1,g=function(){},b=null,y="data-vue-ssr-id",v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase()),k=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function a(e,t){for(var n=[],a={},i=0;i<t.length;i++){var r=t[i],s=r[0],o={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};a[s]?a[s].parts.push(o):n.push(a[s]={id:s,parts:[o]})}return n}t.a=a},function(e,t,n){function a(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||i)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[a+o]=s[o];return t||r(s)}var i=n(8),r=n(9);e.exports=a},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var a=new Uint8Array(16);e.exports=function(){return n(a),a}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){function n(e,t){var n=t||0,i=a;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")}for(var a=[],i=0;i<256;++i)a[i]=(i+256).toString(16).substr(1);e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container flip-clock"},[e._l(e.timeData,(function(t){return[n("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"data.show"}],key:t.label,staticClass:"flip-clock__piece",attrs:{id:t.elementId}},[n("span",{staticClass:"flip-clock__card flip-card",style:e.countdownSize?"font-size:"+e.countdownSize:""},[n("b",{staticClass:"flip-card__top"},[e._v(e._s(e._f("twoDigits")(t.current)))]),e._v(" "),n("b",{staticClass:"flip-card__bottom",attrs:{"data-value":e._f("twoDigits")(t.current)}}),e._v(" "),n("b",{staticClass:"flip-card__back",attrs:{"data-value":e._f("twoDigits")(t.previous)}}),e._v(" "),n("b",{staticClass:"flip-card__back-bottom",attrs:{"data-value":e._f("twoDigits")(t.previous)}})]),e._v(" "),n("span",{staticClass:"flip-clock__slot",style:e.labelSize?"font-size:"+e.labelSize:""},[e._v(e._s(t.label))])])]}))],2)},i=[]},function(e,t,n){"use strict";function a(e,t,n,a,i,r,s,o){var l=typeof(e=e||{}).default;"object"!==l&&"function"!==l||(e=e.default);var c,u="function"==typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),r&&(u._scopeId=r),s?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},u._ssrRegister=c):i&&(c=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}t.a=a}])},62803:(e,t,n)=>{var a={"./rtc-rtcmc":[19295,9295],"./rtc-rtcmc.js":[19295,9295]};function i(e){if(!n.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],i=t[0];return n.e(t[1]).then((()=>n(i)))}i.keys=()=>Object.keys(a),i.id=62803,e.exports=i},75410:()=>{},48628:()=>{},31601:()=>{},67792:()=>{},34977:()=>{},75042:()=>{},47489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=(()=>{if("undefined"==typeof document)return!1;const e=a[0],t={};for(const n of a){const a=n?.[1];if(a in document){for(const[a,i]of n.entries())t[e[a]]=i;return t}}return!1})(),r={change:i.fullscreenchange,error:i.fullscreenerror};let s={request:(e=document.documentElement,t)=>new Promise(((n,a)=>{const r=()=>{s.off("change",r),n()};s.on("change",r);const o=e[i.requestFullscreen](t);o instanceof Promise&&o.then(r).catch(a)})),exit:()=>new Promise(((e,t)=>{if(!s.isFullscreen)return void e();const n=()=>{s.off("change",n),e()};s.on("change",n);const a=document[i.exitFullscreen]();a instanceof Promise&&a.then(n).catch(t)})),toggle:(e,t)=>s.isFullscreen?s.exit():s.request(e,t),onchange(e){s.on("change",e)},onerror(e){s.on("error",e)},on(e,t){const n=r[e];n&&document.addEventListener(n,t,!1)},off(e,t){const n=r[e];n&&document.removeEventListener(n,t,!1)},raw:i};Object.defineProperties(s,{isFullscreen:{get:()=>Boolean(document[i.fullscreenElement])},element:{enumerable:!0,get:()=>document[i.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[i.fullscreenEnabled])}}),i||(s={isEnabled:!1});const o=s},9367:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>ge});var a={};n.r(a),n.d(a,{Decoder:()=>le,Encoder:()=>oe,PacketType:()=>se,protocol:()=>re});const i=Object.create(null);i.open="0",i.close="1",i.ping="2",i.pong="3",i.message="4",i.upgrade="5",i.noop="6";const r=Object.create(null);Object.keys(i).forEach((e=>{r[i[e]]=e}));const s={type:"error",data:"parser error"},o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),l="function"==typeof ArrayBuffer,c=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)},u=({type:e,data:t},n,a)=>{return o&&t instanceof Blob?n?a(t):c(t,a):l&&(t instanceof ArrayBuffer||(r=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?n?a(t):c(new Blob([t]),a):a(i[e]+(t||""));var r},d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<d.length;e++)p[d.charCodeAt(e)]=e;const h="function"==typeof ArrayBuffer,m=(e,t)=>{if(h){const n=(e=>{let t,n,a,i,r,s=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<o;t+=4)n=p[e.charCodeAt(t)],a=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],r=p[e.charCodeAt(t+3)],u[l++]=n<<2|a>>4,u[l++]=(15&a)<<4|i>>2,u[l++]=(3&i)<<6|63&r;return c})(e);return f(n,t)}return{base64:!0,data:e}},f=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,g=(e,t)=>{if("string"!=typeof e)return{type:"message",data:f(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:m(e.substring(1),t)};return r[n]?e.length>1?{type:r[n],data:e.substring(1)}:{type:r[n]}:s},b=String.fromCharCode(30);function y(e){if(e)return function(e){for(var t in y.prototype)e[t]=y.prototype[t];return e}(e)}y.prototype.on=y.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},y.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},y.prototype.off=y.prototype.removeListener=y.prototype.removeAllListeners=y.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,a=this._callbacks["$"+e];if(!a)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<a.length;i++)if((n=a[i])===t||n.fn===t){a.splice(i,1);break}return 0===a.length&&delete this._callbacks["$"+e],this},y.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(n){a=0;for(var i=(n=n.slice(0)).length;a<i;++a)n[a].apply(this,t)}return this},y.prototype.emitReserved=y.prototype.emit,y.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},y.prototype.hasListeners=function(e){return!!this.listeners(e).length};const v="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function k(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const x=setTimeout,w=clearTimeout;function S(e,t){t.useNativeTimers?(e.setTimeoutFn=x.bind(v),e.clearTimeoutFn=w.bind(v)):(e.setTimeoutFn=setTimeout.bind(v),e.clearTimeoutFn=clearTimeout.bind(v))}class C extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class T extends y{constructor(e){super(),this.writable=!1,S(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new C(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=g(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const _="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),I={};let A,N=0,E=0;function R(e){let t="";do{t=_[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function M(){const e=R(+new Date);return e!==A?(N=0,A=e):e+"."+R(N++)}for(;E<64;E++)I[_[E]]=E;function D(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let $=!1;try{$="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const B=$;function L(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||B))return new XMLHttpRequest}catch(e){}if(!t)try{return new(v[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function F(){}const O=null!=new L({xdomain:!1}).responseType;class j extends y{constructor(e,t){super(),S(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=k(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new L(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=j.requestsCount++,j.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=F,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete j.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(j.requestsCount=0,j.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",z);else if("function"==typeof addEventListener){addEventListener("onpagehide"in v?"pagehide":"unload",z,!1)}function z(){for(let e in j.requests)j.requests.hasOwnProperty(e)&&j.requests[e].abort()}const P="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),W=v.WebSocket||v.MozWebSocket;n(48764).Buffer;const G="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const V={websocket:class extends T{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=G?{}:k(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=G?new W(e,t,n):t?new W(e,t):new W(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],a=t===e.length-1;u(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}a&&P((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=M()),this.supportsBinary||(e.b64=1);const a=D(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(a.length?"?"+a:"")}check(){return!!W}},polling:class extends T{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=O&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(b),a=[];for(let e=0;e<n.length;e++){const i=g(n[e],t);if(a.push(i),"error"===i.type)break}return a})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,a=new Array(n);let i=0;e.forEach(((e,r)=>{u(e,!1,(e=>{a[r]=e,++i===n&&t(a.join(b))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=M()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const a=D(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(a.length?"?"+a:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new j(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},U=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,H=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function q(e){const t=e,n=e.indexOf("["),a=e.indexOf("]");-1!=n&&-1!=a&&(e=e.substring(0,n)+e.substring(n,a).replace(/:/g,";")+e.substring(a,e.length));let i=U.exec(e||""),r={},s=14;for(;s--;)r[H[s]]=i[s]||"";return-1!=n&&-1!=a&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r.pathNames=function(e,t){const n=/\/{2,9}/g,a=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||a.splice(0,1);"/"==t.substr(t.length-1,1)&&a.splice(a.length-1,1);return a}(0,r.path),r.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,a){t&&(n[t]=a)})),n}(0,r.query),r}class K extends y{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=q(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=q(t.host).host),S(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,a=n.length;e<a;e++){let a=n[e].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new V[e](n)}open(){let e;if(this.opts.rememberUpgrade&&K.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;K.priorWebsocketSuccess=!1;const a=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;K.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function i(){n||(n=!0,c(),t.close(),t=null)}const r=e=>{const n=new Error("probe error: "+e);n.transport=t.name,i(),this.emitReserved("upgradeError",n)};function s(){r("transport closed")}function o(){r("socket closed")}function l(e){t&&e.name!==t.name&&i()}const c=()=>{t.removeListener("open",a),t.removeListener("error",r),t.removeListener("close",s),this.off("close",o),this.off("upgrading",l)};t.once("open",a),t.once("error",r),t.once("close",s),this.once("close",o),this.once("upgrading",l),t.open()}onOpen(){if(this.readyState="open",K.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(e+="string"==typeof(t=a)?function(e){let t=0,n=0;for(let a=0,i=e.length;a<i;a++)t=e.charCodeAt(a),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(a++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,a){if("function"==typeof t&&(a=t,t=void 0),"function"==typeof n&&(a=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const i={type:e,data:t,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){K.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const a=e.length;for(;n<a;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}K.protocol=4;K.protocol;const J="function"==typeof ArrayBuffer,X=Object.prototype.toString,Y="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===X.call(Blob),Z="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===X.call(File);function Q(e){return J&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Y&&e instanceof Blob||Z&&e instanceof File}function ee(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(ee(e[t]))return!0;return!1}if(Q(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return ee(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&ee(e[t]))return!0;return!1}function te(e){const t=[],n=e.data,a=e;return a.data=ne(n,t),a.attachments=t.length,{packet:a,buffers:t}}function ne(e,t){if(!e)return e;if(Q(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let a=0;a<e.length;a++)n[a]=ne(e[a],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=ne(e[a],t));return n}return e}function ae(e,t){return e.data=ie(e.data,t),e.attachments=void 0,e}function ie(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ie(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ie(e[n],t));return e}const re=5;var se;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(se||(se={}));class oe{constructor(e){this.replacer=e}encode(e){return e.type!==se.EVENT&&e.type!==se.ACK||!ee(e)?[this.encodeAsString(e)]:(e.type=e.type===se.EVENT?se.BINARY_EVENT:se.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==se.BINARY_EVENT&&e.type!==se.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=te(e),n=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(n),a}}class le extends y{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===se.BINARY_EVENT||t.type===se.BINARY_ACK?(this.reconstructor=new ce(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else{if(!Q(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===se[n.type])throw new Error("unknown packet type "+n.type);if(n.type===se.BINARY_EVENT||n.type===se.BINARY_ACK){const a=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(a,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"===e.charAt(t+1)){const a=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(a,t)}else n.nsp="/";const a=e.charAt(t+1);if(""!==a&&Number(a)==a){const a=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(!le.isPayloadValid(n.type,a))throw new Error("invalid payload");n.data=a}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case se.CONNECT:return"object"==typeof t;case se.DISCONNECT:return void 0===t;case se.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case se.EVENT:case se.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case se.ACK:case se.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class ce{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ae(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function ue(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const de=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class pe extends y{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[ue(e,"open",this.onopen.bind(this)),ue(e,"packet",this.onpacket.bind(this)),ue(e,"error",this.onerror.bind(this)),ue(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(de.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:se.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,a=t.pop();this._registerAckCallback(e,a),n.id=e}const a=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!a||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const a=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(a),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:se.CONNECT,data:e})})):this.packet({type:se.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case se.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case se.EVENT:case se.BINARY_EVENT:this.onevent(e);break;case se.ACK:case se.BINARY_ACK:this.onack(e);break;case se.DISCONNECT:this.ondisconnect();break;case se.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...a){n||(n=!0,t.packet({type:se.ACK,id:e,data:a}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:se.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function he(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}he.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},he.prototype.reset=function(){this.attempts=0},he.prototype.setMin=function(e){this.ms=e},he.prototype.setMax=function(e){this.max=e},he.prototype.setJitter=function(e){this.jitter=e};class me extends y{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,S(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new he({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||a;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new K(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=ue(t,"open",(function(){n.onopen(),e&&e()})),i=ue(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&a();const n=this.setTimeoutFn((()=>{a(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(a),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(ue(e,"ping",this.onping.bind(this)),ue(e,"data",this.ondata.bind(this)),ue(e,"error",this.onerror.bind(this)),ue(e,"close",this.onclose.bind(this)),ue(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new pe(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const fe={};function ge(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let a=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),a=q(e)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const i=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+i+":"+a.port+t,a.href=a.protocol+"://"+i+(n&&n.port===a.port?"":":"+a.port),a}(e,(t=t||{}).path||"/socket.io"),a=n.source,i=n.id,r=n.path,s=fe[i]&&r in fe[i].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?o=new me(a,t):(fe[i]||(fe[i]=new me(a,t)),o=fe[i]),n.query&&!t.query&&(t.query=n.queryKey),o.socket(n.path,t)}Object.assign(ge,{Manager:me,Socket:pe,io:ge,connect:ge})}}]);