(self.webpackChunkConnect=self.webpackChunkConnect||[]).push([[7161],{6984:(e,t,n)=>{"use strict";var r=n(70538),i=n(39800),o=n(61910),a=n.n(o),s=n(96278),l=n.n(s),u=n(13701),c=n.n(u),p=n(73070),d=n.n(p),f=n(93705),m=n.n(f),h=n(26975),g=n.n(h),v=n(20629);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O={name:"search-user",props:{value:{type:[Object,Array,String]},label:{type:String,default:"Select Contact"},trackBy:{type:String,default:"uuid"},showBy:{type:String,default:"name"},error:{type:String,default:null},searchable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},wrapperClasses:{type:String},inputClasses:{type:String,default:"mb-4"},groupValues:{type:String,default:null},groupLabel:{type:String,default:null},groupSelect:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},commaSeparatedMultiple:{type:Boolean,default:!1},addNew:{type:String},autoFocus:{type:Boolean,default:!1},optionsLimit:{type:Number,deafult:5},url:{type:String,default:"users/search"},method:{type:String,default:"get"},params:{type:Object,default:function(){return{}}}},data:function(){return{cbId:"",users:[],formErrors:{},isLoading:!1}},computed:{user:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:b(b({},(0,v.nv)("common",["Custom"])),{},{computedSubtitle:function(e){var t=e.vendor?e.vendor.name:e.brand?e.brand.name:e.company?e.company:"";return t?"(".concat(t,")"):""},computedImage:function(e,t){if("male"===e.uuid){if(t){if(t.years<13)return a();if(t.years<18)return c()}return m()}if(t){if(t.years<13)return l();if(t.years<18)return d()}return g()},searchContact:_.debounce((function(e){var t=this;if(e.length<3)return!1;this.isLoading=!0,this.Custom({url:this.url,method:this.method,params:b({q:e},this.params)}).then((function(e){t.users=e,t.isLoading=!1})).catch((function(e){t.users=[],t.isLoading=!1,t.formErrors=formUtil.handleErrors(e)}))}),500),clearSelectedContact:function(){this.user=null,this.users=[]}}),mounted:function(){var e=this;this.autoFocus&&setTimeout((function(){e.$refs["multiselect".concat(e.cbId)].activate()}),500)},created:function(){this.cbId=Math.random().toString(16).slice(2)}};var C=n(51900),S=(0,C.Z)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["multiselect-wrapper",{"not-empty":!!e.user},{required:e.required},e.wrapperClasses]},[n("label",{staticClass:"input-group-material-label"},[e._v(e._s(e.label)+" "),e.required?n("span",{staticClass:"required-asterix"},[e._v("*")]):e._e()]),e._v(" "),e._t("addNew",(function(){return[e.addNew?n("div",{staticClass:"add-new-link"},[n("base-button",{attrs:{type:"button",design:"link",size:"sm"},on:{click:function(t){return e.$router.push({name:e.addNew})}}},[e._v(e._s(e.$t("general.add_new")))])],1):e._e()]})),e._v(" "),n("multiselect",{ref:"multiselect"+e.cbId,class:["input-group-material",e.inputClasses],attrs:{options:e.users,placeholder:e.label,"track-by":e.trackBy,label:e.showBy,searchable:e.searchable,"show-labels":!1,"allow-empty":e.allowEmpty,"group-values":e.groupValues,"group-label":e.groupLabel,"group-select":e.groupSelect,multiple:e.multiple,"close-on-select":e.closeOnSelect,disabled:e.disabled,loading:e.loading||e.isLoading,"preselect-first":e.preselectFirst,"internal-search":!1,"options-limit":e.optionsLimit},on:{"search-change":e.searchContact},scopedSlots:e._u([{key:"singleLabel",fn:function(t){var r=t.option;return[n("div",{staticClass:"person-option selected"},[n("div",{staticClass:"person-image-wrapper"},[r.image?n("img",{staticClass:"person-image",attrs:{src:r.image}}):n("img",{staticClass:"person-image",attrs:{src:e.computedImage(r.gender,r.age)}})]),e._v(" "),n("div",{staticClass:"person-details"},[n("span",{staticClass:"title"},[e._v(e._s(r.name))]),e._v(" "),n("span",{staticClass:"subtitle"},[e._v(e._s(e.computedSubtitle(r)))])])])]}},{key:"option",fn:function(t){var r=t.option;return[n("div",{staticClass:"person-option"},[n("div",{staticClass:"person-image-wrapper"},[r.image?n("img",{staticClass:"person-image",attrs:{src:r.image}}):n("img",{staticClass:"person-image",attrs:{src:e.computedImage(r.gender,r.age)}})]),e._v(" "),n("div",{staticClass:"person-details"},[n("span",{staticClass:"title"},[e._v(e._s(r.name))]),e._v(" "),n("span",{staticClass:"subtitle"},[e._v(e._s(e.computedSubtitle(r)))])])])]}},{key:"clear",fn:function(t){return[e.user?n("div",{staticClass:"multiselect__clear",on:{mousedown:function(n){return n.preventDefault(),n.stopPropagation(),e.clearSelectedContact(t.search)}}}):e._e()]}},{key:"noResult",fn:function(){return[n("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("global.could_not_find_any",{attribute:e.$t("user.user")})))])]},proxy:!0},{key:"noOptions",fn:function(){return[n("span",{staticClass:"text-muted"},[e._v(e._s(e.$t("general.search_helper_text")))])]},proxy:!0}]),model:{value:e.user,callback:function(t){e.user=t},expression:"user"}}),e._v(" "),e._t("errorBlock",(function(){return[e.error?n("div",{staticClass:"text-danger invalid-feedback",staticStyle:{display:"block","margin-top":"-0.5rem"}},[e._v("\n            "+e._s(e.error)+"\n        ")]):e._e()]}))],2)}),[],!1,null,null,null);const k=S.exports;var x=n(99164),j=n(34822),I=n(69470);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B={name:"profile-buttons",props:{link:{type:Object,default:null},showCallButtonsIfOnline:{type:Boolean,default:!0},user:{type:Object,required:!0}},data:function(){return{subscriptions:{},callId:null}},computed:$($($($({},(0,v.Se)("user",["uuid","username","profile","loggedInUser","liveLoggedInUser","loggedInUserBusy","liveUsers","hasPermission"])),(0,v.Se)("config",["configs"])),(0,v.Se)("chat",["chatBoxLoaded"])),{},{liveUser:function(){var e=this;return this.user&&this.liveUsers.find((function(t){return t.uuid===e.user.uuid}))},isOnline:function(){return!!this.liveUser},isUserBusy:function(){return this.isOnline&&!!this.liveUser.busy},isLoggedIn:function(){return this.user&&this.liveLoggedInUser&&this.user.uuid===this.liveLoggedInUser.uuid},callUuid:function(){return this.callId?this.callId:this.callId=uuid()},toUser:function(){return{uuid:this.user.uuid,username:this.user.username,profile:this.user.profile}},fromUser:function(){return{uuid:this.loggedInUser.uuid,username:this.loggedInUser.username,profile:this.loggedInUser.profile}}}),methods:$($($({},(0,v.nv)("user",["UpdateLiveUser"])),(0,v.nv)("chat",["SetActiveChatUser"])),{},{setUserStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.UpdateLiveUser($($({},this.fromUser),{},{busy:e,timerToFalse:t})),this.subscriptions.users.whisper("SetUserStatus",$($({},this.fromUser),{},{busy:e}))},showCallingNotification:function(e){var t=this;window.callPlaying=(0,x.qS)();var n={title:$t("chat.calling",{attribute:e.profile.name}),cancelButtonText:$t("chat.cancel"),showConfirmButton:!1,showCancelButton:!0,position:this.$toastConfig&&this.$toastConfig.position?this.$toastConfig.position.replace("-center","").replace("start","left").replace("end","right"):"bottom-end"};this.$toasted.clear(),this.setUserStatus("CALLING"),window.callTo=e,j.Qe.fire(n).then((function(n){window.callPlaying.pause(),window.callTo=null,n.value?t.setUserStatus("ON_CALL"):n.dismiss===j.bG.DismissReason.cancel?(t.setUserStatus(!1),t.subscriptions.users.whisper("CallCancelled",{to:t.toUser,from:t.fromUser,id:t.callUuid}),t.$toasted.info($t("chat.call_cancelled"),t.$toastConfig.info)):n.dismiss===j.bG.DismissReason.timer&&(t.setUserStatus(!1),t.$toasted.info($t("chat.call_not_answered",{attribute:e.profile.name}),t.$toastConfig.info))}))},startCalling:function(){this.$gaEvent("engagement","startCalling","ProfileButtons"),this.$emit("buttonClicked"),this.showCallingNotification(this.toUser),this.callId=uuid(),window.callUuid=this.callUuid,this.subscriptions.users.whisper("IncomingCall",{to:this.toUser,from:this.fromUser,id:this.callUuid})},endCall:function(){this.subscriptions.users.whisper("EndCalling",{to:this.toUser,from:this.fromUser,id:this.callUuid}),this.setUserStatus(!1),window.callUuid=null},startChat:function(){this.$gaEvent("engagement","startChat","ProfileButtons"),this.SetActiveChatUser(this.user),I.Z.$emit("START_CHAT_WITH",this.user)}}),mounted:function(){},created:function(){window.Echo&&window.EchoOpts&&(this.subscriptions={users:window.EchoOpts.subscriptions.users})},beforeDestroy:function(){},destroyed:function(){}};const T=(0,C.Z)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttons-container"},[n("div",{staticClass:"buttons-wrapper"},[n("div",{staticClass:"btn-group buttons",attrs:{role:"group"}},[e.link?n("router-link",{staticClass:"btn btn-sm btn-light flex-grow-2",attrs:{to:e.link}},[e._v("\n                "+e._s(e.$t("user.profile"))+"\n            ")]):e._e(),e._v(" "),!e.isLoggedIn&&(!e.showCallButtonsIfOnline||e.showCallButtonsIfOnline&&e.isOnline)&&e.hasPermission("create-meeting")?[n("button",{staticClass:"btn btn-sm btn-light",attrs:{disabled:e.isUserBusy||e.loggedInUserBusy},on:{click:e.startCalling}},[n("i",{staticClass:"fas fa-phone-alt"})])]:e._e(),e._v(" "),e.configs.chat&&e.configs.chat.enabled&&e.chatBoxLoaded&&e.uuid!==e.user.uuid?[n("button",{staticClass:"btn btn-sm btn-light",on:{click:e.startChat}},[n("i",{staticClass:"fas fa-comment"})])]:e._e()],2)])])}),[],!1,null,null,null).exports;const D={name:"popover-buttons",props:{linkOne:{type:Object,default:null},linkTwo:{type:Object,default:null}}};const E=(0,C.Z)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"buttons-container"},[n("div",{staticClass:"buttons-wrapper"},[n("div",{staticClass:"btn-group buttons",attrs:{role:"group"}},[e.linkOne?n("router-link",{staticClass:"btn btn-sm btn-light flex-grow-2",attrs:{to:e.linkOne.route,tabindex:"-1"}},[e._v("\n                "+e._s(e.linkOne.label)+"\n            ")]):e._e(),e._v(" "),e.linkTwo?n("router-link",{staticClass:"btn btn-sm btn-light flex-grow-2",attrs:{to:e.linkTwo.route,tabindex:"-1"}},[e._v("\n                "+e._s(e.linkTwo.label)+"\n            ")]):e._e()],1)])])}),[],!1,null,null,null).exports;const U={name:"profile-card",components:{},props:{options:{type:Object,default:function(){return{imageType:"adult"}}},to:{type:Object,default:null},linkOne:{type:Object,default:null},linkTwo:{type:Object,default:null},name:{required:!0},subHeading:{type:String,default:""},profileExtraStyles:{type:String,default:""},gender:{type:Object,default:function(){return{uuid:"male",name:"Male"}}},age:{type:Object,default:function(){return{years:18,months:0,days:0}}},image:{type:String,default:""},coverImage:{type:String,default:""},editImage:{type:Boolean,default:!1},horizontal:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},userStatus:{type:Boolean,default:!1},nonPerson:{type:Boolean,default:!1},user:{type:Object}},computed:{computedImage:function(){if(!this.gender)return m();if("male"===this.gender.uuid){if(this.age){if(this.age.years<13)return a();if(this.age.years<18)return c()}return m()}if(this.age){if(this.age.years<13)return l();if(this.age.years<18)return d()}return g()},coverPageStyles:function(){return this.coverImage?{backgroundImage:"url("+this.coverImage+")"}:{}}}};const F=(0,C.Z)(U,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["profile-card",{"horizontal-layout":e.horizontal},{"has-edit-image":e.editImage}]},[n("div",{class:["profile-image-background",{"has-cover-image":e.coverImage}],style:e.coverPageStyles},[e.editImage?n("router-link",{staticClass:"edit-image-wrapper",attrs:{to:{name:"appProfileViewImage",params:{uuid:e.user.uuid}}}},[n("i",{staticClass:"fas fa-image"})]):e._e()],1),e._v(" "),n("div",{staticClass:"profile-details-wrapper"},[n("div",{class:["profile-image-wrapper",{placeholder:!e.image}]},[e.to?[e.image?n("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to,tabindex:"-1"}},[e.image?[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]:[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})]],2):e._e()]:[n("div",{staticClass:"profile-image"},[e.image?[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]:[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})]],2)],e._v(" "),e.editImage?n("router-link",{staticClass:"edit-image-wrapper",attrs:{to:{name:"appProfileViewImage",params:{uuid:e.user.uuid}}}},[n("i",{staticClass:"fas fa-image"})]):e._e()],2),e._v(" "),n("div",{staticClass:"profile-details"},[e.to?n("router-link",{staticClass:"profile-heading pointer",attrs:{to:e.to,tabindex:"-1",custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("h5",{attrs:{role:"link"},on:{click:r,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r.apply(null,arguments)}}},[e._v(e._s(e.name))])]}}],null,!1,2661043621)}):n("h5",{staticClass:"profile-heading"},[e._v(e._s(e.name))]),e._v(" "),n("p",{staticClass:"profile-sub-heading text-muted"},[e._v(e._s(e.subHeading))]),e._v(" "),e.$slots.extras||e.nonPerson?n("div",{class:["profile-extras has-slot",e.profileExtraStyles]},[e._t("extras")],2):n("p",{staticClass:"profile-extras text-muted comma-list"},[e.gender?n("span",[e._v(e._s(e.gender.name))]):e._e(),e._v(" "),e.age&&e.age.years?n("span",[e._v(e._s(e.$t("global.years_old",{attribute:e.age.years})))]):e._e()])],1)]),e._v(" "),e.nonPerson&&e.showButtons&&(e.linkOne||e.linkTwo)?n("popover-buttons",{attrs:{"link-one":e.linkOne,"link-two":e.linkTwo},on:{buttonClicked:function(t){return e.$emit("buttonClicked")}}}):e.showButtons&&e.user?n("profile-buttons",{attrs:{link:e.to,user:e.user},on:{buttonClicked:function(t){return e.$emit("buttonClicked")}}}):e._e()],1)}),[],!1,null,null,null).exports;const z={name:"small-profile-card",components:{},props:{options:{type:Object,default:function(){return{imageType:"adult"}}},to:{type:Object,default:null},name:{required:!0},subHeading:{type:String,default:""},gender:{type:Object,default:function(){return{uuid:"male",name:"Male"}}},age:{type:Object,default:function(){return{years:18,months:0,days:0}}},image:{type:String,default:""},horizontal:{type:Boolean,default:!0},userStatus:{type:Boolean,default:!1},user:{type:Object}},computed:{computedImage:function(){if(!this.gender)return m();if("male"===this.gender.uuid){if(this.age){if(this.age.years<13)return a();if(this.age.years<18)return c()}return m()}if(this.age){if(this.age.years<13)return l();if(this.age.years<18)return d()}return g()}}};const N=(0,C.Z)(z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["small-profile-card",{"horizontal-layout":e.horizontal}]},[n("div",{staticClass:"profile-details-wrapper"},[n("div",{staticClass:"profile-image-wrapper",class:{placeholder:!e.image}},[e.to?[e.image?n("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]):n("router-link",{staticClass:"profile-image pointer",attrs:{to:e.to}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})])]:[e.image?n("div",{staticClass:"profile-image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.image,expression:"image"}],staticClass:"img-fluid"})]):n("div",{staticClass:"profile-image"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.computedImage,expression:"computedImage"}],staticClass:"img-fluid"})])]],2),e._v(" "),n("div",{staticClass:"profile-details"},[e.to?n("router-link",{staticClass:"profile-heading pointer",attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("h5",{attrs:{role:"link"},on:{click:r,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r.apply(null,arguments)}}},[e._v(e._s(e.name))])]}}],null,!1,2661043621)}):n("h5",{staticClass:"profile-heading"},[e._v(e._s(e.name))]),e._v(" "),e.subHeading?n("p",{staticClass:"profile-sub-heading text-muted"},[e._v(e._s(e.subHeading))]):e._e()],1)])])}),[],!1,null,null,null).exports;var L,M,R=n(94689),V=n(63294),q=n(12299),Z=n(90494),H=n(20451),K=n(28112),G=n(13597),W=n(33284),J=n(67040),Y=n(18280),Q=n(40960);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var te="disabled",ne=V.j7+te,re="show",ie=V.j7+re,oe=(0,H.y2)((ee(L={boundary:(0,H.pi)([K.mv,q.aR,q.N0],"scrollParent"),boundaryPadding:(0,H.pi)(q.fE,50),container:(0,H.pi)([K.mv,q.aR,q.N0]),customClass:(0,H.pi)(q.N0),delay:(0,H.pi)(q.$k,50)},te,(0,H.pi)(q.U5,!1)),ee(L,"fallbackPlacement",(0,H.pi)(q.Mu,"flip")),ee(L,"id",(0,H.pi)(q.N0)),ee(L,"noFade",(0,H.pi)(q.U5,!1)),ee(L,"noninteractive",(0,H.pi)(q.U5,!1)),ee(L,"offset",(0,H.pi)(q.fE,0)),ee(L,"placement",(0,H.pi)(q.N0,"top")),ee(L,re,(0,H.pi)(q.U5,!1)),ee(L,"target",(0,H.pi)([K.mv,K.t_,q.Sx,q.aR,q.N0],void 0,!0)),ee(L,"title",(0,H.pi)(q.N0)),ee(L,"triggers",(0,H.pi)(q.Mu,"hover focus")),ee(L,"variant",(0,H.pi)(q.N0)),L),R.qv),ae=r.default.extend({name:R.qv,mixins:[Y.Z],inheritAttrs:!1,props:oe,data:function(){return{localShow:this.show,localTitle:"",localContent:""}},computed:{templateData:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:this.localTitle,content:this.localContent,interactive:!this.noninteractive},(0,J.ei)(this.$props,["boundary","boundaryPadding","container","customClass","delay","fallbackPlacement","id","noFade","offset","placement","target","target","triggers","variant",te]))},templateTitleContent:function(){return{title:this.title,content:this.content}}},watch:(M={},ee(M,re,(function(e,t){e!==t&&e!==this.localShow&&this.$_toolpop&&(e?this.$_toolpop.show():this.$_toolpop.forceHide())})),ee(M,te,(function(e){e?this.doDisable():this.doEnable()})),ee(M,"localShow",(function(e){this.$emit(ie,e)})),ee(M,"templateData",(function(){var e=this;this.$nextTick((function(){e.$_toolpop&&e.$_toolpop.updateData(e.templateData)}))})),ee(M,"templateTitleContent",(function(){this.$nextTick(this.updateContent)})),M),created:function(){this.$_toolpop=null},updated:function(){this.$nextTick(this.updateContent)},beforeDestroy:function(){this.$off(V.oJ,this.doOpen),this.$off(V.Cc,this.doClose),this.$off(V.MH,this.doDisable),this.$off(V.wV,this.doEnable),this.$_toolpop&&(this.$_toolpop.$destroy(),this.$_toolpop=null)},mounted:function(){var e=this;this.$nextTick((function(){var t=e.getComponent();e.updateContent();var n=(0,G.P)(e)||(0,G.P)(e.$parent),r=e.$_toolpop=new t({parent:e,_scopeId:n||void 0});r.updateData(e.templateData),r.$on(V.l0,e.onShow),r.$on(V.AS,e.onShown),r.$on(V.yM,e.onHide),r.$on(V.v6,e.onHidden),r.$on(V.gi,e.onDisabled),r.$on(V.VU,e.onEnabled),e.disabled&&e.doDisable(),e.$on(V.oJ,e.doOpen),e.$on(V.Cc,e.doClose),e.$on(V.MH,e.doDisable),e.$on(V.wV,e.doEnable),e.localShow&&r.show()}))},methods:{getComponent:function(){return Q.j},updateContent:function(){this.setTitle(this.normalizeSlot()||this.title)},setTitle:function(e){e=(0,W.Jp)(e)?"":e,this.localTitle!==e&&(this.localTitle=e)},setContent:function(e){e=(0,W.Jp)(e)?"":e,this.localContent!==e&&(this.localContent=e)},onShow:function(e){this.$emit(V.l0,e),e&&(this.localShow=!e.defaultPrevented)},onShown:function(e){this.localShow=!0,this.$emit(V.AS,e)},onHide:function(e){this.$emit(V.yM,e)},onHidden:function(e){this.$emit(V.v6,e),this.localShow=!1},onDisabled:function(e){e&&e.type===V.gi&&(this.$emit(ne,!0),this.$emit(V.gi,e))},onEnabled:function(e){e&&e.type===V.VU&&(this.$emit(ne,!1),this.$emit(V.VU,e))},doOpen:function(){!this.localShow&&this.$_toolpop&&this.$_toolpop.show()},doClose:function(){this.localShow&&this.$_toolpop&&this.$_toolpop.hide()},doDisable:function(){this.$_toolpop&&this.$_toolpop.disable()},doEnable:function(){this.$_toolpop&&this.$_toolpop.enable()}},render:function(e){return e()}}),se=n(63929);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pe=(0,H.y2)((0,J.GE)(ue(ue({},oe),{},{content:(0,H.pi)(q.N0),placement:(0,H.pi)(q.N0,"right"),triggers:(0,H.pi)(q.Mu,V.PZ)})),R.AE);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const he={name:"view-user",components:{BPopover:r.default.extend({name:R.AE,extends:ae,inheritAttrs:!1,props:pe,methods:{getComponent:function(){return se.c},updateContent:function(){this.setContent(this.normalizeSlot()||this.content),this.setTitle(this.normalizeSlot(Z.A0)||this.title)}}})},props:{label:{type:String,description:"View label (text before input)"},labelClasses:{type:[String,Array],description:"View label css classes",default:"d-block"},dataClasses:{type:[String,Array],description:"View css classes"},value:{type:[String,Number,Boolean,Object],description:"View value"},tag:{type:String,description:"Tag value",default:"h6"},subtitleKey:{type:String,default:"username"},subtitleSecondaryKey:{type:String,default:"email"},subArr:{type:Array},showSub:{type:Boolean,default:!0},showImage:{type:Boolean,default:!0},size:{type:String,default:"md"},showStatus:{type:Boolean,default:!0},showStatusIfOnline:{type:Boolean,default:!0},showButtons:{type:Boolean,default:!1},showPopoverButtons:{type:Boolean,default:!0},focusable:{type:Boolean,default:!1},hidePopover:{type:Boolean,default:!1},inlineSub:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},link:{type:Object,default:null},linkSecond:{type:Object,default:null}},data:function(){return{elementId:"",renderPopover:!1,showPopup:!1,timer:"",isInInfo:!1}},computed:fe(fe({},(0,v.Se)("user",["liveUsers","liveLoggedInUser"])),{},{isLoggedIn:function(){return this.value&&this.liveLoggedInUser&&this.value.uuid===this.liveLoggedInUser.uuid},liveUser:function(){var e=this;return this.value&&this.liveUsers.find((function(t){return t.uuid===e.value.uuid}))},isOnline:function(){return!!this.liveUser},isUserBusy:function(){return this.isOnline&&!!this.liveUser.busy},computedLink:function(){return this.link?this.link:this.profileLink?this.profileLink:null},computedLinkSecond:function(){return this.linkSecond?this.linkSecond:this.ledgerLink?this.ledgerLink:null},profileLink:function(){return this.value?{name:"appUserView",params:{uuid:this.value.uuid,slug:this.value.slug}}:null}}),methods:{getSubValue:function(e,t){e=e.split(".");var n=t;return e.forEach((function(e){n=n[e]})),n},computedImage:function(){if(!this.value.profile||!this.value.profile.gender)return m();var e=this.value.profile.gender,t=this.value.profile.age;if("male"===e||"male"===e.uuid){if(t){if(t.years<13)return a();if(t.years<18)return c()}return m()}if(t){if(t.years<13)return l();if(t.years<18)return d()}return g()},hover:function(){var e=this;this.timer=setTimeout((function(){e.showPopover()}),300)},hoverOut:function(){var e=this;clearTimeout(e.timer),this.timer=setTimeout((function(){e.isInInfo||e.closePopover()}),200)},hoverInfo:function(){this.isInInfo=!0},hoverOutInfo:function(){this.isInInfo=!1,this.hoverOut()},showPopover:function(){this.showPopup=!0},closePopover:function(){this.showPopup=!1},onShow:function(){},onShown:function(){},onHidden:function(){},focusRef:function(e){var t=this;this.$nextTick((function(){t.$nextTick((function(){(e.$el||e).focus()}))}))}},mounted:function(){var e=this;this.$nextTick((function(){e.renderPopover=!0}))},created:function(){this.elementId=Math.random().toString(16).slice(2)}};const ge=(0,C.Z)(he,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base-view view-user"},[n("div",{staticClass:"view-group",class:[{"has-label":e.label||e.$slots.label},{"not-empty":e.value||0===e.value},{"d-inline":e.inline},"size-"+e.size]},[e._t("label",(function(){return[e.label?n("label",{class:e.labelClasses},[e._v("\n                "+e._s(e.label)+"\n            ")]):e._e()]})),e._v(" "),e._t("main",(function(){return[e.value&&e.elementId?[n("div",{class:["popover-parent user-popover-parent",{"show-buttons":e.showButtons&&e.hidePopover}],attrs:{id:"Container"+e.elementId}},[n("router-link",{ref:"Button"+e.elementId,staticClass:"btn-popover-link",class:[{focusable:e.focusable}],attrs:{to:e.computedLink,disabled:!e.hidePopover&&e.showPopup,id:"Button"+e.elementId,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate;return[n("button",{attrs:{role:"link"},on:{click:r,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r.apply(null,arguments)}}},[n("div",{staticClass:"popover-element",on:{mouseover:e.hover,mouseout:e.hoverOut}},[e.showImage?n("div",{staticClass:"user-image-wrapper"},[e.value.profile&&e.value.profile.avatar?n("img",{staticClass:"user-image",attrs:{src:e.value.profile.avatar}}):n("img",{staticClass:"user-image",attrs:{src:e.computedImage()}})]):e._e(),e._v(" "),n("div",{staticClass:"user-details"},[n(e.tag,{tag:"component",class:["view-data",{"inline-sub":e.inlineSub},{"user-status":!e.isLoggedIn&&e.showStatus&&(!e.showStatusIfOnline||e.showStatusIfOnline&&e.isOnline)},{"is-online":e.isOnline},{"is-offline":!e.isOnline},{"is-busy":e.isUserBusy},e.dataClasses]},[n("span",{staticClass:"title"},[e._v(e._s(e.value.profile.name))]),e._v(" "),e.showSub&&e.inlineSub?n("small",{staticClass:"subtitle"},[e.subtitleKey?n("span",{staticClass:"bracketed"},[e._v(e._s(e.getSubValue(e.subtitleKey,e.value)))]):e._e()]):e._e()]),e._v(" "),e._t("sub",(function(){return[e._t("submain",(function(){return[e.showSub&&!e.inlineSub?n("div",{staticClass:"subtitle comma-list"},[e.subtitleKey?n("span",{staticClass:"bracketed"},[e._v(e._s(e.getSubValue(e.subtitleKey,e.value)))]):e._e(),e._v(" "),e.subtitleSecondaryKey?n("span",{staticClass:"bracketed"},[e._v(e._s(e.getSubValue(e.subtitleSecondaryKey,e.value)))]):e._e()]):e._e()]})),e._v(" "),e._t("subextra")]}))],2)])])]}}],null,!0)}),e._v(" "),e.showButtons&&e.hidePopover?n("profile-buttons",{attrs:{link:e.link,user:e.value}}):e._e(),e._v(" "),!e.hidePopover&&e.renderPopover?[n("b-popover",{ref:"Popover"+e.elementId,attrs:{target:"Button"+e.elementId,show:e.showPopup,placement:"auto",container:"Container"+e.elementId},on:{"update:show":function(t){e.showPopup=t},show:e.onShow,shown:e.onShown,hidden:e.onHidden}},[n("div",{staticClass:"user-popover dark-bg",on:{mouseover:e.hoverInfo,mouseout:e.hoverOutInfo}},[n("profile-card",{attrs:{name:e.value.profile.name,"sub-heading":e.value.username||"-",gender:e.value.profile.gender,image:e.value.profile.avatar,age:e.value.profile.age,"data-card-color":"whitish",to:e.profileLink,"show-buttons":e.showPopoverButtons,"user-status":e.isOnline,user:e.value},on:{buttonClicked:function(t){return e.$root.$emit("bv::hide::popover","Button"+e.elementId)}}})],1)])]:e._e()],2)]:n("span",[e._v("-")])]}))],2)])}),[],!1,null,null,null).exports;var ve=n(90287),ye=n.n(ve),be=n(41591);const _e={name:"user-avatar",components:{Avatar:ye()},props:{user:{type:Object,required:!0},classes:{type:String,default:""},backgroundColor:{type:String,default:be.ZP.colors.white},foregroundColor:{type:String,default:be.ZP.colors.primary},size:{type:Number,default:40},hasShadow:{type:Boolean,default:!1}}};const we=(0,C.Z)(_e,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user?n("div",[e.user.profile&&e.user.profile.name?n("avatar",{class:["user-avatar",{"avatar-shadow":e.hasShadow},e.classes],attrs:{username:e.user.profile.name,src:e.user.profile.avatar,"background-color":e.backgroundColor,color:e.foregroundColor,size:e.size}}):!e.user.profile&&e.user.name?n("avatar",{class:["user-avatar",{"avatar-shadow":e.hasShadow},e.classes],attrs:{username:e.user.name,src:e.user.avatar,"background-color":e.backgroundColor,color:e.foregroundColor,size:e.size}}):e._e()],1):e._e()}),[],!1,null,null,null).exports;var Oe=n(51358);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xe={name:"search-tag",props:{value:{type:[Object,Array,String]},label:{type:String,default:$t("general.enter_a_tag")},entityLabel:{type:String,default:$t("general.tags")},trackBy:{type:String,default:"slug"},showBy:{type:String,default:"name"},error:{type:String,default:null},taggable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},allowEmpty:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},wrapperClasses:{type:String},inputClasses:{type:String,default:""},position:{type:String,default:"top"},simple:{type:Boolean,default:!1},commaSeparatedMultiple:{type:Boolean,default:!1},addNew:{type:String},addNewModal:{type:Boolean,default:!1},neededPermission:{type:String},autoFocus:{type:Boolean,default:!1},optionsLimit:{type:Number,deafult:5},url:{type:String,default:"tags"},type:{type:String,default:""},method:{type:String,default:"get"},params:{type:Object,default:function(){return{}}}},data:function(){return{cbId:"",options:[],formErrors:{},showNewModel:!1,isLoading:!1}},computed:Se(Se(Se({},(0,v.Se)("config",["uiConfigs"])),(0,v.Se)("user",["hasPermission"])),{},{tags:{get:function(){var e=this;if(this.value&&this.simple){if(this.multiple){var t=this.value;return _.isArray(t)||(t=t.replace(/\s+/g,"").split(",")),this.options.length?this.options.filter((function(n){return-1!==t.indexOf(n[e.trackBy])})):t.map((function(e){return{slug:e,name:e.replace("-"," ")}}))}return this.options.find((function(t){return t[e.trackBy]===e.value}))}return this.value},set:function(e){var t=this,n=null;n=e&&this.simple?_.isArray(e)?(n=e.map((function(e){return e[t.trackBy]}))).join(","):e[this.trackBy]:e,this.$emit("input",n),this.$emit("update:error","")}}}),methods:Se(Se(Se({},(0,v.nv)("common",["Custom"])),(0,v.nv)("config",["SetUiConfig"])),{},{searchTags:_.debounce((function(e){var t=this;if(e.length<3)return!1;this.isLoading=!0,this.Custom({url:this.url+(this.type?"?type="+this.type:""),method:this.method,params:Se({q:e},this.params)}).then((function(e){t.options=e,t.isLoading=!1})).catch((function(e){t.options=[],t.isLoading=!1,t.formErrors=Oe.handleErrors(e)}))}),500),addTag:function(e){this.$emit("tag",e),this.focus()},removeTag:function(e){var t=this;this.tags=this.tags.filter((function(n){return n[t.trackBy]!==e[t.trackBy]}))},clearSelectedTags:function(){this.tags=null,this.options=[],this.focus()},focus:function(){var e=this;setTimeout((function(){e.$refs&&e.cbId&&e.$refs["multiselect".concat(e.cbId)]&&e.$refs["multiselect".concat(e.cbId)].activate()}),500)}}),mounted:function(){this.autoFocus&&this.focus()},created:function(){this.cbId=Math.random().toString(16).slice(2)}};var je=(0,C.Z)(xe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["multiselect-wrapper",{"not-empty":!!e.tags},{required:e.required},e.wrapperClasses]},[n("label",{staticClass:"input-group-material-label"},[e._v(e._s(e.label)+" "),e.required?n("span",{staticClass:"required-asterix"},[e._v("*")]):e._e()]),e._v(" "),n("multiselect",{ref:"multiselect"+e.cbId,class:["input-group-material",e.inputClasses],attrs:{options:e.options,placeholder:e.label,"track-by":e.trackBy,label:e.showBy,searchable:e.searchable,"show-labels":!1,"allow-empty":e.allowEmpty,multiple:e.multiple,"close-on-select":e.closeOnSelect,taggable:e.taggable,"tag-placeholder":e.$t("general.enter_a_tag"),disabled:e.disabled,loading:e.loading||e.isLoading,"internal-search":!1,"options-limit":e.optionsLimit,"tag-position":e.position},on:{tag:e.addTag,"search-change":e.searchTags,remove:e.removeTag},scopedSlots:e._u([{key:"clear",fn:function(t){return[e.tags&&e.allowEmpty?n("div",{staticClass:"multiselect__clear",on:{mousedown:function(n){return n.preventDefault(),n.stopPropagation(),e.clearSelectedTags(t.search)}}}):e._e()]}},{key:"noResult",fn:function(){return[n("span",{staticClass:"multiselect__no_result text-muted"},[e._v(e._s(e.$t("global.could_not_find_any",{attribute:e.entityLabel})))])]},proxy:!0},{key:"noOptions",fn:function(){return[n("span",{staticClass:"multiselect__helper text-muted"},[e._v(e._s(e.$t("general.search_helper_text")))])]},proxy:!0}]),model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}}),e._v(" "),e._t("errorBlock",(function(){return[e.error?n("div",{staticClass:"text-danger invalid-feedback error-block"},[e._v("\n            "+e._s(e.error)+"\n        ")]):e._e()]}))],2)}),[],!1,null,null,null);const Ie=je.exports;const Pe={name:"table-row-actions",props:{btnIcon:{type:String,default:"fas fa-ellipsis-v"}},data:function(){return{}},computed:{}};const $e=(0,C.Z)(Pe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("base-dropdown",{staticClass:"table-row-actions",attrs:{tag:"div",direction:"down","menu-classes":"show-dropdown-up",position:"right"}},[n("base-button",{attrs:{slot:"title",type:"button","data-toggle":"dropdown",role:"button",size:"md"},slot:"title"},[n("i",{class:e.btnIcon})]),e._v(" "),e._t("default")],2)}),[],!1,null,null,null).exports;function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const De={name:"keep-adding-form",props:{isLoading:{type:Boolean,default:!1},keepAddingOption:{type:String},keepAddingSelectedFields:{type:Array,default:function(){return[]}},keepAddingFields:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:Be(Be({},(0,v.Se)("config",["vars"])),{},{localKeepAddingOption:{get:function(){return this.keepAddingOption},set:function(e){this.$emit("optionUpdated",e)}},localKeepAddingSelectedFields:{get:function(){return this.keepAddingSelectedFields},set:function(e){this.$emit("fieldsUpdated",e)}}})};const Ee=(0,C.Z)(De,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row mt-5"},[n("div",{staticClass:"col-12 col-md-3"},[n("base-select",{attrs:{options:e.vars.keepAddingOptions,label:e.$t("general.select_keep_adding_option"),"allow-empty":!1,"track-by":"uuid",simple:!0,disabled:e.isLoading},on:{input:function(t){return e.$emit("fieldsUpdated")}},scopedSlots:e._u([{key:"selectedOption",fn:function(t){var r=t.option;return[n("span",{staticClass:"title"},[e._v(e._s(e.$t("general."+r.name)))])]}},{key:"listOption",fn:function(t){var r=t.option;return[n("span",{staticClass:"title"},[e._v(e._s(e.$t("general."+r.name)))])]}}]),model:{value:e.localKeepAddingOption,callback:function(t){e.localKeepAddingOption=t},expression:"localKeepAddingOption"}})],1),e._v(" "),n("div",{staticClass:"col-12 col-md-9"},[n("base-select",{attrs:{options:e.keepAddingFields,label:e.$t("general.select_keep_adding_fields"),"allow-empty":!0,multiple:!0,"track-by":"uuid","show-by":"value","close-on-select":!1,disabled:e.isLoading},model:{value:e.localKeepAddingSelectedFields,callback:function(t){e.localKeepAddingSelectedFields=t},expression:"localKeepAddingSelectedFields"}})],1)])}),[],!1,null,null,null).exports;r.default.component(k.name,k),r.default.component(T.name,T),r.default.component(E.name,E),r.default.component(F.name,F),r.default.component(N.name,N),r.default.component(ge.name,ge),r.default.component(we.name,we),r.default.component(Ie.name,Ie),r.default.component(Ee.name,Ee),r.default.component($e.name,$e),r.default.filter("momentDate",i.En),r.default.filter("momentTime",i.ff),r.default.filter("momentDateTime",i.uK),r.default.filter("momentTimeTz",i.ag),r.default.filter("momentDateTimeTz",i.q7),r.default.filter("momentCalendar",i.Ys),r.default.filter("momentCalendarTz",i.SN)},39800:(e,t,n)=>{"use strict";n.d(t,{En:()=>l,SN:()=>h,Ys:()=>p,ag:()=>f,ff:()=>u,mk:()=>d,q7:()=>m,uK:()=>c,zO:()=>s});var r=n(33363),i=r.Z.getters["config/configs"],o=r.Z.getters["config/vars"],a=function(){return{timezone:i.authenticated?i.system.timezone:moment.tz.guess(),defaultDateFormat:o.defaultDateFormat,defaultDateTimeFormat:o.defaultDateTimeFormat,serverDateFormat:o.serverDateFormat,serverDateTimeFormat:o.serverDateTimeFormat,calendarLocale:{lastDay:o.defaultDateFormat,sameDay:o.defaultTimeFormat,lastWeek:o.defaultDateFormat,sameElse:o.defaultDateFormat}}},s=function(e,t){var n=a(),r=moment.utc().tz(t||n.timezone);return e&&e.hasOwnProperty("moment")&&e.moment?r:r.format(e||n.defaultDateTimeFormat)},l=function(e,t){var n=a(),r=moment(e,n.serverDateFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?r:r.format(t||n.defaultDateFormat)):"INVALID DATE STRING"},u=function(e,t){var n=a(),r=moment(e,n.serverTimeFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?r:r.format(t||n.defaultTimeFormat)):"INVALID TIME STRING"},c=function(e,t){var n=a(),r=moment(e,n.serverDateTimeFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?r:r.format(t||n.defaultDateTimeFormat)):"INVALID DATE TIME STRING"},p=function(e,t){var n=a(),r=moment(e,n.serverDateTimeFormat);return e?(Array.isArray(e)&&(r=moment(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?r:r.calendar(t||n.calendarLocale)):"INVALID DATE TIME STRING"},d=function(e,t,n){var r=a();if(!e)return"INVALID DATE STRING";var i=moment.utc(e,r.serverDateFormat);return"NOW"===e&&(i=moment.utc()),Array.isArray(e)&&(i=moment.utc(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?i.tz(n||r.timezone):i.tz(n||r.timezone).format(t||r.defaultDateFormat)},f=function(e,t,n){var r=a(),i=moment.utc("".concat(moment().format(r.serverDateFormat)," ").concat(e),r.serverTimeFormat);return e?(Array.isArray(e)&&(i=moment.utc(e[0],e[1])),t&&t.hasOwnProperty("moment")&&t.moment?i.tz(n||r.timezone):i.tz(n||r.timezone).format(t||r.defaultTimeFormat)):"INVALID TIME STRING"},m=function(e,t,n){var r,i=a();return e?(r="NOW"===e?moment.utc():Array.isArray(e)?moment.utc(e[0],e[1]):moment.utc(e,i.serverDateTimeFormat),t&&t.hasOwnProperty("moment")&&t.moment?r.tz(n||i.timezone):r.tz(n||i.timezone).format(t||i.defaultDateTimeFormat)):"INVALID DATE TIME STRING"},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=a(),i=moment.utc(e,r.serverDateTimeFormat);if(!e)return"INVALID DATE TIME STRING";Array.isArray(e)&&(i=moment.utc(e[0],e[1]));var o=i.tz(n||r.timezone);return t&&t.hasOwnProperty("moment")&&t.moment?o:o=o.calendar(t||r.calendarLocale)}},99164:(e,t,n)=>{"use strict";n.d(t,{BN:()=>c,Kf:()=>u,m5:()=>a,qS:()=>s,rU:()=>i,si:()=>l});var r=n(97949);navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert($t("misc.get_user_media_not_supported")),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)});location.protocol;"undefined"!=typeof MediaStreamTrack&&"getSources"in MediaStreamTrack||navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices;var i=function(e){var t={icon:"error",html:"",footer:$t("misc.solve_and_refresh")};if(e)return"NotAllowedError"===e.name||"PermissionDeniedError"===e.name?(t.title=$t("misc.media.permission_denied"),t.html=$t("misc.media.permission_denied_text")):"NotFoundError"===e.name?(t.title=$t("misc.media.not_found"),t.html=$t("misc.media.not_found_text")):"NotReadableError"===e.name||"OverconstrainedError"===e.name?(t.title=$t("misc.media.unreadable"),t.html=$t("misc.media.unreadable_text")):"SecurityError"!==e.name&&"TypeError"!==e.name||(t.title=$t("misc.media.security"),t.html=$t("misc.media.security_text")),t.html+='<div><pre><code style="white-space: break-spaces;">'+e+"</code><pre></div>",{msg:t,alert:swtAlert.fire(t)}},o=function(e){if((e=Object.assign({},{type:null,loop:!1,duration:1e3},e)).type){var t=new Audio;return t.preload="auto",t.autoplay=!0,t.loop=e.loop,t.src="/sound/".concat(e.type,".mp3"),t.play().then((function(){setTimeout((function(){t&&t.pause()}),e.duration)})).catch((function(e){console.error(e)})),t}},a=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return o({type:"incoming",loop:!0,duration:3e4})},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return o({type:"calling",loop:!0,duration:3e4})},l=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return o({type:"message",duration:3e3})},u=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!document.hasFocus()||e)return o({type:"screenshot",duration:3e3})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=document.querySelector("link[rel=canonical]")?document.querySelector("link[rel=canonical]").href:document.location.href,o=e.url?e.url:i;if(n&&navigator.share)navigator.share({title:e.title?e.title:document.title,url:o}).then((function(){})).catch(console.error);else{var a={showCancelButton:!0,confirmButtonText:$t("misc.share_alert.confirm_btn"),cancelButtonText:$t("misc.share_alert.cancel_btn")};e.alertTitle&&(a.title=e.alertTitle),e.alertHtml?a.html=e.alertHtml:a.text=$t("misc.share_alert.text"),swtAlert.fire(a).then((function(e){e.value&&((0,r.vQ)(o),setTimeout((function(){t()}),500))}))}}},23244:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(94015),i=n.n(r),o=n(23645),a=n.n(o)()(i());a.push([e.id,".landing-layout{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:100%;position:relative;width:100%}","",{version:3,sources:["webpack://./resources/js/views/layouts/landing-layout.vue"],names:[],mappings:"AAeA,gBAII,kBAAA,CADA,YAAA,CAGA,qBAAA,CADA,sBAAA,CAHA,eAAA,CAKA,iBAAA,CANA,UARJ",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.landing-layout {\n    width: 100%;\n    min-height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-direction: column;\n    position: relative;\n}\n\n"],sourceRoot:""}]);const s=a},96278:e=>{e.exports="/images/default-profile-image-female-kid.png?1e7031302fcbe88e852f5048995c54c3"},73070:e=>{e.exports="/images/default-profile-image-female-teen.png?0febad6ecbb15c43511ad888d0ed6355"},26975:e=>{e.exports="/images/default-profile-image-female.png?e1f248765c6f1117cb24b060614d931e"},61910:e=>{e.exports="/images/default-profile-image-male-kid.png?bdf756bb159c95a20ce464fbaaeec9fb"},13701:e=>{e.exports="/images/default-profile-image-male-teen.png?085d52319fdbc99b3159dbc9636272e4"},93705:e=>{e.exports="/images/default-profile-image-male.png?eebf809dd3e86444ebed4aa2bc6603b8"},90287:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=9)}([function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(6),i=n(7);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(30);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Avatar=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(10));t.Avatar=r.default,t.default=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),i=n.n(r),o=n(41),a=n(11)(i.a,o.a,!1,null,null,null);t.default=a.exports},function(e,t){e.exports=function(e,t,n,r,i,o){var a,s=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(a=e,s=e.default);var u,c="function"==typeof s?s.options:s;if(t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),i&&(c._scopeId=i),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=r),u){var p=c.functional,d=p?c.render:c.beforeCreate;p?(c._injectStyles=u,c.render=function(e,t){return u.call(t),d(e,t)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:a,exports:s,options:c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),i=function(e){for(var t=e.split(/[ -]/),n="",r=0;r<t.length;r++)n+=t[r].charAt(0);return n.length>3&&-1!==n.search(/[A-Z]/)&&(n=n.replace(/[a-z]+/g,"")),n.substr(0,3).toUpperCase()};t.default={name:"avatar",props:{username:{type:String},initials:{type:String},backgroundColor:{type:String},color:{type:String},customStyle:{type:Object},inline:{type:Boolean},size:{type:Number,default:50},src:{type:String},rounded:{type:Boolean,default:!0},lighten:{type:Number,default:80},parser:{type:Function,default:i,validator:function(e){return"string"==typeof e("John",i)}}},data:function(){return{backgroundColors:["#F44336","#FF4081","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"],imgError:!1}},mounted:function(){this.isImage||this.$emit("avatar-initials",this.username,this.userInitial)},computed:{background:function(){if(!this.isImage)return this.backgroundColor||this.randomBackgroundColor(this.username.length,this.backgroundColors)},fontColor:function(){if(!this.isImage)return this.color||this.lightenColor(this.background,this.lighten)},isImage:function(){return!this.imgError&&Boolean(this.src)},style:function(){var e={display:this.inline?"inline-flex":"flex",width:this.size+"px",height:this.size+"px",borderRadius:this.rounded?"50%":0,lineHeight:this.size+Math.floor(this.size/20)+"px",fontWeight:"bold",alignItems:"center",justifyContent:"center",textAlign:"center",userSelect:"none"},t={background:"transparent url('"+this.src+"') no-repeat scroll 0% 0% / "+this.size+"px "+this.size+"px content-box border-box"},n={backgroundColor:this.background,font:Math.floor(this.size/2.5)+"px/"+this.size+"px Helvetica, Arial, sans-serif",color:this.fontColor},i=this.isImage?t:n;return(0,r.default)(e,i),e},userInitial:function(){return this.isImage?"":this.initials||this.parser(this.username,i)}},methods:{initial:i,onImgError:function(e){this.imgError=!0},randomBackgroundColor:function(e,t){return t[e%t.length]},lightenColor:function(e,t){var n=!1;"#"===e[0]&&(e=e.slice(1),n=!0);var r=parseInt(e,16),i=(r>>16)+t;i>255?i=255:i<0&&(i=0);var o=(r>>8&255)+t;o>255?o=255:o<0&&(o=0);var a=(255&r)+t;return a>255?a=255:a<0&&(a=0),(n?"#":"")+(a|o<<8|i<<16).toString(16)}}}},function(e,t,n){e.exports={default:n(14),__esModule:!0}},function(e,t,n){n(15),e.exports=n(4).Object.assign},function(e,t,n){var r=n(16);r(r.S+r.F,"Object",{assign:n(26)})},function(e,t,n){var r=n(0),i=n(4),o=n(17),a=n(19),s=function(e,t,n){var l,u,c,p=e&s.F,d=e&s.G,f=e&s.S,m=e&s.P,h=e&s.B,g=e&s.W,v=d?i:i[t]||(i[t]={}),y=v.prototype,b=d?r:f?r[t]:(r[t]||{}).prototype;for(l in d&&(n=t),n)(u=!p&&b&&void 0!==b[l])&&l in v||(c=u?b[l]:n[l],v[l]=d&&"function"!=typeof b[l]?n[l]:h&&u?o(c,r):g&&b[l]==c?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):m&&"function"==typeof c?o(Function.call,c):c,m&&((v.virtual||(v.virtual={}))[l]=c,e&s.R&&y&&!y[l]&&a(y,l,c)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t,n){var r=n(18);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(20),i=n(25);e.exports=n(2)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(21),i=n(22),o=n(24),a=Object.defineProperty;t.f=n(2)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(2)&&!n(3)((function(){return 7!=Object.defineProperty(n(23)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(1),i=n(0).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var r=n(27),i=n(38),o=n(39),a=n(40),s=n(6),l=Object.assign;e.exports=!l||n(3)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,c=i.f,p=o.f;l>u;)for(var d,f=s(arguments[u++]),m=c?r(f).concat(c(f)):r(f),h=m.length,g=0;h>g;)p.call(f,d=m[g++])&&(n[d]=f[d]);return n}:l},function(e,t,n){var r=n(28),i=n(37);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(29),i=n(5),o=n(31)(!1),a=n(34)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,u=[];for(n in s)n!=a&&r(s,n)&&u.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(u,n)||u.push(n));return u}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(5),i=n(32),o=n(33);e.exports=function(e){return function(t,n,a){var s,l=r(t),u=i(l.length),c=o(a,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var r=n(8),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(8),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(35)("keys"),i=n(36);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(0),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(7);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vue-avatar--wrapper",style:[e.style,e.customStyle],attrs:{"aria-hidden":"true"}},[this.isImage?n("img",{staticStyle:{display:"none"},attrs:{src:this.src},on:{error:e.onImgError}}):e._e(),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!this.isImage,expression:"!this.isImage"}]},[e._v(e._s(e.userInitial))])])},i={render:r,staticRenderFns:[]};t.a=i}])},32548:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});n(6984);const r={};var i=n(93379),o=n.n(i),a=n(23244),s={insert:"head",singleton:!1};o()(a.Z,s);a.Z.locals;const l=(0,n(51900).Z)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"landing-layout"},[t("transition-page",[t("router-view")],1)],1)}),[],!1,null,null,null).exports}}]);